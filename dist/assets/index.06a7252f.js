(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const _ of document.querySelectorAll('link[rel="modulepreload"]'))u(_);new MutationObserver(_=>{for(const C of _)if(C.type==="childList")for(const F of C.addedNodes)F.tagName==="LINK"&&F.rel==="modulepreload"&&u(F)}).observe(document,{childList:!0,subtree:!0});function i(_){const C={};return _.integrity&&(C.integrity=_.integrity),_.referrerpolicy&&(C.referrerPolicy=_.referrerpolicy),_.crossorigin==="use-credentials"?C.credentials="include":_.crossorigin==="anonymous"?C.credentials="omit":C.credentials="same-origin",C}function u(_){if(_.ep)return;_.ep=!0;const C=i(_);fetch(_.href,C)}})();function Ss(e,t){const i=Object.create(null),u=e.split(",");for(let _=0;_<u.length;_++)i[u[_]]=!0;return t?_=>!!i[_.toLowerCase()]:_=>!!i[_]}const gd="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",vd=Ss(gd);function ya(e){return!!e||e===""}function xs(e){if(tt(e)){const t={};for(let i=0;i<e.length;i++){const u=e[i],_=$t(u)?_d(u):xs(u);if(_)for(const C in _)t[C]=_[C]}return t}else{if($t(e))return e;if(Bt(e))return e}}const bd=/;(?![^(]*\))/g,yd=/:(.+)/;function _d(e){const t={};return e.split(bd).forEach(i=>{if(i){const u=i.split(yd);u.length>1&&(t[u[0].trim()]=u[1].trim())}}),t}function ks(e){let t="";if($t(e))t=e;else if(tt(e))for(let i=0;i<e.length;i++){const u=ks(e[i]);u&&(t+=u+" ")}else if(Bt(e))for(const i in e)e[i]&&(t+=i+" ");return t.trim()}const Et={},or=[],cn=()=>{},wd=()=>!1,Ed=/^on[^a-z]/,_i=e=>Ed.test(e),Cs=e=>e.startsWith("onUpdate:"),zt=Object.assign,Ts=(e,t)=>{const i=e.indexOf(t);i>-1&&e.splice(i,1)},Sd=Object.prototype.hasOwnProperty,it=(e,t)=>Sd.call(e,t),tt=Array.isArray,Tr=e=>wi(e)==="[object Map]",xd=e=>wi(e)==="[object Set]",nt=e=>typeof e=="function",$t=e=>typeof e=="string",Rs=e=>typeof e=="symbol",Bt=e=>e!==null&&typeof e=="object",_a=e=>Bt(e)&&nt(e.then)&&nt(e.catch),kd=Object.prototype.toString,wi=e=>kd.call(e),Cd=e=>wi(e).slice(8,-1),Td=e=>wi(e)==="[object Object]",As=e=>$t(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ni=Ss(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ei=e=>{const t=Object.create(null);return i=>t[i]||(t[i]=e(i))},Rd=/-(\w)/g,bn=Ei(e=>e.replace(Rd,(t,i)=>i?i.toUpperCase():"")),Ad=/\B([A-Z])/g,pr=Ei(e=>e.replace(Ad,"-$1").toLowerCase()),Si=Ei(e=>e.charAt(0).toUpperCase()+e.slice(1)),ji=Ei(e=>e?`on${Si(e)}`:""),Br=(e,t)=>!Object.is(e,t),Fi=(e,t)=>{for(let i=0;i<e.length;i++)e[i](t)},hi=(e,t,i)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:i})},Id=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let eo;const Pd=()=>eo||(eo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let mn;class Bd{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&mn&&(this.parent=mn,this.index=(mn.scopes||(mn.scopes=[])).push(this)-1)}run(t){if(this.active){const i=mn;try{return mn=this,t()}finally{mn=i}}}on(){mn=this}off(){mn=this.parent}stop(t){if(this.active){let i,u;for(i=0,u=this.effects.length;i<u;i++)this.effects[i].stop();for(i=0,u=this.cleanups.length;i<u;i++)this.cleanups[i]();if(this.scopes)for(i=0,u=this.scopes.length;i<u;i++)this.scopes[i].stop(!0);if(this.parent&&!t){const _=this.parent.scopes.pop();_&&_!==this&&(this.parent.scopes[this.index]=_,_.index=this.index)}this.active=!1}}}function Od(e,t=mn){t&&t.active&&t.effects.push(e)}const Is=e=>{const t=new Set(e);return t.w=0,t.n=0,t},wa=e=>(e.w&Fn)>0,Ea=e=>(e.n&Fn)>0,Ld=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Fn},Dd=e=>{const{deps:t}=e;if(t.length){let i=0;for(let u=0;u<t.length;u++){const _=t[u];wa(_)&&!Ea(_)?_.delete(e):t[i++]=_,_.w&=~Fn,_.n&=~Fn}t.length=i}},Xi=new WeakMap;let Er=0,Fn=1;const Zi=30;let rn;const Xn=Symbol(""),Qi=Symbol("");class Ps{constructor(t,i=null,u){this.fn=t,this.scheduler=i,this.active=!0,this.deps=[],this.parent=void 0,Od(this,u)}run(){if(!this.active)return this.fn();let t=rn,i=Nn;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=rn,rn=this,Nn=!0,Fn=1<<++Er,Er<=Zi?Ld(this):to(this),this.fn()}finally{Er<=Zi&&Dd(this),Fn=1<<--Er,rn=this.parent,Nn=i,this.parent=void 0,this.deferStop&&this.stop()}}stop(){rn===this?this.deferStop=!0:this.active&&(to(this),this.onStop&&this.onStop(),this.active=!1)}}function to(e){const{deps:t}=e;if(t.length){for(let i=0;i<t.length;i++)t[i].delete(e);t.length=0}}let Nn=!0;const Sa=[];function mr(){Sa.push(Nn),Nn=!1}function gr(){const e=Sa.pop();Nn=e===void 0?!0:e}function Xt(e,t,i){if(Nn&&rn){let u=Xi.get(e);u||Xi.set(e,u=new Map);let _=u.get(i);_||u.set(i,_=Is()),xa(_)}}function xa(e,t){let i=!1;Er<=Zi?Ea(e)||(e.n|=Fn,i=!wa(e)):i=!e.has(rn),i&&(e.add(rn),rn.deps.push(e))}function In(e,t,i,u,_,C){const F=Xi.get(e);if(!F)return;let K=[];if(t==="clear")K=[...F.values()];else if(i==="length"&&tt(e))F.forEach((z,$)=>{($==="length"||$>=u)&&K.push(z)});else switch(i!==void 0&&K.push(F.get(i)),t){case"add":tt(e)?As(i)&&K.push(F.get("length")):(K.push(F.get(Xn)),Tr(e)&&K.push(F.get(Qi)));break;case"delete":tt(e)||(K.push(F.get(Xn)),Tr(e)&&K.push(F.get(Qi)));break;case"set":Tr(e)&&K.push(F.get(Xn));break}if(K.length===1)K[0]&&es(K[0]);else{const z=[];for(const $ of K)$&&z.push(...$);es(Is(z))}}function es(e,t){const i=tt(e)?e:[...e];for(const u of i)u.computed&&no(u);for(const u of i)u.computed||no(u)}function no(e,t){(e!==rn||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const Md=Ss("__proto__,__v_isRef,__isVue"),ka=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Rs)),Nd=Bs(),Ud=Bs(!1,!0),jd=Bs(!0),ro=Fd();function Fd(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...i){const u=ct(this);for(let C=0,F=this.length;C<F;C++)Xt(u,"get",C+"");const _=u[t](...i);return _===-1||_===!1?u[t](...i.map(ct)):_}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...i){mr();const u=ct(this)[t].apply(this,i);return gr(),u}}),e}function Bs(e=!1,t=!1){return function(u,_,C){if(_==="__v_isReactive")return!e;if(_==="__v_isReadonly")return e;if(_==="__v_isShallow")return t;if(_==="__v_raw"&&C===(e?t?nf:Ia:t?Aa:Ra).get(u))return u;const F=tt(u);if(!e&&F&&it(ro,_))return Reflect.get(ro,_,C);const K=Reflect.get(u,_,C);return(Rs(_)?ka.has(_):Md(_))||(e||Xt(u,"get",_),t)?K:Ht(K)?F&&As(_)?K:K.value:Bt(K)?e?Pa(K):Fr(K):K}}const Hd=Ca(),zd=Ca(!0);function Ca(e=!1){return function(i,u,_,C){let F=i[u];if(fr(F)&&Ht(F)&&!Ht(_))return!1;if(!e&&(!ui(_)&&!fr(_)&&(F=ct(F),_=ct(_)),!tt(i)&&Ht(F)&&!Ht(_)))return F.value=_,!0;const K=tt(i)&&As(u)?Number(u)<i.length:it(i,u),z=Reflect.set(i,u,_,C);return i===ct(C)&&(K?Br(_,F)&&In(i,"set",u,_):In(i,"add",u,_)),z}}function $d(e,t){const i=it(e,t);e[t];const u=Reflect.deleteProperty(e,t);return u&&i&&In(e,"delete",t,void 0),u}function Wd(e,t){const i=Reflect.has(e,t);return(!Rs(t)||!ka.has(t))&&Xt(e,"has",t),i}function Kd(e){return Xt(e,"iterate",tt(e)?"length":Xn),Reflect.ownKeys(e)}const Ta={get:Nd,set:Hd,deleteProperty:$d,has:Wd,ownKeys:Kd},Gd={get:jd,set(e,t){return!0},deleteProperty(e,t){return!0}},Vd=zt({},Ta,{get:Ud,set:zd}),Os=e=>e,xi=e=>Reflect.getPrototypeOf(e);function Wr(e,t,i=!1,u=!1){e=e.__v_raw;const _=ct(e),C=ct(t);i||(t!==C&&Xt(_,"get",t),Xt(_,"get",C));const{has:F}=xi(_),K=u?Os:i?Ms:Or;if(F.call(_,t))return K(e.get(t));if(F.call(_,C))return K(e.get(C));e!==_&&e.get(t)}function Kr(e,t=!1){const i=this.__v_raw,u=ct(i),_=ct(e);return t||(e!==_&&Xt(u,"has",e),Xt(u,"has",_)),e===_?i.has(e):i.has(e)||i.has(_)}function Gr(e,t=!1){return e=e.__v_raw,!t&&Xt(ct(e),"iterate",Xn),Reflect.get(e,"size",e)}function io(e){e=ct(e);const t=ct(this);return xi(t).has.call(t,e)||(t.add(e),In(t,"add",e,e)),this}function so(e,t){t=ct(t);const i=ct(this),{has:u,get:_}=xi(i);let C=u.call(i,e);C||(e=ct(e),C=u.call(i,e));const F=_.call(i,e);return i.set(e,t),C?Br(t,F)&&In(i,"set",e,t):In(i,"add",e,t),this}function oo(e){const t=ct(this),{has:i,get:u}=xi(t);let _=i.call(t,e);_||(e=ct(e),_=i.call(t,e)),u&&u.call(t,e);const C=t.delete(e);return _&&In(t,"delete",e,void 0),C}function ao(){const e=ct(this),t=e.size!==0,i=e.clear();return t&&In(e,"clear",void 0,void 0),i}function Vr(e,t){return function(u,_){const C=this,F=C.__v_raw,K=ct(F),z=t?Os:e?Ms:Or;return!e&&Xt(K,"iterate",Xn),F.forEach(($,X)=>u.call(_,z($),z(X),C))}}function qr(e,t,i){return function(...u){const _=this.__v_raw,C=ct(_),F=Tr(C),K=e==="entries"||e===Symbol.iterator&&F,z=e==="keys"&&F,$=_[e](...u),X=i?Os:t?Ms:Or;return!t&&Xt(C,"iterate",z?Qi:Xn),{next(){const{value:b,done:ce}=$.next();return ce?{value:b,done:ce}:{value:K?[X(b[0]),X(b[1])]:X(b),done:ce}},[Symbol.iterator](){return this}}}}function Bn(e){return function(...t){return e==="delete"?!1:this}}function qd(){const e={get(C){return Wr(this,C)},get size(){return Gr(this)},has:Kr,add:io,set:so,delete:oo,clear:ao,forEach:Vr(!1,!1)},t={get(C){return Wr(this,C,!1,!0)},get size(){return Gr(this)},has:Kr,add:io,set:so,delete:oo,clear:ao,forEach:Vr(!1,!0)},i={get(C){return Wr(this,C,!0)},get size(){return Gr(this,!0)},has(C){return Kr.call(this,C,!0)},add:Bn("add"),set:Bn("set"),delete:Bn("delete"),clear:Bn("clear"),forEach:Vr(!0,!1)},u={get(C){return Wr(this,C,!0,!0)},get size(){return Gr(this,!0)},has(C){return Kr.call(this,C,!0)},add:Bn("add"),set:Bn("set"),delete:Bn("delete"),clear:Bn("clear"),forEach:Vr(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(C=>{e[C]=qr(C,!1,!1),i[C]=qr(C,!0,!1),t[C]=qr(C,!1,!0),u[C]=qr(C,!0,!0)}),[e,i,t,u]}const[Yd,Jd,Xd,Zd]=qd();function Ls(e,t){const i=t?e?Zd:Xd:e?Jd:Yd;return(u,_,C)=>_==="__v_isReactive"?!e:_==="__v_isReadonly"?e:_==="__v_raw"?u:Reflect.get(it(i,_)&&_ in u?i:u,_,C)}const Qd={get:Ls(!1,!1)},ef={get:Ls(!1,!0)},tf={get:Ls(!0,!1)},Ra=new WeakMap,Aa=new WeakMap,Ia=new WeakMap,nf=new WeakMap;function rf(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function sf(e){return e.__v_skip||!Object.isExtensible(e)?0:rf(Cd(e))}function Fr(e){return fr(e)?e:Ds(e,!1,Ta,Qd,Ra)}function of(e){return Ds(e,!1,Vd,ef,Aa)}function Pa(e){return Ds(e,!0,Gd,tf,Ia)}function Ds(e,t,i,u,_){if(!Bt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const C=_.get(e);if(C)return C;const F=sf(e);if(F===0)return e;const K=new Proxy(e,F===2?u:i);return _.set(e,K),K}function ar(e){return fr(e)?ar(e.__v_raw):!!(e&&e.__v_isReactive)}function fr(e){return!!(e&&e.__v_isReadonly)}function ui(e){return!!(e&&e.__v_isShallow)}function Ba(e){return ar(e)||fr(e)}function ct(e){const t=e&&e.__v_raw;return t?ct(t):e}function Oa(e){return hi(e,"__v_skip",!0),e}const Or=e=>Bt(e)?Fr(e):e,Ms=e=>Bt(e)?Pa(e):e;function La(e){Nn&&rn&&(e=ct(e),xa(e.dep||(e.dep=Is())))}function Da(e,t){e=ct(e),e.dep&&es(e.dep)}function Ht(e){return!!(e&&e.__v_isRef===!0)}function af(e){return Ma(e,!1)}function cf(e){return Ma(e,!0)}function Ma(e,t){return Ht(e)?e:new df(e,t)}class df{constructor(t,i){this.__v_isShallow=i,this.dep=void 0,this.__v_isRef=!0,this._rawValue=i?t:ct(t),this._value=i?t:Or(t)}get value(){return La(this),this._value}set value(t){const i=this.__v_isShallow||ui(t)||fr(t);t=i?t:ct(t),Br(t,this._rawValue)&&(this._rawValue=t,this._value=i?t:Or(t),Da(this))}}function cr(e){return Ht(e)?e.value:e}const ff={get:(e,t,i)=>cr(Reflect.get(e,t,i)),set:(e,t,i,u)=>{const _=e[t];return Ht(_)&&!Ht(i)?(_.value=i,!0):Reflect.set(e,t,i,u)}};function Na(e){return ar(e)?e:new Proxy(e,ff)}var Ua;class lf{constructor(t,i,u,_){this._setter=i,this.dep=void 0,this.__v_isRef=!0,this[Ua]=!1,this._dirty=!0,this.effect=new Ps(t,()=>{this._dirty||(this._dirty=!0,Da(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!_,this.__v_isReadonly=u}get value(){const t=ct(this);return La(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}Ua="__v_isReadonly";function hf(e,t,i=!1){let u,_;const C=nt(e);return C?(u=e,_=cn):(u=e.get,_=e.set),new lf(u,_,C||!_,i)}function Un(e,t,i,u){let _;try{_=u?e(...u):e()}catch(C){ki(C,t,i)}return _}function en(e,t,i,u){if(nt(e)){const C=Un(e,t,i,u);return C&&_a(C)&&C.catch(F=>{ki(F,t,i)}),C}const _=[];for(let C=0;C<e.length;C++)_.push(en(e[C],t,i,u));return _}function ki(e,t,i,u=!0){const _=t?t.vnode:null;if(t){let C=t.parent;const F=t.proxy,K=i;for(;C;){const $=C.ec;if($){for(let X=0;X<$.length;X++)if($[X](e,F,K)===!1)return}C=C.parent}const z=t.appContext.config.errorHandler;if(z){Un(z,null,10,[e,F,K]);return}}uf(e,i,_,u)}function uf(e,t,i,u=!0){console.error(e)}let Lr=!1,ts=!1;const Ft=[];let vn=0;const dr=[];let Cn=null,qn=0;const ja=Promise.resolve();let Ns=null;function Fa(e){const t=Ns||ja;return e?t.then(this?e.bind(this):e):t}function pf(e){let t=vn+1,i=Ft.length;for(;t<i;){const u=t+i>>>1;Dr(Ft[u])<e?t=u+1:i=u}return t}function Us(e){(!Ft.length||!Ft.includes(e,Lr&&e.allowRecurse?vn+1:vn))&&(e.id==null?Ft.push(e):Ft.splice(pf(e.id),0,e),Ha())}function Ha(){!Lr&&!ts&&(ts=!0,Ns=ja.then($a))}function mf(e){const t=Ft.indexOf(e);t>vn&&Ft.splice(t,1)}function gf(e){tt(e)?dr.push(...e):(!Cn||!Cn.includes(e,e.allowRecurse?qn+1:qn))&&dr.push(e),Ha()}function co(e,t=Lr?vn+1:0){for(;t<Ft.length;t++){const i=Ft[t];i&&i.pre&&(Ft.splice(t,1),t--,i())}}function za(e){if(dr.length){const t=[...new Set(dr)];if(dr.length=0,Cn){Cn.push(...t);return}for(Cn=t,Cn.sort((i,u)=>Dr(i)-Dr(u)),qn=0;qn<Cn.length;qn++)Cn[qn]();Cn=null,qn=0}}const Dr=e=>e.id==null?1/0:e.id,vf=(e,t)=>{const i=Dr(e)-Dr(t);if(i===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return i};function $a(e){ts=!1,Lr=!0,Ft.sort(vf);const t=cn;try{for(vn=0;vn<Ft.length;vn++){const i=Ft[vn];i&&i.active!==!1&&Un(i,null,14)}}finally{vn=0,Ft.length=0,za(),Lr=!1,Ns=null,(Ft.length||dr.length)&&$a()}}function bf(e,t,...i){if(e.isUnmounted)return;const u=e.vnode.props||Et;let _=i;const C=t.startsWith("update:"),F=C&&t.slice(7);if(F&&F in u){const X=`${F==="modelValue"?"model":F}Modifiers`,{number:b,trim:ce}=u[X]||Et;ce&&(_=i.map(we=>we.trim())),b&&(_=i.map(Id))}let K,z=u[K=ji(t)]||u[K=ji(bn(t))];!z&&C&&(z=u[K=ji(pr(t))]),z&&en(z,e,6,_);const $=u[K+"Once"];if($){if(!e.emitted)e.emitted={};else if(e.emitted[K])return;e.emitted[K]=!0,en($,e,6,_)}}function Wa(e,t,i=!1){const u=t.emitsCache,_=u.get(e);if(_!==void 0)return _;const C=e.emits;let F={},K=!1;if(!nt(e)){const z=$=>{const X=Wa($,t,!0);X&&(K=!0,zt(F,X))};!i&&t.mixins.length&&t.mixins.forEach(z),e.extends&&z(e.extends),e.mixins&&e.mixins.forEach(z)}return!C&&!K?(Bt(e)&&u.set(e,null),null):(tt(C)?C.forEach(z=>F[z]=null):zt(F,C),Bt(e)&&u.set(e,F),F)}function Ci(e,t){return!e||!_i(t)?!1:(t=t.slice(2).replace(/Once$/,""),it(e,t[0].toLowerCase()+t.slice(1))||it(e,pr(t))||it(e,t))}let on=null,Ti=null;function pi(e){const t=on;return on=e,Ti=e&&e.type.__scopeId||null,t}function Ri(e){Ti=e}function Ai(){Ti=null}function Sr(e,t=on,i){if(!t||e._n)return e;const u=(..._)=>{u._d&&wo(-1);const C=pi(t),F=e(..._);return pi(C),u._d&&wo(1),F};return u._n=!0,u._c=!0,u._d=!0,u}function Hi(e){const{type:t,vnode:i,proxy:u,withProxy:_,props:C,propsOptions:[F],slots:K,attrs:z,emit:$,render:X,renderCache:b,data:ce,setupState:we,ctx:ve,inheritAttrs:Ee}=e;let ke,Te;const S=pi(e);try{if(i.shapeFlag&4){const O=_||u;ke=gn(X.call(O,O,b,C,we,ce,ve)),Te=z}else{const O=t;ke=gn(O.length>1?O(C,{attrs:z,slots:K,emit:$}):O(C,null)),Te=t.props?z:yf(z)}}catch(O){Rr.length=0,ki(O,e,1),ke=Mt(An)}let V=ke;if(Te&&Ee!==!1){const O=Object.keys(Te),{shapeFlag:g}=V;O.length&&g&7&&(F&&O.some(Cs)&&(Te=_f(Te,F)),V=Hn(V,Te))}return i.dirs&&(V=Hn(V),V.dirs=V.dirs?V.dirs.concat(i.dirs):i.dirs),i.transition&&(V.transition=i.transition),ke=V,pi(S),ke}const yf=e=>{let t;for(const i in e)(i==="class"||i==="style"||_i(i))&&((t||(t={}))[i]=e[i]);return t},_f=(e,t)=>{const i={};for(const u in e)(!Cs(u)||!(u.slice(9)in t))&&(i[u]=e[u]);return i};function wf(e,t,i){const{props:u,children:_,component:C}=e,{props:F,children:K,patchFlag:z}=t,$=C.emitsOptions;if(t.dirs||t.transition)return!0;if(i&&z>=0){if(z&1024)return!0;if(z&16)return u?fo(u,F,$):!!F;if(z&8){const X=t.dynamicProps;for(let b=0;b<X.length;b++){const ce=X[b];if(F[ce]!==u[ce]&&!Ci($,ce))return!0}}}else return(_||K)&&(!K||!K.$stable)?!0:u===F?!1:u?F?fo(u,F,$):!0:!!F;return!1}function fo(e,t,i){const u=Object.keys(t);if(u.length!==Object.keys(e).length)return!0;for(let _=0;_<u.length;_++){const C=u[_];if(t[C]!==e[C]&&!Ci(i,C))return!0}return!1}function Ef({vnode:e,parent:t},i){for(;t&&t.subTree===e;)(e=t.vnode).el=i,t=t.parent}const Sf=e=>e.__isSuspense;function xf(e,t){t&&t.pendingBranch?tt(e)?t.effects.push(...e):t.effects.push(e):gf(e)}function ri(e,t){if(Lt){let i=Lt.provides;const u=Lt.parent&&Lt.parent.provides;u===i&&(i=Lt.provides=Object.create(u)),i[e]=t}}function jn(e,t,i=!1){const u=Lt||on;if(u){const _=u.parent==null?u.vnode.appContext&&u.vnode.appContext.provides:u.parent.provides;if(_&&e in _)return _[e];if(arguments.length>1)return i&&nt(t)?t.call(u.proxy):t}}const lo={};function ii(e,t,i){return Ka(e,t,i)}function Ka(e,t,{immediate:i,deep:u,flush:_,onTrack:C,onTrigger:F}=Et){const K=Lt;let z,$=!1,X=!1;if(Ht(e)?(z=()=>e.value,$=ui(e)):ar(e)?(z=()=>e,u=!0):tt(e)?(X=!0,$=e.some(Te=>ar(Te)||ui(Te)),z=()=>e.map(Te=>{if(Ht(Te))return Te.value;if(ar(Te))return sr(Te);if(nt(Te))return Un(Te,K,2)})):nt(e)?t?z=()=>Un(e,K,2):z=()=>{if(!(K&&K.isUnmounted))return b&&b(),en(e,K,3,[ce])}:z=cn,t&&u){const Te=z;z=()=>sr(Te())}let b,ce=Te=>{b=ke.onStop=()=>{Un(Te,K,4)}};if(Nr)return ce=cn,t?i&&en(t,K,3,[z(),X?[]:void 0,ce]):z(),cn;let we=X?[]:lo;const ve=()=>{if(!!ke.active)if(t){const Te=ke.run();(u||$||(X?Te.some((S,V)=>Br(S,we[V])):Br(Te,we)))&&(b&&b(),en(t,K,3,[Te,we===lo?void 0:we,ce]),we=Te)}else ke.run()};ve.allowRecurse=!!t;let Ee;_==="sync"?Ee=ve:_==="post"?Ee=()=>qt(ve,K&&K.suspense):(ve.pre=!0,K&&(ve.id=K.uid),Ee=()=>Us(ve));const ke=new Ps(z,Ee);return t?i?ve():we=ke.run():_==="post"?qt(ke.run.bind(ke),K&&K.suspense):ke.run(),()=>{ke.stop(),K&&K.scope&&Ts(K.scope.effects,ke)}}function kf(e,t,i){const u=this.proxy,_=$t(e)?e.includes(".")?Ga(u,e):()=>u[e]:e.bind(u,u);let C;nt(t)?C=t:(C=t.handler,i=t);const F=Lt;lr(this);const K=Ka(_,C.bind(u),i);return F?lr(F):Zn(),K}function Ga(e,t){const i=t.split(".");return()=>{let u=e;for(let _=0;_<i.length&&u;_++)u=u[i[_]];return u}}function sr(e,t){if(!Bt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Ht(e))sr(e.value,t);else if(tt(e))for(let i=0;i<e.length;i++)sr(e[i],t);else if(xd(e)||Tr(e))e.forEach(i=>{sr(i,t)});else if(Td(e))for(const i in e)sr(e[i],t);return e}function Cf(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Xa(()=>{e.isMounted=!0}),Za(()=>{e.isUnmounting=!0}),e}const Zt=[Function,Array],Tf={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Zt,onEnter:Zt,onAfterEnter:Zt,onEnterCancelled:Zt,onBeforeLeave:Zt,onLeave:Zt,onAfterLeave:Zt,onLeaveCancelled:Zt,onBeforeAppear:Zt,onAppear:Zt,onAfterAppear:Zt,onAppearCancelled:Zt},setup(e,{slots:t}){const i=ul(),u=Cf();let _;return()=>{const C=t.default&&qa(t.default(),!0);if(!C||!C.length)return;let F=C[0];if(C.length>1){for(const Ee of C)if(Ee.type!==An){F=Ee;break}}const K=ct(e),{mode:z}=K;if(u.isLeaving)return zi(F);const $=ho(F);if(!$)return zi(F);const X=ns($,K,u,i);rs($,X);const b=i.subTree,ce=b&&ho(b);let we=!1;const{getTransitionKey:ve}=$.type;if(ve){const Ee=ve();_===void 0?_=Ee:Ee!==_&&(_=Ee,we=!0)}if(ce&&ce.type!==An&&(!Yn($,ce)||we)){const Ee=ns(ce,K,u,i);if(rs(ce,Ee),z==="out-in")return u.isLeaving=!0,Ee.afterLeave=()=>{u.isLeaving=!1,i.update()},zi(F);z==="in-out"&&$.type!==An&&(Ee.delayLeave=(ke,Te,S)=>{const V=Va(u,ce);V[String(ce.key)]=ce,ke._leaveCb=()=>{Te(),ke._leaveCb=void 0,delete X.delayedLeave},X.delayedLeave=S})}return F}}},Rf=Tf;function Va(e,t){const{leavingVNodes:i}=e;let u=i.get(t.type);return u||(u=Object.create(null),i.set(t.type,u)),u}function ns(e,t,i,u){const{appear:_,mode:C,persisted:F=!1,onBeforeEnter:K,onEnter:z,onAfterEnter:$,onEnterCancelled:X,onBeforeLeave:b,onLeave:ce,onAfterLeave:we,onLeaveCancelled:ve,onBeforeAppear:Ee,onAppear:ke,onAfterAppear:Te,onAppearCancelled:S}=t,V=String(e.key),O=Va(i,e),g=(v,r)=>{v&&en(v,u,9,r)},k=(v,r)=>{const m=r[1];g(v,r),tt(v)?v.every(o=>o.length<=1)&&m():v.length<=1&&m()},E={mode:C,persisted:F,beforeEnter(v){let r=K;if(!i.isMounted)if(_)r=Ee||K;else return;v._leaveCb&&v._leaveCb(!0);const m=O[V];m&&Yn(e,m)&&m.el._leaveCb&&m.el._leaveCb(),g(r,[v])},enter(v){let r=z,m=$,o=X;if(!i.isMounted)if(_)r=ke||z,m=Te||$,o=S||X;else return;let a=!1;const l=v._enterCb=s=>{a||(a=!0,s?g(o,[v]):g(m,[v]),E.delayedLeave&&E.delayedLeave(),v._enterCb=void 0)};r?k(r,[v,l]):l()},leave(v,r){const m=String(e.key);if(v._enterCb&&v._enterCb(!0),i.isUnmounting)return r();g(b,[v]);let o=!1;const a=v._leaveCb=l=>{o||(o=!0,r(),l?g(ve,[v]):g(we,[v]),v._leaveCb=void 0,O[m]===e&&delete O[m])};O[m]=e,ce?k(ce,[v,a]):a()},clone(v){return ns(v,t,i,u)}};return E}function zi(e){if(Ii(e))return e=Hn(e),e.children=null,e}function ho(e){return Ii(e)?e.children?e.children[0]:void 0:e}function rs(e,t){e.shapeFlag&6&&e.component?rs(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function qa(e,t=!1,i){let u=[],_=0;for(let C=0;C<e.length;C++){let F=e[C];const K=i==null?F.key:String(i)+String(F.key!=null?F.key:C);F.type===nn?(F.patchFlag&128&&_++,u=u.concat(qa(F.children,t,K))):(t||F.type!==An)&&u.push(K!=null?Hn(F,{key:K}):F)}if(_>1)for(let C=0;C<u.length;C++)u[C].patchFlag=-2;return u}function Ya(e){return nt(e)?{setup:e,name:e.name}:e}const si=e=>!!e.type.__asyncLoader,Ii=e=>e.type.__isKeepAlive;function Af(e,t){Ja(e,"a",t)}function If(e,t){Ja(e,"da",t)}function Ja(e,t,i=Lt){const u=e.__wdc||(e.__wdc=()=>{let _=i;for(;_;){if(_.isDeactivated)return;_=_.parent}return e()});if(Pi(t,u,i),i){let _=i.parent;for(;_&&_.parent;)Ii(_.parent.vnode)&&Pf(u,t,i,_),_=_.parent}}function Pf(e,t,i,u){const _=Pi(t,e,u,!0);Qa(()=>{Ts(u[t],_)},i)}function Pi(e,t,i=Lt,u=!1){if(i){const _=i[e]||(i[e]=[]),C=t.__weh||(t.__weh=(...F)=>{if(i.isUnmounted)return;mr(),lr(i);const K=en(t,i,e,F);return Zn(),gr(),K});return u?_.unshift(C):_.push(C),C}}const Pn=e=>(t,i=Lt)=>(!Nr||e==="sp")&&Pi(e,t,i),Bf=Pn("bm"),Xa=Pn("m"),Of=Pn("bu"),Lf=Pn("u"),Za=Pn("bum"),Qa=Pn("um"),Df=Pn("sp"),Mf=Pn("rtg"),Nf=Pn("rtc");function Uf(e,t=Lt){Pi("ec",e,t)}function $n(e,t,i,u){const _=e.dirs,C=t&&t.dirs;for(let F=0;F<_.length;F++){const K=_[F];C&&(K.oldValue=C[F].value);let z=K.dir[u];z&&(mr(),en(z,i,8,[e.el,K,e,t]),gr())}}const ec="components";function uo(e,t){return Ff(ec,e,!0,t)||e}const jf=Symbol();function Ff(e,t,i=!0,u=!1){const _=on||Lt;if(_){const C=_.type;if(e===ec){const K=bl(C,!1);if(K&&(K===t||K===bn(t)||K===Si(bn(t))))return C}const F=po(_[e]||C[e],t)||po(_.appContext[e],t);return!F&&u?C:F}}function po(e,t){return e&&(e[t]||e[bn(t)]||e[Si(bn(t))])}const is=e=>e?fc(e)?$s(e)||e.proxy:is(e.parent):null,mi=zt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>is(e.parent),$root:e=>is(e.root),$emit:e=>e.emit,$options:e=>js(e),$forceUpdate:e=>e.f||(e.f=()=>Us(e.update)),$nextTick:e=>e.n||(e.n=Fa.bind(e.proxy)),$watch:e=>kf.bind(e)}),Hf={get({_:e},t){const{ctx:i,setupState:u,data:_,props:C,accessCache:F,type:K,appContext:z}=e;let $;if(t[0]!=="$"){const we=F[t];if(we!==void 0)switch(we){case 1:return u[t];case 2:return _[t];case 4:return i[t];case 3:return C[t]}else{if(u!==Et&&it(u,t))return F[t]=1,u[t];if(_!==Et&&it(_,t))return F[t]=2,_[t];if(($=e.propsOptions[0])&&it($,t))return F[t]=3,C[t];if(i!==Et&&it(i,t))return F[t]=4,i[t];ss&&(F[t]=0)}}const X=mi[t];let b,ce;if(X)return t==="$attrs"&&Xt(e,"get",t),X(e);if((b=K.__cssModules)&&(b=b[t]))return b;if(i!==Et&&it(i,t))return F[t]=4,i[t];if(ce=z.config.globalProperties,it(ce,t))return ce[t]},set({_:e},t,i){const{data:u,setupState:_,ctx:C}=e;return _!==Et&&it(_,t)?(_[t]=i,!0):u!==Et&&it(u,t)?(u[t]=i,!0):it(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(C[t]=i,!0)},has({_:{data:e,setupState:t,accessCache:i,ctx:u,appContext:_,propsOptions:C}},F){let K;return!!i[F]||e!==Et&&it(e,F)||t!==Et&&it(t,F)||(K=C[0])&&it(K,F)||it(u,F)||it(mi,F)||it(_.config.globalProperties,F)},defineProperty(e,t,i){return i.get!=null?e._.accessCache[t]=0:it(i,"value")&&this.set(e,t,i.value,null),Reflect.defineProperty(e,t,i)}};let ss=!0;function zf(e){const t=js(e),i=e.proxy,u=e.ctx;ss=!1,t.beforeCreate&&mo(t.beforeCreate,e,"bc");const{data:_,computed:C,methods:F,watch:K,provide:z,inject:$,created:X,beforeMount:b,mounted:ce,beforeUpdate:we,updated:ve,activated:Ee,deactivated:ke,beforeDestroy:Te,beforeUnmount:S,destroyed:V,unmounted:O,render:g,renderTracked:k,renderTriggered:E,errorCaptured:v,serverPrefetch:r,expose:m,inheritAttrs:o,components:a,directives:l,filters:s}=t;if($&&$f($,u,null,e.appContext.config.unwrapInjectedRef),F)for(const c in F){const f=F[c];nt(f)&&(u[c]=f.bind(i))}if(_){const c=_.call(i,i);Bt(c)&&(e.data=Fr(c))}if(ss=!0,C)for(const c in C){const f=C[c],h=nt(f)?f.bind(i,i):nt(f.get)?f.get.bind(i,i):cn,x=!nt(f)&&nt(f.set)?f.set.bind(i):cn,R=Qt({get:h,set:x});Object.defineProperty(u,c,{enumerable:!0,configurable:!0,get:()=>R.value,set:A=>R.value=A})}if(K)for(const c in K)tc(K[c],u,i,c);if(z){const c=nt(z)?z.call(i):z;Reflect.ownKeys(c).forEach(f=>{ri(f,c[f])})}X&&mo(X,e,"c");function d(c,f){tt(f)?f.forEach(h=>c(h.bind(i))):f&&c(f.bind(i))}if(d(Bf,b),d(Xa,ce),d(Of,we),d(Lf,ve),d(Af,Ee),d(If,ke),d(Uf,v),d(Nf,k),d(Mf,E),d(Za,S),d(Qa,O),d(Df,r),tt(m))if(m.length){const c=e.exposed||(e.exposed={});m.forEach(f=>{Object.defineProperty(c,f,{get:()=>i[f],set:h=>i[f]=h})})}else e.exposed||(e.exposed={});g&&e.render===cn&&(e.render=g),o!=null&&(e.inheritAttrs=o),a&&(e.components=a),l&&(e.directives=l)}function $f(e,t,i=cn,u=!1){tt(e)&&(e=os(e));for(const _ in e){const C=e[_];let F;Bt(C)?"default"in C?F=jn(C.from||_,C.default,!0):F=jn(C.from||_):F=jn(C),Ht(F)&&u?Object.defineProperty(t,_,{enumerable:!0,configurable:!0,get:()=>F.value,set:K=>F.value=K}):t[_]=F}}function mo(e,t,i){en(tt(e)?e.map(u=>u.bind(t.proxy)):e.bind(t.proxy),t,i)}function tc(e,t,i,u){const _=u.includes(".")?Ga(i,u):()=>i[u];if($t(e)){const C=t[e];nt(C)&&ii(_,C)}else if(nt(e))ii(_,e.bind(i));else if(Bt(e))if(tt(e))e.forEach(C=>tc(C,t,i,u));else{const C=nt(e.handler)?e.handler.bind(i):t[e.handler];nt(C)&&ii(_,C,e)}}function js(e){const t=e.type,{mixins:i,extends:u}=t,{mixins:_,optionsCache:C,config:{optionMergeStrategies:F}}=e.appContext,K=C.get(t);let z;return K?z=K:!_.length&&!i&&!u?z=t:(z={},_.length&&_.forEach($=>gi(z,$,F,!0)),gi(z,t,F)),Bt(t)&&C.set(t,z),z}function gi(e,t,i,u=!1){const{mixins:_,extends:C}=t;C&&gi(e,C,i,!0),_&&_.forEach(F=>gi(e,F,i,!0));for(const F in t)if(!(u&&F==="expose")){const K=Wf[F]||i&&i[F];e[F]=K?K(e[F],t[F]):t[F]}return e}const Wf={data:go,props:Vn,emits:Vn,methods:Vn,computed:Vn,beforeCreate:Gt,created:Gt,beforeMount:Gt,mounted:Gt,beforeUpdate:Gt,updated:Gt,beforeDestroy:Gt,beforeUnmount:Gt,destroyed:Gt,unmounted:Gt,activated:Gt,deactivated:Gt,errorCaptured:Gt,serverPrefetch:Gt,components:Vn,directives:Vn,watch:Gf,provide:go,inject:Kf};function go(e,t){return t?e?function(){return zt(nt(e)?e.call(this,this):e,nt(t)?t.call(this,this):t)}:t:e}function Kf(e,t){return Vn(os(e),os(t))}function os(e){if(tt(e)){const t={};for(let i=0;i<e.length;i++)t[e[i]]=e[i];return t}return e}function Gt(e,t){return e?[...new Set([].concat(e,t))]:t}function Vn(e,t){return e?zt(zt(Object.create(null),e),t):t}function Gf(e,t){if(!e)return t;if(!t)return e;const i=zt(Object.create(null),e);for(const u in t)i[u]=Gt(e[u],t[u]);return i}function Vf(e,t,i,u=!1){const _={},C={};hi(C,Li,1),e.propsDefaults=Object.create(null),nc(e,t,_,C);for(const F in e.propsOptions[0])F in _||(_[F]=void 0);i?e.props=u?_:of(_):e.type.props?e.props=_:e.props=C,e.attrs=C}function qf(e,t,i,u){const{props:_,attrs:C,vnode:{patchFlag:F}}=e,K=ct(_),[z]=e.propsOptions;let $=!1;if((u||F>0)&&!(F&16)){if(F&8){const X=e.vnode.dynamicProps;for(let b=0;b<X.length;b++){let ce=X[b];if(Ci(e.emitsOptions,ce))continue;const we=t[ce];if(z)if(it(C,ce))we!==C[ce]&&(C[ce]=we,$=!0);else{const ve=bn(ce);_[ve]=as(z,K,ve,we,e,!1)}else we!==C[ce]&&(C[ce]=we,$=!0)}}}else{nc(e,t,_,C)&&($=!0);let X;for(const b in K)(!t||!it(t,b)&&((X=pr(b))===b||!it(t,X)))&&(z?i&&(i[b]!==void 0||i[X]!==void 0)&&(_[b]=as(z,K,b,void 0,e,!0)):delete _[b]);if(C!==K)for(const b in C)(!t||!it(t,b)&&!0)&&(delete C[b],$=!0)}$&&In(e,"set","$attrs")}function nc(e,t,i,u){const[_,C]=e.propsOptions;let F=!1,K;if(t)for(let z in t){if(ni(z))continue;const $=t[z];let X;_&&it(_,X=bn(z))?!C||!C.includes(X)?i[X]=$:(K||(K={}))[X]=$:Ci(e.emitsOptions,z)||(!(z in u)||$!==u[z])&&(u[z]=$,F=!0)}if(C){const z=ct(i),$=K||Et;for(let X=0;X<C.length;X++){const b=C[X];i[b]=as(_,z,b,$[b],e,!it($,b))}}return F}function as(e,t,i,u,_,C){const F=e[i];if(F!=null){const K=it(F,"default");if(K&&u===void 0){const z=F.default;if(F.type!==Function&&nt(z)){const{propsDefaults:$}=_;i in $?u=$[i]:(lr(_),u=$[i]=z.call(null,t),Zn())}else u=z}F[0]&&(C&&!K?u=!1:F[1]&&(u===""||u===pr(i))&&(u=!0))}return u}function rc(e,t,i=!1){const u=t.propsCache,_=u.get(e);if(_)return _;const C=e.props,F={},K=[];let z=!1;if(!nt(e)){const X=b=>{z=!0;const[ce,we]=rc(b,t,!0);zt(F,ce),we&&K.push(...we)};!i&&t.mixins.length&&t.mixins.forEach(X),e.extends&&X(e.extends),e.mixins&&e.mixins.forEach(X)}if(!C&&!z)return Bt(e)&&u.set(e,or),or;if(tt(C))for(let X=0;X<C.length;X++){const b=bn(C[X]);vo(b)&&(F[b]=Et)}else if(C)for(const X in C){const b=bn(X);if(vo(b)){const ce=C[X],we=F[b]=tt(ce)||nt(ce)?{type:ce}:ce;if(we){const ve=_o(Boolean,we.type),Ee=_o(String,we.type);we[0]=ve>-1,we[1]=Ee<0||ve<Ee,(ve>-1||it(we,"default"))&&K.push(b)}}}const $=[F,K];return Bt(e)&&u.set(e,$),$}function vo(e){return e[0]!=="$"}function bo(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function yo(e,t){return bo(e)===bo(t)}function _o(e,t){return tt(t)?t.findIndex(i=>yo(i,e)):nt(t)&&yo(t,e)?0:-1}const ic=e=>e[0]==="_"||e==="$stable",Fs=e=>tt(e)?e.map(gn):[gn(e)],Yf=(e,t,i)=>{if(t._n)return t;const u=Sr((..._)=>Fs(t(..._)),i);return u._c=!1,u},sc=(e,t,i)=>{const u=e._ctx;for(const _ in e){if(ic(_))continue;const C=e[_];if(nt(C))t[_]=Yf(_,C,u);else if(C!=null){const F=Fs(C);t[_]=()=>F}}},oc=(e,t)=>{const i=Fs(t);e.slots.default=()=>i},Jf=(e,t)=>{if(e.vnode.shapeFlag&32){const i=t._;i?(e.slots=ct(t),hi(t,"_",i)):sc(t,e.slots={})}else e.slots={},t&&oc(e,t);hi(e.slots,Li,1)},Xf=(e,t,i)=>{const{vnode:u,slots:_}=e;let C=!0,F=Et;if(u.shapeFlag&32){const K=t._;K?i&&K===1?C=!1:(zt(_,t),!i&&K===1&&delete _._):(C=!t.$stable,sc(t,_)),F=t}else t&&(oc(e,t),F={default:1});if(C)for(const K in _)!ic(K)&&!(K in F)&&delete _[K]};function ac(){return{app:null,config:{isNativeTag:wd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Zf=0;function Qf(e,t){return function(u,_=null){nt(u)||(u=Object.assign({},u)),_!=null&&!Bt(_)&&(_=null);const C=ac(),F=new Set;let K=!1;const z=C.app={_uid:Zf++,_component:u,_props:_,_container:null,_context:C,_instance:null,version:_l,get config(){return C.config},set config($){},use($,...X){return F.has($)||($&&nt($.install)?(F.add($),$.install(z,...X)):nt($)&&(F.add($),$(z,...X))),z},mixin($){return C.mixins.includes($)||C.mixins.push($),z},component($,X){return X?(C.components[$]=X,z):C.components[$]},directive($,X){return X?(C.directives[$]=X,z):C.directives[$]},mount($,X,b){if(!K){const ce=Mt(u,_);return ce.appContext=C,X&&t?t(ce,$):e(ce,$,b),K=!0,z._container=$,$.__vue_app__=z,$s(ce.component)||ce.component.proxy}},unmount(){K&&(e(null,z._container),delete z._container.__vue_app__)},provide($,X){return C.provides[$]=X,z}};return z}}function cs(e,t,i,u,_=!1){if(tt(e)){e.forEach((ce,we)=>cs(ce,t&&(tt(t)?t[we]:t),i,u,_));return}if(si(u)&&!_)return;const C=u.shapeFlag&4?$s(u.component)||u.component.proxy:u.el,F=_?null:C,{i:K,r:z}=e,$=t&&t.r,X=K.refs===Et?K.refs={}:K.refs,b=K.setupState;if($!=null&&$!==z&&($t($)?(X[$]=null,it(b,$)&&(b[$]=null)):Ht($)&&($.value=null)),nt(z))Un(z,K,12,[F,X]);else{const ce=$t(z),we=Ht(z);if(ce||we){const ve=()=>{if(e.f){const Ee=ce?X[z]:z.value;_?tt(Ee)&&Ts(Ee,C):tt(Ee)?Ee.includes(C)||Ee.push(C):ce?(X[z]=[C],it(b,z)&&(b[z]=X[z])):(z.value=[C],e.k&&(X[e.k]=z.value))}else ce?(X[z]=F,it(b,z)&&(b[z]=F)):we&&(z.value=F,e.k&&(X[e.k]=F))};F?(ve.id=-1,qt(ve,i)):ve()}}}const qt=xf;function el(e){return tl(e)}function tl(e,t){const i=Pd();i.__VUE__=!0;const{insert:u,remove:_,patchProp:C,createElement:F,createText:K,createComment:z,setText:$,setElementText:X,parentNode:b,nextSibling:ce,setScopeId:we=cn,cloneNode:ve,insertStaticContent:Ee}=e,ke=(y,p,T,D=null,j=null,U=null,N=!1,W=null,Q=!!p.dynamicChildren)=>{if(y===p)return;y&&!Yn(y,p)&&(D=Y(y),w(y,j,U,!0),y=null),p.patchFlag===-2&&(Q=!1,p.dynamicChildren=null);const{type:ee,ref:fe,shapeFlag:oe}=p;switch(ee){case Hs:Te(y,p,T,D);break;case An:S(y,p,T,D);break;case oi:y==null&&V(p,T,D,N);break;case nn:l(y,p,T,D,j,U,N,W,Q);break;default:oe&1?k(y,p,T,D,j,U,N,W,Q):oe&6?s(y,p,T,D,j,U,N,W,Q):(oe&64||oe&128)&&ee.process(y,p,T,D,j,U,N,W,Q,ae)}fe!=null&&j&&cs(fe,y&&y.ref,U,p||y,!p)},Te=(y,p,T,D)=>{if(y==null)u(p.el=K(p.children),T,D);else{const j=p.el=y.el;p.children!==y.children&&$(j,p.children)}},S=(y,p,T,D)=>{y==null?u(p.el=z(p.children||""),T,D):p.el=y.el},V=(y,p,T,D)=>{[y.el,y.anchor]=Ee(y.children,p,T,D,y.el,y.anchor)},O=({el:y,anchor:p},T,D)=>{let j;for(;y&&y!==p;)j=ce(y),u(y,T,D),y=j;u(p,T,D)},g=({el:y,anchor:p})=>{let T;for(;y&&y!==p;)T=ce(y),_(y),y=T;_(p)},k=(y,p,T,D,j,U,N,W,Q)=>{N=N||p.type==="svg",y==null?E(p,T,D,j,U,N,W,Q):m(y,p,j,U,N,W,Q)},E=(y,p,T,D,j,U,N,W)=>{let Q,ee;const{type:fe,props:oe,shapeFlag:me,transition:he,patchFlag:Se,dirs:Ae}=y;if(y.el&&ve!==void 0&&Se===-1)Q=y.el=ve(y.el);else{if(Q=y.el=F(y.type,U,oe&&oe.is,oe),me&8?X(Q,y.children):me&16&&r(y.children,Q,null,D,j,U&&fe!=="foreignObject",N,W),Ae&&$n(y,null,D,"created"),oe){for(const ge in oe)ge!=="value"&&!ni(ge)&&C(Q,ge,null,oe[ge],U,y.children,D,j,G);"value"in oe&&C(Q,"value",null,oe.value),(ee=oe.onVnodeBeforeMount)&&pn(ee,D,y)}v(Q,y,y.scopeId,N,D)}Ae&&$n(y,null,D,"beforeMount");const pe=(!j||j&&!j.pendingBranch)&&he&&!he.persisted;pe&&he.beforeEnter(Q),u(Q,p,T),((ee=oe&&oe.onVnodeMounted)||pe||Ae)&&qt(()=>{ee&&pn(ee,D,y),pe&&he.enter(Q),Ae&&$n(y,null,D,"mounted")},j)},v=(y,p,T,D,j)=>{if(T&&we(y,T),D)for(let U=0;U<D.length;U++)we(y,D[U]);if(j){let U=j.subTree;if(p===U){const N=j.vnode;v(y,N,N.scopeId,N.slotScopeIds,j.parent)}}},r=(y,p,T,D,j,U,N,W,Q=0)=>{for(let ee=Q;ee<y.length;ee++){const fe=y[ee]=W?Dn(y[ee]):gn(y[ee]);ke(null,fe,p,T,D,j,U,N,W)}},m=(y,p,T,D,j,U,N)=>{const W=p.el=y.el;let{patchFlag:Q,dynamicChildren:ee,dirs:fe}=p;Q|=y.patchFlag&16;const oe=y.props||Et,me=p.props||Et;let he;T&&Wn(T,!1),(he=me.onVnodeBeforeUpdate)&&pn(he,T,p,y),fe&&$n(p,y,T,"beforeUpdate"),T&&Wn(T,!0);const Se=j&&p.type!=="foreignObject";if(ee?o(y.dynamicChildren,ee,W,T,D,Se,U):N||h(y,p,W,null,T,D,Se,U,!1),Q>0){if(Q&16)a(W,p,oe,me,T,D,j);else if(Q&2&&oe.class!==me.class&&C(W,"class",null,me.class,j),Q&4&&C(W,"style",oe.style,me.style,j),Q&8){const Ae=p.dynamicProps;for(let pe=0;pe<Ae.length;pe++){const ge=Ae[pe],xe=oe[ge],Ce=me[ge];(Ce!==xe||ge==="value")&&C(W,ge,xe,Ce,j,y.children,T,D,G)}}Q&1&&y.children!==p.children&&X(W,p.children)}else!N&&ee==null&&a(W,p,oe,me,T,D,j);((he=me.onVnodeUpdated)||fe)&&qt(()=>{he&&pn(he,T,p,y),fe&&$n(p,y,T,"updated")},D)},o=(y,p,T,D,j,U,N)=>{for(let W=0;W<p.length;W++){const Q=y[W],ee=p[W],fe=Q.el&&(Q.type===nn||!Yn(Q,ee)||Q.shapeFlag&70)?b(Q.el):T;ke(Q,ee,fe,null,D,j,U,N,!0)}},a=(y,p,T,D,j,U,N)=>{if(T!==D){for(const W in D){if(ni(W))continue;const Q=D[W],ee=T[W];Q!==ee&&W!=="value"&&C(y,W,ee,Q,N,p.children,j,U,G)}if(T!==Et)for(const W in T)!ni(W)&&!(W in D)&&C(y,W,T[W],null,N,p.children,j,U,G);"value"in D&&C(y,"value",T.value,D.value)}},l=(y,p,T,D,j,U,N,W,Q)=>{const ee=p.el=y?y.el:K(""),fe=p.anchor=y?y.anchor:K("");let{patchFlag:oe,dynamicChildren:me,slotScopeIds:he}=p;he&&(W=W?W.concat(he):he),y==null?(u(ee,T,D),u(fe,T,D),r(p.children,T,fe,j,U,N,W,Q)):oe>0&&oe&64&&me&&y.dynamicChildren?(o(y.dynamicChildren,me,T,j,U,N,W),(p.key!=null||j&&p===j.subTree)&&cc(y,p,!0)):h(y,p,T,fe,j,U,N,W,Q)},s=(y,p,T,D,j,U,N,W,Q)=>{p.slotScopeIds=W,y==null?p.shapeFlag&512?j.ctx.activate(p,T,D,N,Q):n(p,T,D,j,U,N,Q):d(y,p,Q)},n=(y,p,T,D,j,U,N)=>{const W=y.component=hl(y,D,j);if(Ii(y)&&(W.ctx.renderer=ae),pl(W),W.asyncDep){if(j&&j.registerDep(W,c),!y.el){const Q=W.subTree=Mt(An);S(null,Q,p,T)}return}c(W,y,p,T,j,U,N)},d=(y,p,T)=>{const D=p.component=y.component;if(wf(y,p,T))if(D.asyncDep&&!D.asyncResolved){f(D,p,T);return}else D.next=p,mf(D.update),D.update();else p.el=y.el,D.vnode=p},c=(y,p,T,D,j,U,N)=>{const W=()=>{if(y.isMounted){let{next:fe,bu:oe,u:me,parent:he,vnode:Se}=y,Ae=fe,pe;Wn(y,!1),fe?(fe.el=Se.el,f(y,fe,N)):fe=Se,oe&&Fi(oe),(pe=fe.props&&fe.props.onVnodeBeforeUpdate)&&pn(pe,he,fe,Se),Wn(y,!0);const ge=Hi(y),xe=y.subTree;y.subTree=ge,ke(xe,ge,b(xe.el),Y(xe),y,j,U),fe.el=ge.el,Ae===null&&Ef(y,ge.el),me&&qt(me,j),(pe=fe.props&&fe.props.onVnodeUpdated)&&qt(()=>pn(pe,he,fe,Se),j)}else{let fe;const{el:oe,props:me}=p,{bm:he,m:Se,parent:Ae}=y,pe=si(p);if(Wn(y,!1),he&&Fi(he),!pe&&(fe=me&&me.onVnodeBeforeMount)&&pn(fe,Ae,p),Wn(y,!0),oe&&B){const ge=()=>{y.subTree=Hi(y),B(oe,y.subTree,y,j,null)};pe?p.type.__asyncLoader().then(()=>!y.isUnmounted&&ge()):ge()}else{const ge=y.subTree=Hi(y);ke(null,ge,T,D,y,j,U),p.el=ge.el}if(Se&&qt(Se,j),!pe&&(fe=me&&me.onVnodeMounted)){const ge=p;qt(()=>pn(fe,Ae,ge),j)}(p.shapeFlag&256||Ae&&si(Ae.vnode)&&Ae.vnode.shapeFlag&256)&&y.a&&qt(y.a,j),y.isMounted=!0,p=T=D=null}},Q=y.effect=new Ps(W,()=>Us(ee),y.scope),ee=y.update=()=>Q.run();ee.id=y.uid,Wn(y,!0),ee()},f=(y,p,T)=>{p.component=y;const D=y.vnode.props;y.vnode=p,y.next=null,qf(y,p.props,D,T),Xf(y,p.children,T),mr(),co(),gr()},h=(y,p,T,D,j,U,N,W,Q=!1)=>{const ee=y&&y.children,fe=y?y.shapeFlag:0,oe=p.children,{patchFlag:me,shapeFlag:he}=p;if(me>0){if(me&128){R(ee,oe,T,D,j,U,N,W,Q);return}else if(me&256){x(ee,oe,T,D,j,U,N,W,Q);return}}he&8?(fe&16&&G(ee,j,U),oe!==ee&&X(T,oe)):fe&16?he&16?R(ee,oe,T,D,j,U,N,W,Q):G(ee,j,U,!0):(fe&8&&X(T,""),he&16&&r(oe,T,D,j,U,N,W,Q))},x=(y,p,T,D,j,U,N,W,Q)=>{y=y||or,p=p||or;const ee=y.length,fe=p.length,oe=Math.min(ee,fe);let me;for(me=0;me<oe;me++){const he=p[me]=Q?Dn(p[me]):gn(p[me]);ke(y[me],he,T,null,j,U,N,W,Q)}ee>fe?G(y,j,U,!0,!1,oe):r(p,T,D,j,U,N,W,Q,oe)},R=(y,p,T,D,j,U,N,W,Q)=>{let ee=0;const fe=p.length;let oe=y.length-1,me=fe-1;for(;ee<=oe&&ee<=me;){const he=y[ee],Se=p[ee]=Q?Dn(p[ee]):gn(p[ee]);if(Yn(he,Se))ke(he,Se,T,null,j,U,N,W,Q);else break;ee++}for(;ee<=oe&&ee<=me;){const he=y[oe],Se=p[me]=Q?Dn(p[me]):gn(p[me]);if(Yn(he,Se))ke(he,Se,T,null,j,U,N,W,Q);else break;oe--,me--}if(ee>oe){if(ee<=me){const he=me+1,Se=he<fe?p[he].el:D;for(;ee<=me;)ke(null,p[ee]=Q?Dn(p[ee]):gn(p[ee]),T,Se,j,U,N,W,Q),ee++}}else if(ee>me)for(;ee<=oe;)w(y[ee],j,U,!0),ee++;else{const he=ee,Se=ee,Ae=new Map;for(ee=Se;ee<=me;ee++){const H=p[ee]=Q?Dn(p[ee]):gn(p[ee]);H.key!=null&&Ae.set(H.key,ee)}let pe,ge=0;const xe=me-Se+1;let Ce=!1,de=0;const q=new Array(xe);for(ee=0;ee<xe;ee++)q[ee]=0;for(ee=he;ee<=oe;ee++){const H=y[ee];if(ge>=xe){w(H,j,U,!0);continue}let Z;if(H.key!=null)Z=Ae.get(H.key);else for(pe=Se;pe<=me;pe++)if(q[pe-Se]===0&&Yn(H,p[pe])){Z=pe;break}Z===void 0?w(H,j,U,!0):(q[Z-Se]=ee+1,Z>=de?de=Z:Ce=!0,ke(H,p[Z],T,null,j,U,N,W,Q),ge++)}const P=Ce?nl(q):or;for(pe=P.length-1,ee=xe-1;ee>=0;ee--){const H=Se+ee,Z=p[H],se=H+1<fe?p[H+1].el:D;q[ee]===0?ke(null,Z,T,se,j,U,N,W,Q):Ce&&(pe<0||ee!==P[pe]?A(Z,T,se,2):pe--)}}},A=(y,p,T,D,j=null)=>{const{el:U,type:N,transition:W,children:Q,shapeFlag:ee}=y;if(ee&6){A(y.component.subTree,p,T,D);return}if(ee&128){y.suspense.move(p,T,D);return}if(ee&64){N.move(y,p,T,ae);return}if(N===nn){u(U,p,T);for(let oe=0;oe<Q.length;oe++)A(Q[oe],p,T,D);u(y.anchor,p,T);return}if(N===oi){O(y,p,T);return}if(D!==2&&ee&1&&W)if(D===0)W.beforeEnter(U),u(U,p,T),qt(()=>W.enter(U),j);else{const{leave:oe,delayLeave:me,afterLeave:he}=W,Se=()=>u(U,p,T),Ae=()=>{oe(U,()=>{Se(),he&&he()})};me?me(U,Se,Ae):Ae()}else u(U,p,T)},w=(y,p,T,D=!1,j=!1)=>{const{type:U,props:N,ref:W,children:Q,dynamicChildren:ee,shapeFlag:fe,patchFlag:oe,dirs:me}=y;if(W!=null&&cs(W,null,T,y,!0),fe&256){p.ctx.deactivate(y);return}const he=fe&1&&me,Se=!si(y);let Ae;if(Se&&(Ae=N&&N.onVnodeBeforeUnmount)&&pn(Ae,p,y),fe&6)L(y.component,T,D);else{if(fe&128){y.suspense.unmount(T,D);return}he&&$n(y,null,p,"beforeUnmount"),fe&64?y.type.remove(y,p,T,j,ae,D):ee&&(U!==nn||oe>0&&oe&64)?G(ee,p,T,!1,!0):(U===nn&&oe&384||!j&&fe&16)&&G(Q,p,T),D&&I(y)}(Se&&(Ae=N&&N.onVnodeUnmounted)||he)&&qt(()=>{Ae&&pn(Ae,p,y),he&&$n(y,null,p,"unmounted")},T)},I=y=>{const{type:p,el:T,anchor:D,transition:j}=y;if(p===nn){M(T,D);return}if(p===oi){g(y);return}const U=()=>{_(T),j&&!j.persisted&&j.afterLeave&&j.afterLeave()};if(y.shapeFlag&1&&j&&!j.persisted){const{leave:N,delayLeave:W}=j,Q=()=>N(T,U);W?W(y.el,U,Q):Q()}else U()},M=(y,p)=>{let T;for(;y!==p;)T=ce(y),_(y),y=T;_(p)},L=(y,p,T)=>{const{bum:D,scope:j,update:U,subTree:N,um:W}=y;D&&Fi(D),j.stop(),U&&(U.active=!1,w(N,y,p,T)),W&&qt(W,p),qt(()=>{y.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&y.asyncDep&&!y.asyncResolved&&y.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},G=(y,p,T,D=!1,j=!1,U=0)=>{for(let N=U;N<y.length;N++)w(y[N],p,T,D,j)},Y=y=>y.shapeFlag&6?Y(y.component.subTree):y.shapeFlag&128?y.suspense.next():ce(y.anchor||y.el),ie=(y,p,T)=>{y==null?p._vnode&&w(p._vnode,null,null,!0):ke(p._vnode||null,y,p,null,null,null,T),co(),za(),p._vnode=y},ae={p:ke,um:w,m:A,r:I,mt:n,mc:r,pc:h,pbc:o,n:Y,o:e};let J,B;return t&&([J,B]=t(ae)),{render:ie,hydrate:J,createApp:Qf(ie,J)}}function Wn({effect:e,update:t},i){e.allowRecurse=t.allowRecurse=i}function cc(e,t,i=!1){const u=e.children,_=t.children;if(tt(u)&&tt(_))for(let C=0;C<u.length;C++){const F=u[C];let K=_[C];K.shapeFlag&1&&!K.dynamicChildren&&((K.patchFlag<=0||K.patchFlag===32)&&(K=_[C]=Dn(_[C]),K.el=F.el),i||cc(F,K))}}function nl(e){const t=e.slice(),i=[0];let u,_,C,F,K;const z=e.length;for(u=0;u<z;u++){const $=e[u];if($!==0){if(_=i[i.length-1],e[_]<$){t[u]=_,i.push(u);continue}for(C=0,F=i.length-1;C<F;)K=C+F>>1,e[i[K]]<$?C=K+1:F=K;$<e[i[C]]&&(C>0&&(t[u]=i[C-1]),i[C]=u)}}for(C=i.length,F=i[C-1];C-- >0;)i[C]=F,F=t[F];return i}const rl=e=>e.__isTeleport,nn=Symbol(void 0),Hs=Symbol(void 0),An=Symbol(void 0),oi=Symbol(void 0),Rr=[];let an=null;function Bi(e=!1){Rr.push(an=e?null:[])}function il(){Rr.pop(),an=Rr[Rr.length-1]||null}let Mr=1;function wo(e){Mr+=e}function sl(e){return e.dynamicChildren=Mr>0?an||or:null,il(),Mr>0&&an&&an.push(e),e}function Oi(e,t,i,u,_,C){return sl(Le(e,t,i,u,_,C,!0))}function ds(e){return e?e.__v_isVNode===!0:!1}function Yn(e,t){return e.type===t.type&&e.key===t.key}const Li="__vInternal",dc=({key:e})=>e!=null?e:null,ai=({ref:e,ref_key:t,ref_for:i})=>e!=null?$t(e)||Ht(e)||nt(e)?{i:on,r:e,k:t,f:!!i}:e:null;function Le(e,t=null,i=null,u=0,_=null,C=e===nn?0:1,F=!1,K=!1){const z={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&dc(t),ref:t&&ai(t),scopeId:Ti,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:C,patchFlag:u,dynamicProps:_,dynamicChildren:null,appContext:null};return K?(zs(z,i),C&128&&e.normalize(z)):i&&(z.shapeFlag|=$t(i)?8:16),Mr>0&&!F&&an&&(z.patchFlag>0||C&6)&&z.patchFlag!==32&&an.push(z),z}const Mt=ol;function ol(e,t=null,i=null,u=0,_=null,C=!1){if((!e||e===jf)&&(e=An),ds(e)){const K=Hn(e,t,!0);return i&&zs(K,i),Mr>0&&!C&&an&&(K.shapeFlag&6?an[an.indexOf(e)]=K:an.push(K)),K.patchFlag|=-2,K}if(yl(e)&&(e=e.__vccOpts),t){t=al(t);let{class:K,style:z}=t;K&&!$t(K)&&(t.class=ks(K)),Bt(z)&&(Ba(z)&&!tt(z)&&(z=zt({},z)),t.style=xs(z))}const F=$t(e)?1:Sf(e)?128:rl(e)?64:Bt(e)?4:nt(e)?2:0;return Le(e,t,i,u,_,F,C,!0)}function al(e){return e?Ba(e)||Li in e?zt({},e):e:null}function Hn(e,t,i=!1){const{props:u,ref:_,patchFlag:C,children:F}=e,K=t?dl(u||{},t):u;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:K,key:K&&dc(K),ref:t&&t.ref?i&&_?tt(_)?_.concat(ai(t)):[_,ai(t)]:ai(t):_,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:F,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==nn?C===-1?16:C|16:C,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Hn(e.ssContent),ssFallback:e.ssFallback&&Hn(e.ssFallback),el:e.el,anchor:e.anchor}}function Qn(e=" ",t=0){return Mt(Hs,null,e,t)}function cl(e,t){const i=Mt(oi,null,e);return i.staticCount=t,i}function gn(e){return e==null||typeof e=="boolean"?Mt(An):tt(e)?Mt(nn,null,e.slice()):typeof e=="object"?Dn(e):Mt(Hs,null,String(e))}function Dn(e){return e.el===null||e.memo?e:Hn(e)}function zs(e,t){let i=0;const{shapeFlag:u}=e;if(t==null)t=null;else if(tt(t))i=16;else if(typeof t=="object")if(u&65){const _=t.default;_&&(_._c&&(_._d=!1),zs(e,_()),_._c&&(_._d=!0));return}else{i=32;const _=t._;!_&&!(Li in t)?t._ctx=on:_===3&&on&&(on.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else nt(t)?(t={default:t,_ctx:on},i=32):(t=String(t),u&64?(i=16,t=[Qn(t)]):i=8);e.children=t,e.shapeFlag|=i}function dl(...e){const t={};for(let i=0;i<e.length;i++){const u=e[i];for(const _ in u)if(_==="class")t.class!==u.class&&(t.class=ks([t.class,u.class]));else if(_==="style")t.style=xs([t.style,u.style]);else if(_i(_)){const C=t[_],F=u[_];F&&C!==F&&!(tt(C)&&C.includes(F))&&(t[_]=C?[].concat(C,F):F)}else _!==""&&(t[_]=u[_])}return t}function pn(e,t,i,u=null){en(e,t,7,[i,u])}const fl=ac();let ll=0;function hl(e,t,i){const u=e.type,_=(t?t.appContext:e.appContext)||fl,C={uid:ll++,vnode:e,type:u,parent:t,appContext:_,root:null,next:null,subTree:null,effect:null,update:null,scope:new Bd(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(_.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:rc(u,_),emitsOptions:Wa(u,_),emit:null,emitted:null,propsDefaults:Et,inheritAttrs:u.inheritAttrs,ctx:Et,data:Et,props:Et,attrs:Et,slots:Et,refs:Et,setupState:Et,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return C.ctx={_:C},C.root=t?t.root:C,C.emit=bf.bind(null,C),e.ce&&e.ce(C),C}let Lt=null;const ul=()=>Lt||on,lr=e=>{Lt=e,e.scope.on()},Zn=()=>{Lt&&Lt.scope.off(),Lt=null};function fc(e){return e.vnode.shapeFlag&4}let Nr=!1;function pl(e,t=!1){Nr=t;const{props:i,children:u}=e.vnode,_=fc(e);Vf(e,i,_,t),Jf(e,u);const C=_?ml(e,t):void 0;return Nr=!1,C}function ml(e,t){const i=e.type;e.accessCache=Object.create(null),e.proxy=Oa(new Proxy(e.ctx,Hf));const{setup:u}=i;if(u){const _=e.setupContext=u.length>1?vl(e):null;lr(e),mr();const C=Un(u,e,0,[e.props,_]);if(gr(),Zn(),_a(C)){if(C.then(Zn,Zn),t)return C.then(F=>{Eo(e,F,t)}).catch(F=>{ki(F,e,0)});e.asyncDep=C}else Eo(e,C,t)}else lc(e,t)}function Eo(e,t,i){nt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Bt(t)&&(e.setupState=Na(t)),lc(e,i)}let So;function lc(e,t,i){const u=e.type;if(!e.render){if(!t&&So&&!u.render){const _=u.template||js(e).template;if(_){const{isCustomElement:C,compilerOptions:F}=e.appContext.config,{delimiters:K,compilerOptions:z}=u,$=zt(zt({isCustomElement:C,delimiters:K},F),z);u.render=So(_,$)}}e.render=u.render||cn}lr(e),mr(),zf(e),gr(),Zn()}function gl(e){return new Proxy(e.attrs,{get(t,i){return Xt(e,"get","$attrs"),t[i]}})}function vl(e){const t=u=>{e.exposed=u||{}};let i;return{get attrs(){return i||(i=gl(e))},slots:e.slots,emit:e.emit,expose:t}}function $s(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Na(Oa(e.exposed)),{get(t,i){if(i in t)return t[i];if(i in mi)return mi[i](e)}}))}function bl(e,t=!0){return nt(e)?e.displayName||e.name:e.name||t&&e.__name}function yl(e){return nt(e)&&"__vccOpts"in e}const Qt=(e,t)=>hf(e,t,Nr);function hc(e,t,i){const u=arguments.length;return u===2?Bt(t)&&!tt(t)?ds(t)?Mt(e,null,[t]):Mt(e,t):Mt(e,null,t):(u>3?i=Array.prototype.slice.call(arguments,2):u===3&&ds(i)&&(i=[i]),Mt(e,t,i))}const _l="3.2.39",wl="http://www.w3.org/2000/svg",Jn=typeof document<"u"?document:null,xo=Jn&&Jn.createElement("template"),El={insert:(e,t,i)=>{t.insertBefore(e,i||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,i,u)=>{const _=t?Jn.createElementNS(wl,e):Jn.createElement(e,i?{is:i}:void 0);return e==="select"&&u&&u.multiple!=null&&_.setAttribute("multiple",u.multiple),_},createText:e=>Jn.createTextNode(e),createComment:e=>Jn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Jn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,i,u,_,C){const F=i?i.previousSibling:t.lastChild;if(_&&(_===C||_.nextSibling))for(;t.insertBefore(_.cloneNode(!0),i),!(_===C||!(_=_.nextSibling)););else{xo.innerHTML=u?`<svg>${e}</svg>`:e;const K=xo.content;if(u){const z=K.firstChild;for(;z.firstChild;)K.appendChild(z.firstChild);K.removeChild(z)}t.insertBefore(K,i)}return[F?F.nextSibling:t.firstChild,i?i.previousSibling:t.lastChild]}};function Sl(e,t,i){const u=e._vtc;u&&(t=(t?[t,...u]:[...u]).join(" ")),t==null?e.removeAttribute("class"):i?e.setAttribute("class",t):e.className=t}function xl(e,t,i){const u=e.style,_=$t(i);if(i&&!_){for(const C in i)fs(u,C,i[C]);if(t&&!$t(t))for(const C in t)i[C]==null&&fs(u,C,"")}else{const C=u.display;_?t!==i&&(u.cssText=i):t&&e.removeAttribute("style"),"_vod"in e&&(u.display=C)}}const ko=/\s*!important$/;function fs(e,t,i){if(tt(i))i.forEach(u=>fs(e,t,u));else if(i==null&&(i=""),t.startsWith("--"))e.setProperty(t,i);else{const u=kl(e,t);ko.test(i)?e.setProperty(pr(u),i.replace(ko,""),"important"):e[u]=i}}const Co=["Webkit","Moz","ms"],$i={};function kl(e,t){const i=$i[t];if(i)return i;let u=bn(t);if(u!=="filter"&&u in e)return $i[t]=u;u=Si(u);for(let _=0;_<Co.length;_++){const C=Co[_]+u;if(C in e)return $i[t]=C}return t}const To="http://www.w3.org/1999/xlink";function Cl(e,t,i,u,_){if(u&&t.startsWith("xlink:"))i==null?e.removeAttributeNS(To,t.slice(6,t.length)):e.setAttributeNS(To,t,i);else{const C=vd(t);i==null||C&&!ya(i)?e.removeAttribute(t):e.setAttribute(t,C?"":i)}}function Tl(e,t,i,u,_,C,F){if(t==="innerHTML"||t==="textContent"){u&&F(u,_,C),e[t]=i==null?"":i;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=i;const z=i==null?"":i;(e.value!==z||e.tagName==="OPTION")&&(e.value=z),i==null&&e.removeAttribute(t);return}let K=!1;if(i===""||i==null){const z=typeof e[t];z==="boolean"?i=ya(i):i==null&&z==="string"?(i="",K=!0):z==="number"&&(i=0,K=!0)}try{e[t]=i}catch{}K&&e.removeAttribute(t)}const[uc,Rl]=(()=>{let e=Date.now,t=!1;if(typeof window<"u"){Date.now()>document.createEvent("Event").timeStamp&&(e=performance.now.bind(performance));const i=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(i&&Number(i[1])<=53)}return[e,t]})();let ls=0;const Al=Promise.resolve(),Il=()=>{ls=0},Pl=()=>ls||(Al.then(Il),ls=uc());function Bl(e,t,i,u){e.addEventListener(t,i,u)}function Ol(e,t,i,u){e.removeEventListener(t,i,u)}function Ll(e,t,i,u,_=null){const C=e._vei||(e._vei={}),F=C[t];if(u&&F)F.value=u;else{const[K,z]=Dl(t);if(u){const $=C[t]=Ml(u,_);Bl(e,K,$,z)}else F&&(Ol(e,K,F,z),C[t]=void 0)}}const Ro=/(?:Once|Passive|Capture)$/;function Dl(e){let t;if(Ro.test(e)){t={};let u;for(;u=e.match(Ro);)e=e.slice(0,e.length-u[0].length),t[u[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):pr(e.slice(2)),t]}function Ml(e,t){const i=u=>{const _=u.timeStamp||uc();(Rl||_>=i.attached-1)&&en(Nl(u,i.value),t,5,[u])};return i.value=e,i.attached=Pl(),i}function Nl(e,t){if(tt(t)){const i=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{i.call(e),e._stopped=!0},t.map(u=>_=>!_._stopped&&u&&u(_))}else return t}const Ao=/^on[a-z]/,Ul=(e,t,i,u,_=!1,C,F,K,z)=>{t==="class"?Sl(e,u,_):t==="style"?xl(e,i,u):_i(t)?Cs(t)||Ll(e,t,i,u,F):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):jl(e,t,u,_))?Tl(e,t,u,C,F,K,z):(t==="true-value"?e._trueValue=u:t==="false-value"&&(e._falseValue=u),Cl(e,t,u,_))};function jl(e,t,i,u){return u?!!(t==="innerHTML"||t==="textContent"||t in e&&Ao.test(t)&&nt(i)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Ao.test(t)&&$t(i)?!1:t in e}const Fl={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Rf.props;const Hl=zt({patchProp:Ul},El);let Io;function zl(){return Io||(Io=el(Hl))}const $l=(...e)=>{const t=zl().createApp(...e),{mount:i}=t;return t.mount=u=>{const _=Wl(u);if(!_)return;const C=t._component;!nt(C)&&!C.render&&!C.template&&(C.template=_.innerHTML),_.innerHTML="";const F=i(_,!1,_ instanceof SVGElement);return _ instanceof Element&&(_.removeAttribute("v-cloak"),_.setAttribute("data-v-app","")),F},t};function Wl(e){return $t(e)?document.querySelector(e):e}/*!
  * vue-router v4.1.5
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const ir=typeof window<"u";function Kl(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const pt=Object.assign;function Wi(e,t){const i={};for(const u in t){const _=t[u];i[u]=dn(_)?_.map(e):e(_)}return i}const Ar=()=>{},dn=Array.isArray,Gl=/\/$/,Vl=e=>e.replace(Gl,"");function Ki(e,t,i="/"){let u,_={},C="",F="";const K=t.indexOf("#");let z=t.indexOf("?");return K<z&&K>=0&&(z=-1),z>-1&&(u=t.slice(0,z),C=t.slice(z+1,K>-1?K:t.length),_=e(C)),K>-1&&(u=u||t.slice(0,K),F=t.slice(K,t.length)),u=Xl(u!=null?u:t,i),{fullPath:u+(C&&"?")+C+F,path:u,query:_,hash:F}}function ql(e,t){const i=t.query?e(t.query):"";return t.path+(i&&"?")+i+(t.hash||"")}function Po(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Yl(e,t,i){const u=t.matched.length-1,_=i.matched.length-1;return u>-1&&u===_&&hr(t.matched[u],i.matched[_])&&pc(t.params,i.params)&&e(t.query)===e(i.query)&&t.hash===i.hash}function hr(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function pc(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(!Jl(e[i],t[i]))return!1;return!0}function Jl(e,t){return dn(e)?Bo(e,t):dn(t)?Bo(t,e):e===t}function Bo(e,t){return dn(t)?e.length===t.length&&e.every((i,u)=>i===t[u]):e.length===1&&e[0]===t}function Xl(e,t){if(e.startsWith("/"))return e;if(!e)return t;const i=t.split("/"),u=e.split("/");let _=i.length-1,C,F;for(C=0;C<u.length;C++)if(F=u[C],F!==".")if(F==="..")_>1&&_--;else break;return i.slice(0,_).join("/")+"/"+u.slice(C-(C===u.length?1:0)).join("/")}var Ur;(function(e){e.pop="pop",e.push="push"})(Ur||(Ur={}));var Ir;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Ir||(Ir={}));function Zl(e){if(!e)if(ir){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Vl(e)}const Ql=/^[^#]+#/;function eh(e,t){return e.replace(Ql,"#")+t}function th(e,t){const i=document.documentElement.getBoundingClientRect(),u=e.getBoundingClientRect();return{behavior:t.behavior,left:u.left-i.left-(t.left||0),top:u.top-i.top-(t.top||0)}}const Di=()=>({left:window.pageXOffset,top:window.pageYOffset});function nh(e){let t;if("el"in e){const i=e.el,u=typeof i=="string"&&i.startsWith("#"),_=typeof i=="string"?u?document.getElementById(i.slice(1)):document.querySelector(i):i;if(!_)return;t=th(_,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function Oo(e,t){return(history.state?history.state.position-t:-1)+e}const hs=new Map;function rh(e,t){hs.set(e,t)}function ih(e){const t=hs.get(e);return hs.delete(e),t}let sh=()=>location.protocol+"//"+location.host;function mc(e,t){const{pathname:i,search:u,hash:_}=t,C=e.indexOf("#");if(C>-1){let K=_.includes(e.slice(C))?e.slice(C).length:1,z=_.slice(K);return z[0]!=="/"&&(z="/"+z),Po(z,"")}return Po(i,e)+u+_}function oh(e,t,i,u){let _=[],C=[],F=null;const K=({state:ce})=>{const we=mc(e,location),ve=i.value,Ee=t.value;let ke=0;if(ce){if(i.value=we,t.value=ce,F&&F===ve){F=null;return}ke=Ee?ce.position-Ee.position:0}else u(we);_.forEach(Te=>{Te(i.value,ve,{delta:ke,type:Ur.pop,direction:ke?ke>0?Ir.forward:Ir.back:Ir.unknown})})};function z(){F=i.value}function $(ce){_.push(ce);const we=()=>{const ve=_.indexOf(ce);ve>-1&&_.splice(ve,1)};return C.push(we),we}function X(){const{history:ce}=window;!ce.state||ce.replaceState(pt({},ce.state,{scroll:Di()}),"")}function b(){for(const ce of C)ce();C=[],window.removeEventListener("popstate",K),window.removeEventListener("beforeunload",X)}return window.addEventListener("popstate",K),window.addEventListener("beforeunload",X),{pauseListeners:z,listen:$,destroy:b}}function Lo(e,t,i,u=!1,_=!1){return{back:e,current:t,forward:i,replaced:u,position:window.history.length,scroll:_?Di():null}}function ah(e){const{history:t,location:i}=window,u={value:mc(e,i)},_={value:t.state};_.value||C(u.value,{back:null,current:u.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function C(z,$,X){const b=e.indexOf("#"),ce=b>-1?(i.host&&document.querySelector("base")?e:e.slice(b))+z:sh()+e+z;try{t[X?"replaceState":"pushState"]($,"",ce),_.value=$}catch(we){console.error(we),i[X?"replace":"assign"](ce)}}function F(z,$){const X=pt({},t.state,Lo(_.value.back,z,_.value.forward,!0),$,{position:_.value.position});C(z,X,!0),u.value=z}function K(z,$){const X=pt({},_.value,t.state,{forward:z,scroll:Di()});C(X.current,X,!0);const b=pt({},Lo(u.value,z,null),{position:X.position+1},$);C(z,b,!1),u.value=z}return{location:u,state:_,push:K,replace:F}}function ch(e){e=Zl(e);const t=ah(e),i=oh(e,t.state,t.location,t.replace);function u(C,F=!0){F||i.pauseListeners(),history.go(C)}const _=pt({location:"",base:e,go:u,createHref:eh.bind(null,e)},t,i);return Object.defineProperty(_,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(_,"state",{enumerable:!0,get:()=>t.state.value}),_}function dh(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),ch(e)}function fh(e){return typeof e=="string"||e&&typeof e=="object"}function gc(e){return typeof e=="string"||typeof e=="symbol"}const On={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},vc=Symbol("");var Do;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Do||(Do={}));function ur(e,t){return pt(new Error,{type:e,[vc]:!0},t)}function kn(e,t){return e instanceof Error&&vc in e&&(t==null||!!(e.type&t))}const Mo="[^/]+?",lh={sensitive:!1,strict:!1,start:!0,end:!0},hh=/[.+*?^${}()[\]/\\]/g;function uh(e,t){const i=pt({},lh,t),u=[];let _=i.start?"^":"";const C=[];for(const $ of e){const X=$.length?[]:[90];i.strict&&!$.length&&(_+="/");for(let b=0;b<$.length;b++){const ce=$[b];let we=40+(i.sensitive?.25:0);if(ce.type===0)b||(_+="/"),_+=ce.value.replace(hh,"\\$&"),we+=40;else if(ce.type===1){const{value:ve,repeatable:Ee,optional:ke,regexp:Te}=ce;C.push({name:ve,repeatable:Ee,optional:ke});const S=Te||Mo;if(S!==Mo){we+=10;try{new RegExp(`(${S})`)}catch(O){throw new Error(`Invalid custom RegExp for param "${ve}" (${S}): `+O.message)}}let V=Ee?`((?:${S})(?:/(?:${S}))*)`:`(${S})`;b||(V=ke&&$.length<2?`(?:/${V})`:"/"+V),ke&&(V+="?"),_+=V,we+=20,ke&&(we+=-8),Ee&&(we+=-20),S===".*"&&(we+=-50)}X.push(we)}u.push(X)}if(i.strict&&i.end){const $=u.length-1;u[$][u[$].length-1]+=.7000000000000001}i.strict||(_+="/?"),i.end?_+="$":i.strict&&(_+="(?:/|$)");const F=new RegExp(_,i.sensitive?"":"i");function K($){const X=$.match(F),b={};if(!X)return null;for(let ce=1;ce<X.length;ce++){const we=X[ce]||"",ve=C[ce-1];b[ve.name]=we&&ve.repeatable?we.split("/"):we}return b}function z($){let X="",b=!1;for(const ce of e){(!b||!X.endsWith("/"))&&(X+="/"),b=!1;for(const we of ce)if(we.type===0)X+=we.value;else if(we.type===1){const{value:ve,repeatable:Ee,optional:ke}=we,Te=ve in $?$[ve]:"";if(dn(Te)&&!Ee)throw new Error(`Provided param "${ve}" is an array but it is not repeatable (* or + modifiers)`);const S=dn(Te)?Te.join("/"):Te;if(!S)if(ke)ce.length<2&&(X.endsWith("/")?X=X.slice(0,-1):b=!0);else throw new Error(`Missing required param "${ve}"`);X+=S}}return X||"/"}return{re:F,score:u,keys:C,parse:K,stringify:z}}function ph(e,t){let i=0;for(;i<e.length&&i<t.length;){const u=t[i]-e[i];if(u)return u;i++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function mh(e,t){let i=0;const u=e.score,_=t.score;for(;i<u.length&&i<_.length;){const C=ph(u[i],_[i]);if(C)return C;i++}if(Math.abs(_.length-u.length)===1){if(No(u))return 1;if(No(_))return-1}return _.length-u.length}function No(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const gh={type:0,value:""},vh=/[a-zA-Z0-9_]/;function bh(e){if(!e)return[[]];if(e==="/")return[[gh]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(we){throw new Error(`ERR (${i})/"${$}": ${we}`)}let i=0,u=i;const _=[];let C;function F(){C&&_.push(C),C=[]}let K=0,z,$="",X="";function b(){!$||(i===0?C.push({type:0,value:$}):i===1||i===2||i===3?(C.length>1&&(z==="*"||z==="+")&&t(`A repeatable param (${$}) must be alone in its segment. eg: '/:ids+.`),C.push({type:1,value:$,regexp:X,repeatable:z==="*"||z==="+",optional:z==="*"||z==="?"})):t("Invalid state to consume buffer"),$="")}function ce(){$+=z}for(;K<e.length;){if(z=e[K++],z==="\\"&&i!==2){u=i,i=4;continue}switch(i){case 0:z==="/"?($&&b(),F()):z===":"?(b(),i=1):ce();break;case 4:ce(),i=u;break;case 1:z==="("?i=2:vh.test(z)?ce():(b(),i=0,z!=="*"&&z!=="?"&&z!=="+"&&K--);break;case 2:z===")"?X[X.length-1]=="\\"?X=X.slice(0,-1)+z:i=3:X+=z;break;case 3:b(),i=0,z!=="*"&&z!=="?"&&z!=="+"&&K--,X="";break;default:t("Unknown state");break}}return i===2&&t(`Unfinished custom RegExp for param "${$}"`),b(),F(),_}function yh(e,t,i){const u=uh(bh(e.path),i),_=pt(u,{record:e,parent:t,children:[],alias:[]});return t&&!_.record.aliasOf==!t.record.aliasOf&&t.children.push(_),_}function _h(e,t){const i=[],u=new Map;t=Fo({strict:!1,end:!0,sensitive:!1},t);function _(X){return u.get(X)}function C(X,b,ce){const we=!ce,ve=wh(X);ve.aliasOf=ce&&ce.record;const Ee=Fo(t,X),ke=[ve];if("alias"in X){const V=typeof X.alias=="string"?[X.alias]:X.alias;for(const O of V)ke.push(pt({},ve,{components:ce?ce.record.components:ve.components,path:O,aliasOf:ce?ce.record:ve}))}let Te,S;for(const V of ke){const{path:O}=V;if(b&&O[0]!=="/"){const g=b.record.path,k=g[g.length-1]==="/"?"":"/";V.path=b.record.path+(O&&k+O)}if(Te=yh(V,b,Ee),ce?ce.alias.push(Te):(S=S||Te,S!==Te&&S.alias.push(Te),we&&X.name&&!jo(Te)&&F(X.name)),ve.children){const g=ve.children;for(let k=0;k<g.length;k++)C(g[k],Te,ce&&ce.children[k])}ce=ce||Te,z(Te)}return S?()=>{F(S)}:Ar}function F(X){if(gc(X)){const b=u.get(X);b&&(u.delete(X),i.splice(i.indexOf(b),1),b.children.forEach(F),b.alias.forEach(F))}else{const b=i.indexOf(X);b>-1&&(i.splice(b,1),X.record.name&&u.delete(X.record.name),X.children.forEach(F),X.alias.forEach(F))}}function K(){return i}function z(X){let b=0;for(;b<i.length&&mh(X,i[b])>=0&&(X.record.path!==i[b].record.path||!bc(X,i[b]));)b++;i.splice(b,0,X),X.record.name&&!jo(X)&&u.set(X.record.name,X)}function $(X,b){let ce,we={},ve,Ee;if("name"in X&&X.name){if(ce=u.get(X.name),!ce)throw ur(1,{location:X});Ee=ce.record.name,we=pt(Uo(b.params,ce.keys.filter(S=>!S.optional).map(S=>S.name)),X.params&&Uo(X.params,ce.keys.map(S=>S.name))),ve=ce.stringify(we)}else if("path"in X)ve=X.path,ce=i.find(S=>S.re.test(ve)),ce&&(we=ce.parse(ve),Ee=ce.record.name);else{if(ce=b.name?u.get(b.name):i.find(S=>S.re.test(b.path)),!ce)throw ur(1,{location:X,currentLocation:b});Ee=ce.record.name,we=pt({},b.params,X.params),ve=ce.stringify(we)}const ke=[];let Te=ce;for(;Te;)ke.unshift(Te.record),Te=Te.parent;return{name:Ee,path:ve,params:we,matched:ke,meta:Sh(ke)}}return e.forEach(X=>C(X)),{addRoute:C,resolve:$,removeRoute:F,getRoutes:K,getRecordMatcher:_}}function Uo(e,t){const i={};for(const u of t)u in e&&(i[u]=e[u]);return i}function wh(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Eh(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function Eh(e){const t={},i=e.props||!1;if("component"in e)t.default=i;else for(const u in e.components)t[u]=typeof i=="boolean"?i:i[u];return t}function jo(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Sh(e){return e.reduce((t,i)=>pt(t,i.meta),{})}function Fo(e,t){const i={};for(const u in e)i[u]=u in t?t[u]:e[u];return i}function bc(e,t){return t.children.some(i=>i===e||bc(e,i))}const yc=/#/g,xh=/&/g,kh=/\//g,Ch=/=/g,Th=/\?/g,_c=/\+/g,Rh=/%5B/g,Ah=/%5D/g,wc=/%5E/g,Ih=/%60/g,Ec=/%7B/g,Ph=/%7C/g,Sc=/%7D/g,Bh=/%20/g;function Ws(e){return encodeURI(""+e).replace(Ph,"|").replace(Rh,"[").replace(Ah,"]")}function Oh(e){return Ws(e).replace(Ec,"{").replace(Sc,"}").replace(wc,"^")}function us(e){return Ws(e).replace(_c,"%2B").replace(Bh,"+").replace(yc,"%23").replace(xh,"%26").replace(Ih,"`").replace(Ec,"{").replace(Sc,"}").replace(wc,"^")}function Lh(e){return us(e).replace(Ch,"%3D")}function Dh(e){return Ws(e).replace(yc,"%23").replace(Th,"%3F")}function Mh(e){return e==null?"":Dh(e).replace(kh,"%2F")}function vi(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function Nh(e){const t={};if(e===""||e==="?")return t;const u=(e[0]==="?"?e.slice(1):e).split("&");for(let _=0;_<u.length;++_){const C=u[_].replace(_c," "),F=C.indexOf("="),K=vi(F<0?C:C.slice(0,F)),z=F<0?null:vi(C.slice(F+1));if(K in t){let $=t[K];dn($)||($=t[K]=[$]),$.push(z)}else t[K]=z}return t}function Ho(e){let t="";for(let i in e){const u=e[i];if(i=Lh(i),u==null){u!==void 0&&(t+=(t.length?"&":"")+i);continue}(dn(u)?u.map(C=>C&&us(C)):[u&&us(u)]).forEach(C=>{C!==void 0&&(t+=(t.length?"&":"")+i,C!=null&&(t+="="+C))})}return t}function Uh(e){const t={};for(const i in e){const u=e[i];u!==void 0&&(t[i]=dn(u)?u.map(_=>_==null?null:""+_):u==null?u:""+u)}return t}const jh=Symbol(""),zo=Symbol(""),Ks=Symbol(""),xc=Symbol(""),ps=Symbol("");function br(){let e=[];function t(u){return e.push(u),()=>{const _=e.indexOf(u);_>-1&&e.splice(_,1)}}function i(){e=[]}return{add:t,list:()=>e,reset:i}}function Mn(e,t,i,u,_){const C=u&&(u.enterCallbacks[_]=u.enterCallbacks[_]||[]);return()=>new Promise((F,K)=>{const z=b=>{b===!1?K(ur(4,{from:i,to:t})):b instanceof Error?K(b):fh(b)?K(ur(2,{from:t,to:b})):(C&&u.enterCallbacks[_]===C&&typeof b=="function"&&C.push(b),F())},$=e.call(u&&u.instances[_],t,i,z);let X=Promise.resolve($);e.length<3&&(X=X.then(z)),X.catch(b=>K(b))})}function Gi(e,t,i,u){const _=[];for(const C of e)for(const F in C.components){let K=C.components[F];if(!(t!=="beforeRouteEnter"&&!C.instances[F]))if(Fh(K)){const $=(K.__vccOpts||K)[t];$&&_.push(Mn($,i,u,C,F))}else{let z=K();_.push(()=>z.then($=>{if(!$)return Promise.reject(new Error(`Couldn't resolve component "${F}" at "${C.path}"`));const X=Kl($)?$.default:$;C.components[F]=X;const ce=(X.__vccOpts||X)[t];return ce&&Mn(ce,i,u,C,F)()}))}}return _}function Fh(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function $o(e){const t=jn(Ks),i=jn(xc),u=Qt(()=>t.resolve(cr(e.to))),_=Qt(()=>{const{matched:z}=u.value,{length:$}=z,X=z[$-1],b=i.matched;if(!X||!b.length)return-1;const ce=b.findIndex(hr.bind(null,X));if(ce>-1)return ce;const we=Wo(z[$-2]);return $>1&&Wo(X)===we&&b[b.length-1].path!==we?b.findIndex(hr.bind(null,z[$-2])):ce}),C=Qt(()=>_.value>-1&&Wh(i.params,u.value.params)),F=Qt(()=>_.value>-1&&_.value===i.matched.length-1&&pc(i.params,u.value.params));function K(z={}){return $h(z)?t[cr(e.replace)?"replace":"push"](cr(e.to)).catch(Ar):Promise.resolve()}return{route:u,href:Qt(()=>u.value.href),isActive:C,isExactActive:F,navigate:K}}const Hh=Ya({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:$o,setup(e,{slots:t}){const i=Fr($o(e)),{options:u}=jn(Ks),_=Qt(()=>({[Ko(e.activeClass,u.linkActiveClass,"router-link-active")]:i.isActive,[Ko(e.exactActiveClass,u.linkExactActiveClass,"router-link-exact-active")]:i.isExactActive}));return()=>{const C=t.default&&t.default(i);return e.custom?C:hc("a",{"aria-current":i.isExactActive?e.ariaCurrentValue:null,href:i.href,onClick:i.navigate,class:_.value},C)}}}),zh=Hh;function $h(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Wh(e,t){for(const i in t){const u=t[i],_=e[i];if(typeof u=="string"){if(u!==_)return!1}else if(!dn(_)||_.length!==u.length||u.some((C,F)=>C!==_[F]))return!1}return!0}function Wo(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Ko=(e,t,i)=>e!=null?e:t!=null?t:i,Kh=Ya({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:i}){const u=jn(ps),_=Qt(()=>e.route||u.value),C=jn(zo,0),F=Qt(()=>{let $=cr(C);const{matched:X}=_.value;let b;for(;(b=X[$])&&!b.components;)$++;return $}),K=Qt(()=>_.value.matched[F.value]);ri(zo,Qt(()=>F.value+1)),ri(jh,K),ri(ps,_);const z=af();return ii(()=>[z.value,K.value,e.name],([$,X,b],[ce,we,ve])=>{X&&(X.instances[b]=$,we&&we!==X&&$&&$===ce&&(X.leaveGuards.size||(X.leaveGuards=we.leaveGuards),X.updateGuards.size||(X.updateGuards=we.updateGuards))),$&&X&&(!we||!hr(X,we)||!ce)&&(X.enterCallbacks[b]||[]).forEach(Ee=>Ee($))},{flush:"post"}),()=>{const $=_.value,X=e.name,b=K.value,ce=b&&b.components[X];if(!ce)return Go(i.default,{Component:ce,route:$});const we=b.props[X],ve=we?we===!0?$.params:typeof we=="function"?we($):we:null,ke=hc(ce,pt({},ve,t,{onVnodeUnmounted:Te=>{Te.component.isUnmounted&&(b.instances[X]=null)},ref:z}));return Go(i.default,{Component:ke,route:$})||ke}}});function Go(e,t){if(!e)return null;const i=e(t);return i.length===1?i[0]:i}const Gh=Kh;function Vh(e){const t=_h(e.routes,e),i=e.parseQuery||Nh,u=e.stringifyQuery||Ho,_=e.history,C=br(),F=br(),K=br(),z=cf(On);let $=On;ir&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const X=Wi.bind(null,M=>""+M),b=Wi.bind(null,Mh),ce=Wi.bind(null,vi);function we(M,L){let G,Y;return gc(M)?(G=t.getRecordMatcher(M),Y=L):Y=M,t.addRoute(Y,G)}function ve(M){const L=t.getRecordMatcher(M);L&&t.removeRoute(L)}function Ee(){return t.getRoutes().map(M=>M.record)}function ke(M){return!!t.getRecordMatcher(M)}function Te(M,L){if(L=pt({},L||z.value),typeof M=="string"){const B=Ki(i,M,L.path),y=t.resolve({path:B.path},L),p=_.createHref(B.fullPath);return pt(B,y,{params:ce(y.params),hash:vi(B.hash),redirectedFrom:void 0,href:p})}let G;if("path"in M)G=pt({},M,{path:Ki(i,M.path,L.path).path});else{const B=pt({},M.params);for(const y in B)B[y]==null&&delete B[y];G=pt({},M,{params:b(M.params)}),L.params=b(L.params)}const Y=t.resolve(G,L),ie=M.hash||"";Y.params=X(ce(Y.params));const ae=ql(u,pt({},M,{hash:Oh(ie),path:Y.path})),J=_.createHref(ae);return pt({fullPath:ae,hash:ie,query:u===Ho?Uh(M.query):M.query||{}},Y,{redirectedFrom:void 0,href:J})}function S(M){return typeof M=="string"?Ki(i,M,z.value.path):pt({},M)}function V(M,L){if($!==M)return ur(8,{from:L,to:M})}function O(M){return E(M)}function g(M){return O(pt(S(M),{replace:!0}))}function k(M){const L=M.matched[M.matched.length-1];if(L&&L.redirect){const{redirect:G}=L;let Y=typeof G=="function"?G(M):G;return typeof Y=="string"&&(Y=Y.includes("?")||Y.includes("#")?Y=S(Y):{path:Y},Y.params={}),pt({query:M.query,hash:M.hash,params:"path"in Y?{}:M.params},Y)}}function E(M,L){const G=$=Te(M),Y=z.value,ie=M.state,ae=M.force,J=M.replace===!0,B=k(G);if(B)return E(pt(S(B),{state:typeof B=="object"?pt({},ie,B.state):ie,force:ae,replace:J}),L||G);const y=G;y.redirectedFrom=L;let p;return!ae&&Yl(u,Y,G)&&(p=ur(16,{to:y,from:Y}),x(Y,Y,!0,!1)),(p?Promise.resolve(p):r(y,Y)).catch(T=>kn(T)?kn(T,2)?T:h(T):c(T,y,Y)).then(T=>{if(T){if(kn(T,2))return E(pt({replace:J},S(T.to),{state:typeof T.to=="object"?pt({},ie,T.to.state):ie,force:ae}),L||y)}else T=o(y,Y,!0,J,ie);return m(y,Y,T),T})}function v(M,L){const G=V(M,L);return G?Promise.reject(G):Promise.resolve()}function r(M,L){let G;const[Y,ie,ae]=qh(M,L);G=Gi(Y.reverse(),"beforeRouteLeave",M,L);for(const B of Y)B.leaveGuards.forEach(y=>{G.push(Mn(y,M,L))});const J=v.bind(null,M,L);return G.push(J),nr(G).then(()=>{G=[];for(const B of C.list())G.push(Mn(B,M,L));return G.push(J),nr(G)}).then(()=>{G=Gi(ie,"beforeRouteUpdate",M,L);for(const B of ie)B.updateGuards.forEach(y=>{G.push(Mn(y,M,L))});return G.push(J),nr(G)}).then(()=>{G=[];for(const B of M.matched)if(B.beforeEnter&&!L.matched.includes(B))if(dn(B.beforeEnter))for(const y of B.beforeEnter)G.push(Mn(y,M,L));else G.push(Mn(B.beforeEnter,M,L));return G.push(J),nr(G)}).then(()=>(M.matched.forEach(B=>B.enterCallbacks={}),G=Gi(ae,"beforeRouteEnter",M,L),G.push(J),nr(G))).then(()=>{G=[];for(const B of F.list())G.push(Mn(B,M,L));return G.push(J),nr(G)}).catch(B=>kn(B,8)?B:Promise.reject(B))}function m(M,L,G){for(const Y of K.list())Y(M,L,G)}function o(M,L,G,Y,ie){const ae=V(M,L);if(ae)return ae;const J=L===On,B=ir?history.state:{};G&&(Y||J?_.replace(M.fullPath,pt({scroll:J&&B&&B.scroll},ie)):_.push(M.fullPath,ie)),z.value=M,x(M,L,G,J),h()}let a;function l(){a||(a=_.listen((M,L,G)=>{if(!I.listening)return;const Y=Te(M),ie=k(Y);if(ie){E(pt(ie,{replace:!0}),Y).catch(Ar);return}$=Y;const ae=z.value;ir&&rh(Oo(ae.fullPath,G.delta),Di()),r(Y,ae).catch(J=>kn(J,12)?J:kn(J,2)?(E(J.to,Y).then(B=>{kn(B,20)&&!G.delta&&G.type===Ur.pop&&_.go(-1,!1)}).catch(Ar),Promise.reject()):(G.delta&&_.go(-G.delta,!1),c(J,Y,ae))).then(J=>{J=J||o(Y,ae,!1),J&&(G.delta&&!kn(J,8)?_.go(-G.delta,!1):G.type===Ur.pop&&kn(J,20)&&_.go(-1,!1)),m(Y,ae,J)}).catch(Ar)}))}let s=br(),n=br(),d;function c(M,L,G){h(M);const Y=n.list();return Y.length?Y.forEach(ie=>ie(M,L,G)):console.error(M),Promise.reject(M)}function f(){return d&&z.value!==On?Promise.resolve():new Promise((M,L)=>{s.add([M,L])})}function h(M){return d||(d=!M,l(),s.list().forEach(([L,G])=>M?G(M):L()),s.reset()),M}function x(M,L,G,Y){const{scrollBehavior:ie}=e;if(!ir||!ie)return Promise.resolve();const ae=!G&&ih(Oo(M.fullPath,0))||(Y||!G)&&history.state&&history.state.scroll||null;return Fa().then(()=>ie(M,L,ae)).then(J=>J&&nh(J)).catch(J=>c(J,M,L))}const R=M=>_.go(M);let A;const w=new Set,I={currentRoute:z,listening:!0,addRoute:we,removeRoute:ve,hasRoute:ke,getRoutes:Ee,resolve:Te,options:e,push:O,replace:g,go:R,back:()=>R(-1),forward:()=>R(1),beforeEach:C.add,beforeResolve:F.add,afterEach:K.add,onError:n.add,isReady:f,install(M){const L=this;M.component("RouterLink",zh),M.component("RouterView",Gh),M.config.globalProperties.$router=L,Object.defineProperty(M.config.globalProperties,"$route",{enumerable:!0,get:()=>cr(z)}),ir&&!A&&z.value===On&&(A=!0,O(_.location).catch(ie=>{}));const G={};for(const ie in On)G[ie]=Qt(()=>z.value[ie]);M.provide(Ks,L),M.provide(xc,Fr(G)),M.provide(ps,z);const Y=M.unmount;w.add(M),M.unmount=function(){w.delete(M),w.size<1&&($=On,a&&a(),a=null,z.value=On,A=!1,d=!1),Y()}}};return I}function nr(e){return e.reduce((t,i)=>t.then(()=>i()),Promise.resolve())}function qh(e,t){const i=[],u=[],_=[],C=Math.max(t.matched.length,e.matched.length);for(let F=0;F<C;F++){const K=t.matched[F];K&&(e.matched.find($=>hr($,K))?u.push(K):i.push(K));const z=e.matched[F];z&&(t.matched.find($=>hr($,z))||_.push(z))}return[i,u,_]}var ut=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Gs={exports:{}};(function(e){var t={};t.useBlobBuilder=function(){try{return new Blob([]),!1}catch{return!0}}(),t.useArrayBufferView=!t.useBlobBuilder&&function(){try{return new Blob([new Uint8Array([])]).size===0}catch{return!0}}(),e.exports.binaryFeatures=t;var i=e.exports.BlobBuilder;typeof window<"u"&&(i=e.exports.BlobBuilder=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder);function u(){this._pieces=[],this._parts=[]}u.prototype.append=function(_){typeof _=="number"?this._pieces.push(_):(this.flush(),this._parts.push(_))},u.prototype.flush=function(){if(this._pieces.length>0){var _=new Uint8Array(this._pieces);t.useArrayBufferView||(_=_.buffer),this._parts.push(_),this._pieces=[]}},u.prototype.getBuffer=function(){if(this.flush(),t.useBlobBuilder){for(var _=new i,C=0,F=this._parts.length;C<F;C++)_.append(this._parts[C]);return _.getBlob()}else return new Blob(this._parts)},e.exports.BufferBuilder=u})(Gs);var Jh=Gs.exports.BufferBuilder,Vo=Gs.exports.binaryFeatures,Xh={unpack:function(e){var t=new Nt(e);return t.unpack()},pack:function(e){var t=new Ut;t.pack(e);var i=t.getBuffer();return i}},qo=Xh;function Nt(e){this.index=0,this.dataBuffer=e,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}Nt.prototype.unpack=function(){var e=this.unpack_uint8();if(e<128)return e;if((e^224)<32)return(e^224)-32;var t;if((t=e^160)<=15)return this.unpack_raw(t);if((t=e^176)<=15)return this.unpack_string(t);if((t=e^144)<=15)return this.unpack_array(t);if((t=e^128)<=15)return this.unpack_map(t);switch(e){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return t=this.unpack_uint16(),this.unpack_string(t);case 217:return t=this.unpack_uint32(),this.unpack_string(t);case 218:return t=this.unpack_uint16(),this.unpack_raw(t);case 219:return t=this.unpack_uint32(),this.unpack_raw(t);case 220:return t=this.unpack_uint16(),this.unpack_array(t);case 221:return t=this.unpack_uint32(),this.unpack_array(t);case 222:return t=this.unpack_uint16(),this.unpack_map(t);case 223:return t=this.unpack_uint32(),this.unpack_map(t)}};Nt.prototype.unpack_uint8=function(){var e=this.dataView[this.index]&255;return this.index++,e};Nt.prototype.unpack_uint16=function(){var e=this.read(2),t=(e[0]&255)*256+(e[1]&255);return this.index+=2,t};Nt.prototype.unpack_uint32=function(){var e=this.read(4),t=((e[0]*256+e[1])*256+e[2])*256+e[3];return this.index+=4,t};Nt.prototype.unpack_uint64=function(){var e=this.read(8),t=((((((e[0]*256+e[1])*256+e[2])*256+e[3])*256+e[4])*256+e[5])*256+e[6])*256+e[7];return this.index+=8,t};Nt.prototype.unpack_int8=function(){var e=this.unpack_uint8();return e<128?e:e-(1<<8)};Nt.prototype.unpack_int16=function(){var e=this.unpack_uint16();return e<32768?e:e-(1<<16)};Nt.prototype.unpack_int32=function(){var e=this.unpack_uint32();return e<Math.pow(2,31)?e:e-Math.pow(2,32)};Nt.prototype.unpack_int64=function(){var e=this.unpack_uint64();return e<Math.pow(2,63)?e:e-Math.pow(2,64)};Nt.prototype.unpack_raw=function(e){if(this.length<this.index+e)throw new Error("BinaryPackFailure: index is out of range "+this.index+" "+e+" "+this.length);var t=this.dataBuffer.slice(this.index,this.index+e);return this.index+=e,t};Nt.prototype.unpack_string=function(e){for(var t=this.read(e),i=0,u="",_,C;i<e;)_=t[i],_<128?(u+=String.fromCharCode(_),i++):(_^192)<32?(C=(_^192)<<6|t[i+1]&63,u+=String.fromCharCode(C),i+=2):(C=(_&15)<<12|(t[i+1]&63)<<6|t[i+2]&63,u+=String.fromCharCode(C),i+=3);return this.index+=e,u};Nt.prototype.unpack_array=function(e){for(var t=new Array(e),i=0;i<e;i++)t[i]=this.unpack();return t};Nt.prototype.unpack_map=function(e){for(var t={},i=0;i<e;i++){var u=this.unpack(),_=this.unpack();t[u]=_}return t};Nt.prototype.unpack_float=function(){var e=this.unpack_uint32(),t=e>>31,i=(e>>23&255)-127,u=e&8388607|8388608;return(t===0?1:-1)*u*Math.pow(2,i-23)};Nt.prototype.unpack_double=function(){var e=this.unpack_uint32(),t=this.unpack_uint32(),i=e>>31,u=(e>>20&2047)-1023,_=e&1048575|1048576,C=_*Math.pow(2,u-20)+t*Math.pow(2,u-52);return(i===0?1:-1)*C};Nt.prototype.read=function(e){var t=this.index;if(t+e<=this.length)return this.dataView.subarray(t,t+e);throw new Error("BinaryPackFailure: read index out of range")};function Ut(){this.bufferBuilder=new Jh}Ut.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()};Ut.prototype.pack=function(e){var t=typeof e;if(t==="string")this.pack_string(e);else if(t==="number")Math.floor(e)===e?this.pack_integer(e):this.pack_double(e);else if(t==="boolean")e===!0?this.bufferBuilder.append(195):e===!1&&this.bufferBuilder.append(194);else if(t==="undefined")this.bufferBuilder.append(192);else if(t==="object")if(e===null)this.bufferBuilder.append(192);else{var i=e.constructor;if(i==Array)this.pack_array(e);else if(i==Blob||i==File||e instanceof Blob||e instanceof File)this.pack_bin(e);else if(i==ArrayBuffer)Vo.useArrayBufferView?this.pack_bin(new Uint8Array(e)):this.pack_bin(e);else if("BYTES_PER_ELEMENT"in e)Vo.useArrayBufferView?this.pack_bin(new Uint8Array(e.buffer)):this.pack_bin(e.buffer);else if(i==Object||i.toString().startsWith("class"))this.pack_object(e);else if(i==Date)this.pack_string(e.toString());else if(typeof e.toBinaryPack=="function")this.bufferBuilder.append(e.toBinaryPack());else throw new Error('Type "'+i.toString()+'" not yet supported')}else throw new Error('Type "'+t+'" not yet supported');this.bufferBuilder.flush()};Ut.prototype.pack_bin=function(e){var t=e.length||e.byteLength||e.size;if(t<=15)this.pack_uint8(160+t);else if(t<=65535)this.bufferBuilder.append(218),this.pack_uint16(t);else if(t<=4294967295)this.bufferBuilder.append(219),this.pack_uint32(t);else throw new Error("Invalid length");this.bufferBuilder.append(e)};Ut.prototype.pack_string=function(e){var t=Qh(e);if(t<=15)this.pack_uint8(176+t);else if(t<=65535)this.bufferBuilder.append(216),this.pack_uint16(t);else if(t<=4294967295)this.bufferBuilder.append(217),this.pack_uint32(t);else throw new Error("Invalid length");this.bufferBuilder.append(e)};Ut.prototype.pack_array=function(e){var t=e.length;if(t<=15)this.pack_uint8(144+t);else if(t<=65535)this.bufferBuilder.append(220),this.pack_uint16(t);else if(t<=4294967295)this.bufferBuilder.append(221),this.pack_uint32(t);else throw new Error("Invalid length");for(var i=0;i<t;i++)this.pack(e[i])};Ut.prototype.pack_integer=function(e){if(e>=-32&&e<=127)this.bufferBuilder.append(e&255);else if(e>=0&&e<=255)this.bufferBuilder.append(204),this.pack_uint8(e);else if(e>=-128&&e<=127)this.bufferBuilder.append(208),this.pack_int8(e);else if(e>=0&&e<=65535)this.bufferBuilder.append(205),this.pack_uint16(e);else if(e>=-32768&&e<=32767)this.bufferBuilder.append(209),this.pack_int16(e);else if(e>=0&&e<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(e);else if(e>=-2147483648&&e<=2147483647)this.bufferBuilder.append(210),this.pack_int32(e);else if(e>=-9223372036854776e3&&e<=9223372036854776e3)this.bufferBuilder.append(211),this.pack_int64(e);else if(e>=0&&e<=18446744073709552e3)this.bufferBuilder.append(207),this.pack_uint64(e);else throw new Error("Invalid integer")};Ut.prototype.pack_double=function(e){var t=0;e<0&&(t=1,e=-e);var i=Math.floor(Math.log(e)/Math.LN2),u=e/Math.pow(2,i)-1,_=Math.floor(u*Math.pow(2,52)),C=Math.pow(2,32),F=t<<31|i+1023<<20|_/C&1048575,K=_%C;this.bufferBuilder.append(203),this.pack_int32(F),this.pack_int32(K)};Ut.prototype.pack_object=function(e){var t=Object.keys(e),i=t.length;if(i<=15)this.pack_uint8(128+i);else if(i<=65535)this.bufferBuilder.append(222),this.pack_uint16(i);else if(i<=4294967295)this.bufferBuilder.append(223),this.pack_uint32(i);else throw new Error("Invalid length");for(var u in e)e.hasOwnProperty(u)&&(this.pack(u),this.pack(e[u]))};Ut.prototype.pack_uint8=function(e){this.bufferBuilder.append(e)};Ut.prototype.pack_uint16=function(e){this.bufferBuilder.append(e>>8),this.bufferBuilder.append(e&255)};Ut.prototype.pack_uint32=function(e){var t=e&4294967295;this.bufferBuilder.append((t&4278190080)>>>24),this.bufferBuilder.append((t&16711680)>>>16),this.bufferBuilder.append((t&65280)>>>8),this.bufferBuilder.append(t&255)};Ut.prototype.pack_uint64=function(e){var t=e/Math.pow(2,32),i=e%Math.pow(2,32);this.bufferBuilder.append((t&4278190080)>>>24),this.bufferBuilder.append((t&16711680)>>>16),this.bufferBuilder.append((t&65280)>>>8),this.bufferBuilder.append(t&255),this.bufferBuilder.append((i&4278190080)>>>24),this.bufferBuilder.append((i&16711680)>>>16),this.bufferBuilder.append((i&65280)>>>8),this.bufferBuilder.append(i&255)};Ut.prototype.pack_int8=function(e){this.bufferBuilder.append(e&255)};Ut.prototype.pack_int16=function(e){this.bufferBuilder.append((e&65280)>>8),this.bufferBuilder.append(e&255)};Ut.prototype.pack_int32=function(e){this.bufferBuilder.append(e>>>24&255),this.bufferBuilder.append((e&16711680)>>>16),this.bufferBuilder.append((e&65280)>>>8),this.bufferBuilder.append(e&255)};Ut.prototype.pack_int64=function(e){var t=Math.floor(e/Math.pow(2,32)),i=e%Math.pow(2,32);this.bufferBuilder.append((t&4278190080)>>>24),this.bufferBuilder.append((t&16711680)>>>16),this.bufferBuilder.append((t&65280)>>>8),this.bufferBuilder.append(t&255),this.bufferBuilder.append((i&4278190080)>>>24),this.bufferBuilder.append((i&16711680)>>>16),this.bufferBuilder.append((i&65280)>>>8),this.bufferBuilder.append(i&255)};function Zh(e){var t=e.charCodeAt(0);return t<=2047?"00":t<=65535?"000":t<=2097151?"0000":t<=67108863?"00000":"000000"}function Qh(e){return e.length>600?new Blob([e]).size:e.replace(/[^\u0000-\u007F]/g,Zh).length}let kc=!0,Cc=!0;function xr(e,t,i){const u=e.match(t);return u&&u.length>=i&&parseInt(u[i],10)}function vr(e,t,i){if(!e.RTCPeerConnection)return;const u=e.RTCPeerConnection.prototype,_=u.addEventListener;u.addEventListener=function(F,K){if(F!==t)return _.apply(this,arguments);const z=$=>{const X=i($);X&&(K.handleEvent?K.handleEvent(X):K(X))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(K,z),_.apply(this,[F,z])};const C=u.removeEventListener;u.removeEventListener=function(F,K){if(F!==t||!this._eventMap||!this._eventMap[t])return C.apply(this,arguments);if(!this._eventMap[t].has(K))return C.apply(this,arguments);const z=this._eventMap[t].get(K);return this._eventMap[t].delete(K),this._eventMap[t].size===0&&delete this._eventMap[t],Object.keys(this._eventMap).length===0&&delete this._eventMap,C.apply(this,[F,z])},Object.defineProperty(u,"on"+t,{get(){return this["_on"+t]},set(F){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),F&&this.addEventListener(t,this["_on"+t]=F)},enumerable:!0,configurable:!0})}function eu(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(kc=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function tu(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(Cc=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function Vs(){if(typeof window=="object"){if(kc)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function Mi(e,t){!Cc||console.warn(e+" is deprecated, please use "+t+" instead.")}function nu(e){const t={browser:null,version:null};if(typeof e>"u"||!e.navigator)return t.browser="Not a browser.",t;const{navigator:i}=e;if(i.mozGetUserMedia)t.browser="firefox",t.version=xr(i.userAgent,/Firefox\/(\d+)\./,1);else if(i.webkitGetUserMedia||e.isSecureContext===!1&&e.webkitRTCPeerConnection&&!e.RTCIceGatherer)t.browser="chrome",t.version=xr(i.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(i.mediaDevices&&i.userAgent.match(/Edge\/(\d+).(\d+)$/))t.browser="edge",t.version=xr(i.userAgent,/Edge\/(\d+).(\d+)$/,2);else if(e.RTCPeerConnection&&i.userAgent.match(/AppleWebKit\/(\d+)\./))t.browser="safari",t.version=xr(i.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype;else return t.browser="Not a supported browser.",t;return t}function Yo(e){return Object.prototype.toString.call(e)==="[object Object]"}function Tc(e){return Yo(e)?Object.keys(e).reduce(function(t,i){const u=Yo(e[i]),_=u?Tc(e[i]):e[i],C=u&&!Object.keys(_).length;return _===void 0||C?t:Object.assign(t,{[i]:_})},{}):e}function ms(e,t,i){!t||i.has(t.id)||(i.set(t.id,t),Object.keys(t).forEach(u=>{u.endsWith("Id")?ms(e,e.get(t[u]),i):u.endsWith("Ids")&&t[u].forEach(_=>{ms(e,e.get(_),i)})}))}function Jo(e,t,i){const u=i?"outbound-rtp":"inbound-rtp",_=new Map;if(t===null)return _;const C=[];return e.forEach(F=>{F.type==="track"&&F.trackIdentifier===t.id&&C.push(F)}),C.forEach(F=>{e.forEach(K=>{K.type===u&&K.trackId===F.id&&ms(e,K,_)})}),_}const Xo=Vs;function Rc(e,t){const i=e&&e.navigator;if(!i.mediaDevices)return;const u=function(K){if(typeof K!="object"||K.mandatory||K.optional)return K;const z={};return Object.keys(K).forEach($=>{if($==="require"||$==="advanced"||$==="mediaSource")return;const X=typeof K[$]=="object"?K[$]:{ideal:K[$]};X.exact!==void 0&&typeof X.exact=="number"&&(X.min=X.max=X.exact);const b=function(ce,we){return ce?ce+we.charAt(0).toUpperCase()+we.slice(1):we==="deviceId"?"sourceId":we};if(X.ideal!==void 0){z.optional=z.optional||[];let ce={};typeof X.ideal=="number"?(ce[b("min",$)]=X.ideal,z.optional.push(ce),ce={},ce[b("max",$)]=X.ideal,z.optional.push(ce)):(ce[b("",$)]=X.ideal,z.optional.push(ce))}X.exact!==void 0&&typeof X.exact!="number"?(z.mandatory=z.mandatory||{},z.mandatory[b("",$)]=X.exact):["min","max"].forEach(ce=>{X[ce]!==void 0&&(z.mandatory=z.mandatory||{},z.mandatory[b(ce,$)]=X[ce])})}),K.advanced&&(z.optional=(z.optional||[]).concat(K.advanced)),z},_=function(K,z){if(t.version>=61)return z(K);if(K=JSON.parse(JSON.stringify(K)),K&&typeof K.audio=="object"){const $=function(X,b,ce){b in X&&!(ce in X)&&(X[ce]=X[b],delete X[b])};K=JSON.parse(JSON.stringify(K)),$(K.audio,"autoGainControl","googAutoGainControl"),$(K.audio,"noiseSuppression","googNoiseSuppression"),K.audio=u(K.audio)}if(K&&typeof K.video=="object"){let $=K.video.facingMode;$=$&&(typeof $=="object"?$:{ideal:$});const X=t.version<66;if($&&($.exact==="user"||$.exact==="environment"||$.ideal==="user"||$.ideal==="environment")&&!(i.mediaDevices.getSupportedConstraints&&i.mediaDevices.getSupportedConstraints().facingMode&&!X)){delete K.video.facingMode;let b;if($.exact==="environment"||$.ideal==="environment"?b=["back","rear"]:($.exact==="user"||$.ideal==="user")&&(b=["front"]),b)return i.mediaDevices.enumerateDevices().then(ce=>{ce=ce.filter(ve=>ve.kind==="videoinput");let we=ce.find(ve=>b.some(Ee=>ve.label.toLowerCase().includes(Ee)));return!we&&ce.length&&b.includes("back")&&(we=ce[ce.length-1]),we&&(K.video.deviceId=$.exact?{exact:we.deviceId}:{ideal:we.deviceId}),K.video=u(K.video),Xo("chrome: "+JSON.stringify(K)),z(K)})}K.video=u(K.video)}return Xo("chrome: "+JSON.stringify(K)),z(K)},C=function(K){return t.version>=64?K:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[K.name]||K.name,message:K.message,constraint:K.constraint||K.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},F=function(K,z,$){_(K,X=>{i.webkitGetUserMedia(X,z,b=>{$&&$(C(b))})})};if(i.getUserMedia=F.bind(i),i.mediaDevices.getUserMedia){const K=i.mediaDevices.getUserMedia.bind(i.mediaDevices);i.mediaDevices.getUserMedia=function(z){return _(z,$=>K($).then(X=>{if($.audio&&!X.getAudioTracks().length||$.video&&!X.getVideoTracks().length)throw X.getTracks().forEach(b=>{b.stop()}),new DOMException("","NotFoundError");return X},X=>Promise.reject(C(X))))}}}function ru(e,t){if(!(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices)&&!!e.navigator.mediaDevices){if(typeof t!="function"){console.error("shimGetDisplayMedia: getSourceId argument is not a function");return}e.navigator.mediaDevices.getDisplayMedia=function(u){return t(u).then(_=>{const C=u.video&&u.video.width,F=u.video&&u.video.height,K=u.video&&u.video.frameRate;return u.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:_,maxFrameRate:K||3}},C&&(u.video.mandatory.maxWidth=C),F&&(u.video.mandatory.maxHeight=F),e.navigator.mediaDevices.getUserMedia(u)})}}}function Ac(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function Ic(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(i){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=i)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=u=>{u.stream.addEventListener("addtrack",_=>{let C;e.RTCPeerConnection.prototype.getReceivers?C=this.getReceivers().find(K=>K.track&&K.track.id===_.track.id):C={track:_.track};const F=new Event("track");F.track=_.track,F.receiver=C,F.transceiver={receiver:C},F.streams=[u.stream],this.dispatchEvent(F)}),u.stream.getTracks().forEach(_=>{let C;e.RTCPeerConnection.prototype.getReceivers?C=this.getReceivers().find(K=>K.track&&K.track.id===_.id):C={track:_};const F=new Event("track");F.track=_,F.receiver=C,F.transceiver={receiver:C},F.streams=[u.stream],this.dispatchEvent(F)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else vr(e,"track",t=>(t.transceiver||Object.defineProperty(t,"transceiver",{value:{receiver:t.receiver}}),t))}function Pc(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(_,C){return{track:C,get dtmf(){return this._dtmf===void 0&&(C.kind==="audio"?this._dtmf=_.createDTMFSender(C):this._dtmf=null),this._dtmf},_pc:_}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const _=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(K,z){let $=_.apply(this,arguments);return $||($=t(this,K),this._senders.push($)),$};const C=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(K){C.apply(this,arguments);const z=this._senders.indexOf(K);z!==-1&&this._senders.splice(z,1)}}const i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(C){this._senders=this._senders||[],i.apply(this,[C]),C.getTracks().forEach(F=>{this._senders.push(t(this,F))})};const u=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(C){this._senders=this._senders||[],u.apply(this,[C]),C.getTracks().forEach(F=>{const K=this._senders.find(z=>z.track===F);K&&this._senders.splice(this._senders.indexOf(K),1)})}}else if(typeof e=="object"&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const u=t.apply(this,[]);return u.forEach(_=>_._pc=this),u},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function Bc(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[u,_,C]=arguments;if(arguments.length>0&&typeof u=="function")return t.apply(this,arguments);if(t.length===0&&(arguments.length===0||typeof u!="function"))return t.apply(this,[]);const F=function(z){const $={};return z.result().forEach(b=>{const ce={id:b.id,timestamp:b.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[b.type]||b.type};b.names().forEach(we=>{ce[we]=b.stat(we)}),$[ce.id]=ce}),$},K=function(z){return new Map(Object.keys(z).map($=>[$,z[$]]))};if(arguments.length>=2){const z=function($){_(K(F($)))};return t.apply(this,[z,u])}return new Promise((z,$)=>{t.apply(this,[function(X){z(K(F(X)))},$])}).then(_,C)}}function Oc(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const i=e.RTCPeerConnection.prototype.getSenders;i&&(e.RTCPeerConnection.prototype.getSenders=function(){const C=i.apply(this,[]);return C.forEach(F=>F._pc=this),C});const u=e.RTCPeerConnection.prototype.addTrack;u&&(e.RTCPeerConnection.prototype.addTrack=function(){const C=u.apply(this,arguments);return C._pc=this,C}),e.RTCRtpSender.prototype.getStats=function(){const C=this;return this._pc.getStats().then(F=>Jo(F,C.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const i=e.RTCPeerConnection.prototype.getReceivers;i&&(e.RTCPeerConnection.prototype.getReceivers=function(){const _=i.apply(this,[]);return _.forEach(C=>C._pc=this),_}),vr(e,"track",u=>(u.receiver._pc=u.srcElement,u)),e.RTCRtpReceiver.prototype.getStats=function(){const _=this;return this._pc.getStats().then(C=>Jo(C,_.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const u=arguments[0];let _,C,F;return this.getSenders().forEach(K=>{K.track===u&&(_?F=!0:_=K)}),this.getReceivers().forEach(K=>(K.track===u&&(C?F=!0:C=K),K.track===u)),F||_&&C?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):_?_.getStats():C?C.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function Lc(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(F=>this._shimmedLocalStreams[F][0])};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(F,K){if(!K)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const z=t.apply(this,arguments);return this._shimmedLocalStreams[K.id]?this._shimmedLocalStreams[K.id].indexOf(z)===-1&&this._shimmedLocalStreams[K.id].push(z):this._shimmedLocalStreams[K.id]=[K,z],z};const i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(F){this._shimmedLocalStreams=this._shimmedLocalStreams||{},F.getTracks().forEach($=>{if(this.getSenders().find(b=>b.track===$))throw new DOMException("Track already exists.","InvalidAccessError")});const K=this.getSenders();i.apply(this,arguments);const z=this.getSenders().filter($=>K.indexOf($)===-1);this._shimmedLocalStreams[F.id]=[F].concat(z)};const u=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(F){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[F.id],u.apply(this,arguments)};const _=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(F){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},F&&Object.keys(this._shimmedLocalStreams).forEach(K=>{const z=this._shimmedLocalStreams[K].indexOf(F);z!==-1&&this._shimmedLocalStreams[K].splice(z,1),this._shimmedLocalStreams[K].length===1&&delete this._shimmedLocalStreams[K]}),_.apply(this,arguments)}}function Dc(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return Lc(e);const i=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const X=i.apply(this);return this._reverseStreams=this._reverseStreams||{},X.map(b=>this._reverseStreams[b.id])};const u=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(X){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},X.getTracks().forEach(b=>{if(this.getSenders().find(we=>we.track===b))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[X.id]){const b=new e.MediaStream(X.getTracks());this._streams[X.id]=b,this._reverseStreams[b.id]=X,X=b}u.apply(this,[X])};const _=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(X){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},_.apply(this,[this._streams[X.id]||X]),delete this._reverseStreams[this._streams[X.id]?this._streams[X.id].id:X.id],delete this._streams[X.id]},e.RTCPeerConnection.prototype.addTrack=function(X,b){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const ce=[].slice.call(arguments,1);if(ce.length!==1||!ce[0].getTracks().find(Ee=>Ee===X))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(Ee=>Ee.track===X))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const ve=this._streams[b.id];if(ve)ve.addTrack(X),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const Ee=new e.MediaStream([X]);this._streams[b.id]=Ee,this._reverseStreams[Ee.id]=b,this.addStream(Ee)}return this.getSenders().find(Ee=>Ee.track===X)};function C($,X){let b=X.sdp;return Object.keys($._reverseStreams||[]).forEach(ce=>{const we=$._reverseStreams[ce],ve=$._streams[we.id];b=b.replace(new RegExp(ve.id,"g"),we.id)}),new RTCSessionDescription({type:X.type,sdp:b})}function F($,X){let b=X.sdp;return Object.keys($._reverseStreams||[]).forEach(ce=>{const we=$._reverseStreams[ce],ve=$._streams[we.id];b=b.replace(new RegExp(we.id,"g"),ve.id)}),new RTCSessionDescription({type:X.type,sdp:b})}["createOffer","createAnswer"].forEach(function($){const X=e.RTCPeerConnection.prototype[$],b={[$](){const ce=arguments;return arguments.length&&typeof arguments[0]=="function"?X.apply(this,[ve=>{const Ee=C(this,ve);ce[0].apply(null,[Ee])},ve=>{ce[1]&&ce[1].apply(null,ve)},arguments[2]]):X.apply(this,arguments).then(ve=>C(this,ve))}};e.RTCPeerConnection.prototype[$]=b[$]});const K=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?K.apply(this,arguments):(arguments[0]=F(this,arguments[0]),K.apply(this,arguments))};const z=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const $=z.get.apply(this);return $.type===""?$:C(this,$)}}),e.RTCPeerConnection.prototype.removeTrack=function(X){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!X._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(X._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let ce;Object.keys(this._streams).forEach(we=>{this._streams[we].getTracks().find(Ee=>X.track===Ee)&&(ce=this._streams[we])}),ce&&(ce.getTracks().length===1?this.removeStream(this._reverseStreams[ce.id]):ce.removeTrack(X.track),this.dispatchEvent(new Event("negotiationneeded")))}}function gs(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),!!e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(i){const u=e.RTCPeerConnection.prototype[i],_={[i](){return arguments[0]=new(i==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),u.apply(this,arguments)}};e.RTCPeerConnection.prototype[i]=_[i]})}function Mc(e,t){vr(e,"negotiationneeded",i=>{const u=i.target;if(!((t.version<72||u.getConfiguration&&u.getConfiguration().sdpSemantics==="plan-b")&&u.signalingState!=="stable"))return i})}const Zo=Object.freeze(Object.defineProperty({__proto__:null,shimMediaStream:Ac,shimOnTrack:Ic,shimGetSendersWithDtmf:Pc,shimGetStats:Bc,shimSenderReceiverGetStats:Oc,shimAddTrackRemoveTrackWithNative:Lc,shimAddTrackRemoveTrack:Dc,shimPeerConnection:gs,fixNegotiationNeeded:Mc,shimGetUserMedia:Rc,shimGetDisplayMedia:ru},Symbol.toStringTag,{value:"Module"}));function iu(e,t){let i=!1;return e=JSON.parse(JSON.stringify(e)),e.filter(u=>{if(u&&(u.urls||u.url)){let _=u.urls||u.url;u.url&&!u.urls&&Mi("RTCIceServer.url","RTCIceServer.urls");const C=typeof _=="string";return C&&(_=[_]),_=_.filter(F=>{if(F.indexOf("stun:")===0)return!1;const K=F.startsWith("turn")&&!F.startsWith("turn:[")&&F.includes("transport=udp");return K&&!i?(i=!0,!0):K&&!i}),delete u.url,u.urls=C?_[0]:_,!!_.length}})}var qs={exports:{}};(function(e){var t={};t.generateIdentifier=function(){return Math.random().toString(36).substr(2,10)},t.localCName=t.generateIdentifier(),t.splitLines=function(i){return i.trim().split(`
`).map(function(u){return u.trim()})},t.splitSections=function(i){var u=i.split(`
m=`);return u.map(function(_,C){return(C>0?"m="+_:_).trim()+`\r
`})},t.getDescription=function(i){var u=t.splitSections(i);return u&&u[0]},t.getMediaSections=function(i){var u=t.splitSections(i);return u.shift(),u},t.matchPrefix=function(i,u){return t.splitLines(i).filter(function(_){return _.indexOf(u)===0})},t.parseCandidate=function(i){var u;i.indexOf("a=candidate:")===0?u=i.substring(12).split(" "):u=i.substring(10).split(" ");for(var _={foundation:u[0],component:parseInt(u[1],10),protocol:u[2].toLowerCase(),priority:parseInt(u[3],10),ip:u[4],address:u[4],port:parseInt(u[5],10),type:u[7]},C=8;C<u.length;C+=2)switch(u[C]){case"raddr":_.relatedAddress=u[C+1];break;case"rport":_.relatedPort=parseInt(u[C+1],10);break;case"tcptype":_.tcpType=u[C+1];break;case"ufrag":_.ufrag=u[C+1],_.usernameFragment=u[C+1];break;default:_[u[C]]=u[C+1];break}return _},t.writeCandidate=function(i){var u=[];u.push(i.foundation),u.push(i.component),u.push(i.protocol.toUpperCase()),u.push(i.priority),u.push(i.address||i.ip),u.push(i.port);var _=i.type;return u.push("typ"),u.push(_),_!=="host"&&i.relatedAddress&&i.relatedPort&&(u.push("raddr"),u.push(i.relatedAddress),u.push("rport"),u.push(i.relatedPort)),i.tcpType&&i.protocol.toLowerCase()==="tcp"&&(u.push("tcptype"),u.push(i.tcpType)),(i.usernameFragment||i.ufrag)&&(u.push("ufrag"),u.push(i.usernameFragment||i.ufrag)),"candidate:"+u.join(" ")},t.parseIceOptions=function(i){return i.substr(14).split(" ")},t.parseRtpMap=function(i){var u=i.substr(9).split(" "),_={payloadType:parseInt(u.shift(),10)};return u=u[0].split("/"),_.name=u[0],_.clockRate=parseInt(u[1],10),_.channels=u.length===3?parseInt(u[2],10):1,_.numChannels=_.channels,_},t.writeRtpMap=function(i){var u=i.payloadType;i.preferredPayloadType!==void 0&&(u=i.preferredPayloadType);var _=i.channels||i.numChannels||1;return"a=rtpmap:"+u+" "+i.name+"/"+i.clockRate+(_!==1?"/"+_:"")+`\r
`},t.parseExtmap=function(i){var u=i.substr(9).split(" ");return{id:parseInt(u[0],10),direction:u[0].indexOf("/")>0?u[0].split("/")[1]:"sendrecv",uri:u[1]}},t.writeExtmap=function(i){return"a=extmap:"+(i.id||i.preferredId)+(i.direction&&i.direction!=="sendrecv"?"/"+i.direction:"")+" "+i.uri+`\r
`},t.parseFmtp=function(i){for(var u={},_,C=i.substr(i.indexOf(" ")+1).split(";"),F=0;F<C.length;F++)_=C[F].trim().split("="),u[_[0].trim()]=_[1];return u},t.writeFmtp=function(i){var u="",_=i.payloadType;if(i.preferredPayloadType!==void 0&&(_=i.preferredPayloadType),i.parameters&&Object.keys(i.parameters).length){var C=[];Object.keys(i.parameters).forEach(function(F){i.parameters[F]?C.push(F+"="+i.parameters[F]):C.push(F)}),u+="a=fmtp:"+_+" "+C.join(";")+`\r
`}return u},t.parseRtcpFb=function(i){var u=i.substr(i.indexOf(" ")+1).split(" ");return{type:u.shift(),parameter:u.join(" ")}},t.writeRtcpFb=function(i){var u="",_=i.payloadType;return i.preferredPayloadType!==void 0&&(_=i.preferredPayloadType),i.rtcpFeedback&&i.rtcpFeedback.length&&i.rtcpFeedback.forEach(function(C){u+="a=rtcp-fb:"+_+" "+C.type+(C.parameter&&C.parameter.length?" "+C.parameter:"")+`\r
`}),u},t.parseSsrcMedia=function(i){var u=i.indexOf(" "),_={ssrc:parseInt(i.substr(7,u-7),10)},C=i.indexOf(":",u);return C>-1?(_.attribute=i.substr(u+1,C-u-1),_.value=i.substr(C+1)):_.attribute=i.substr(u+1),_},t.parseSsrcGroup=function(i){var u=i.substr(13).split(" ");return{semantics:u.shift(),ssrcs:u.map(function(_){return parseInt(_,10)})}},t.getMid=function(i){var u=t.matchPrefix(i,"a=mid:")[0];if(u)return u.substr(6)},t.parseFingerprint=function(i){var u=i.substr(14).split(" ");return{algorithm:u[0].toLowerCase(),value:u[1]}},t.getDtlsParameters=function(i,u){var _=t.matchPrefix(i+u,"a=fingerprint:");return{role:"auto",fingerprints:_.map(t.parseFingerprint)}},t.writeDtlsParameters=function(i,u){var _="a=setup:"+u+`\r
`;return i.fingerprints.forEach(function(C){_+="a=fingerprint:"+C.algorithm+" "+C.value+`\r
`}),_},t.parseCryptoLine=function(i){var u=i.substr(9).split(" ");return{tag:parseInt(u[0],10),cryptoSuite:u[1],keyParams:u[2],sessionParams:u.slice(3)}},t.writeCryptoLine=function(i){return"a=crypto:"+i.tag+" "+i.cryptoSuite+" "+(typeof i.keyParams=="object"?t.writeCryptoKeyParams(i.keyParams):i.keyParams)+(i.sessionParams?" "+i.sessionParams.join(" "):"")+`\r
`},t.parseCryptoKeyParams=function(i){if(i.indexOf("inline:")!==0)return null;var u=i.substr(7).split("|");return{keyMethod:"inline",keySalt:u[0],lifeTime:u[1],mkiValue:u[2]?u[2].split(":")[0]:void 0,mkiLength:u[2]?u[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(i){return i.keyMethod+":"+i.keySalt+(i.lifeTime?"|"+i.lifeTime:"")+(i.mkiValue&&i.mkiLength?"|"+i.mkiValue+":"+i.mkiLength:"")},t.getCryptoParameters=function(i,u){var _=t.matchPrefix(i+u,"a=crypto:");return _.map(t.parseCryptoLine)},t.getIceParameters=function(i,u){var _=t.matchPrefix(i+u,"a=ice-ufrag:")[0],C=t.matchPrefix(i+u,"a=ice-pwd:")[0];return _&&C?{usernameFragment:_.substr(12),password:C.substr(10)}:null},t.writeIceParameters=function(i){return"a=ice-ufrag:"+i.usernameFragment+`\r
a=ice-pwd:`+i.password+`\r
`},t.parseRtpParameters=function(i){for(var u={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},_=t.splitLines(i),C=_[0].split(" "),F=3;F<C.length;F++){var K=C[F],z=t.matchPrefix(i,"a=rtpmap:"+K+" ")[0];if(z){var $=t.parseRtpMap(z),X=t.matchPrefix(i,"a=fmtp:"+K+" ");switch($.parameters=X.length?t.parseFmtp(X[0]):{},$.rtcpFeedback=t.matchPrefix(i,"a=rtcp-fb:"+K+" ").map(t.parseRtcpFb),u.codecs.push($),$.name.toUpperCase()){case"RED":case"ULPFEC":u.fecMechanisms.push($.name.toUpperCase());break}}}return t.matchPrefix(i,"a=extmap:").forEach(function(b){u.headerExtensions.push(t.parseExtmap(b))}),u},t.writeRtpDescription=function(i,u){var _="";_+="m="+i+" ",_+=u.codecs.length>0?"9":"0",_+=" UDP/TLS/RTP/SAVPF ",_+=u.codecs.map(function(F){return F.preferredPayloadType!==void 0?F.preferredPayloadType:F.payloadType}).join(" ")+`\r
`,_+=`c=IN IP4 0.0.0.0\r
`,_+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,u.codecs.forEach(function(F){_+=t.writeRtpMap(F),_+=t.writeFmtp(F),_+=t.writeRtcpFb(F)});var C=0;return u.codecs.forEach(function(F){F.maxptime>C&&(C=F.maxptime)}),C>0&&(_+="a=maxptime:"+C+`\r
`),_+=`a=rtcp-mux\r
`,u.headerExtensions&&u.headerExtensions.forEach(function(F){_+=t.writeExtmap(F)}),_},t.parseRtpEncodingParameters=function(i){var u=[],_=t.parseRtpParameters(i),C=_.fecMechanisms.indexOf("RED")!==-1,F=_.fecMechanisms.indexOf("ULPFEC")!==-1,K=t.matchPrefix(i,"a=ssrc:").map(function(ce){return t.parseSsrcMedia(ce)}).filter(function(ce){return ce.attribute==="cname"}),z=K.length>0&&K[0].ssrc,$,X=t.matchPrefix(i,"a=ssrc-group:FID").map(function(ce){var we=ce.substr(17).split(" ");return we.map(function(ve){return parseInt(ve,10)})});X.length>0&&X[0].length>1&&X[0][0]===z&&($=X[0][1]),_.codecs.forEach(function(ce){if(ce.name.toUpperCase()==="RTX"&&ce.parameters.apt){var we={ssrc:z,codecPayloadType:parseInt(ce.parameters.apt,10)};z&&$&&(we.rtx={ssrc:$}),u.push(we),C&&(we=JSON.parse(JSON.stringify(we)),we.fec={ssrc:z,mechanism:F?"red+ulpfec":"red"},u.push(we))}}),u.length===0&&z&&u.push({ssrc:z});var b=t.matchPrefix(i,"b=");return b.length&&(b[0].indexOf("b=TIAS:")===0?b=parseInt(b[0].substr(7),10):b[0].indexOf("b=AS:")===0?b=parseInt(b[0].substr(5),10)*1e3*.95-50*40*8:b=void 0,u.forEach(function(ce){ce.maxBitrate=b})),u},t.parseRtcpParameters=function(i){var u={},_=t.matchPrefix(i,"a=ssrc:").map(function(K){return t.parseSsrcMedia(K)}).filter(function(K){return K.attribute==="cname"})[0];_&&(u.cname=_.value,u.ssrc=_.ssrc);var C=t.matchPrefix(i,"a=rtcp-rsize");u.reducedSize=C.length>0,u.compound=C.length===0;var F=t.matchPrefix(i,"a=rtcp-mux");return u.mux=F.length>0,u},t.parseMsid=function(i){var u,_=t.matchPrefix(i,"a=msid:");if(_.length===1)return u=_[0].substr(7).split(" "),{stream:u[0],track:u[1]};var C=t.matchPrefix(i,"a=ssrc:").map(function(F){return t.parseSsrcMedia(F)}).filter(function(F){return F.attribute==="msid"});if(C.length>0)return u=C[0].value.split(" "),{stream:u[0],track:u[1]}},t.parseSctpDescription=function(i){var u=t.parseMLine(i),_=t.matchPrefix(i,"a=max-message-size:"),C;_.length>0&&(C=parseInt(_[0].substr(19),10)),isNaN(C)&&(C=65536);var F=t.matchPrefix(i,"a=sctp-port:");if(F.length>0)return{port:parseInt(F[0].substr(12),10),protocol:u.fmt,maxMessageSize:C};var K=t.matchPrefix(i,"a=sctpmap:");if(K.length>0){var z=t.matchPrefix(i,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(z[0],10),protocol:z[1],maxMessageSize:C}}},t.writeSctpDescription=function(i,u){var _=[];return i.protocol!=="DTLS/SCTP"?_=["m="+i.kind+" 9 "+i.protocol+" "+u.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+u.port+`\r
`]:_=["m="+i.kind+" 9 "+i.protocol+" "+u.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+u.port+" "+u.protocol+` 65535\r
`],u.maxMessageSize!==void 0&&_.push("a=max-message-size:"+u.maxMessageSize+`\r
`),_.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,21)},t.writeSessionBoilerplate=function(i,u,_){var C,F=u!==void 0?u:2;i?C=i:C=t.generateSessionId();var K=_||"thisisadapterortc";return`v=0\r
o=`+K+" "+C+" "+F+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},t.writeMediaSection=function(i,u,_,C){var F=t.writeRtpDescription(i.kind,u);if(F+=t.writeIceParameters(i.iceGatherer.getLocalParameters()),F+=t.writeDtlsParameters(i.dtlsTransport.getLocalParameters(),_==="offer"?"actpass":"active"),F+="a=mid:"+i.mid+`\r
`,i.direction?F+="a="+i.direction+`\r
`:i.rtpSender&&i.rtpReceiver?F+=`a=sendrecv\r
`:i.rtpSender?F+=`a=sendonly\r
`:i.rtpReceiver?F+=`a=recvonly\r
`:F+=`a=inactive\r
`,i.rtpSender){var K="msid:"+C.id+" "+i.rtpSender.track.id+`\r
`;F+="a="+K,F+="a=ssrc:"+i.sendEncodingParameters[0].ssrc+" "+K,i.sendEncodingParameters[0].rtx&&(F+="a=ssrc:"+i.sendEncodingParameters[0].rtx.ssrc+" "+K,F+="a=ssrc-group:FID "+i.sendEncodingParameters[0].ssrc+" "+i.sendEncodingParameters[0].rtx.ssrc+`\r
`)}return F+="a=ssrc:"+i.sendEncodingParameters[0].ssrc+" cname:"+t.localCName+`\r
`,i.rtpSender&&i.sendEncodingParameters[0].rtx&&(F+="a=ssrc:"+i.sendEncodingParameters[0].rtx.ssrc+" cname:"+t.localCName+`\r
`),F},t.getDirection=function(i,u){for(var _=t.splitLines(i),C=0;C<_.length;C++)switch(_[C]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return _[C].substr(2)}return u?t.getDirection(u):"sendrecv"},t.getKind=function(i){var u=t.splitLines(i),_=u[0].split(" ");return _[0].substr(2)},t.isRejected=function(i){return i.split(" ",2)[1]==="0"},t.parseMLine=function(i){var u=t.splitLines(i),_=u[0].substr(2).split(" ");return{kind:_[0],port:parseInt(_[1],10),protocol:_[2],fmt:_.slice(3).join(" ")}},t.parseOLine=function(i){var u=t.matchPrefix(i,"o=")[0],_=u.substr(2).split(" ");return{username:_[0],sessionId:_[1],sessionVersion:parseInt(_[2],10),netType:_[3],addressType:_[4],address:_[5]}},t.isValidSDP=function(i){if(typeof i!="string"||i.length===0)return!1;for(var u=t.splitLines(i),_=0;_<u.length;_++)if(u[_].length<2||u[_].charAt(1)!=="=")return!1;return!0},e.exports=t})(qs);const ci=qs.exports;var $e=qs.exports;function su(e){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type}function Qo(e,t,i,u,_){var C=$e.writeRtpDescription(e.kind,t);if(C+=$e.writeIceParameters(e.iceGatherer.getLocalParameters()),C+=$e.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),i==="offer"?"actpass":_||"active"),C+="a=mid:"+e.mid+`\r
`,e.rtpSender&&e.rtpReceiver?C+=`a=sendrecv\r
`:e.rtpSender?C+=`a=sendonly\r
`:e.rtpReceiver?C+=`a=recvonly\r
`:C+=`a=inactive\r
`,e.rtpSender){var F=e.rtpSender._initialTrackId||e.rtpSender.track.id;e.rtpSender._initialTrackId=F;var K="msid:"+(u?u.id:"-")+" "+F+`\r
`;C+="a="+K,C+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+K,e.sendEncodingParameters[0].rtx&&(C+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+K,C+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+`\r
`)}return C+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+$e.localCName+`\r
`,e.rtpSender&&e.sendEncodingParameters[0].rtx&&(C+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+$e.localCName+`\r
`),C}function ou(e,t){var i=!1;return e=JSON.parse(JSON.stringify(e)),e.filter(function(u){if(u&&(u.urls||u.url)){var _=u.urls||u.url;u.url&&!u.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var C=typeof _=="string";return C&&(_=[_]),_=_.filter(function(F){var K=F.indexOf("turn:")===0&&F.indexOf("transport=udp")!==-1&&F.indexOf("turn:[")===-1&&!i;return K?(i=!0,!0):F.indexOf("stun:")===0&&t>=14393&&F.indexOf("?transport=udp")===-1}),delete u.url,u.urls=C?_[0]:_,!!_.length}})}function Yr(e,t){var i={codecs:[],headerExtensions:[],fecMechanisms:[]},u=function(C,F){C=parseInt(C,10);for(var K=0;K<F.length;K++)if(F[K].payloadType===C||F[K].preferredPayloadType===C)return F[K]},_=function(C,F,K,z){var $=u(C.parameters.apt,K),X=u(F.parameters.apt,z);return $&&X&&$.name.toLowerCase()===X.name.toLowerCase()};return e.codecs.forEach(function(C){for(var F=0;F<t.codecs.length;F++){var K=t.codecs[F];if(C.name.toLowerCase()===K.name.toLowerCase()&&C.clockRate===K.clockRate){if(C.name.toLowerCase()==="rtx"&&C.parameters&&K.parameters.apt&&!_(C,K,e.codecs,t.codecs))continue;K=JSON.parse(JSON.stringify(K)),K.numChannels=Math.min(C.numChannels,K.numChannels),i.codecs.push(K),K.rtcpFeedback=K.rtcpFeedback.filter(function(z){for(var $=0;$<C.rtcpFeedback.length;$++)if(C.rtcpFeedback[$].type===z.type&&C.rtcpFeedback[$].parameter===z.parameter)return!0;return!1});break}}}),e.headerExtensions.forEach(function(C){for(var F=0;F<t.headerExtensions.length;F++){var K=t.headerExtensions[F];if(C.uri===K.uri){i.headerExtensions.push(K);break}}}),i}function ea(e,t,i){return{offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(i)!==-1}function Vi(e,t){var i=e.getRemoteCandidates().find(function(u){return t.foundation===u.foundation&&t.ip===u.ip&&t.port===u.port&&t.priority===u.priority&&t.protocol===u.protocol&&t.type===u.type});return i||e.addRemoteCandidate(t),!i}function jt(e,t){var i=new Error(t);return i.name=e,i.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],i}var au=function(e,t){function i(z,$){$.addTrack(z),$.dispatchEvent(new e.MediaStreamTrackEvent("addtrack",{track:z}))}function u(z,$){$.removeTrack(z),$.dispatchEvent(new e.MediaStreamTrackEvent("removetrack",{track:z}))}function _(z,$,X,b){var ce=new Event("track");ce.track=$,ce.receiver=X,ce.transceiver={receiver:X},ce.streams=b,e.setTimeout(function(){z._dispatchEvent("track",ce)})}var C=function(z){var $=this,X=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(ce){$[ce]=X[ce].bind(X)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",z=JSON.parse(JSON.stringify(z||{})),this.usingBundle=z.bundlePolicy==="max-bundle",z.rtcpMuxPolicy==="negotiate")throw jt("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(z.rtcpMuxPolicy||(z.rtcpMuxPolicy="require"),z.iceTransportPolicy){case"all":case"relay":break;default:z.iceTransportPolicy="all";break}switch(z.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:z.bundlePolicy="balanced";break}if(z.iceServers=ou(z.iceServers||[],t),this._iceGatherers=[],z.iceCandidatePoolSize)for(var b=z.iceCandidatePoolSize;b>0;b--)this._iceGatherers.push(new e.RTCIceGatherer({iceServers:z.iceServers,gatherPolicy:z.iceTransportPolicy}));else z.iceCandidatePoolSize=0;this._config=z,this.transceivers=[],this._sdpSessionId=$e.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(C.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(C.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),C.prototype.onicecandidate=null,C.prototype.onaddstream=null,C.prototype.ontrack=null,C.prototype.onremovestream=null,C.prototype.onsignalingstatechange=null,C.prototype.oniceconnectionstatechange=null,C.prototype.onconnectionstatechange=null,C.prototype.onicegatheringstatechange=null,C.prototype.onnegotiationneeded=null,C.prototype.ondatachannel=null,C.prototype._dispatchEvent=function(z,$){this._isClosed||(this.dispatchEvent($),typeof this["on"+z]=="function"&&this["on"+z]($))},C.prototype._emitGatheringStateChange=function(){var z=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",z)},C.prototype.getConfiguration=function(){return this._config},C.prototype.getLocalStreams=function(){return this.localStreams},C.prototype.getRemoteStreams=function(){return this.remoteStreams},C.prototype._createTransceiver=function(z,$){var X=this.transceivers.length>0,b={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:z,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&X)b.iceTransport=this.transceivers[0].iceTransport,b.dtlsTransport=this.transceivers[0].dtlsTransport;else{var ce=this._createIceAndDtlsTransports();b.iceTransport=ce.iceTransport,b.dtlsTransport=ce.dtlsTransport}return $||this.transceivers.push(b),b},C.prototype.addTrack=function(z,$){if(this._isClosed)throw jt("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var X=this.transceivers.find(function(we){return we.track===z});if(X)throw jt("InvalidAccessError","Track already exists.");for(var b,ce=0;ce<this.transceivers.length;ce++)!this.transceivers[ce].track&&this.transceivers[ce].kind===z.kind&&(b=this.transceivers[ce]);return b||(b=this._createTransceiver(z.kind)),this._maybeFireNegotiationNeeded(),this.localStreams.indexOf($)===-1&&this.localStreams.push($),b.track=z,b.stream=$,b.rtpSender=new e.RTCRtpSender(z,b.dtlsTransport),b.rtpSender},C.prototype.addStream=function(z){var $=this;if(t>=15025)z.getTracks().forEach(function(b){$.addTrack(b,z)});else{var X=z.clone();z.getTracks().forEach(function(b,ce){var we=X.getTracks()[ce];b.addEventListener("enabled",function(ve){we.enabled=ve.enabled})}),X.getTracks().forEach(function(b){$.addTrack(b,X)})}},C.prototype.removeTrack=function(z){if(this._isClosed)throw jt("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(z instanceof e.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var $=this.transceivers.find(function(ce){return ce.rtpSender===z});if(!$)throw jt("InvalidAccessError","Sender was not created by this connection.");var X=$.stream;$.rtpSender.stop(),$.rtpSender=null,$.track=null,$.stream=null;var b=this.transceivers.map(function(ce){return ce.stream});b.indexOf(X)===-1&&this.localStreams.indexOf(X)>-1&&this.localStreams.splice(this.localStreams.indexOf(X),1),this._maybeFireNegotiationNeeded()},C.prototype.removeStream=function(z){var $=this;z.getTracks().forEach(function(X){var b=$.getSenders().find(function(ce){return ce.track===X});b&&$.removeTrack(b)})},C.prototype.getSenders=function(){return this.transceivers.filter(function(z){return!!z.rtpSender}).map(function(z){return z.rtpSender})},C.prototype.getReceivers=function(){return this.transceivers.filter(function(z){return!!z.rtpReceiver}).map(function(z){return z.rtpReceiver})},C.prototype._createIceGatherer=function(z,$){var X=this;if($&&z>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var b=new e.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(b,"state",{value:"new",writable:!0}),this.transceivers[z].bufferedCandidateEvents=[],this.transceivers[z].bufferCandidates=function(ce){var we=!ce.candidate||Object.keys(ce.candidate).length===0;b.state=we?"completed":"gathering",X.transceivers[z].bufferedCandidateEvents!==null&&X.transceivers[z].bufferedCandidateEvents.push(ce)},b.addEventListener("localcandidate",this.transceivers[z].bufferCandidates),b},C.prototype._gather=function(z,$){var X=this,b=this.transceivers[$].iceGatherer;if(!b.onlocalcandidate){var ce=this.transceivers[$].bufferedCandidateEvents;this.transceivers[$].bufferedCandidateEvents=null,b.removeEventListener("localcandidate",this.transceivers[$].bufferCandidates),b.onlocalcandidate=function(we){if(!(X.usingBundle&&$>0)){var ve=new Event("icecandidate");ve.candidate={sdpMid:z,sdpMLineIndex:$};var Ee=we.candidate,ke=!Ee||Object.keys(Ee).length===0;if(ke)(b.state==="new"||b.state==="gathering")&&(b.state="completed");else{b.state==="new"&&(b.state="gathering"),Ee.component=1,Ee.ufrag=b.getLocalParameters().usernameFragment;var Te=$e.writeCandidate(Ee);ve.candidate=Object.assign(ve.candidate,$e.parseCandidate(Te)),ve.candidate.candidate=Te,ve.candidate.toJSON=function(){return{candidate:ve.candidate.candidate,sdpMid:ve.candidate.sdpMid,sdpMLineIndex:ve.candidate.sdpMLineIndex,usernameFragment:ve.candidate.usernameFragment}}}var S=$e.getMediaSections(X._localDescription.sdp);ke?S[ve.candidate.sdpMLineIndex]+=`a=end-of-candidates\r
`:S[ve.candidate.sdpMLineIndex]+="a="+ve.candidate.candidate+`\r
`,X._localDescription.sdp=$e.getDescription(X._localDescription.sdp)+S.join("");var V=X.transceivers.every(function(O){return O.iceGatherer&&O.iceGatherer.state==="completed"});X.iceGatheringState!=="gathering"&&(X.iceGatheringState="gathering",X._emitGatheringStateChange()),ke||X._dispatchEvent("icecandidate",ve),V&&(X._dispatchEvent("icecandidate",new Event("icecandidate")),X.iceGatheringState="complete",X._emitGatheringStateChange())}},e.setTimeout(function(){ce.forEach(function(we){b.onlocalcandidate(we)})},0)}},C.prototype._createIceAndDtlsTransports=function(){var z=this,$=new e.RTCIceTransport(null);$.onicestatechange=function(){z._updateIceConnectionState(),z._updateConnectionState()};var X=new e.RTCDtlsTransport($);return X.ondtlsstatechange=function(){z._updateConnectionState()},X.onerror=function(){Object.defineProperty(X,"state",{value:"failed",writable:!0}),z._updateConnectionState()},{iceTransport:$,dtlsTransport:X}},C.prototype._disposeIceAndDtlsTransports=function(z){var $=this.transceivers[z].iceGatherer;$&&(delete $.onlocalcandidate,delete this.transceivers[z].iceGatherer);var X=this.transceivers[z].iceTransport;X&&(delete X.onicestatechange,delete this.transceivers[z].iceTransport);var b=this.transceivers[z].dtlsTransport;b&&(delete b.ondtlsstatechange,delete b.onerror,delete this.transceivers[z].dtlsTransport)},C.prototype._transceive=function(z,$,X){var b=Yr(z.localCapabilities,z.remoteCapabilities);$&&z.rtpSender&&(b.encodings=z.sendEncodingParameters,b.rtcp={cname:$e.localCName,compound:z.rtcpParameters.compound},z.recvEncodingParameters.length&&(b.rtcp.ssrc=z.recvEncodingParameters[0].ssrc),z.rtpSender.send(b)),X&&z.rtpReceiver&&b.codecs.length>0&&(z.kind==="video"&&z.recvEncodingParameters&&t<15019&&z.recvEncodingParameters.forEach(function(ce){delete ce.rtx}),z.recvEncodingParameters.length?b.encodings=z.recvEncodingParameters:b.encodings=[{}],b.rtcp={compound:z.rtcpParameters.compound},z.rtcpParameters.cname&&(b.rtcp.cname=z.rtcpParameters.cname),z.sendEncodingParameters.length&&(b.rtcp.ssrc=z.sendEncodingParameters[0].ssrc),z.rtpReceiver.receive(b))},C.prototype.setLocalDescription=function(z){var $=this;if(["offer","answer"].indexOf(z.type)===-1)return Promise.reject(jt("TypeError",'Unsupported type "'+z.type+'"'));if(!ea("setLocalDescription",z.type,$.signalingState)||$._isClosed)return Promise.reject(jt("InvalidStateError","Can not set local "+z.type+" in state "+$.signalingState));var X,b;if(z.type==="offer")X=$e.splitSections(z.sdp),b=X.shift(),X.forEach(function(we,ve){var Ee=$e.parseRtpParameters(we);$.transceivers[ve].localCapabilities=Ee}),$.transceivers.forEach(function(we,ve){$._gather(we.mid,ve)});else if(z.type==="answer"){X=$e.splitSections($._remoteDescription.sdp),b=X.shift();var ce=$e.matchPrefix(b,"a=ice-lite").length>0;X.forEach(function(we,ve){var Ee=$.transceivers[ve],ke=Ee.iceGatherer,Te=Ee.iceTransport,S=Ee.dtlsTransport,V=Ee.localCapabilities,O=Ee.remoteCapabilities,g=$e.isRejected(we)&&$e.matchPrefix(we,"a=bundle-only").length===0;if(!g&&!Ee.rejected){var k=$e.getIceParameters(we,b),E=$e.getDtlsParameters(we,b);ce&&(E.role="server"),(!$.usingBundle||ve===0)&&($._gather(Ee.mid,ve),Te.state==="new"&&Te.start(ke,k,ce?"controlling":"controlled"),S.state==="new"&&S.start(E));var v=Yr(V,O);$._transceive(Ee,v.codecs.length>0,!1)}})}return $._localDescription={type:z.type,sdp:z.sdp},z.type==="offer"?$._updateSignalingState("have-local-offer"):$._updateSignalingState("stable"),Promise.resolve()},C.prototype.setRemoteDescription=function(z){var $=this;if(["offer","answer"].indexOf(z.type)===-1)return Promise.reject(jt("TypeError",'Unsupported type "'+z.type+'"'));if(!ea("setRemoteDescription",z.type,$.signalingState)||$._isClosed)return Promise.reject(jt("InvalidStateError","Can not set remote "+z.type+" in state "+$.signalingState));var X={};$.remoteStreams.forEach(function(Te){X[Te.id]=Te});var b=[],ce=$e.splitSections(z.sdp),we=ce.shift(),ve=$e.matchPrefix(we,"a=ice-lite").length>0,Ee=$e.matchPrefix(we,"a=group:BUNDLE ").length>0;$.usingBundle=Ee;var ke=$e.matchPrefix(we,"a=ice-options:")[0];return ke?$.canTrickleIceCandidates=ke.substr(14).split(" ").indexOf("trickle")>=0:$.canTrickleIceCandidates=!1,ce.forEach(function(Te,S){var V=$e.splitLines(Te),O=$e.getKind(Te),g=$e.isRejected(Te)&&$e.matchPrefix(Te,"a=bundle-only").length===0,k=V[0].substr(2).split(" ")[2],E=$e.getDirection(Te,we),v=$e.parseMsid(Te),r=$e.getMid(Te)||$e.generateIdentifier();if(g||O==="application"&&(k==="DTLS/SCTP"||k==="UDP/DTLS/SCTP")){$.transceivers[S]={mid:r,kind:O,protocol:k,rejected:!0};return}!g&&$.transceivers[S]&&$.transceivers[S].rejected&&($.transceivers[S]=$._createTransceiver(O,!0));var m,o,a,l,s,n,d,c,f,h=$e.parseRtpParameters(Te),x,R;g||(x=$e.getIceParameters(Te,we),R=$e.getDtlsParameters(Te,we),R.role="client"),d=$e.parseRtpEncodingParameters(Te);var A=$e.parseRtcpParameters(Te),w=$e.matchPrefix(Te,"a=end-of-candidates",we).length>0,I=$e.matchPrefix(Te,"a=candidate:").map(function(ie){return $e.parseCandidate(ie)}).filter(function(ie){return ie.component===1});if((z.type==="offer"||z.type==="answer")&&!g&&Ee&&S>0&&$.transceivers[S]&&($._disposeIceAndDtlsTransports(S),$.transceivers[S].iceGatherer=$.transceivers[0].iceGatherer,$.transceivers[S].iceTransport=$.transceivers[0].iceTransport,$.transceivers[S].dtlsTransport=$.transceivers[0].dtlsTransport,$.transceivers[S].rtpSender&&$.transceivers[S].rtpSender.setTransport($.transceivers[0].dtlsTransport),$.transceivers[S].rtpReceiver&&$.transceivers[S].rtpReceiver.setTransport($.transceivers[0].dtlsTransport)),z.type==="offer"&&!g){m=$.transceivers[S]||$._createTransceiver(O),m.mid=r,m.iceGatherer||(m.iceGatherer=$._createIceGatherer(S,Ee)),I.length&&m.iceTransport.state==="new"&&(w&&(!Ee||S===0)?m.iceTransport.setRemoteCandidates(I):I.forEach(function(ie){Vi(m.iceTransport,ie)})),c=e.RTCRtpReceiver.getCapabilities(O),t<15019&&(c.codecs=c.codecs.filter(function(ie){return ie.name!=="rtx"})),n=m.sendEncodingParameters||[{ssrc:(2*S+2)*1001}];var M=!1;if(E==="sendrecv"||E==="sendonly"){if(M=!m.rtpReceiver,s=m.rtpReceiver||new e.RTCRtpReceiver(m.dtlsTransport,O),M){var L;f=s.track,v&&v.stream==="-"||(v?(X[v.stream]||(X[v.stream]=new e.MediaStream,Object.defineProperty(X[v.stream],"id",{get:function(){return v.stream}})),Object.defineProperty(f,"id",{get:function(){return v.track}}),L=X[v.stream]):(X.default||(X.default=new e.MediaStream),L=X.default)),L&&(i(f,L),m.associatedRemoteMediaStreams.push(L)),b.push([f,s,L])}}else m.rtpReceiver&&m.rtpReceiver.track&&(m.associatedRemoteMediaStreams.forEach(function(ie){var ae=ie.getTracks().find(function(J){return J.id===m.rtpReceiver.track.id});ae&&u(ae,ie)}),m.associatedRemoteMediaStreams=[]);m.localCapabilities=c,m.remoteCapabilities=h,m.rtpReceiver=s,m.rtcpParameters=A,m.sendEncodingParameters=n,m.recvEncodingParameters=d,$._transceive($.transceivers[S],!1,M)}else if(z.type==="answer"&&!g){m=$.transceivers[S],o=m.iceGatherer,a=m.iceTransport,l=m.dtlsTransport,s=m.rtpReceiver,n=m.sendEncodingParameters,c=m.localCapabilities,$.transceivers[S].recvEncodingParameters=d,$.transceivers[S].remoteCapabilities=h,$.transceivers[S].rtcpParameters=A,I.length&&a.state==="new"&&((ve||w)&&(!Ee||S===0)?a.setRemoteCandidates(I):I.forEach(function(ie){Vi(m.iceTransport,ie)})),(!Ee||S===0)&&(a.state==="new"&&a.start(o,x,"controlling"),l.state==="new"&&l.start(R));var G=Yr(m.localCapabilities,m.remoteCapabilities),Y=G.codecs.filter(function(ie){return ie.name.toLowerCase()==="rtx"}).length;!Y&&m.sendEncodingParameters[0].rtx&&delete m.sendEncodingParameters[0].rtx,$._transceive(m,E==="sendrecv"||E==="recvonly",E==="sendrecv"||E==="sendonly"),s&&(E==="sendrecv"||E==="sendonly")?(f=s.track,v?(X[v.stream]||(X[v.stream]=new e.MediaStream),i(f,X[v.stream]),b.push([f,s,X[v.stream]])):(X.default||(X.default=new e.MediaStream),i(f,X.default),b.push([f,s,X.default]))):delete m.rtpReceiver}}),$._dtlsRole===void 0&&($._dtlsRole=z.type==="offer"?"active":"passive"),$._remoteDescription={type:z.type,sdp:z.sdp},z.type==="offer"?$._updateSignalingState("have-remote-offer"):$._updateSignalingState("stable"),Object.keys(X).forEach(function(Te){var S=X[Te];if(S.getTracks().length){if($.remoteStreams.indexOf(S)===-1){$.remoteStreams.push(S);var V=new Event("addstream");V.stream=S,e.setTimeout(function(){$._dispatchEvent("addstream",V)})}b.forEach(function(O){var g=O[0],k=O[1];S.id===O[2].id&&_($,g,k,[S])})}}),b.forEach(function(Te){Te[2]||_($,Te[0],Te[1],[])}),e.setTimeout(function(){!($&&$.transceivers)||$.transceivers.forEach(function(Te){Te.iceTransport&&Te.iceTransport.state==="new"&&Te.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),Te.iceTransport.addRemoteCandidate({}))})},4e3),Promise.resolve()},C.prototype.close=function(){this.transceivers.forEach(function(z){z.iceTransport&&z.iceTransport.stop(),z.dtlsTransport&&z.dtlsTransport.stop(),z.rtpSender&&z.rtpSender.stop(),z.rtpReceiver&&z.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState("closed")},C.prototype._updateSignalingState=function(z){this.signalingState=z;var $=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",$)},C.prototype._maybeFireNegotiationNeeded=function(){var z=this;this.signalingState!=="stable"||this.needNegotiation===!0||(this.needNegotiation=!0,e.setTimeout(function(){if(z.needNegotiation){z.needNegotiation=!1;var $=new Event("negotiationneeded");z._dispatchEvent("negotiationneeded",$)}},0))},C.prototype._updateIceConnectionState=function(){var z,$={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(b){b.iceTransport&&!b.rejected&&$[b.iceTransport.state]++}),z="new",$.failed>0?z="failed":$.checking>0?z="checking":$.disconnected>0?z="disconnected":$.new>0?z="new":$.connected>0?z="connected":$.completed>0&&(z="completed"),z!==this.iceConnectionState){this.iceConnectionState=z;var X=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",X)}},C.prototype._updateConnectionState=function(){var z,$={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(b){b.iceTransport&&b.dtlsTransport&&!b.rejected&&($[b.iceTransport.state]++,$[b.dtlsTransport.state]++)}),$.connected+=$.completed,z="new",$.failed>0?z="failed":$.connecting>0?z="connecting":$.disconnected>0?z="disconnected":$.new>0?z="new":$.connected>0&&(z="connected"),z!==this.connectionState){this.connectionState=z;var X=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",X)}},C.prototype.createOffer=function(){var z=this;if(z._isClosed)return Promise.reject(jt("InvalidStateError","Can not call createOffer after close"));var $=z.transceivers.filter(function(ve){return ve.kind==="audio"}).length,X=z.transceivers.filter(function(ve){return ve.kind==="video"}).length,b=arguments[0];if(b){if(b.mandatory||b.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");b.offerToReceiveAudio!==void 0&&(b.offerToReceiveAudio===!0?$=1:b.offerToReceiveAudio===!1?$=0:$=b.offerToReceiveAudio),b.offerToReceiveVideo!==void 0&&(b.offerToReceiveVideo===!0?X=1:b.offerToReceiveVideo===!1?X=0:X=b.offerToReceiveVideo)}for(z.transceivers.forEach(function(ve){ve.kind==="audio"?($--,$<0&&(ve.wantReceive=!1)):ve.kind==="video"&&(X--,X<0&&(ve.wantReceive=!1))});$>0||X>0;)$>0&&(z._createTransceiver("audio"),$--),X>0&&(z._createTransceiver("video"),X--);var ce=$e.writeSessionBoilerplate(z._sdpSessionId,z._sdpSessionVersion++);z.transceivers.forEach(function(ve,Ee){var ke=ve.track,Te=ve.kind,S=ve.mid||$e.generateIdentifier();ve.mid=S,ve.iceGatherer||(ve.iceGatherer=z._createIceGatherer(Ee,z.usingBundle));var V=e.RTCRtpSender.getCapabilities(Te);t<15019&&(V.codecs=V.codecs.filter(function(g){return g.name!=="rtx"})),V.codecs.forEach(function(g){g.name==="H264"&&g.parameters["level-asymmetry-allowed"]===void 0&&(g.parameters["level-asymmetry-allowed"]="1"),ve.remoteCapabilities&&ve.remoteCapabilities.codecs&&ve.remoteCapabilities.codecs.forEach(function(k){g.name.toLowerCase()===k.name.toLowerCase()&&g.clockRate===k.clockRate&&(g.preferredPayloadType=k.payloadType)})}),V.headerExtensions.forEach(function(g){var k=ve.remoteCapabilities&&ve.remoteCapabilities.headerExtensions||[];k.forEach(function(E){g.uri===E.uri&&(g.id=E.id)})});var O=ve.sendEncodingParameters||[{ssrc:(2*Ee+1)*1001}];ke&&t>=15019&&Te==="video"&&!O[0].rtx&&(O[0].rtx={ssrc:O[0].ssrc+1}),ve.wantReceive&&(ve.rtpReceiver=new e.RTCRtpReceiver(ve.dtlsTransport,Te)),ve.localCapabilities=V,ve.sendEncodingParameters=O}),z._config.bundlePolicy!=="max-compat"&&(ce+="a=group:BUNDLE "+z.transceivers.map(function(ve){return ve.mid}).join(" ")+`\r
`),ce+=`a=ice-options:trickle\r
`,z.transceivers.forEach(function(ve,Ee){ce+=Qo(ve,ve.localCapabilities,"offer",ve.stream,z._dtlsRole),ce+=`a=rtcp-rsize\r
`,ve.iceGatherer&&z.iceGatheringState!=="new"&&(Ee===0||!z.usingBundle)&&(ve.iceGatherer.getLocalCandidates().forEach(function(ke){ke.component=1,ce+="a="+$e.writeCandidate(ke)+`\r
`}),ve.iceGatherer.state==="completed"&&(ce+=`a=end-of-candidates\r
`))});var we=new e.RTCSessionDescription({type:"offer",sdp:ce});return Promise.resolve(we)},C.prototype.createAnswer=function(){var z=this;if(z._isClosed)return Promise.reject(jt("InvalidStateError","Can not call createAnswer after close"));if(!(z.signalingState==="have-remote-offer"||z.signalingState==="have-local-pranswer"))return Promise.reject(jt("InvalidStateError","Can not call createAnswer in signalingState "+z.signalingState));var $=$e.writeSessionBoilerplate(z._sdpSessionId,z._sdpSessionVersion++);z.usingBundle&&($+="a=group:BUNDLE "+z.transceivers.map(function(ce){return ce.mid}).join(" ")+`\r
`),$+=`a=ice-options:trickle\r
`;var X=$e.getMediaSections(z._remoteDescription.sdp).length;z.transceivers.forEach(function(ce,we){if(!(we+1>X)){if(ce.rejected){ce.kind==="application"?ce.protocol==="DTLS/SCTP"?$+=`m=application 0 DTLS/SCTP 5000\r
`:$+="m=application 0 "+ce.protocol+` webrtc-datachannel\r
`:ce.kind==="audio"?$+=`m=audio 0 UDP/TLS/RTP/SAVPF 0\r
a=rtpmap:0 PCMU/8000\r
`:ce.kind==="video"&&($+=`m=video 0 UDP/TLS/RTP/SAVPF 120\r
a=rtpmap:120 VP8/90000\r
`),$+=`c=IN IP4 0.0.0.0\r
a=inactive\r
a=mid:`+ce.mid+`\r
`;return}if(ce.stream){var ve;ce.kind==="audio"?ve=ce.stream.getAudioTracks()[0]:ce.kind==="video"&&(ve=ce.stream.getVideoTracks()[0]),ve&&t>=15019&&ce.kind==="video"&&!ce.sendEncodingParameters[0].rtx&&(ce.sendEncodingParameters[0].rtx={ssrc:ce.sendEncodingParameters[0].ssrc+1})}var Ee=Yr(ce.localCapabilities,ce.remoteCapabilities),ke=Ee.codecs.filter(function(Te){return Te.name.toLowerCase()==="rtx"}).length;!ke&&ce.sendEncodingParameters[0].rtx&&delete ce.sendEncodingParameters[0].rtx,$+=Qo(ce,Ee,"answer",ce.stream,z._dtlsRole),ce.rtcpParameters&&ce.rtcpParameters.reducedSize&&($+=`a=rtcp-rsize\r
`)}});var b=new e.RTCSessionDescription({type:"answer",sdp:$});return Promise.resolve(b)},C.prototype.addIceCandidate=function(z){var $=this,X;return z&&!(z.sdpMLineIndex!==void 0||z.sdpMid)?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise(function(b,ce){if($._remoteDescription)if(!z||z.candidate==="")for(var we=0;we<$.transceivers.length&&!(!$.transceivers[we].rejected&&($.transceivers[we].iceTransport.addRemoteCandidate({}),X=$e.getMediaSections($._remoteDescription.sdp),X[we]+=`a=end-of-candidates\r
`,$._remoteDescription.sdp=$e.getDescription($._remoteDescription.sdp)+X.join(""),$.usingBundle));we++);else{var ve=z.sdpMLineIndex;if(z.sdpMid){for(var Ee=0;Ee<$.transceivers.length;Ee++)if($.transceivers[Ee].mid===z.sdpMid){ve=Ee;break}}var ke=$.transceivers[ve];if(ke){if(ke.rejected)return b();var Te=Object.keys(z.candidate).length>0?$e.parseCandidate(z.candidate):{};if(Te.protocol==="tcp"&&(Te.port===0||Te.port===9)||Te.component&&Te.component!==1)return b();if((ve===0||ve>0&&ke.iceTransport!==$.transceivers[0].iceTransport)&&!Vi(ke.iceTransport,Te))return ce(jt("OperationError","Can not add ICE candidate"));var S=z.candidate.trim();S.indexOf("a=")===0&&(S=S.substr(2)),X=$e.getMediaSections($._remoteDescription.sdp),X[ve]+="a="+(Te.type?S:"end-of-candidates")+`\r
`,$._remoteDescription.sdp=$e.getDescription($._remoteDescription.sdp)+X.join("")}else return ce(jt("OperationError","Can not add ICE candidate"))}else return ce(jt("InvalidStateError","Can not add ICE candidate without a remote description"));b()})},C.prototype.getStats=function(z){if(z&&z instanceof e.MediaStreamTrack){var $=null;if(this.transceivers.forEach(function(b){b.rtpSender&&b.rtpSender.track===z?$=b.rtpSender:b.rtpReceiver&&b.rtpReceiver.track===z&&($=b.rtpReceiver)}),!$)throw jt("InvalidAccessError","Invalid selector.");return $.getStats()}var X=[];return this.transceivers.forEach(function(b){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(ce){b[ce]&&X.push(b[ce].getStats())})}),Promise.all(X).then(function(b){var ce=new Map;return b.forEach(function(we){we.forEach(function(ve){ce.set(ve.id,ve)})}),ce})};var F=["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"];F.forEach(function(z){var $=e[z];if($&&$.prototype&&$.prototype.getStats){var X=$.prototype.getStats;$.prototype.getStats=function(){return X.apply(this).then(function(b){var ce=new Map;return Object.keys(b).forEach(function(we){b[we].type=su(b[we]),ce.set(we,b[we])}),ce})}}});var K=["createOffer","createAnswer"];return K.forEach(function(z){var $=C.prototype[z];C.prototype[z]=function(){var X=arguments;return typeof X[0]=="function"||typeof X[1]=="function"?$.apply(this,[arguments[2]]).then(function(b){typeof X[0]=="function"&&X[0].apply(null,[b])},function(b){typeof X[1]=="function"&&X[1].apply(null,[b])}):$.apply(this,arguments)}}),K=["setLocalDescription","setRemoteDescription","addIceCandidate"],K.forEach(function(z){var $=C.prototype[z];C.prototype[z]=function(){var X=arguments;return typeof X[1]=="function"||typeof X[2]=="function"?$.apply(this,arguments).then(function(){typeof X[1]=="function"&&X[1].apply(null)},function(b){typeof X[2]=="function"&&X[2].apply(null,[b])}):$.apply(this,arguments)}}),["getStats"].forEach(function(z){var $=C.prototype[z];C.prototype[z]=function(){var X=arguments;return typeof X[1]=="function"?$.apply(this,arguments).then(function(){typeof X[1]=="function"&&X[1].apply(null)}):$.apply(this,arguments)}}),C};function Nc(e){const t=e&&e.navigator,i=function(_){return{name:{PermissionDeniedError:"NotAllowedError"}[_.name]||_.name,message:_.message,constraint:_.constraint,toString(){return this.name}}},u=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(_){return u(_).catch(C=>Promise.reject(i(C)))}}function Uc(e){"getDisplayMedia"in e.navigator&&(!e.navigator.mediaDevices||e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=e.navigator.getDisplayMedia.bind(e.navigator)))}function vs(e,t){if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(_){return _}),e.RTCSessionDescription||(e.RTCSessionDescription=function(_){return _}),t.version<15025)){const u=Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype,"enabled");Object.defineProperty(e.MediaStreamTrack.prototype,"enabled",{set(_){u.set.call(this,_);const C=new Event("enabled");C.enabled=_,this.dispatchEvent(C)}})}e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)&&Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=new e.RTCDtmfSender(this):this.track.kind==="video"&&(this._dtmf=null)),this._dtmf}}),e.RTCDtmfSender&&!e.RTCDTMFSender&&(e.RTCDTMFSender=e.RTCDtmfSender);const i=au(e,t.version);e.RTCPeerConnection=function(_){return _&&_.iceServers&&(_.iceServers=iu(_.iceServers,t.version),Vs("ICE servers after filtering:",_.iceServers)),new i(_)},e.RTCPeerConnection.prototype=i.prototype}function jc(e){e.RTCRtpSender&&!("replaceTrack"in e.RTCRtpSender.prototype)&&(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)}const ta=Object.freeze(Object.defineProperty({__proto__:null,shimPeerConnection:vs,shimReplaceTrack:jc,shimGetUserMedia:Nc,shimGetDisplayMedia:Uc},Symbol.toStringTag,{value:"Module"}));function Fc(e,t){const i=e&&e.navigator,u=e&&e.MediaStreamTrack;if(i.getUserMedia=function(_,C,F){Mi("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),i.mediaDevices.getUserMedia(_).then(C,F)},!(t.version>55&&"autoGainControl"in i.mediaDevices.getSupportedConstraints())){const _=function(F,K,z){K in F&&!(z in F)&&(F[z]=F[K],delete F[K])},C=i.mediaDevices.getUserMedia.bind(i.mediaDevices);if(i.mediaDevices.getUserMedia=function(F){return typeof F=="object"&&typeof F.audio=="object"&&(F=JSON.parse(JSON.stringify(F)),_(F.audio,"autoGainControl","mozAutoGainControl"),_(F.audio,"noiseSuppression","mozNoiseSuppression")),C(F)},u&&u.prototype.getSettings){const F=u.prototype.getSettings;u.prototype.getSettings=function(){const K=F.apply(this,arguments);return _(K,"mozAutoGainControl","autoGainControl"),_(K,"mozNoiseSuppression","noiseSuppression"),K}}if(u&&u.prototype.applyConstraints){const F=u.prototype.applyConstraints;u.prototype.applyConstraints=function(K){return this.kind==="audio"&&typeof K=="object"&&(K=JSON.parse(JSON.stringify(K)),_(K,"autoGainControl","mozAutoGainControl"),_(K,"noiseSuppression","mozNoiseSuppression")),F.apply(this,[K])}}}}function cu(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||!e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=function(u){if(!(u&&u.video)){const _=new DOMException("getDisplayMedia without video constraints is undefined");return _.name="NotFoundError",_.code=8,Promise.reject(_)}return u.video===!0?u.video={mediaSource:t}:u.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(u)})}function Hc(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function bs(e,t){if(typeof e!="object"||!(e.RTCPeerConnection||e.mozRTCPeerConnection))return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(_){const C=e.RTCPeerConnection.prototype[_],F={[_](){return arguments[0]=new(_==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),C.apply(this,arguments)}};e.RTCPeerConnection.prototype[_]=F[_]});const i={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},u=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[C,F,K]=arguments;return u.apply(this,[C||null]).then(z=>{if(t.version<53&&!F)try{z.forEach($=>{$.type=i[$.type]||$.type})}catch($){if($.name!=="TypeError")throw $;z.forEach((X,b)=>{z.set(b,Object.assign({},X,{type:i[X.type]||X.type}))})}return z}).then(F,K)}}function zc(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const _=t.apply(this,[]);return _.forEach(C=>C._pc=this),_});const i=e.RTCPeerConnection.prototype.addTrack;i&&(e.RTCPeerConnection.prototype.addTrack=function(){const _=i.apply(this,arguments);return _._pc=this,_}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function $c(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const u=t.apply(this,[]);return u.forEach(_=>_._pc=this),u}),vr(e,"track",i=>(i.receiver._pc=i.srcElement,i)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function Wc(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(i){Mi("removeStream","removeTrack"),this.getSenders().forEach(u=>{u.track&&i.getTracks().includes(u.track)&&this.removeTrack(u)})})}function Kc(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function Gc(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];const u=arguments[1],_=u&&"sendEncodings"in u;_&&u.sendEncodings.forEach(F=>{if("rid"in F&&!/^[a-z0-9]{0,16}$/i.test(F.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in F&&!(parseFloat(F.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in F&&!(parseFloat(F.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const C=t.apply(this,arguments);if(_){const{sender:F}=C,K=F.getParameters();(!("encodings"in K)||K.encodings.length===1&&Object.keys(K.encodings[0]).length===0)&&(K.encodings=u.sendEncodings,F.sendEncodings=u.sendEncodings,this.setParametersPromises.push(F.setParameters(K).then(()=>{delete F.sendEncodings}).catch(()=>{delete F.sendEncodings})))}return C})}function Vc(e){if(!(typeof e=="object"&&e.RTCRtpSender))return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const u=t.apply(this,arguments);return"encodings"in u||(u.encodings=[].concat(this.sendEncodings||[{}])),u})}function qc(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function Yc(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}const na=Object.freeze(Object.defineProperty({__proto__:null,shimOnTrack:Hc,shimPeerConnection:bs,shimSenderGetStats:zc,shimReceiverGetStats:$c,shimRemoveStream:Wc,shimRTCDataChannel:Kc,shimAddTransceiver:Gc,shimGetParameters:Vc,shimCreateOffer:qc,shimCreateAnswer:Yc,shimGetUserMedia:Fc,shimGetDisplayMedia:cu},Symbol.toStringTag,{value:"Module"}));function Jc(e){if(!(typeof e!="object"||!e.RTCPeerConnection)){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(u){this._localStreams||(this._localStreams=[]),this._localStreams.includes(u)||this._localStreams.push(u),u.getAudioTracks().forEach(_=>t.call(this,_,u)),u.getVideoTracks().forEach(_=>t.call(this,_,u))},e.RTCPeerConnection.prototype.addTrack=function(u,..._){return _&&_.forEach(C=>{this._localStreams?this._localStreams.includes(C)||this._localStreams.push(C):this._localStreams=[C]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(i){this._localStreams||(this._localStreams=[]);const u=this._localStreams.indexOf(i);if(u===-1)return;this._localStreams.splice(u,1);const _=i.getTracks();this.getSenders().forEach(C=>{_.includes(C.track)&&this.removeTrack(C)})})}}function Xc(e){if(!(typeof e!="object"||!e.RTCPeerConnection)&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(i){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=i),this.addEventListener("track",this._onaddstreampoly=u=>{u.streams.forEach(_=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(_))return;this._remoteStreams.push(_);const C=new Event("addstream");C.stream=_,this.dispatchEvent(C)})})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const u=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(_){_.streams.forEach(C=>{if(u._remoteStreams||(u._remoteStreams=[]),u._remoteStreams.indexOf(C)>=0)return;u._remoteStreams.push(C);const F=new Event("addstream");F.stream=C,u.dispatchEvent(F)})}),t.apply(u,arguments)}}}function Zc(e){if(typeof e!="object"||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,i=t.createOffer,u=t.createAnswer,_=t.setLocalDescription,C=t.setRemoteDescription,F=t.addIceCandidate;t.createOffer=function($,X){const b=arguments.length>=2?arguments[2]:arguments[0],ce=i.apply(this,[b]);return X?(ce.then($,X),Promise.resolve()):ce},t.createAnswer=function($,X){const b=arguments.length>=2?arguments[2]:arguments[0],ce=u.apply(this,[b]);return X?(ce.then($,X),Promise.resolve()):ce};let K=function(z,$,X){const b=_.apply(this,[z]);return X?(b.then($,X),Promise.resolve()):b};t.setLocalDescription=K,K=function(z,$,X){const b=C.apply(this,[z]);return X?(b.then($,X),Promise.resolve()):b},t.setRemoteDescription=K,K=function(z,$,X){const b=F.apply(this,[z]);return X?(b.then($,X),Promise.resolve()):b},t.addIceCandidate=K}function Qc(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const i=t.mediaDevices,u=i.getUserMedia.bind(i);t.mediaDevices.getUserMedia=_=>u(ed(_))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(u,_,C){t.mediaDevices.getUserMedia(u).then(_,C)}.bind(t))}function ed(e){return e&&e.video!==void 0?Object.assign({},e,{video:Tc(e.video)}):e}function td(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(u,_){if(u&&u.iceServers){const C=[];for(let F=0;F<u.iceServers.length;F++){let K=u.iceServers[F];!K.hasOwnProperty("urls")&&K.hasOwnProperty("url")?(Mi("RTCIceServer.url","RTCIceServer.urls"),K=JSON.parse(JSON.stringify(K)),K.urls=K.url,delete K.url,C.push(K)):C.push(u.iceServers[F])}u.iceServers=C}return new t(u,_)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get(){return t.generateCertificate}})}function nd(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function rd(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(u){if(u){typeof u.offerToReceiveAudio<"u"&&(u.offerToReceiveAudio=!!u.offerToReceiveAudio);const _=this.getTransceivers().find(F=>F.receiver.track.kind==="audio");u.offerToReceiveAudio===!1&&_?_.direction==="sendrecv"?_.setDirection?_.setDirection("sendonly"):_.direction="sendonly":_.direction==="recvonly"&&(_.setDirection?_.setDirection("inactive"):_.direction="inactive"):u.offerToReceiveAudio===!0&&!_&&this.addTransceiver("audio"),typeof u.offerToReceiveVideo<"u"&&(u.offerToReceiveVideo=!!u.offerToReceiveVideo);const C=this.getTransceivers().find(F=>F.receiver.track.kind==="video");u.offerToReceiveVideo===!1&&C?C.direction==="sendrecv"?C.setDirection?C.setDirection("sendonly"):C.direction="sendonly":C.direction==="recvonly"&&(C.setDirection?C.setDirection("inactive"):C.direction="inactive"):u.offerToReceiveVideo===!0&&!C&&this.addTransceiver("video")}return t.apply(this,arguments)}}function id(e){typeof e!="object"||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}const ra=Object.freeze(Object.defineProperty({__proto__:null,shimLocalStreamsAPI:Jc,shimRemoteStreamsAPI:Xc,shimCallbacksAPI:Zc,shimGetUserMedia:Qc,shimConstraints:ed,shimRTCIceServerUrls:td,shimTrackEventTransceiver:nd,shimCreateOfferLegacy:rd,shimAudioContext:id},Symbol.toStringTag,{value:"Module"}));function di(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(u){if(typeof u=="object"&&u.candidate&&u.candidate.indexOf("a=")===0&&(u=JSON.parse(JSON.stringify(u)),u.candidate=u.candidate.substr(2)),u.candidate&&u.candidate.length){const _=new t(u),C=ci.parseCandidate(u.candidate),F=Object.assign(_,C);return F.toJSON=function(){return{candidate:F.candidate,sdpMid:F.sdpMid,sdpMLineIndex:F.sdpMLineIndex,usernameFragment:F.usernameFragment}},F}return new t(u)},e.RTCIceCandidate.prototype=t.prototype,vr(e,"icecandidate",i=>(i.candidate&&Object.defineProperty(i,"candidate",{value:new e.RTCIceCandidate(i.candidate),writable:"false"}),i))}function kr(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const i=function(K){if(!K||!K.sdp)return!1;const z=ci.splitSections(K.sdp);return z.shift(),z.some($=>{const X=ci.parseMLine($);return X&&X.kind==="application"&&X.protocol.indexOf("SCTP")!==-1})},u=function(K){const z=K.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(z===null||z.length<2)return-1;const $=parseInt(z[1],10);return $!==$?-1:$},_=function(K){let z=65536;return t.browser==="firefox"&&(t.version<57?K===-1?z=16384:z=2147483637:t.version<60?z=t.version===57?65535:65536:z=2147483637),z},C=function(K,z){let $=65536;t.browser==="firefox"&&t.version===57&&($=65535);const X=ci.matchPrefix(K.sdp,"a=max-message-size:");return X.length>0?$=parseInt(X[0].substr(19),10):t.browser==="firefox"&&z!==-1&&($=2147483637),$},F=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,t.browser==="chrome"&&t.version>=76){const{sdpSemantics:z}=this.getConfiguration();z==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(i(arguments[0])){const z=u(arguments[0]),$=_(z),X=C(arguments[0],z);let b;$===0&&X===0?b=Number.POSITIVE_INFINITY:$===0||X===0?b=Math.max($,X):b=Math.min($,X);const ce={};Object.defineProperty(ce,"maxMessageSize",{get(){return b}}),this._sctp=ce}return F.apply(this,arguments)}}function Cr(e){if(!(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype))return;function t(u,_){const C=u.send;u.send=function(){const K=arguments[0],z=K.length||K.size||K.byteLength;if(u.readyState==="open"&&_.sctp&&z>_.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+_.sctp.maxMessageSize+" bytes)");return C.apply(u,arguments)}}const i=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const _=i.apply(this,arguments);return t(_,this),_},vr(e,"datachannel",u=>(t(u.channel,u.target),u))}function ys(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(i){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),i&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=i)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(i=>{const u=t[i];t[i]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=_=>{const C=_.target;if(C._lastConnectionState!==C.connectionState){C._lastConnectionState=C.connectionState;const F=new Event("connectionstatechange",_);C.dispatchEvent(F)}return _},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),u.apply(this,arguments)}})}function _s(e,t){if(!e.RTCPeerConnection||t.browser==="chrome"&&t.version>=71||t.browser==="safari"&&t.version>=605)return;const i=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(_){if(_&&_.sdp&&_.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const C=_.sdp.split(`
`).filter(F=>F.trim()!=="a=extmap-allow-mixed").join(`
`);e.RTCSessionDescription&&_ instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:_.type,sdp:C}):_.sdp=C}return i.apply(this,arguments)}}function fi(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const i=e.RTCPeerConnection.prototype.addIceCandidate;!i||i.length===0||(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(t.browser==="chrome"&&t.version<78||t.browser==="firefox"&&t.version<68||t.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():i.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}const du=Object.freeze(Object.defineProperty({__proto__:null,shimRTCIceCandidate:di,shimMaxMessageSize:kr,shimSendThrowTypeError:Cr,shimConnectionState:ys,removeExtmapAllowMixed:_s,shimAddIceCandidateNullOrEmpty:fi},Symbol.toStringTag,{value:"Module"}));function fu({window:e}={},t={shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0}){const i=Vs,u=nu(e),_={browserDetails:u,commonShim:du,extractVersion:xr,disableLog:eu,disableWarnings:tu};switch(u.browser){case"chrome":if(!Zo||!gs||!t.shimChrome)return i("Chrome shim is not included in this adapter release."),_;if(u.version===null)return i("Chrome shim can not determine version, not shimming."),_;i("adapter.js shimming chrome."),_.browserShim=Zo,fi(e,u),Rc(e,u),Ac(e),gs(e,u),Ic(e),Dc(e,u),Pc(e),Bc(e),Oc(e),Mc(e,u),di(e),ys(e),kr(e,u),Cr(e),_s(e,u);break;case"firefox":if(!na||!bs||!t.shimFirefox)return i("Firefox shim is not included in this adapter release."),_;i("adapter.js shimming firefox."),_.browserShim=na,fi(e,u),Fc(e,u),bs(e,u),Hc(e),Wc(e),zc(e),$c(e),Kc(e),Gc(e),Vc(e),qc(e),Yc(e),di(e),ys(e),kr(e,u),Cr(e);break;case"edge":if(!ta||!vs||!t.shimEdge)return i("MS edge shim is not included in this adapter release."),_;i("adapter.js shimming edge."),_.browserShim=ta,Nc(e),Uc(e),vs(e,u),jc(e),kr(e,u),Cr(e);break;case"safari":if(!ra||!t.shimSafari)return i("Safari shim is not included in this adapter release."),_;i("adapter.js shimming safari."),_.browserShim=ra,fi(e,u),td(e),rd(e),Zc(e),Jc(e),Xc(e),nd(e),Qc(e),id(e),di(e),kr(e,u),Cr(e),_s(e,u);break;default:i("Unsupported browser!");break}return _}const ia=fu({window:typeof window>"u"?void 0:window});function yn(e,t,i,u){Object.defineProperty(e,t,{get:i,set:u,enumerable:!0,configurable:!0})}var qi=ia.default||ia,yr=new(function(){function e(){this.isIOS=["iPad","iPhone","iPod"].includes(navigator.platform),this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}return e.prototype.isWebRTCSupported=function(){return typeof RTCPeerConnection<"u"},e.prototype.isBrowserSupported=function(){var t=this.getBrowser(),i=this.getVersion(),u=this.supportedBrowsers.includes(t);return u?t==="chrome"?i>=this.minChromeVersion:t==="firefox"?i>=this.minFirefoxVersion:t==="safari"?!this.isIOS&&i>=this.minSafariVersion:!1:!1},e.prototype.getBrowser=function(){return qi.browserDetails.browser},e.prototype.getVersion=function(){return qi.browserDetails.version||0},e.prototype.isUnifiedPlanSupported=function(){var t=this.getBrowser(),i=qi.browserDetails.version||0;if(t==="chrome"&&i<this.minChromeVersion)return!1;if(t==="firefox"&&i>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;var u,_=!1;try{u=new RTCPeerConnection,u.addTransceiver("audio"),_=!0}catch{}finally{u&&u.close()}return _},e.prototype.toString=function(){return`Supports:
    browser:`.concat(this.getBrowser(),`
    version:`).concat(this.getVersion(),`
    isIOS:`).concat(this.isIOS,`
    isWebRTCSupported:`).concat(this.isWebRTCSupported(),`
    isBrowserSupported:`).concat(this.isBrowserSupported(),`
    isUnifiedPlanSupported:`).concat(this.isUnifiedPlanSupported())},e}()),sa={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"},lu=function(){function e(){this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.chunkedMTU=16300,this.defaultConfig=sa,this.browser=yr.getBrowser(),this.browserVersion=yr.getVersion(),this.supports=function(){var t={browser:yr.isBrowserSupported(),webRTC:yr.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!t.webRTC)return t;var i;try{i=new RTCPeerConnection(sa),t.audioVideo=!0;var u=void 0;try{u=i.createDataChannel("_PEERJSTEST",{ordered:!0}),t.data=!0,t.reliable=!!u.ordered;try{u.binaryType="blob",t.binaryBlob=!yr.isIOS}catch{}}catch{}finally{u&&u.close()}}catch{}finally{i&&i.close()}return t}(),this.pack=qo.pack,this.unpack=qo.unpack,this._dataCount=1}return e.prototype.noop=function(){},e.prototype.validateId=function(t){return!t||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(t)},e.prototype.chunk=function(t){for(var i=[],u=t.size,_=Math.ceil(u/ft.chunkedMTU),C=0,F=0;F<u;){var K=Math.min(u,F+ft.chunkedMTU),z=t.slice(F,K),$={__peerData:this._dataCount,n:C,data:z,total:_};i.push($),F=K,C++}return this._dataCount++,i},e.prototype.blobToArrayBuffer=function(t,i){var u=new FileReader;return u.onload=function(_){_.target&&i(_.target.result)},u.readAsArrayBuffer(t),u},e.prototype.binaryStringToArrayBuffer=function(t){for(var i=new Uint8Array(t.length),u=0;u<t.length;u++)i[u]=t.charCodeAt(u)&255;return i.buffer},e.prototype.randomToken=function(){return Math.random().toString(36).slice(2)},e.prototype.isSecure=function(){return location.protocol==="https:"},e}(),ft=new lu,sd={};yn(sd,"Peer",()=>ga,e=>ga=e);var Hr={},hu=Object.prototype.hasOwnProperty,Vt="~";function jr(){}Object.create&&(jr.prototype=Object.create(null),new jr().__proto__||(Vt=!1));function uu(e,t,i){this.fn=e,this.context=t,this.once=i||!1}function od(e,t,i,u,_){if(typeof i!="function")throw new TypeError("The listener must be a function");var C=new uu(i,u||e,_),F=Vt?Vt+t:t;return e._events[F]?e._events[F].fn?e._events[F]=[e._events[F],C]:e._events[F].push(C):(e._events[F]=C,e._eventsCount++),e}function li(e,t){--e._eventsCount===0?e._events=new jr:delete e._events[t]}function Wt(){this._events=new jr,this._eventsCount=0}Wt.prototype.eventNames=function(){var t=[],i,u;if(this._eventsCount===0)return t;for(u in i=this._events)hu.call(i,u)&&t.push(Vt?u.slice(1):u);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(i)):t};Wt.prototype.listeners=function(t){var i=Vt?Vt+t:t,u=this._events[i];if(!u)return[];if(u.fn)return[u.fn];for(var _=0,C=u.length,F=new Array(C);_<C;_++)F[_]=u[_].fn;return F};Wt.prototype.listenerCount=function(t){var i=Vt?Vt+t:t,u=this._events[i];return u?u.fn?1:u.length:0};Wt.prototype.emit=function(t,i,u,_,C,F){var K=Vt?Vt+t:t;if(!this._events[K])return!1;var z=this._events[K],$=arguments.length,X,b;if(z.fn){switch(z.once&&this.removeListener(t,z.fn,void 0,!0),$){case 1:return z.fn.call(z.context),!0;case 2:return z.fn.call(z.context,i),!0;case 3:return z.fn.call(z.context,i,u),!0;case 4:return z.fn.call(z.context,i,u,_),!0;case 5:return z.fn.call(z.context,i,u,_,C),!0;case 6:return z.fn.call(z.context,i,u,_,C,F),!0}for(b=1,X=new Array($-1);b<$;b++)X[b-1]=arguments[b];z.fn.apply(z.context,X)}else{var ce=z.length,we;for(b=0;b<ce;b++)switch(z[b].once&&this.removeListener(t,z[b].fn,void 0,!0),$){case 1:z[b].fn.call(z[b].context);break;case 2:z[b].fn.call(z[b].context,i);break;case 3:z[b].fn.call(z[b].context,i,u);break;case 4:z[b].fn.call(z[b].context,i,u,_);break;default:if(!X)for(we=1,X=new Array($-1);we<$;we++)X[we-1]=arguments[we];z[b].fn.apply(z[b].context,X)}}return!0};Wt.prototype.on=function(t,i,u){return od(this,t,i,u,!1)};Wt.prototype.once=function(t,i,u){return od(this,t,i,u,!0)};Wt.prototype.removeListener=function(t,i,u,_){var C=Vt?Vt+t:t;if(!this._events[C])return this;if(!i)return li(this,C),this;var F=this._events[C];if(F.fn)F.fn===i&&(!_||F.once)&&(!u||F.context===u)&&li(this,C);else{for(var K=0,z=[],$=F.length;K<$;K++)(F[K].fn!==i||_&&!F[K].once||u&&F[K].context!==u)&&z.push(F[K]);z.length?this._events[C]=z.length===1?z[0]:z:li(this,C)}return this};Wt.prototype.removeAllListeners=function(t){var i;return t?(i=Vt?Vt+t:t,this._events[i]&&li(this,i)):(this._events=new jr,this._eventsCount=0),this};Wt.prototype.off=Wt.prototype.removeListener;Wt.prototype.addListener=Wt.prototype.on;Wt.prefixed=Vt;Wt.EventEmitter=Wt;Hr=Wt;var Ue={};yn(Ue,"LogLevel",()=>Yt,e=>Yt=e);yn(Ue,"default",()=>oa,e=>oa=e);var Kn=function(e,t){var i=typeof Symbol=="function"&&e[Symbol.iterator];if(!i)return e;var u=i.call(e),_,C=[],F;try{for(;(t===void 0||t-- >0)&&!(_=u.next()).done;)C.push(_.value)}catch(K){F={error:K}}finally{try{_&&!_.done&&(i=u.return)&&i.call(u)}finally{if(F)throw F.error}}return C},Gn=function(e,t,i){if(i||arguments.length===2)for(var u=0,_=t.length,C;u<_;u++)(C||!(u in t))&&(C||(C=Array.prototype.slice.call(t,0,u)),C[u]=t[u]);return e.concat(C||Array.prototype.slice.call(t))},pu="PeerJS: ",Yt;(function(e){e[e.Disabled=0]="Disabled",e[e.Errors=1]="Errors",e[e.Warnings=2]="Warnings",e[e.All=3]="All"})(Yt||(Yt={}));var mu=function(){function e(){this._logLevel=Yt.Disabled}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.log=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];this._logLevel>=Yt.All&&this._print.apply(this,Gn([Yt.All],Kn(t),!1))},e.prototype.warn=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];this._logLevel>=Yt.Warnings&&this._print.apply(this,Gn([Yt.Warnings],Kn(t),!1))},e.prototype.error=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];this._logLevel>=Yt.Errors&&this._print.apply(this,Gn([Yt.Errors],Kn(t),!1))},e.prototype.setLogFunction=function(t){this._print=t},e.prototype._print=function(t){for(var i=[],u=1;u<arguments.length;u++)i[u-1]=arguments[u];var _=Gn([pu],Kn(i),!1);for(var C in _)_[C]instanceof Error&&(_[C]="("+_[C].name+") "+_[C].message);t>=Yt.All?console.log.apply(console,Gn([],Kn(_),!1)):t>=Yt.Warnings?console.warn.apply(console,Gn(["WARNING"],Kn(_),!1)):t>=Yt.Errors&&console.error.apply(console,Gn(["ERROR"],Kn(_),!1))},e}(),oa=new mu,ad={};yn(ad,"Socket",()=>aa,e=>aa=e);var sn;(function(e){e.Data="data",e.Media="media"})(sn||(sn={}));var Pt;(function(e){e.BrowserIncompatible="browser-incompatible",e.Disconnected="disconnected",e.InvalidID="invalid-id",e.InvalidKey="invalid-key",e.Network="network",e.PeerUnavailable="peer-unavailable",e.SslUnavailable="ssl-unavailable",e.ServerError="server-error",e.SocketError="socket-error",e.SocketClosed="socket-closed",e.UnavailableID="unavailable-id",e.WebRTC="webrtc"})(Pt||(Pt={}));var Tn;(function(e){e.Binary="binary",e.BinaryUTF8="binary-utf8",e.JSON="json"})(Tn||(Tn={}));var Rn;(function(e){e.Message="message",e.Disconnected="disconnected",e.Error="error",e.Close="close"})(Rn||(Rn={}));var Dt;(function(e){e.Heartbeat="HEARTBEAT",e.Candidate="CANDIDATE",e.Offer="OFFER",e.Answer="ANSWER",e.Open="OPEN",e.Error="ERROR",e.IdTaken="ID-TAKEN",e.InvalidKey="INVALID-KEY",e.Leave="LEAVE",e.Expire="EXPIRE"})(Dt||(Dt={}));var Ys={};Ys=JSON.parse('{"name":"peerjs","version":"1.4.7","keywords":["peerjs","webrtc","p2p","rtc"],"description":"PeerJS client","homepage":"https://peerjs.com","bugs":{"url":"https://github.com/peers/peerjs/issues"},"repository":{"type":"git","url":"https://github.com/peers/peerjs"},"license":"MIT","contributors":["Michelle Bu <michelle@michellebu.com>","afrokick <devbyru@gmail.com>","ericz <really.ez@gmail.com>","Jairo <kidandcat@gmail.com>","Jonas Gloning <34194370+jonasgloning@users.noreply.github.com>","Jairo Caro-Accino Viciana <jairo@galax.be>","Carlos Caballero <carlos.caballero.gonzalez@gmail.com>","hc <hheennrryy@gmail.com>","Muhammad Asif <capripio@gmail.com>","PrashoonB <prashoonbhattacharjee@gmail.com>","Harsh Bardhan Mishra <47351025+HarshCasper@users.noreply.github.com>","akotynski <aleksanderkotbury@gmail.com>","lmb <i@lmb.io>","Jairooo <jairocaro@msn.com>","Moritz St\xFCckler <moritz.stueckler@gmail.com>","Simon <crydotsnakegithub@gmail.com>","Denis Lukov <denismassters@gmail.com>","Philipp Hancke <fippo@andyet.net>","Hans Oksendahl <hansoksendahl@gmail.com>","Jess <jessachandler@gmail.com>","khankuan <khankuan@gmail.com>","DUODVK <kurmanov.work@gmail.com>","XiZhao <kwang1imsa@gmail.com>","Matthias Lohr <matthias@lohr.me>","=frank tree <=frnktrb@googlemail.com>","Andre Eckardt <aeckardt@outlook.com>","Chris Cowan <agentme49@gmail.com>","Alex Chuev <alex@chuev.com>","alxnull <alxnull@e.mail.de>","Yemel Jardi <angel.jardi@gmail.com>","Ben Parnell <benjaminparnell.94@gmail.com>","Benny Lichtner <bennlich@gmail.com>","fresheneesz <bitetrudpublic@gmail.com>","bob.barstead@exaptive.com <bob.barstead@exaptive.com>","chandika <chandika@gmail.com>","emersion <contact@emersion.fr>","Christopher Van <cvan@users.noreply.github.com>","eddieherm <edhermoso@gmail.com>","Eduardo Pinho <enet4mikeenet@gmail.com>","Evandro Zanatta <ezanatta@tray.net.br>","Gardner Bickford <gardner@users.noreply.github.com>","Gian Luca <gianluca.cecchi@cynny.com>","PatrickJS <github@gdi2290.com>","jonnyf <github@jonathanfoss.co.uk>","Hizkia Felix <hizkifw@gmail.com>","Hristo Oskov <hristo.oskov@gmail.com>","Isaac Madwed <i.madwed@gmail.com>","Ilya Konanykhin <ilya.konanykhin@gmail.com>","jasonbarry <jasbarry@me.com>","Jonathan Burke <jonathan.burke.1311@googlemail.com>","Josh Hamit <josh.hamit@gmail.com>","Jordan Austin <jrax86@gmail.com>","Joel Wetzell <jwetzell@yahoo.com>","xizhao <kevin.wang@cloudera.com>","Alberto Torres <kungfoobar@gmail.com>","Jonathan Mayol <mayoljonathan@gmail.com>","Jefferson Felix <me@jsfelix.dev>","Rolf Erik Lekang <me@rolflekang.com>","Kevin Mai-Husan Chia <mhchia@users.noreply.github.com>","Pepijn de Vos <pepijndevos@gmail.com>","JooYoung <qkdlql@naver.com>","Tobias Speicher <rootcommander@gmail.com>","Steve Blaurock <sblaurock@gmail.com>","Kyrylo Shegeda <shegeda@ualberta.ca>","Diwank Singh Tomer <singh@diwank.name>","So\u0308ren Balko <Soeren.Balko@gmail.com>","Arpit Solanki <solankiarpit1997@gmail.com>","Yuki Ito <yuki@gnnk.net>","Artur Zayats <zag2art@gmail.com>"],"funding":{"type":"opencollective","url":"https://opencollective.com/peer"},"collective":{"type":"opencollective","url":"https://opencollective.com/peer"},"files":["dist/*"],"sideEffects":["lib/global.ts","lib/supports.ts"],"main":"dist/bundler.cjs","module":"dist/bundler.mjs","browser-minified":"dist/peerjs.min.js","browser-unminified":"dist/peerjs.js","types":"dist/types.d.ts","engines":{"node":">= 10"},"targets":{"types":{"source":"lib/exports.ts"},"main":{"source":"lib/exports.ts","sourceMap":{"inlineSources":true}},"module":{"source":"lib/exports.ts","includeNodeModules":["eventemitter3"],"sourceMap":{"inlineSources":true}},"browser-minified":{"context":"browser","outputFormat":"global","optimize":true,"engines":{"browsers":"cover 99%, not dead"},"source":"lib/global.ts"},"browser-unminified":{"context":"browser","outputFormat":"global","optimize":false,"engines":{"browsers":"cover 99%, not dead"},"source":"lib/global.ts"}},"scripts":{"contributors":"git-authors-cli --print=false && prettier --write package.json && git add package.json package-lock.json && git commit -m \\"chore(contributors): update and sort contributors list\\"","check":"tsc --noEmit","watch":"parcel watch","build":"rm -rf dist && parcel build","prepublishOnly":"npm run build","test":"mocha -r ts-node/register -r jsdom-global/register test/**/*.ts","format":"prettier --write .","semantic-release":"semantic-release"},"devDependencies":{"@parcel/config-default":"^2.5.0","@parcel/packager-ts":"^2.5.0","@parcel/transformer-typescript-tsc":"^2.5.0","@parcel/transformer-typescript-types":"^2.5.0","@semantic-release/changelog":"^6.0.1","@semantic-release/git":"^10.0.1","@types/chai":"^4.3.0","@types/mocha":"^9.1.0","@types/node":"^17.0.18","chai":"^4.3.6","git-authors-cli":"^1.0.40","jsdom":"^19.0.0","jsdom-global":"^3.0.2","mocha":"^9.2.0","mock-socket":"8.0.5","parcel":"^2.5.0","parcel-transformer-tsc-sourcemaps":"^1.0.2","prettier":"^2.6.2","semantic-release":"^19.0.2","standard":"^16.0.4","ts-node":"^10.5.0","typescript":"^4.5.5"},"dependencies":{"@swc/helpers":"^0.3.13","eventemitter3":"^4.0.7","peerjs-js-binarypack":"1.0.1","webrtc-adapter":"^7.7.1"}}');var gu=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,_){u.__proto__=_}||function(u,_){for(var C in _)Object.prototype.hasOwnProperty.call(_,C)&&(u[C]=_[C])},e(t,i)};return function(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(t,i);function u(){this.constructor=t}t.prototype=i===null?Object.create(i):(u.prototype=i.prototype,new u)}}(),vu=function(e,t){var i=typeof Symbol=="function"&&e[Symbol.iterator];if(!i)return e;var u=i.call(e),_,C=[],F;try{for(;(t===void 0||t-- >0)&&!(_=u.next()).done;)C.push(_.value)}catch(K){F={error:K}}finally{try{_&&!_.done&&(i=u.return)&&i.call(u)}finally{if(F)throw F.error}}return C},bu=function(e,t,i){if(i||arguments.length===2)for(var u=0,_=t.length,C;u<_;u++)(C||!(u in t))&&(C||(C=Array.prototype.slice.call(t,0,u)),C[u]=t[u]);return e.concat(C||Array.prototype.slice.call(t))},yu=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,i=t&&e[t],u=0;if(i)return i.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&u>=e.length&&(e=void 0),{value:e&&e[u++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},aa=function(e){gu(t,e);function t(i,u,_,C,F,K){K===void 0&&(K=5e3);var z=e.call(this)||this;z.pingInterval=K,z._disconnected=!0,z._messagesQueue=[];var $=i?"wss://":"ws://";return z._baseUrl=$+u+":"+_+C+"peerjs?key="+F,z}return t.prototype.start=function(i,u){var _=this;this._id=i;var C="".concat(this._baseUrl,"&id=").concat(i,"&token=").concat(u);!!this._socket||!this._disconnected||(this._socket=new WebSocket(C+"&version="+Ys.version),this._disconnected=!1,this._socket.onmessage=function(F){var K;try{K=JSON.parse(F.data),Ue.default.log("Server message received:",K)}catch{Ue.default.log("Invalid server message",F.data);return}_.emit(Rn.Message,K)},this._socket.onclose=function(F){_._disconnected||(Ue.default.log("Socket closed.",F),_._cleanup(),_._disconnected=!0,_.emit(Rn.Disconnected))},this._socket.onopen=function(){_._disconnected||(_._sendQueuedMessages(),Ue.default.log("Socket open"),_._scheduleHeartbeat())})},t.prototype._scheduleHeartbeat=function(){var i=this;this._wsPingTimer=setTimeout(function(){i._sendHeartbeat()},this.pingInterval)},t.prototype._sendHeartbeat=function(){if(!this._wsOpen()){Ue.default.log("Cannot send heartbeat, because socket closed");return}var i=JSON.stringify({type:Dt.Heartbeat});this._socket.send(i),this._scheduleHeartbeat()},t.prototype._wsOpen=function(){return!!this._socket&&this._socket.readyState===1},t.prototype._sendQueuedMessages=function(){var i,u,_=bu([],vu(this._messagesQueue),!1);this._messagesQueue=[];try{for(var C=yu(_),F=C.next();!F.done;F=C.next()){var K=F.value;this.send(K)}}catch(z){i={error:z}}finally{try{F&&!F.done&&(u=C.return)&&u.call(C)}finally{if(i)throw i.error}}},t.prototype.send=function(i){if(!this._disconnected){if(!this._id){this._messagesQueue.push(i);return}if(!i.type){this.emit(Rn.Error,"Invalid message");return}if(!!this._wsOpen()){var u=JSON.stringify(i);this._socket.send(u)}}},t.prototype.close=function(){this._disconnected||(this._cleanup(),this._disconnected=!0)},t.prototype._cleanup=function(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)},t}(Hr.EventEmitter),ws={};yn(ws,"MediaConnection",()=>fa,e=>fa=e);var Js={};yn(Js,"Negotiator",()=>ca,e=>ca=e);var bi=function(){return bi=Object.assign||function(e){for(var t,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(var _ in t)Object.prototype.hasOwnProperty.call(t,_)&&(e[_]=t[_])}return e},bi.apply(this,arguments)},Jr=function(e,t,i,u){function _(C){return C instanceof i?C:new i(function(F){F(C)})}return new(i||(i=Promise))(function(C,F){function K(X){try{$(u.next(X))}catch(b){F(b)}}function z(X){try{$(u.throw(X))}catch(b){F(b)}}function $(X){X.done?C(X.value):_(X.value).then(K,z)}$((u=u.apply(e,t||[])).next())})},Xr=function(e,t){var i={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},u,_,C,F;return F={next:K(0),throw:K(1),return:K(2)},typeof Symbol=="function"&&(F[Symbol.iterator]=function(){return this}),F;function K($){return function(X){return z([$,X])}}function z($){if(u)throw new TypeError("Generator is already executing.");for(;i;)try{if(u=1,_&&(C=$[0]&2?_.return:$[0]?_.throw||((C=_.return)&&C.call(_),0):_.next)&&!(C=C.call(_,$[1])).done)return C;switch(_=0,C&&($=[$[0]&2,C.value]),$[0]){case 0:case 1:C=$;break;case 4:return i.label++,{value:$[1],done:!1};case 5:i.label++,_=$[1],$=[0];continue;case 7:$=i.ops.pop(),i.trys.pop();continue;default:if(C=i.trys,!(C=C.length>0&&C[C.length-1])&&($[0]===6||$[0]===2)){i=0;continue}if($[0]===3&&(!C||$[1]>C[0]&&$[1]<C[3])){i.label=$[1];break}if($[0]===6&&i.label<C[1]){i.label=C[1],C=$;break}if(C&&i.label<C[2]){i.label=C[2],i.ops.push($);break}C[2]&&i.ops.pop(),i.trys.pop();continue}$=t.call(e,i)}catch(X){$=[6,X],_=0}finally{u=C=0}if($[0]&5)throw $[1];return{value:$[0]?$[1]:void 0,done:!0}}},ca=function(){function e(t){this.connection=t}return e.prototype.startConnection=function(t){var i=this._startPeerConnection();if(this.connection.peerConnection=i,this.connection.type===sn.Media&&t._stream&&this._addTracksToConnection(t._stream,i),t.originator){if(this.connection.type===sn.Data){var u=this.connection,_={ordered:!!t.reliable},C=i.createDataChannel(u.label,_);u.initialize(C)}this._makeOffer()}else this.handleSDP("OFFER",t.sdp)},e.prototype._startPeerConnection=function(){Ue.default.log("Creating RTCPeerConnection.");var t=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(t),t},e.prototype._setupListeners=function(t){var i=this,u=this.connection.peer,_=this.connection.connectionId,C=this.connection.type,F=this.connection.provider;Ue.default.log("Listening for ICE candidates."),t.onicecandidate=function(K){!K.candidate||!K.candidate.candidate||(Ue.default.log("Received ICE candidates for ".concat(u,":"),K.candidate),F.socket.send({type:Dt.Candidate,payload:{candidate:K.candidate,type:C,connectionId:_},dst:u}))},t.oniceconnectionstatechange=function(){switch(t.iceConnectionState){case"failed":Ue.default.log("iceConnectionState is failed, closing connections to "+u),i.connection.emit("error",new Error("Negotiation of connection to "+u+" failed.")),i.connection.close();break;case"closed":Ue.default.log("iceConnectionState is closed, closing connections to "+u),i.connection.emit("error",new Error("Connection to "+u+" closed.")),i.connection.close();break;case"disconnected":Ue.default.log("iceConnectionState changed to disconnected on the connection with "+u);break;case"completed":t.onicecandidate=ft.noop;break}i.connection.emit("iceStateChanged",t.iceConnectionState)},Ue.default.log("Listening for data channel"),t.ondatachannel=function(K){Ue.default.log("Received data channel");var z=K.channel,$=F.getConnection(u,_);$.initialize(z)},Ue.default.log("Listening for remote stream"),t.ontrack=function(K){Ue.default.log("Received remote stream");var z=K.streams[0],$=F.getConnection(u,_);if($.type===sn.Media){var X=$;i._addStreamToMediaConnection(z,X)}}},e.prototype.cleanup=function(){Ue.default.log("Cleaning up PeerConnection to "+this.connection.peer);var t=this.connection.peerConnection;if(!!t){this.connection.peerConnection=null,t.onicecandidate=t.oniceconnectionstatechange=t.ondatachannel=t.ontrack=function(){};var i=t.signalingState!=="closed",u=!1;if(this.connection.type===sn.Data){var _=this.connection,C=_.dataChannel;C&&(u=!!C.readyState&&C.readyState!=="closed")}(i||u)&&t.close()}},e.prototype._makeOffer=function(){return Jr(this,void 0,Promise,function(){var t,i,u,_,C,F,K;return Xr(this,function(z){switch(z.label){case 0:t=this.connection.peerConnection,i=this.connection.provider,z.label=1;case 1:return z.trys.push([1,7,,8]),[4,t.createOffer(this.connection.options.constraints)];case 2:u=z.sent(),Ue.default.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(u.sdp=this.connection.options.sdpTransform(u.sdp)||u.sdp),z.label=3;case 3:return z.trys.push([3,5,,6]),[4,t.setLocalDescription(u)];case 4:return z.sent(),Ue.default.log("Set localDescription:",u,"for:".concat(this.connection.peer)),_={sdp:u,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata,browser:ft.browser},this.connection.type===sn.Data&&(C=this.connection,_=bi(bi({},_),{label:C.label,reliable:C.reliable,serialization:C.serialization})),i.socket.send({type:Dt.Offer,payload:_,dst:this.connection.peer}),[3,6];case 5:return F=z.sent(),F!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(i.emitError(Pt.WebRTC,F),Ue.default.log("Failed to setLocalDescription, ",F)),[3,6];case 6:return[3,8];case 7:return K=z.sent(),i.emitError(Pt.WebRTC,K),Ue.default.log("Failed to createOffer, ",K),[3,8];case 8:return[2]}})})},e.prototype._makeAnswer=function(){return Jr(this,void 0,Promise,function(){var t,i,u,_,C;return Xr(this,function(F){switch(F.label){case 0:t=this.connection.peerConnection,i=this.connection.provider,F.label=1;case 1:return F.trys.push([1,7,,8]),[4,t.createAnswer()];case 2:u=F.sent(),Ue.default.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(u.sdp=this.connection.options.sdpTransform(u.sdp)||u.sdp),F.label=3;case 3:return F.trys.push([3,5,,6]),[4,t.setLocalDescription(u)];case 4:return F.sent(),Ue.default.log("Set localDescription:",u,"for:".concat(this.connection.peer)),i.socket.send({type:Dt.Answer,payload:{sdp:u,type:this.connection.type,connectionId:this.connection.connectionId,browser:ft.browser},dst:this.connection.peer}),[3,6];case 5:return _=F.sent(),i.emitError(Pt.WebRTC,_),Ue.default.log("Failed to setLocalDescription, ",_),[3,6];case 6:return[3,8];case 7:return C=F.sent(),i.emitError(Pt.WebRTC,C),Ue.default.log("Failed to create answer, ",C),[3,8];case 8:return[2]}})})},e.prototype.handleSDP=function(t,i){return Jr(this,void 0,Promise,function(){var u,_,C,F;return Xr(this,function(K){switch(K.label){case 0:i=new RTCSessionDescription(i),u=this.connection.peerConnection,_=this.connection.provider,Ue.default.log("Setting remote description",i),C=this,K.label=1;case 1:return K.trys.push([1,5,,6]),[4,u.setRemoteDescription(i)];case 2:return K.sent(),Ue.default.log("Set remoteDescription:".concat(t," for:").concat(this.connection.peer)),t!=="OFFER"?[3,4]:[4,C._makeAnswer()];case 3:K.sent(),K.label=4;case 4:return[3,6];case 5:return F=K.sent(),_.emitError(Pt.WebRTC,F),Ue.default.log("Failed to setRemoteDescription, ",F),[3,6];case 6:return[2]}})})},e.prototype.handleCandidate=function(t){return Jr(this,void 0,Promise,function(){var i,u,_,C,F,K;return Xr(this,function(z){switch(z.label){case 0:Ue.default.log("handleCandidate:",t),i=t.candidate,u=t.sdpMLineIndex,_=t.sdpMid,C=this.connection.peerConnection,F=this.connection.provider,z.label=1;case 1:return z.trys.push([1,3,,4]),[4,C.addIceCandidate(new RTCIceCandidate({sdpMid:_,sdpMLineIndex:u,candidate:i}))];case 2:return z.sent(),Ue.default.log("Added ICE candidate for:".concat(this.connection.peer)),[3,4];case 3:return K=z.sent(),F.emitError(Pt.WebRTC,K),Ue.default.log("Failed to handleCandidate, ",K),[3,4];case 4:return[2]}})})},e.prototype._addTracksToConnection=function(t,i){if(Ue.default.log("add tracks from stream ".concat(t.id," to peer connection")),!i.addTrack)return Ue.default.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");t.getTracks().forEach(function(u){i.addTrack(u,t)})},e.prototype._addStreamToMediaConnection=function(t,i){Ue.default.log("add stream ".concat(t.id," to media connection ").concat(i.connectionId)),i.addStream(t)},e}(),Xs={};yn(Xs,"BaseConnection",()=>da,e=>da=e);var _u=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,_){u.__proto__=_}||function(u,_){for(var C in _)Object.prototype.hasOwnProperty.call(_,C)&&(u[C]=_[C])},e(t,i)};return function(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(t,i);function u(){this.constructor=t}t.prototype=i===null?Object.create(i):(u.prototype=i.prototype,new u)}}(),da=function(e){_u(t,e);function t(i,u,_){var C=e.call(this)||this;return C.peer=i,C.provider=u,C.options=_,C._open=!1,C.metadata=_.metadata,C}return Object.defineProperty(t.prototype,"open",{get:function(){return this._open},enumerable:!1,configurable:!0}),t}(Hr.EventEmitter),wu=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,_){u.__proto__=_}||function(u,_){for(var C in _)Object.prototype.hasOwnProperty.call(_,C)&&(u[C]=_[C])},e(t,i)};return function(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(t,i);function u(){this.constructor=t}t.prototype=i===null?Object.create(i):(u.prototype=i.prototype,new u)}}(),yi=function(){return yi=Object.assign||function(e){for(var t,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(var _ in t)Object.prototype.hasOwnProperty.call(t,_)&&(e[_]=t[_])}return e},yi.apply(this,arguments)},Eu=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,i=t&&e[t],u=0;if(i)return i.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&u>=e.length&&(e=void 0),{value:e&&e[u++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},fa=function(e){wu(t,e);function t(i,u,_){var C=e.call(this,i,u,_)||this;return C._localStream=C.options._stream,C.connectionId=C.options.connectionId||t.ID_PREFIX+ft.randomToken(),C._negotiator=new Js.Negotiator(C),C._localStream&&C._negotiator.startConnection({_stream:C._localStream,originator:!0}),C}return Object.defineProperty(t.prototype,"type",{get:function(){return sn.Media},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localStream",{get:function(){return this._localStream},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"remoteStream",{get:function(){return this._remoteStream},enumerable:!1,configurable:!0}),t.prototype.addStream=function(i){Ue.default.log("Receiving stream",i),this._remoteStream=i,e.prototype.emit.call(this,"stream",i)},t.prototype.handleMessage=function(i){var u=i.type,_=i.payload;switch(i.type){case Dt.Answer:this._negotiator.handleSDP(u,_.sdp),this._open=!0;break;case Dt.Candidate:this._negotiator.handleCandidate(_.candidate);break;default:Ue.default.warn("Unrecognized message type:".concat(u," from peer:").concat(this.peer));break}},t.prototype.answer=function(i,u){var _,C;if(u===void 0&&(u={}),this._localStream){Ue.default.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=i,u&&u.sdpTransform&&(this.options.sdpTransform=u.sdpTransform),this._negotiator.startConnection(yi(yi({},this.options._payload),{_stream:i}));var F=this.provider._getMessages(this.connectionId);try{for(var K=Eu(F),z=K.next();!z.done;z=K.next()){var $=z.value;this.handleMessage($)}}catch(X){_={error:X}}finally{try{z&&!z.done&&(C=K.return)&&C.call(K)}finally{if(_)throw _.error}}this._open=!0},t.prototype.close=function(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,e.prototype.emit.call(this,"close"))},t.ID_PREFIX="mc_",t}(Xs.BaseConnection),Es={};yn(Es,"DataConnection",()=>ha,e=>ha=e);var cd={};yn(cd,"EncodingQueue",()=>la,e=>la=e);var Su=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,_){u.__proto__=_}||function(u,_){for(var C in _)Object.prototype.hasOwnProperty.call(_,C)&&(u[C]=_[C])},e(t,i)};return function(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(t,i);function u(){this.constructor=t}t.prototype=i===null?Object.create(i):(u.prototype=i.prototype,new u)}}(),la=function(e){Su(t,e);function t(){var i=e.call(this)||this;return i.fileReader=new FileReader,i._queue=[],i._processing=!1,i.fileReader.onload=function(u){i._processing=!1,u.target&&i.emit("done",u.target.result),i.doNextTask()},i.fileReader.onerror=function(u){Ue.default.error("EncodingQueue error:",u),i._processing=!1,i.destroy(),i.emit("error",u)},i}return Object.defineProperty(t.prototype,"queue",{get:function(){return this._queue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"processing",{get:function(){return this._processing},enumerable:!1,configurable:!0}),t.prototype.enque=function(i){this.queue.push(i),!this.processing&&this.doNextTask()},t.prototype.destroy=function(){this.fileReader.abort(),this._queue=[]},t.prototype.doNextTask=function(){this.size!==0&&(this.processing||(this._processing=!0,this.fileReader.readAsArrayBuffer(this.queue.shift())))},t}(Hr.EventEmitter),xu=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,_){u.__proto__=_}||function(u,_){for(var C in _)Object.prototype.hasOwnProperty.call(_,C)&&(u[C]=_[C])},e(t,i)};return function(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(t,i);function u(){this.constructor=t}t.prototype=i===null?Object.create(i):(u.prototype=i.prototype,new u)}}(),ku=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,i=t&&e[t],u=0;if(i)return i.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&u>=e.length&&(e=void 0),{value:e&&e[u++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ha=function(e){xu(t,e);function t(i,u,_){var C=e.call(this,i,u,_)||this;return C.stringify=JSON.stringify,C.parse=JSON.parse,C._buffer=[],C._bufferSize=0,C._buffering=!1,C._chunkedData={},C._encodingQueue=new cd.EncodingQueue,C.connectionId=C.options.connectionId||t.ID_PREFIX+ft.randomToken(),C.label=C.options.label||C.connectionId,C.serialization=C.options.serialization||Tn.Binary,C.reliable=!!C.options.reliable,C._encodingQueue.on("done",function(F){C._bufferedSend(F)}),C._encodingQueue.on("error",function(){Ue.default.error("DC#".concat(C.connectionId,": Error occured in encoding from blob to arraybuffer, close DC")),C.close()}),C._negotiator=new Js.Negotiator(C),C._negotiator.startConnection(C.options._payload||{originator:!0}),C}return Object.defineProperty(t.prototype,"type",{get:function(){return sn.Data},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataChannel",{get:function(){return this._dc},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bufferSize",{get:function(){return this._bufferSize},enumerable:!1,configurable:!0}),t.prototype.initialize=function(i){this._dc=i,this._configureDataChannel()},t.prototype._configureDataChannel=function(){var i=this;(!ft.supports.binaryBlob||ft.supports.reliable)&&(this.dataChannel.binaryType="arraybuffer"),this.dataChannel.onopen=function(){Ue.default.log("DC#".concat(i.connectionId," dc connection success")),i._open=!0,i.emit("open")},this.dataChannel.onmessage=function(u){Ue.default.log("DC#".concat(i.connectionId," dc onmessage:"),u.data),i._handleDataMessage(u)},this.dataChannel.onclose=function(){Ue.default.log("DC#".concat(i.connectionId," dc closed for:"),i.peer),i.close()}},t.prototype._handleDataMessage=function(i){var u=this,_=i.data,C=_.constructor,F=this.serialization===Tn.Binary||this.serialization===Tn.BinaryUTF8,K=_;if(F){if(C===Blob){ft.blobToArrayBuffer(_,function($){var X=ft.unpack($);u.emit("data",X)});return}else if(C===ArrayBuffer)K=ft.unpack(_);else if(C===String){var z=ft.binaryStringToArrayBuffer(_);K=ft.unpack(z)}}else this.serialization===Tn.JSON&&(K=this.parse(_));if(K.__peerData){this._handleChunk(K);return}e.prototype.emit.call(this,"data",K)},t.prototype._handleChunk=function(i){var u=i.__peerData,_=this._chunkedData[u]||{data:[],count:0,total:i.total};if(_.data[i.n]=i.data,_.count++,this._chunkedData[u]=_,_.total===_.count){delete this._chunkedData[u];var C=new Blob(_.data);this._handleDataMessage({data:C})}},t.prototype.close=function(){this._buffer=[],this._bufferSize=0,this._chunkedData={},this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this._dc=null),this._encodingQueue&&(this._encodingQueue.destroy(),this._encodingQueue.removeAllListeners(),this._encodingQueue=null),this.open&&(this._open=!1,e.prototype.emit.call(this,"close"))},t.prototype.send=function(i,u){if(!this.open){e.prototype.emit.call(this,"error",new Error("Connection is not open. You should listen for the `open` event before sending messages."));return}if(this.serialization===Tn.JSON)this._bufferedSend(this.stringify(i));else if(this.serialization===Tn.Binary||this.serialization===Tn.BinaryUTF8){var _=ft.pack(i);if(!u&&_.size>ft.chunkedMTU){this._sendChunks(_);return}ft.supports.binaryBlob?this._bufferedSend(_):this._encodingQueue.enque(_)}else this._bufferedSend(i)},t.prototype._bufferedSend=function(i){(this._buffering||!this._trySend(i))&&(this._buffer.push(i),this._bufferSize=this._buffer.length)},t.prototype._trySend=function(i){var u=this;if(!this.open)return!1;if(this.dataChannel.bufferedAmount>t.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(function(){u._buffering=!1,u._tryBuffer()},50),!1;try{this.dataChannel.send(i)}catch(_){return Ue.default.error("DC#:".concat(this.connectionId," Error when sending:"),_),this._buffering=!0,this.close(),!1}return!0},t.prototype._tryBuffer=function(){if(!!this.open&&this._buffer.length!==0){var i=this._buffer[0];this._trySend(i)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}},t.prototype._sendChunks=function(i){var u,_,C=ft.chunk(i);Ue.default.log("DC#".concat(this.connectionId," Try to send ").concat(C.length," chunks..."));try{for(var F=ku(C),K=F.next();!K.done;K=F.next()){var z=K.value;this.send(z,!0)}}catch($){u={error:$}}finally{try{K&&!K.done&&(_=F.return)&&_.call(F)}finally{if(u)throw u.error}}},t.prototype.handleMessage=function(i){var u=i.payload;switch(i.type){case Dt.Answer:this._negotiator.handleSDP(i.type,u.sdp);break;case Dt.Candidate:this._negotiator.handleCandidate(u.candidate);break;default:Ue.default.warn("Unrecognized message type:",i.type,"from peer:",this.peer);break}},t.ID_PREFIX="dc_",t.MAX_BUFFERED_AMOUNT=8388608,t}(Xs.BaseConnection),dd={};yn(dd,"API",()=>ma,e=>ma=e);var ua=function(e,t,i,u){function _(C){return C instanceof i?C:new i(function(F){F(C)})}return new(i||(i=Promise))(function(C,F){function K(X){try{$(u.next(X))}catch(b){F(b)}}function z(X){try{$(u.throw(X))}catch(b){F(b)}}function $(X){X.done?C(X.value):_(X.value).then(K,z)}$((u=u.apply(e,t||[])).next())})},pa=function(e,t){var i={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},u,_,C,F;return F={next:K(0),throw:K(1),return:K(2)},typeof Symbol=="function"&&(F[Symbol.iterator]=function(){return this}),F;function K($){return function(X){return z([$,X])}}function z($){if(u)throw new TypeError("Generator is already executing.");for(;i;)try{if(u=1,_&&(C=$[0]&2?_.return:$[0]?_.throw||((C=_.return)&&C.call(_),0):_.next)&&!(C=C.call(_,$[1])).done)return C;switch(_=0,C&&($=[$[0]&2,C.value]),$[0]){case 0:case 1:C=$;break;case 4:return i.label++,{value:$[1],done:!1};case 5:i.label++,_=$[1],$=[0];continue;case 7:$=i.ops.pop(),i.trys.pop();continue;default:if(C=i.trys,!(C=C.length>0&&C[C.length-1])&&($[0]===6||$[0]===2)){i=0;continue}if($[0]===3&&(!C||$[1]>C[0]&&$[1]<C[3])){i.label=$[1];break}if($[0]===6&&i.label<C[1]){i.label=C[1],C=$;break}if(C&&i.label<C[2]){i.label=C[2],i.ops.push($);break}C[2]&&i.ops.pop(),i.trys.pop();continue}$=t.call(e,i)}catch(X){$=[6,X],_=0}finally{u=C=0}if($[0]&5)throw $[1];return{value:$[0]?$[1]:void 0,done:!0}}},ma=function(){function e(t){this._options=t}return e.prototype._buildRequest=function(t){var i=this._options.secure?"https":"http",u=this._options,_=u.host,C=u.port,F=u.path,K=u.key,z=new URL("".concat(i,"://").concat(_,":").concat(C).concat(F).concat(K,"/").concat(t));return z.searchParams.set("ts","".concat(Date.now()).concat(Math.random())),z.searchParams.set("version",Ys.version),fetch(z.href,{referrerPolicy:this._options.referrerPolicy})},e.prototype.retrieveId=function(){return ua(this,void 0,Promise,function(){var t,i,u;return pa(this,function(_){switch(_.label){case 0:return _.trys.push([0,2,,3]),[4,this._buildRequest("id")];case 1:if(t=_.sent(),t.status!==200)throw new Error("Error. Status:".concat(t.status));return[2,t.text()];case 2:throw i=_.sent(),Ue.default.error("Error retrieving ID",i),u="",this._options.path==="/"&&this._options.host!==ft.CLOUD_HOST&&(u=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+u);case 3:return[2]}})})},e.prototype.listAllPeers=function(){return ua(this,void 0,Promise,function(){var t,i,u;return pa(this,function(_){switch(_.label){case 0:return _.trys.push([0,2,,3]),[4,this._buildRequest("peers")];case 1:if(t=_.sent(),t.status!==200)throw t.status===401?(i="",this._options.host===ft.CLOUD_HOST?i="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":i="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+i)):new Error("Error. Status:".concat(t.status));return[2,t.json()];case 2:throw u=_.sent(),Ue.default.error("Error retrieving list peers",u),new Error("Could not get list peers from the server."+u);case 3:return[2]}})})},e}(),Cu=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,_){u.__proto__=_}||function(u,_){for(var C in _)Object.prototype.hasOwnProperty.call(_,C)&&(u[C]=_[C])},e(t,i)};return function(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(t,i);function u(){this.constructor=t}t.prototype=i===null?Object.create(i):(u.prototype=i.prototype,new u)}}(),Pr=function(){return Pr=Object.assign||function(e){for(var t,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(var _ in t)Object.prototype.hasOwnProperty.call(t,_)&&(e[_]=t[_])}return e},Pr.apply(this,arguments)},_r=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,i=t&&e[t],u=0;if(i)return i.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&u>=e.length&&(e=void 0),{value:e&&e[u++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Tu=function(e,t){var i=typeof Symbol=="function"&&e[Symbol.iterator];if(!i)return e;var u=i.call(e),_,C=[],F;try{for(;(t===void 0||t-- >0)&&!(_=u.next()).done;)C.push(_.value)}catch(K){F={error:K}}finally{try{_&&!_.done&&(i=u.return)&&i.call(u)}finally{if(F)throw F.error}}return C},ga=function(e){Cu(t,e);function t(i,u){var _=e.call(this)||this;_._id=null,_._lastServerId=null,_._destroyed=!1,_._disconnected=!1,_._open=!1,_._connections=new Map,_._lostMessages=new Map;var C;return i&&i.constructor==Object?u=i:i&&(C=i.toString()),u=Pr({debug:0,host:ft.CLOUD_HOST,port:ft.CLOUD_PORT,path:"/",key:t.DEFAULT_KEY,token:ft.randomToken(),config:ft.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin"},u),_._options=u,_._options.host==="/"&&(_._options.host=window.location.hostname),_._options.path&&(_._options.path[0]!=="/"&&(_._options.path="/"+_._options.path),_._options.path[_._options.path.length-1]!=="/"&&(_._options.path+="/")),_._options.secure===void 0&&_._options.host!==ft.CLOUD_HOST?_._options.secure=ft.isSecure():_._options.host==ft.CLOUD_HOST&&(_._options.secure=!0),_._options.logFunction&&Ue.default.setLogFunction(_._options.logFunction),Ue.default.logLevel=_._options.debug||0,_._api=new dd.API(u),_._socket=_._createServerConnection(),!ft.supports.audioVideo&&!ft.supports.data?(_._delayedAbort(Pt.BrowserIncompatible,"The current browser does not support WebRTC"),_):!!C&&!ft.validateId(C)?(_._delayedAbort(Pt.InvalidID,'ID "'.concat(C,'" is invalid')),_):(C?_._initialize(C):_._api.retrieveId().then(function(F){return _._initialize(F)}).catch(function(F){return _._abort(Pt.ServerError,F)}),_)}return Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"open",{get:function(){return this._open},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"socket",{get:function(){return this._socket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"connections",{get:function(){var i,u,_=Object.create(null);try{for(var C=_r(this._connections),F=C.next();!F.done;F=C.next()){var K=Tu(F.value,2),z=K[0],$=K[1];_[z]=$}}catch(X){i={error:X}}finally{try{F&&!F.done&&(u=C.return)&&u.call(C)}finally{if(i)throw i.error}}return _},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disconnected",{get:function(){return this._disconnected},enumerable:!1,configurable:!0}),t.prototype._createServerConnection=function(){var i=this,u=new ad.Socket(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return u.on(Rn.Message,function(_){i._handleMessage(_)}),u.on(Rn.Error,function(_){i._abort(Pt.SocketError,_)}),u.on(Rn.Disconnected,function(){i.disconnected||(i.emitError(Pt.Network,"Lost connection to server."),i.disconnect())}),u.on(Rn.Close,function(){i.disconnected||i._abort(Pt.SocketClosed,"Underlying socket is already closed.")}),u},t.prototype._initialize=function(i){this._id=i,this.socket.start(i,this._options.token)},t.prototype._handleMessage=function(i){var u,_,C=i.type,F=i.payload,K=i.src;switch(C){case Dt.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case Dt.Error:this._abort(Pt.ServerError,F.msg);break;case Dt.IdTaken:this._abort(Pt.UnavailableID,'ID "'.concat(this.id,'" is taken'));break;case Dt.InvalidKey:this._abort(Pt.InvalidKey,'API KEY "'.concat(this._options.key,'" is invalid'));break;case Dt.Leave:Ue.default.log("Received leave message from ".concat(K)),this._cleanupPeer(K),this._connections.delete(K);break;case Dt.Expire:this.emitError(Pt.PeerUnavailable,"Could not connect to peer ".concat(K));break;case Dt.Offer:var ve=F.connectionId,Ee=this.getConnection(K,ve);if(Ee&&(Ee.close(),Ue.default.warn("Offer received for existing Connection ID:".concat(ve))),F.type===sn.Media){var z=new ws.MediaConnection(K,this,{connectionId:ve,_payload:F,metadata:F.metadata});Ee=z,this._addConnection(K,Ee),this.emit("call",z)}else if(F.type===sn.Data){var $=new Es.DataConnection(K,this,{connectionId:ve,_payload:F,metadata:F.metadata,label:F.label,serialization:F.serialization,reliable:F.reliable});Ee=$,this._addConnection(K,Ee),this.emit("connection",$)}else{Ue.default.warn("Received malformed connection type:".concat(F.type));return}var X=this._getMessages(ve);try{for(var b=_r(X),ce=b.next();!ce.done;ce=b.next()){var we=ce.value;Ee.handleMessage(we)}}catch(ke){u={error:ke}}finally{try{ce&&!ce.done&&(_=b.return)&&_.call(b)}finally{if(u)throw u.error}}break;default:if(!F){Ue.default.warn("You received a malformed message from ".concat(K," of type ").concat(C));return}var ve=F.connectionId,Ee=this.getConnection(K,ve);Ee&&Ee.peerConnection?Ee.handleMessage(i):ve?this._storeMessage(ve,i):Ue.default.warn("You received an unrecognized message:",i);break}},t.prototype._storeMessage=function(i,u){this._lostMessages.has(i)||this._lostMessages.set(i,[]),this._lostMessages.get(i).push(u)},t.prototype._getMessages=function(i){var u=this._lostMessages.get(i);return u?(this._lostMessages.delete(i),u):[]},t.prototype.connect=function(i,u){if(u===void 0&&(u={}),this.disconnected){Ue.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(Pt.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}var _=new Es.DataConnection(i,this,u);return this._addConnection(i,_),_},t.prototype.call=function(i,u,_){if(_===void 0&&(_={}),this.disconnected){Ue.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(Pt.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!u){Ue.default.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}var C=new ws.MediaConnection(i,this,Pr(Pr({},_),{_stream:u}));return this._addConnection(i,C),C},t.prototype._addConnection=function(i,u){Ue.default.log("add connection ".concat(u.type,":").concat(u.connectionId," to peerId:").concat(i)),this._connections.has(i)||this._connections.set(i,[]),this._connections.get(i).push(u)},t.prototype._removeConnection=function(i){var u=this._connections.get(i.peer);if(u){var _=u.indexOf(i);_!==-1&&u.splice(_,1)}this._lostMessages.delete(i.connectionId)},t.prototype.getConnection=function(i,u){var _,C,F=this._connections.get(i);if(!F)return null;try{for(var K=_r(F),z=K.next();!z.done;z=K.next()){var $=z.value;if($.connectionId===u)return $}}catch(X){_={error:X}}finally{try{z&&!z.done&&(C=K.return)&&C.call(K)}finally{if(_)throw _.error}}return null},t.prototype._delayedAbort=function(i,u){var _=this;setTimeout(function(){_._abort(i,u)},0)},t.prototype._abort=function(i,u){Ue.default.error("Aborting!"),this.emitError(i,u),this._lastServerId?this.disconnect():this.destroy()},t.prototype.emitError=function(i,u){Ue.default.error("Error:",u);var _;typeof u=="string"?_=new Error(u):_=u,_.type=i,this.emit("error",_)},t.prototype.destroy=function(){this.destroyed||(Ue.default.log("Destroy peer with ID:".concat(this.id)),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))},t.prototype._cleanup=function(){var i,u;try{for(var _=_r(this._connections.keys()),C=_.next();!C.done;C=_.next()){var F=C.value;this._cleanupPeer(F),this._connections.delete(F)}}catch(K){i={error:K}}finally{try{C&&!C.done&&(u=_.return)&&u.call(_)}finally{if(i)throw i.error}}this.socket.removeAllListeners()},t.prototype._cleanupPeer=function(i){var u,_,C=this._connections.get(i);if(!!C)try{for(var F=_r(C),K=F.next();!K.done;K=F.next()){var z=K.value;z.close()}}catch($){u={error:$}}finally{try{K&&!K.done&&(_=F.return)&&_.call(F)}finally{if(u)throw u.error}}},t.prototype.disconnect=function(){if(!this.disconnected){var i=this.id;Ue.default.log("Disconnect peer with ID:".concat(i)),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=i,this._id=null,this.emit("disconnected",i)}},t.prototype.reconnect=function(){if(this.disconnected&&!this.destroyed)Ue.default.log("Attempting reconnection to server with ID ".concat(this._lastServerId)),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)Ue.default.error("In a hurry? We're still trying to make the initial connection!");else throw new Error("Peer ".concat(this.id," cannot reconnect because it is not disconnected from the server!"))}},t.prototype.listAllPeers=function(i){var u=this;i===void 0&&(i=function(_){}),this._api.listAllPeers().then(function(_){return i(_)}).catch(function(_){return u._abort(Pt.ServerError,_)})},t.DEFAULT_KEY="peerjs",t}(Hr.EventEmitter),Ni=sd.Peer;const zr=(e,t)=>{const i=e.__vccOpts||e;for(const[u,_]of t)i[u]=_;return i},Ru={data(){return{boxStyle:{}}},components:{},setup(){let e=this;return{peer:ref(e.peer)}},mounted(){let e=this;this.lastPeerId=null,this.peer=null,this.conn=null,this.recvIdInput=document.getElementById("receiver-id"),this.status=document.getElementById("status"),this.message=document.getElementById("message"),this.goButton=document.getElementById("goButton"),this.resetButton=document.getElementById("resetButton"),this.fadeButton=document.getElementById("fadeButton"),this.offButton=document.getElementById("offButton"),this.sendMessageBox=document.getElementById("sendMessageBox"),this.sendButton=document.getElementById("sendButton"),this.clearMsgsButton=document.getElementById("clearMsgsButton"),this.connectButton=document.getElementById("connect-button"),this.cueString='<span class="cueMsg">Cue: </span>',this.goButton.addEventListener("click",function(){e.signal("Go")}),this.resetButton.addEventListener("click",function(){e.signal("Reset")}),this.fadeButton.addEventListener("click",function(){e.signal("Fade")}),this.offButton.addEventListener("click",function(){e.signal("Off")}),this.sendMessageBox.addEventListener("keypress",function(t){var i=t||window.event,u=i.which||i.keyCode;u=="13"&&e.sendButton.click()}),this.sendButton.addEventListener("click",function(){if(e.conn&&e.conn.open){var t=sendMessageBox.value;e.sendMessageBox.value="",e.conn.send(t),console.log("Sent: "+t),e.addMessage('<span class="selfMsg">Self: </span> '+t)}else console.log("Connection is closed")}),this.clearMsgsButton.addEventListener("click",e.clearMessages),this.connectButton.addEventListener("click",e.join),this.initialize()},created(){this.lastPeerId=null,this.peer=null,this.peerId=null,this.conn=null},methods:{initialize(){let e=this;e.peer=new Ni(null,{debug:2}),e.peer.on("open",function(t){e.peer.id===null?(console.log("Received null id from peer open"),e.peer.id=e.lastPeerId):e.lastPeerId=e.peer.id,console.log("ID: "+e.peer.id)}),e.peer.on("connection",function(t){t.on("open",function(){t.send("Sender does not accept incoming connections"),setTimeout(function(){t.close()},500)})}),e.peer.on("disconnected",function(){e.status.innerHTML="Connection lost. Please reconnect",console.log("Connection lost. Please reconnect"),e.peer.id=e.lastPeerId,e.peer._lastServerId=e.lastPeerId,e.peer.reconnect()}),e.peer.on("close",function(){e.conn=null,e.status.innerHTML="Connection destroyed. Please refresh",console.log("Connection destroyed")}),e.peer.on("error",function(t){console.log(t),alert(""+t)})},join(){let e=this;e.conn&&e.conn.close(),e.conn=e.peer.connect(e.recvIdInput.value,{reliable:!0}),e.conn.on("open",function(){e.status.innerHTML="Connected to: "+e.conn.peer,console.log("Connected to: "+e.conn.peer);var t=e.getUrlParam("command");t&&e.conn.send(t)}),e.conn.on("data",function(t){e.addMessage('<span class="peerMsg">Peer:</span> '+t)}),e.conn.on("close",function(){e.status.innerHTML="Connection closed"})},getUrlParam(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",i=new RegExp(t),u=i.exec(window.location.href);return u==null?null:u[1]},signal(e){let t=this;t.conn&&t.conn.open?(t.conn.send(e),console.log(e+" signal sent"),t.addMessage(cueString+e)):console.log("Connection is closed")},addMessage(e){var t=new Date,i=t.getHours(),u=C(t.getMinutes()),_=C(t.getSeconds());i>12?i-=12:i===0&&(i=12);function C(F){return F<10&&(F="0"+F),F}this.message.innerHTML='<br><span class="msg-time">'+i+":"+u+":"+_+"</span>  -  "+e+message.innerHTML},clearMessages(){this.message.innerHTML="",that.addMessage("Msgs cleared")}}},Au=cl('<h1 data-v-70658925>Peer-to-Peer Cue System --- Sender</h1><table class="control" data-v-70658925><tr data-v-70658925><td class="title" data-v-70658925>Status:</td><td class="title" data-v-70658925>Messages:</td></tr><tr data-v-70658925><td data-v-70658925><span style="font-weight:bold;" data-v-70658925>ID: </span><input type="text" id="receiver-id" title="Input the ID from receive.html" data-v-70658925><button id="connect-button" data-v-70658925>Connect</button></td><td data-v-70658925><input type="text" id="sendMessageBox" placeholder="Enter a message..." autofocus="true" data-v-70658925><button type="button" id="sendButton" data-v-70658925>Send</button><button type="button" id="clearMsgsButton" data-v-70658925>Clear Msgs (Local)</button></td></tr><tr data-v-70658925><td data-v-70658925><div id="status" class="status" data-v-70658925></div></td><td data-v-70658925><div class="message" id="message" data-v-70658925></div></td></tr><tr data-v-70658925><td data-v-70658925><button type="button" class="control-button" id="resetButton" data-v-70658925>Reset</button></td><td data-v-70658925><button type="button" class="control-button" id="goButton" data-v-70658925>Go</button></td></tr><tr data-v-70658925><td data-v-70658925><button type="button" class="control-button" id="fadeButton" data-v-70658925>Fade</button></td><td data-v-70658925><button type="button" class="control-button" id="offButton" data-v-70658925>Off</button></td></tr></table>',2);function Iu(e,t,i,u,_,C){return Au}const Pu=zr(Ru,[["render",Iu],["__scopeId","data-v-70658925"]]);const Bu={data(){return{boxStyle:{}}},mounted(){let e=this;this.recvId=document.getElementById("receiver-id"),this.status=document.getElementById("status"),this.message=document.getElementById("message"),this.standbyBox=document.getElementById("standby"),this.goBox=document.getElementById("go"),this.fadeBox=document.getElementById("fade"),this.offBox=document.getElementById("off"),this.sendMessageBox=document.getElementById("sendMessageBox"),this.sendButton=document.getElementById("sendButton"),this.clearMsgsButton=document.getElementById("clearMsgsButton"),this.sendMessageBox.addEventListener("keypress",function(t){var i=t||window.event,u=i.which||i.keyCode;u=="13"&&e.sendButton.click()}),this.sendButton.addEventListener("click",function(){if(e.conn&&e.conn.open){var t=e.sendMessageBox.value;e.sendMessageBox.value="",e.conn.send(t),console.log("Sent: "+t),e.addMessage('<span class="selfMsg">Self: </span>'+t)}else console.log("Connection is closed")}),e.clearMsgsButton.addEventListener("click",e.clearMessages),this.initialize()},created(){this.lastPeerId=null,this.peer=null,this.peerId=null,this.conn=null},methods:{initialize(){let e=this;e.peer=new Ni(null,{debug:2}),e.peer.on("open",function(t){e.peer.id===null?(console.log("Received null id from peer open"),e.peer.id=e.lastPeerId):e.lastPeerId=e.peer.id,console.log("ID: "+e.peer.id),e.recvId.innerHTML="ID: "+e.peer.id,e.status.innerHTML="Awaiting connection..."}),e.peer.on("connection",function(t){if(e.conn&&e.conn.open){t.on("open",function(){t.send("Already connected to another client"),setTimeout(function(){t.close()},500)});return}e.conn=t,console.log("Connected to: "+e.conn.peer),e.status.innerHTML="Connected",e.ready()}),this.peer.on("disconnected",function(){this.status.innerHTML="Connection lost. Please reconnect",console.log("Connection lost. Please reconnect"),this.peer.id=this.lastPeerId,this.peer._lastServerId=this.lastPeerId,this.peer.reconnect()}),this.peer.on("close",function(){this.conn=null,this.status.innerHTML="Connection destroyed. Please refresh",console.log("Connection destroyed")}),this.peer.on("error",function(t){console.log(t),alert(""+t)})},ready(){let e=this;e.conn.on("data",function(t){console.log("Data recieved");var i='<span class="cueMsg">Cue: </span>';switch(t){case"Go":e.go(),e.addMessage(i+t);break;case"Fade":e.fade(),e.addMessage(i+t);break;case"Off":e.off(),e.addMessage(i+t);break;case"Reset":e.reset(),e.addMessage(i+t);break;default:e.addMessage('<span class="peerMsg">Peer: </span>'+t);break}}),e.conn.on("close",function(){e.status.innerHTML="Connection reset<br>Awaiting connection...",e.conn=null})},go(){this.standbyBox.className="display-box hidden",this.goBox.className="display-box go",this.fadeBox.className="display-box hidden",this.offBox.className="display-box hidden"},fade(){this.standbyBox.className="display-box hidden",this.goBox.className="display-box hidden",this.fadeBox.className="display-box fade",this.offBox.className="display-box hidden"},off(){this.standbyBox.className="display-box hidden",this.goBox.className="display-box hidden",this.fadeBox.className="display-box hidden",this.offBox.className="display-box off"},reset(){this.standbyBox.className="display-box standby",this.goBox.className="display-box hidden",this.fadeBox.className="display-box hidden",this.offBox.className="display-box hidden"},addMessage(e){var t=new Date,i=t.getHours(),u=C(t.getMinutes()),_=C(t.getSeconds());i>12?i-=12:i===0&&(i=12);function C(F){return F<10&&(F="0"+F),F}this.message.innerHTML='<br><span class="msg-time">'+i+":"+u+":"+_+"</span>  -  "+e+message.innerHTML},clearMessages(){this.message.innerHTML="",this.addMessage("Msgs cleared")}}},$r=e=>(Ri("data-v-5e87556a"),e=e(),Ai(),e),Ou={class:"display"},Lu=$r(()=>Le("tr",null,[Le("td",{class:"title"},"Status:"),Le("td",{class:"title"},"Messages:")],-1)),Du=$r(()=>Le("tr",null,[Le("td",null,[Le("div",{id:"receiver-id",style:{"font-weight":"bold"},title:"Copy this ID to the input on send.html."},"ID: ")]),Le("td",null,[Le("input",{type:"text",id:"sendMessageBox",placeholder:"Enter a message...",autofocus:"true"}),Le("button",{type:"button",id:"sendButton"},"Send"),Le("button",{type:"button",id:"clearMsgsButton"},"Clear Msgs (Local)")])],-1)),Mu=$r(()=>Le("tr",null,[Le("td",null,[Le("div",{id:"status",class:"status"})]),Le("td",null,[Le("div",{class:"message",id:"message"})])],-1)),Nu=$r(()=>Le("tr",null,[Le("td",{class:"display-box standby",id:"standby"},[Le("h2",null,"Standby")]),Le("td",{class:"display-box hidden",id:"go"},[Le("h2",null,"Go")])],-1)),Uu=$r(()=>Le("tr",null,[Le("td",{class:"display-box hidden",id:"fade"},[Le("h2",null,"Fade")]),Le("td",{class:"display-box hidden",id:"off"},[Le("h2",null,"All Off")])],-1)),ju=[Lu,Du,Mu,Nu,Uu];function Fu(e,t,i,u,_,C){return Bi(),Oi("table",Ou,ju)}const Hu=zr(Bu,[["render",Fu],["__scopeId","data-v-5e87556a"]]);function Yi(e){let t=e.lastIndexOf("."),i=e.substr(t+1);return["png","jpg","jpeg","bmp","gif","webp","psd","svg","tiff"].indexOf(i.toLowerCase())!==-1}function zu(e){for(var t="",i=new Uint8Array(e),u=i.byteLength,_=0;_<u;_++)t+=String.fromCharCode(i[_]);return window.btoa(t)}function fd(e){const t="=".repeat((4-e.length%4)%4),i=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),u=window.atob(i),_=new Uint8Array(u.length);for(let C=0;C<u.length;++C)_[C]=u.charCodeAt(C);return _}const Ji=1200*1024;var Zr=0,Qr,Ln,ei,wr,rr=!1;const $u={data(){return{boxStyle:{}}},components:{},mounted(){let e=this;this.lastPeerId=null,this.peer=null,this.conn=null,this.localId=document.getElementById("local-id"),this.recvIdInput=document.getElementById("receiver-id"),this.status=document.getElementById("status"),this.message=document.getElementById("message"),this.sendMessageBox=document.getElementById("sendMessageBox"),this.cueString='<span class="cueMsg">Cue: </span>',this.localVideo=this.$refs.localVideo,this.remoteVideo=this.$refs.remoteVideo,this.fileReader=new FileReader,this.fileReader.onload=function(){e.conn.send(JSON.stringify({type:"file",fileContent:zu(e.fileReader.result)})),Zr++,Ji*Zr<Qr.size&&e.readNextChunk()},this.fileStream=null,this.writer=null;let t=window.location.href.split("?id=")[1];t&&(this.recvIdInput.value=t),this.sendMessageBox.addEventListener("keypress",function(i){var u=i||window.event,_=u.which||u.keyCode;_=="13"&&e.send()}),this.initialize()},created(){this.lastPeerId=null,this.peer=null,this.peerId=null,this.conn=null,this.currentCall=null,this.currentConnection=null},methods:{initialize(){let e=this;e.peer=new Ni(null,{debug:2}),e.peer.on("open",function(t){e.peer.id===null?(console.log("Received null id from peer open"),e.peer.id=e.lastPeerId):e.lastPeerId=e.peer.id,console.log("ID: "+e.peer.id),e.localId.innerHTML="ID: "+e.peer.id,e.status.innerHTML="Awaiting connection..."}),e.peer.on("connection",function(t){if(e.conn&&e.conn.open){t.on("open",function(){t.send("Already connected to another client"),setTimeout(function(){t.close()},500)});return}e.conn=t,console.log("Connected to: "+e.conn.peer),e.status.innerHTML="Connected",e.ready()}),e.peer.on("disconnected",function(){e.status.innerHTML="Connection lost. Please reconnect",console.log("Connection lost. Please reconnect"),e.peer.id=e.lastPeerId,e.peer._lastServerId=e.lastPeerId,e.peer.reconnect()}),e.peer.on("close",function(){e.conn=null,e.status.innerHTML="Connection destroyed. Please refresh",console.log("Connection destroyed")}),e.peer.on("error",function(t){console.log(t),alert(""+t)}),e.peer.on("call",async t=>{if(window.confirm(`\u662F\u5426\u63A5\u53D7 ${t.peer}?`)){const i=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});e.localVideo.srcObject=i,e.localVideo.play(),t.answer(i),t.on("stream",u=>{e.remoteVideo.srcObject=u,e.remoteVideo.play()}),e.currentCall=t}else t.close(),alert("\u5DF2\u5173\u95ED")})},async callUser(){let e=this.conn.peer,t=this;const i=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});t.localVideo.srcObject=i,t.localVideo.play();const u=t.peer.call(e,i);u.on("stream",_=>{t.remoteVideo.srcObject=_,t.remoteVideo.play()}),u.on("error",_=>{console.error(_)}),u.on("close",()=>{endCall()}),t.currentCall=u},endCall(){this.currentCall.close()},async shareDesktop(){let e=this.conn.peer,t=this;var i=new MediaStream;let u=await navigator.mediaDevices.getUserMedia({audio:!0}),_=await navigator.mediaDevices.getDisplayMedia({video:!0});u.getAudioTracks().map(F=>i.addTrack(F)),_.getVideoTracks().map(F=>i.addTrack(F)),t.localVideo.srcObject=i,t.localVideo.play();const C=t.peer.call(e,i);C.on("stream",F=>{t.remoteVideo.srcObject=F,t.remoteVideo.play()}),C.on("error",F=>{console.error(F)}),C.on("close",()=>{endCall()}),t.currentCall=C},join(){let e=this;e.conn&&e.conn.close(),e.conn=e.peer.connect(e.recvIdInput.value,{reliable:!0}),e.conn.on("open",function(){e.status.innerHTML="Connected to: "+e.conn.peer,console.log("Connected to: "+e.conn.peer);var t=e.getUrlParam("command");t&&e.conn.send(t)}),e.conn.on("data",function(t){e.dataProcess(t)}),e.conn.on("close",function(){e.status.innerHTML="Connection closed"})},ready(){let e=this;e.conn.on("data",function(t){console.log("Data recieved"),e.dataProcess(t)}),e.conn.on("close",function(){e.status.innerHTML="Connection reset<br>Awaiting connection...",e.conn=null})},dataProcess(e){let t=this,i=JSON.parse(e.toString());typeof i.type<"u"&&i.type=="msg"?t.addMessage('<span class="peerMsg">Peer: </span>'+i.msg):rr==!1?t.startDownload(i):rr&&t.progressDownload(fd(i.fileContent))},copyId(){let e=this;navigator.clipboard.writeText(""+e.peer.id).then(()=>{console.log("\u590D\u5236\u6210\u529F")})},copyShareUrl(){let e=this,i=window.location.href.split("?")[0]+"?id="+e.peer.id;navigator.clipboard.writeText(""+i).then(()=>{console.log("\u590D\u5236\u6210\u529F")})},send(){let e=this;if(e.conn&&e.conn.open){var t=e.sendMessageBox.value;e.sendMessageBox.value="",e.conn.send(JSON.stringify({type:"msg",msg:t})),console.log("Sent: "+t),e.addMessage('<span class="selfMsg">Self: </span> '+t)}else console.log("Connection is closed")},inputFunc(){let e=this;const t=this.$refs.file.files[0];Yi(t.name)&&(e.$refs.img.src=window.URL.createObjectURL(t))},sendFileBtn(){let e=this;const t=this.$refs.file.files[0];if(Zr=0,!(e.conn&&e.conn.open)){alert("\u8BF7\u5148\u8FDE\u63A5\uFF0C\u5728\u4ECE\u65B0\u4E0A\u4F20\u6587\u4EF6\u53D1\u9001\uFF01");return}Yi(t.name)&&(e.$refs.img.src=window.URL.createObjectURL(t)),e.conn.send(JSON.stringify({fileName:t.name,fileSize:t.size})),Qr=t,e.readNextChunk()},sendFile(e,t,i){let u=this,_={file:e,filename:t,filetype:i};if(!(u.conn&&u.conn.open)){alert("\u8BF7\u5148\u8FDE\u63A5\uFF0C\u5728\u4ECE\u65B0\u4E0A\u4F20\u6587\u4EF6\u53D1\u9001\uFF01");return}u.conn.send(_),console.log("send file")},readNextChunk(){let e=this,t=Ji*Zr,i=Math.min(Qr.size,t+Ji);e.fileReader.readAsArrayBuffer(Qr.slice(t,i))},startDownload(e){Ln=e,ei=[],wr=0,rr=!0,console.log("incoming file <b>"+Ln.fileName+"</b> of "+Ln.fileSize+" bytes")},progressDownload(e){let t=this;if(wr+=e.byteLength,ei.push(e),console.log("progress: "+(wr/Ln.fileSize*100).toFixed(2)+"%"),wr===Ln.fileSize&&(console.log("\u4F20\u8F93\u5B8C\u6210"),Yi(Ln.fileName))){t.addMessage('<span class="peerMsg">Peer send a file </span>');let i=new window.Blob(ei);t.$refs.img.src=window.URL.createObjectURL(i),rr=!1}wr>Ln.fileSize&&(console.log("\u5931\u8D25"),rr=!1)},downloadFile(){console.log("endDownload!"),rr=!1;let e=new window.Blob(ei),t=document.createElement("a");if(t.href=URL.createObjectURL(e),t.download=Ln.fileName,t.textContent="XXXXXXX",t.click)t.click();else{var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),t.dispatchEvent(i)}},getUrlParam(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",i=new RegExp(t),u=i.exec(window.location.href);return u==null?null:u[1]},signal(e){let t=this;t.conn&&t.conn.open?(t.conn.send(e),console.log(e+" signal sent"),t.addMessage(cueString+e)):console.log("Connection is closed")},addMessage(e){var t=new Date,i=t.getHours(),u=C(t.getMinutes()),_=C(t.getSeconds());i>12?i-=12:i===0&&(i=12);function C(F){return F<10&&(F="0"+F),F}this.message.innerHTML='<br><span class="msg-time">'+i+":"+u+":"+_+"</span>  -  "+e+message.innerHTML},clearMessages(){this.message.innerHTML="",this.addMessage("Msgs cleared")}}},zn=e=>(Ri("data-v-1d3dbd4e"),e=e(),Ai(),e),Wu={class:"control"},Ku={class:"title"},Gu=Qn("Status: "),Vu=zn(()=>Le("br",null,null,-1)),qu=zn(()=>Le("td",{class:"title"},"Messages:",-1)),Yu=zn(()=>Le("span",{style:{"font-weight":"bold"}},"ID: ",-1)),Ju=zn(()=>Le("input",{type:"text",id:"receiver-id",title:"Input the ID from receive.html"},null,-1)),Xu=zn(()=>Le("input",{type:"text",id:"sendMessageBox",placeholder:"Enter a message...",autofocus:"true"},null,-1)),Zu=zn(()=>Le("tr",null,[Le("td",null,[Le("div",{id:"status",class:"status"})]),Le("td",null,[Le("div",{class:"message",id:"message"})])],-1)),Qu={class:"display-video"},ep=zn(()=>Le("h3",null,"\u672C\u5730\u6444\u50CF\u5934",-1)),tp={controls:"",autoPlay:"",ref:"localVideo",muted:""},np={class:"display-video"},rp=zn(()=>Le("h3",null,"\u8FDC\u7A0B\u6444\u50CF\u5934",-1)),ip={controls:"",autoPlay:"",ref:"remoteVideo"},sp={id:"demoImage",ref:"img",style:{width:"50%",border:"1px solid #efefef"}};function op(e,t,i,u,_,C){return Bi(),Oi("table",Wu,[Le("tr",null,[Le("td",Ku,[Gu,Le("button",{id:"connect-button",onClick:t[0]||(t[0]=(...F)=>C.copyShareUrl&&C.copyShareUrl(...F))},"\u590D\u5236\u5206\u4EABURL"),Vu,Le("div",{id:"local-id",onClick:t[1]||(t[1]=(...F)=>C.copyId&&C.copyId(...F)),style:{"font-weight":"bold"},title:"\u70B9\u51FB\u590D\u5236ID"},"ID: ")]),qu]),Le("tr",null,[Le("td",null,[Yu,Ju,Le("button",{id:"connect-button",onClick:t[2]||(t[2]=(...F)=>C.join&&C.join(...F))},"Connect")]),Le("td",null,[Xu,Le("button",{type:"button",id:"sendButton",onClick:t[3]||(t[3]=(...F)=>C.send&&C.send(...F))},"Send"),Le("button",{type:"button",id:"clearMsgsButton",onClick:t[4]||(t[4]=(...F)=>C.clearMessages&&C.clearMessages(...F))},"Clear Msgs (Local)")])]),Zu,Le("button",{type:"button",onClick:t[5]||(t[5]=(...F)=>C.callUser&&C.callUser(...F))},"\u89C6\u9891\u901A\u8BDD"),Le("button",{type:"button",onClick:t[6]||(t[6]=(...F)=>C.endCall&&C.endCall(...F))},"\u7ED3\u675F\u901A\u8BDD"),Le("button",{type:"button",onClick:t[7]||(t[7]=(...F)=>C.shareDesktop&&C.shareDesktop(...F))},"\u684C\u9762\u5171\u4EAB"),Le("tr",null,[Le("td",Qu,[ep,Le("video",tp,null,512)]),Le("td",np,[rp,Le("video",ip,null,512)])]),Le("tr",null,[Le("td",null,[Le("input",{type:"file",accept:"*",id:"inputFile",ref:"file",onInput:t[8]||(t[8]=(...F)=>C.inputFunc&&C.inputFunc(...F))},null,544),Le("button",{type:"button",id:"sendFile",onClick:t[9]||(t[9]=(...F)=>C.sendFileBtn&&C.sendFileBtn(...F))},"\u53D1\u9001\u6587\u4EF6")]),Le("td",null,[Le("img",sp,null,512),Le("button",{type:"button",onClick:t[10]||(t[10]=(...F)=>C.downloadFile&&C.downloadFile(...F))},"\u4E0B\u8F7D\u6587\u4EF6")])])])}const ap=zr($u,[["render",op],["__scopeId","data-v-1d3dbd4e"]]);var cp={exports:{}};/*! streamsaver. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> */(function(e){((t,i)=>{e.exports=i()})("streamSaver",()=>{const t=typeof window=="object"?window:this;t.HTMLElement||console.warn("streamsaver is meant to run on browsers main thread");let i=null,u=!1;const _=ve=>{try{ve()}catch{}},C=t.WebStreamsPolyfill||{},F=t.isSecureContext;let K=/constructor/i.test(t.HTMLElement)||!!t.safari||!!t.WebKitPoint;const z=F||"MozAppearance"in document.documentElement.style?"iframe":"navigate",$={createWriteStream:we,WritableStream:t.WritableStream||C.WritableStream,supported:!0,version:{full:"2.0.5",major:2,minor:0,dot:5},mitm:"https://jimmywarting.github.io/StreamSaver.js/mitm.html?version=2.0.0"};function X(ve){if(!ve)throw new Error("meh");const Ee=document.createElement("iframe");return Ee.hidden=!0,Ee.src=ve,Ee.loaded=!1,Ee.name="iframe",Ee.isIframe=!0,Ee.postMessage=(...ke)=>Ee.contentWindow.postMessage(...ke),Ee.addEventListener("load",()=>{Ee.loaded=!0},{once:!0}),document.body.appendChild(Ee),Ee}function b(ve){const Ee="width=200,height=100",ke=document.createDocumentFragment(),Te={frame:t.open(ve,"popup",Ee),loaded:!1,isIframe:!1,isPopup:!0,remove(){Te.frame.close()},addEventListener(...V){ke.addEventListener(...V)},dispatchEvent(...V){ke.dispatchEvent(...V)},removeEventListener(...V){ke.removeEventListener(...V)},postMessage(...V){Te.frame.postMessage(...V)}},S=V=>{V.source===Te.frame&&(Te.loaded=!0,t.removeEventListener("message",S),Te.dispatchEvent(new Event("load")))};return t.addEventListener("message",S),Te}try{new Response(new ReadableStream),F&&!("serviceWorker"in navigator)&&(K=!0)}catch{K=!0}_(()=>{const{readable:ve}=new TransformStream,Ee=new MessageChannel;Ee.port1.postMessage(ve,[ve]),Ee.port1.close(),Ee.port2.close(),u=!0,Object.defineProperty($,"TransformStream",{configurable:!1,writable:!1,value:TransformStream})});function ce(){i||(i=F?X($.mitm):b($.mitm))}function we(ve,Ee,ke){let Te={size:null,pathname:null,writableStrategy:void 0,readableStrategy:void 0},S=0,V=null,O=null,g=null;if(Number.isFinite(Ee)?([ke,Ee]=[Ee,ke],console.warn("[StreamSaver] Deprecated pass an object as 2nd argument when creating a write stream"),Te.size=ke,Te.writableStrategy=Ee):Ee&&Ee.highWaterMark?(console.warn("[StreamSaver] Deprecated pass an object as 2nd argument when creating a write stream"),Te.size=ke,Te.writableStrategy=Ee):Te=Ee||{},!K){ce(),O=new MessageChannel,ve=encodeURIComponent(ve.replace(/\//g,":")).replace(/['()]/g,escape).replace(/\*/g,"%2A");const E={transferringReadable:u,pathname:Te.pathname||Math.random().toString().slice(-6)+"/"+ve,headers:{"Content-Type":"application/octet-stream; charset=utf-8","Content-Disposition":"attachment; filename*=UTF-8''"+ve}};Te.size&&(E.headers["Content-Length"]=Te.size);const v=[E,"*",[O.port2]];if(u){const r=z==="iframe"?void 0:{transform(o,a){if(!(o instanceof Uint8Array))throw new TypeError("Can only write Uint8Arrays");S+=o.length,a.enqueue(o),V&&(location.href=V,V=null)},flush(){V&&(location.href=V)}};g=new $.TransformStream(r,Te.writableStrategy,Te.readableStrategy);const m=g.readable;O.port1.postMessage({readableStream:m},[m])}O.port1.onmessage=r=>{r.data.download?z==="navigate"?(i.remove(),i=null,S?location.href=r.data.download:V=r.data.download):(i.isPopup&&(i.remove(),i=null,z==="iframe"&&X($.mitm)),X(r.data.download)):r.data.abort&&(k=[],O.port1.postMessage("abort"),O.port1.onmessage=null,O.port1.close(),O.port2.close(),O=null)},i.loaded?i.postMessage(...v):i.addEventListener("load",()=>{i.postMessage(...v)},{once:!0})}let k=[];return!K&&g&&g.writable||new $.WritableStream({write(E){if(!(E instanceof Uint8Array))throw new TypeError("Can only write Uint8Arrays");if(K){k.push(E);return}O.port1.postMessage(E),S+=E.length,V&&(location.href=V,V=null)},close(){if(K){const E=new Blob(k,{type:"application/octet-stream; charset=utf-8"}),v=document.createElement("a");v.href=URL.createObjectURL(E),v.download=ve,v.click()}else O.port1.postMessage("end")},abort(){k=[],O.port1.postMessage("abort"),O.port1.onmessage=null,O.port1.close(),O.port2.close(),O=null}},Te.writableStrategy)}return $})})(cp);var Zs={exports:{}};/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let va;var dp=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:ut):e=>(va||(va=Promise.resolve())).then(e).catch(t=>setTimeout(()=>{throw t},0));/*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var fp=hp;const lp=dp;function hp(e,t){let i,u,_,C=!0;Array.isArray(e)?(i=[],u=e.length):(_=Object.keys(e),i={},u=_.length);function F(z){function $(){t&&t(z,i),t=null}C?lp($):$()}function K(z,$,X){i[z]=X,(--u===0||$)&&F($)}u?_?_.forEach(function(z){e[z](function($,X){K(z,$,X)})}):e.forEach(function(z,$){z(function(X,b){K($,X,b)})}):F(null),C=!1}/*! drag-drop. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */Zs.exports=up;Zs.exports.processItems=hd;const ld=fp;function up(e,t){if(typeof e=="string"){const b=e;if(e=window.document.querySelector(e),!e)throw new Error(`"${b}" does not match any HTML elements`)}if(!e)throw new Error(`"${e}" is not a valid HTML element`);typeof t=="function"&&(t={onDrop:t}),e.addEventListener("dragenter",C,!1),e.addEventListener("dragover",F,!1),e.addEventListener("dragleave",K,!1),e.addEventListener("drop",z,!1);let i=!1,u=0;return function(){X(),e.removeEventListener("dragenter",C,!1),e.removeEventListener("dragover",F,!1),e.removeEventListener("dragleave",K,!1),e.removeEventListener("drop",z,!1)};function _(b){if(b.dataTransfer.items||b.dataTransfer.types){const ce=Array.from(b.dataTransfer.items),we=Array.from(b.dataTransfer.types);let ve,Ee;if(ce.length)ve=ce.filter(ke=>ke.kind==="file"),Ee=ce.filter(ke=>ke.kind==="string");else if(we.length)ve=we.filter(ke=>ke==="Files"),Ee=we.filter(ke=>ke.startsWith("text/"));else return!1;return!(ve.length===0&&!t.onDropText||Ee.length===0&&!t.onDrop||ve.length===0&&Ee.length===0)}return!1}function C(b){if(b.stopPropagation(),b.preventDefault(),!!_(b))return i?(u+=1,!1):(i=!0,t.onDragEnter&&t.onDragEnter(b),$(),!1)}function F(b){if(b.stopPropagation(),b.preventDefault(),!!_(b))return t.onDragOver&&t.onDragOver(b),b.dataTransfer.dropEffect="copy",!1}function K(b){if(b.stopPropagation(),b.preventDefault(),!!_(b))return u>0?(u-=1,!1):(i=!1,t.onDragLeave&&t.onDragLeave(b),X(),!1)}function z(b){b.stopPropagation(),b.preventDefault(),t.onDragLeave&&t.onDragLeave(b),X(),i=!1,u=0;const ce={x:b.clientX,y:b.clientY},we=b.dataTransfer.getData("text");return we&&t.onDropText&&t.onDropText(we,ce),t.onDrop&&b.dataTransfer.items&&hd(b.dataTransfer.items,(ve,Ee,ke)=>{if(ve){console.error(ve);return}if(Ee.length===0)return;const Te=b.dataTransfer.files;t.onDrop(Ee,ce,Te,ke)}),!1}function $(){e.classList.add("drag")}function X(){e.classList.remove("drag")}}function hd(e,t){e=Array.from(e).filter(i=>i.kind==="file"),e.length===0&&t(null,[],[]),ld(e.map(i=>u=>{ud(i.webkitGetAsEntry(),u)}),(i,u)=>{if(i){t(i);return}const _=u.flat(1/0),C=_.filter(K=>K.isFile),F=_.filter(K=>K.isDirectory);t(null,C,F)})}function ud(e,t){let i=[];if(e.isFile)e.file(C=>{C.fullPath=e.fullPath,C.isFile=!0,C.isDirectory=!1,t(null,C)},C=>{t(C)});else if(e.isDirectory){const C=e.createReader();u(C)}function u(C){C.readEntries(F=>{F.length>0?(i=i.concat(Array.from(F)),u(C)):_()})}function _(){ld(i.map(C=>F=>{ud(C,F)}),(C,F)=>{C?t(C):(F.push({fullPath:e.fullPath,name:e.name,isFile:!1,isDirectory:!0}),t(null,F))})}}function ti(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pd={exports:{}};(function(e,t){(function(i){e.exports=i()})(function(){var i=Math.LN2,u=Math.log,_=Math.pow,C=Math.abs,F=Math.floor,K=Math.round,z=Math.sin,$=Math.cos,X=Math.PI,b=Math.imul,ce=Math.clz32,we=String.fromCharCode,ve=Math.max,Ee=Math.ceil,ke=Math.min,Te;return function(){function S(V,O,g){function k(r,m){if(!O[r]){if(!V[r]){var o=typeof ti=="function"&&ti;if(!m&&o)return o(r,!0);if(E)return E(r,!0);var a=new Error("Cannot find module '"+r+"'");throw a.code="MODULE_NOT_FOUND",a}var l=O[r]={exports:{}};V[r][0].call(l.exports,function(s){var n=V[r][1][s];return k(n||s)},l,l.exports,S,V,O,g)}return O[r].exports}for(var E=typeof ti=="function"&&ti,v=0;v<g.length;v++)k(g[v]);return k}return S}()({1:[function(S,V){const{Readable:O}=S("streamx"),g=S("debug"),k=g("webtorrent:file-stream");V.exports=class extends O{constructor(E,v){super(v!=null?v:{}),this._torrent=E._torrent;const r=v&&v.start||0,m=v&&v.end&&v.end<E.length?v.end:E.length-1,o=E._torrent.pieceLength;this._startPiece=0|(r+E.offset)/o,this._endPiece=0|(m+E.offset)/o,this._piece=this._startPiece,this._offset=r+E.offset-this._startPiece*o,this._missing=m-r+1,this._reading=!1,this._notifying=!1,this._criticalLength=ke(0|1048576/o,2),this._torrent.select(this._startPiece,this._endPiece,!0,()=>{this._notify()})}_read(E){this._reading||(this._reading=!0,this._notify(E))}_notify(E=()=>{}){if(!this._reading||this._missing===0)return E();if(!this._torrent.bitfield.get(this._piece))return E(),this._torrent.critical(this._piece,this._piece+this._criticalLength);if(this._notifying)return E();if(this._notifying=!0,this._torrent.destroyed)return this.destroy(new Error("Torrent removed"));const v=this._piece,r={};v===this._torrent.pieces.length-1&&(r.length=this._torrent.lastPieceLength),this._torrent.store.get(v,r,(m,o)=>{if(this._notifying=!1,!this.destroyed)return k("read %s (length %s) (err %s)",v,o&&o.length,m&&m.message),m?this.destroy(m):(this._offset&&(o=o.slice(this._offset),this._offset=0),this._missing<o.length&&(o=o.slice(0,this._missing)),this._missing-=o.length,k("pushing buffer of length %s",o.length),this._reading=!1,this.push(o),this._missing===0&&this.push(null),void E())}),this._piece+=1}_destroy(E,v){this._torrent.destroyed||this._torrent.deselect(this._startPiece,this._endPiece,!0),E(v)}}},{debug:90,streamx:263}],2:[function(S,V){const O=S("events"),{PassThrough:g}=S("streamx"),k=S("path"),E=S("render-media"),{BlobWriteStream:v}=S("fast-blob-stream"),r=S("stream-with-known-length-to-buffer"),m=S("queue-microtask"),o=S("range-parser"),a=S("mime"),l=S("end-of-stream"),s=S("./file-stream.js");V.exports=class extends O{constructor(n,d){super(),this._torrent=n,this._destroyed=!1,this._fileStreams=new Set,this.name=d.name,this.path=d.path,this.length=d.length,this.offset=d.offset,this.done=!1;const c=d.offset,f=c+d.length-1;this._startPiece=0|c/this._torrent.pieceLength,this._endPiece=0|f/this._torrent.pieceLength,this.length===0&&(this.done=!0,this.emit("done")),this._serviceWorker=n.client.serviceWorker}get downloaded(){if(this._destroyed||!this._torrent.bitfield)return 0;const{pieces:n,bitfield:d,pieceLength:c,lastPieceLength:f}=this._torrent,{_startPiece:h,_endPiece:x}=this,R=I=>I===n.length-1?f:c,A=I=>{const M=I===n.length-1?f:c;return d.get(I)?M:M-n[I].missing};let w=0;for(let I=h;I<=x;I+=1){const M=A(I);if(w+=M,I===h){const L=this.offset%c;w-=ke(L,M)}if(I===x){const L=R(x)-(this.offset+this.length)%c;w-=ke(L,M)}}return w}get progress(){return this.length?this.downloaded/this.length:0}select(n){this.length===0||this._torrent.select(this._startPiece,this._endPiece,n)}deselect(){this.length===0||this._torrent.deselect(this._startPiece,this._endPiece,!1)}createReadStream(n){if(this.length===0){const c=new g;return m(()=>{c.end()}),c}const d=new s(this,n);return this._fileStreams.add(d),d.once("close",()=>{this._fileStreams.delete(d)}),d}getBuffer(n){r(this.createReadStream(),this.length,n)}getBlob(n){if(typeof window>"u")throw new Error("browser-only method");const d=new v(c=>{n(null,c)},{mimeType:this._getMimeType()});this.createReadStream().pipe(d)}getBlobURL(n){this.getBlob((d,c)=>{n(null,URL.createObjectURL(c))})}appendTo(n,d,c){if(typeof window>"u")throw new Error("browser-only method");E.append(this,n,d,c)}renderTo(n,d,c){if(typeof window>"u")throw new Error("browser-only method");E.render(this,n,d,c)}_serve(n){const d={status:200,headers:{"Accept-Ranges":"bytes","Content-Type":a.getType(this.name),"Cache-Control":"no-cache, no-store, must-revalidate, max-age=0",Expires:"0"},body:n.method==="HEAD"?"":"STREAM"};n.destination==="document"&&(d.headers["Content-Type"]="application/octet-stream",d.headers["Content-Disposition"]="attachment",d.body="DOWNLOAD");let c=o(this.length,n.headers.range||"");c.constructor===Array?(d.status=206,c=c[0],d.headers["Content-Range"]=`bytes ${c.start}-${c.end}/${this.length}`,d.headers["Content-Length"]=`${c.end-c.start+1}`):d.headers["Content-Length"]=this.length;const f=n.method==="GET"&&this.createReadStream(c);let h=null;return f&&this.emit("stream",{stream:f,req:n,file:this},x=>{h=x,l(x,()=>{x&&x.destroy(),f.destroy()})}),[d,h||f,h&&f]}getStreamURL(n=()=>{}){if(typeof window>"u")throw new Error("browser-only method");if(!this._serviceWorker)throw new Error("No worker registered");if(this._serviceWorker.state!=="activated")throw new Error("Worker isn't activated");const d=this._serviceWorker.scriptURL.slice(0,this._serviceWorker.scriptURL.lastIndexOf("/")+1).slice(window.location.origin.length),c=`${d}webtorrent/${this._torrent.infoHash}/${encodeURI(this.path)}`;n(null,c)}streamTo(n,d=()=>{}){if(typeof window>"u")throw new Error("browser-only method");if(!this._serviceWorker)throw new Error("No worker registered");if(this._serviceWorker.state!=="activated")throw new Error("Worker isn't activated");const c=this._serviceWorker.scriptURL.slice(0,this._serviceWorker.scriptURL.lastIndexOf("/")+1).slice(window.location.origin.length);n.src=`${c}webtorrent/${this._torrent.infoHash}/${encodeURI(this.path)}`,d(null,n)}_getMimeType(){return E.mime[k.extname(this.name).toLowerCase()]}_destroy(){this._destroyed=!0,this._torrent=null;for(const n of this._fileStreams)n.destroy();this._fileStreams.clear()}}},{"./file-stream.js":1,"end-of-stream":120,events:122,"fast-blob-stream":124,mime:164,path:184,"queue-microtask":205,"range-parser":210,"render-media":228,"stream-with-known-length-to-buffer":262,streamx:263}],3:[function(S,V,O){const g=S("events"),{Transform:k}=S("stream"),E=S("unordered-array-remove"),v=S("debug"),r=S("bittorrent-protocol"),m=v("webtorrent:peer");let o=!1;O.enableSecure=()=>{o=!0},O.createWebRTCPeer=(n,d,c)=>{const f=new s(n.id,"webrtc");if(f.conn=n,f.swarm=d,f.throttleGroups=c,f.conn.connected)f.onConnect();else{const h=()=>{f.conn.removeListener("connect",x),f.conn.removeListener("error",R)},x=()=>{h(),f.onConnect()},R=A=>{h(),f.destroy(A)};f.conn.once("connect",x),f.conn.once("error",R),f.startConnectTimeout()}return f},O.createTCPIncomingPeer=(n,d)=>a(n,"tcpIncoming",d),O.createUTPIncomingPeer=(n,d)=>a(n,"utpIncoming",d),O.createTCPOutgoingPeer=(n,d,c)=>l(n,d,"tcpOutgoing",c),O.createUTPOutgoingPeer=(n,d,c)=>l(n,d,"utpOutgoing",c);const a=(n,d,c)=>{const f=`${n.remoteAddress}:${n.remotePort}`,h=new s(f,d);return h.conn=n,h.addr=f,h.throttleGroups=c,h.onConnect(),h},l=(n,d,c,f)=>{const h=new s(n,c);return h.addr=n,h.swarm=d,h.throttleGroups=f,h};O.createWebSeedPeer=(n,d,c,f)=>{const h=new s(d,"webSeed");return h.swarm=c,h.conn=n,h.throttleGroups=f,h.onConnect(),h};class s extends g{constructor(d,c){super(),this.id=d,this.type=c,m("new %s Peer %s",c,d),this.addr=null,this.conn=null,this.swarm=null,this.wire=null,this.connected=!1,this.destroyed=!1,this.timeout=null,this.retries=0,this.sentPe1=!1,this.sentPe2=!1,this.sentPe3=!1,this.sentPe4=!1,this.sentHandshake=!1}onConnect(){if(!this.destroyed){this.connected=!0,m("Peer %s connected",this.id),clearTimeout(this.connectTimeout);const d=this.conn;d.once("end",()=>{this.destroy()}),d.once("close",()=>{this.destroy()}),d.once("finish",()=>{this.destroy()}),d.once("error",f=>{this.destroy(f)});const c=this.wire=new r(this.type,this.retries,o);c.once("end",()=>{this.destroy()}),c.once("close",()=>{this.destroy()}),c.once("finish",()=>{this.destroy()}),c.once("error",f=>{this.destroy(f)}),c.once("pe1",()=>{this.onPe1()}),c.once("pe2",()=>{this.onPe2()}),c.once("pe3",()=>{this.onPe3()}),c.once("pe4",()=>{this.onPe4()}),c.once("handshake",(f,h)=>{this.onHandshake(f,h)}),this.startHandshakeTimeout(),this.setThrottlePipes(),this.swarm&&(this.type==="tcpOutgoing"?o&&this.retries===0&&!this.sentPe1?this.sendPe1():!this.sentHandshake&&this.handshake():this.type!=="tcpIncoming"&&!this.sentHandshake&&this.handshake())}}sendPe1(){this.wire.sendPe1(),this.sentPe1=!0}onPe1(){this.sendPe2()}sendPe2(){this.wire.sendPe2(),this.sentPe2=!0}onPe2(){this.sendPe3()}sendPe3(){this.wire.sendPe3(this.swarm.infoHash),this.sentPe3=!0}onPe3(d){this.swarm&&(this.swarm.infoHashHash!==d&&this.destroy(new Error("unexpected crypto handshake info hash for this swarm")),this.sendPe4())}sendPe4(){this.wire.sendPe4(this.swarm.infoHash),this.sentPe4=!0}onPe4(){this.sentHandshake||this.handshake()}clearPipes(){this.conn.unpipe(),this.wire.unpipe()}setThrottlePipes(){const d=this;this.conn.pipe(this.throttleGroups.down.throttle()).pipe(new k({transform(c,f,h){d.emit("download",c.length),d.destroyed||h(null,c)}})).pipe(this.wire).pipe(this.throttleGroups.up.throttle()).pipe(new k({transform(c,f,h){d.emit("upload",c.length),d.destroyed||h(null,c)}})).pipe(this.conn)}onHandshake(d,c){if(!this.swarm||this.destroyed)return;if(this.swarm.destroyed)return this.destroy(new Error("swarm already destroyed"));if(d!==this.swarm.infoHash)return this.destroy(new Error("unexpected handshake info hash for this swarm"));if(c===this.swarm.peerId)return this.destroy(new Error("refusing to connect to ourselves"));m("Peer %s got handshake %s",this.id,d),clearTimeout(this.handshakeTimeout),this.retries=0;let f=this.addr;!f&&this.conn.remoteAddress&&this.conn.remotePort&&(f=`${this.conn.remoteAddress}:${this.conn.remotePort}`),this.swarm._onWire(this.wire,f),this.swarm&&!this.swarm.destroyed&&(this.sentHandshake||this.handshake())}handshake(){const d={dht:!this.swarm.private&&!!this.swarm.client.dht,fast:!0};this.wire.handshake(this.swarm.infoHash,this.swarm.client.peerId,d),this.sentHandshake=!0}startConnectTimeout(){clearTimeout(this.connectTimeout),this.connectTimeout=setTimeout(()=>{this.destroy(new Error("connect timeout"))},{webrtc:25e3,tcpOutgoing:5e3,utpOutgoing:5e3}[this.type]),this.connectTimeout.unref&&this.connectTimeout.unref()}startHandshakeTimeout(){clearTimeout(this.handshakeTimeout),this.handshakeTimeout=setTimeout(()=>{this.destroy(new Error("handshake timeout"))},25e3),this.handshakeTimeout.unref&&this.handshakeTimeout.unref()}destroy(d){if(this.destroyed)return;this.destroyed=!0,this.connected=!1,m("destroy %s %s (error: %s)",this.type,this.id,d&&(d.message||d)),clearTimeout(this.connectTimeout),clearTimeout(this.handshakeTimeout);const c=this.swarm,f=this.conn,h=this.wire;this.swarm=null,this.conn=null,this.wire=null,c&&h&&E(c.wires,c.wires.indexOf(h)),f&&(f.on("error",()=>{}),f.destroy()),h&&h.destroy(),c&&c.removePeer(this.id)}}},{"bittorrent-protocol":32,debug:90,events:122,stream:255,"unordered-array-remove":272}],4:[function(S,V){V.exports=class{constructor(O){this._torrent=O,this._numPieces=O.pieces.length,this._pieces=Array(this._numPieces),this._onWire=g=>{this.recalculate(),this._initWire(g)},this._onWireHave=g=>{this._pieces[g]+=1},this._onWireBitfield=()=>{this.recalculate()},this._torrent.wires.forEach(g=>{this._initWire(g)}),this._torrent.on("wire",this._onWire),this.recalculate()}getRarestPiece(O){let g=[],k=1/0;for(let E=0;E<this._numPieces;++E){if(O&&!O(E))continue;const v=this._pieces[E];v===k?g.push(E):v<k&&(g=[E],k=v)}return g.length?g[0|Math.random()*g.length]:-1}destroy(){this._torrent.removeListener("wire",this._onWire),this._torrent.wires.forEach(O=>{this._cleanupWireEvents(O)}),this._torrent=null,this._pieces=null,this._onWire=null,this._onWireHave=null,this._onWireBitfield=null}_initWire(O){O._onClose=()=>{this._cleanupWireEvents(O);for(let g=0;g<this._numPieces;++g)this._pieces[g]-=O.peerPieces.get(g)},O.on("have",this._onWireHave),O.on("bitfield",this._onWireBitfield),O.once("close",O._onClose)}recalculate(){this._pieces.fill(0);for(const O of this._torrent.wires)for(let g=0;g<this._numPieces;++g)this._pieces[g]+=O.peerPieces.get(g)}_cleanupWireEvents(O){O.removeListener("have",this._onWireHave),O.removeListener("bitfield",this._onWireBitfield),O._onClose&&O.removeListener("close",O._onClose),O._onClose=null}}},{}],5:[function(S,V){(function(O,g){(function(){function k(P,H){let Z=2+Ee(H*P.downloadSpeed()/J.BLOCK_LENGTH);if(P.peerExtendedHandshake){const se=P.peerExtendedHandshake.reqq;typeof se=="number"&&0<se&&(Z=ke(Z,se))}return Z}function E(P,H,Z){return 1+Ee(H*P.downloadSpeed()/Z)}function v(P){return 0|Math.random()*P}function r(){}const m=S("events"),o=S("fs"),a=S("net"),l=S("os"),s=S("path"),n=S("addr-to-ip-port"),{default:d}=S("bitfield"),c=S("cache-chunk-store"),f=S("chunk-store-stream/write"),h=S("cpus"),x=S("debug"),R=S("torrent-discovery"),A=S("fs-chunk-store"),w=S("simple-get"),I=S("immediate-chunk-store"),M=S("lt_donthave"),L=S("memory-chunk-store"),G=S("join-async-iterator"),Y=S("run-parallel"),ie=S("run-parallel-limit"),ae=S("parse-torrent"),J=S("torrent-piece"),B=S("pump"),y=S("queue-microtask"),p=S("random-iterate"),T=S("simple-sha1"),D=S("throughput"),j=S("ut_metadata"),U=S("ut_pex"),{Readable:N}=S("streamx"),W=S("./file.js"),Q=S("./peer.js"),ee=S("./rarity-map.js"),fe=S("./server.js"),oe=S("./utp.js"),me=S("./webconn.js"),he=x("webtorrent:torrent"),Se=5e3,Ae=3*J.BLOCK_LENGTH,pe=1,ge=O.browser?h().length:2,xe=[1e3,5e3,15e3],Ce=S("../package.json").version,de=`WebTorrent/${Ce} (https://webtorrent.io)`;let q;try{q=s.join(o.statSync("/tmp")&&"/tmp","webtorrent")}catch{q=s.join(typeof l.tmpdir=="function"?l.tmpdir():"/","webtorrent")}V.exports=class extends m{constructor(P,H,Z){super(),this._debugId="unknown infohash",this.client=H,this.announce=Z.announce,this.urlList=Z.urlList,this.path=Z.path||q,this.addUID=Z.addUID||!1,this.skipVerify=!!Z.skipVerify,this._store=Z.store||A,this._preloadedStore=Z.preloadedStore||null,this._storeCacheSlots=Z.storeCacheSlots===void 0?20:Z.storeCacheSlots,this._destroyStoreOnDestroy=Z.destroyStoreOnDestroy||!1,this._getAnnounceOpts=Z.getAnnounceOpts,typeof Z.private=="boolean"&&(this.private=Z.private),this.strategy=Z.strategy||"sequential",this.maxWebConns=Z.maxWebConns||4,this._rechokeNumSlots=Z.uploads===!1||Z.uploads===0?0:+Z.uploads||10,this._rechokeOptimisticWire=null,this._rechokeOptimisticTime=0,this._rechokeIntervalId=null,this.ready=!1,this.destroyed=!1,this.paused=Z.paused||!1,this.done=!1,this.metadata=null,this.store=null,this.storeOpts=Z.storeOpts,this.files=[],this.pieces=[],this._amInterested=!1,this._selections=[],this._critical=[],this.wires=[],this._queue=[],this._peers={},this._peersLength=0,this.received=0,this.uploaded=0,this._downloadSpeed=D(),this._uploadSpeed=D(),this._servers=[],this._xsRequests=[],this._fileModtimes=Z.fileModtimes,P!==null&&this._onTorrentId(P),this._debug("new torrent")}get timeRemaining(){return this.done?0:this.downloadSpeed===0?1/0:1e3*((this.length-this.downloaded)/this.downloadSpeed)}get downloaded(){if(!this.bitfield)return 0;let P=0;for(let H=0,Z=this.pieces.length;H<Z;++H)if(this.bitfield.get(H))P+=H===Z-1?this.lastPieceLength:this.pieceLength;else{const se=this.pieces[H];P+=se.length-se.missing}return P}get downloadSpeed(){return this._downloadSpeed()}get uploadSpeed(){return this._uploadSpeed()}get progress(){return this.length?this.downloaded/this.length:0}get ratio(){return this.uploaded/(this.received||this.length)}get numPeers(){return this.wires.length}get torrentFileBlobURL(){if(typeof window>"u")throw new Error("browser-only property");return this.torrentFile?URL.createObjectURL(new Blob([this.torrentFile],{type:"application/x-bittorrent"})):null}get _numQueued(){return this._queue.length+(this._peersLength-this._numConns)}get _numConns(){let P=0;for(const H in this._peers)this._peers[H].connected&&(P+=1);return P}_onTorrentId(P){if(this.destroyed)return;let H;try{H=ae(P)}catch{}H?(this.infoHash=H.infoHash,this._debugId=H.infoHash.toString("hex").substring(0,7),y(()=>{this.destroyed||this._onParsedTorrent(H)})):ae.remote(P,(Z,se)=>this.destroyed?void 0:Z?this._destroy(Z):void this._onParsedTorrent(se))}_onParsedTorrent(P){if(!this.destroyed){if(this._processParsedTorrent(P),!this.infoHash)return this._destroy(new Error("Malformed torrent data: No info hash"));this._rechokeIntervalId=setInterval(()=>{this._rechoke()},1e4),this._rechokeIntervalId.unref&&this._rechokeIntervalId.unref(),this.emit("_infoHash",this.infoHash),!this.destroyed&&(this.emit("infoHash",this.infoHash),this.destroyed||(this.client.listening?this._onListening():this.client.once("listening",()=>{this._onListening()})))}}_processParsedTorrent(P){this._debugId=P.infoHash.toString("hex").substring(0,7),typeof this.private<"u"&&(P.private=this.private),this.announce&&(P.announce=P.announce.concat(this.announce)),this.client.tracker&&g.WEBTORRENT_ANNOUNCE&&!P.private&&(P.announce=P.announce.concat(g.WEBTORRENT_ANNOUNCE)),this.urlList&&(P.urlList=P.urlList.concat(this.urlList)),P.announce=Array.from(new Set(P.announce)),P.urlList=Array.from(new Set(P.urlList)),Object.assign(this,P),this.magnetURI=ae.toMagnetURI(P),this.torrentFile=ae.toTorrentFile(P)}_onListening(){this.destroyed||(this.info?this._onMetadata(this):(this.xs&&this._getMetadataFromServer(),this._startDiscovery()))}_startDiscovery(){if(this.discovery||this.destroyed)return;let P=this.client.tracker;P&&(P=Object.assign({},this.client.tracker,{getAnnounceOpts:()=>{if(!this.destroyed){const H={uploaded:this.uploaded,downloaded:this.downloaded,left:ve(this.length-this.downloaded,0)};return this.client.tracker.getAnnounceOpts&&Object.assign(H,this.client.tracker.getAnnounceOpts()),this._getAnnounceOpts&&Object.assign(H,this._getAnnounceOpts()),H}}})),this.peerAddresses&&this.peerAddresses.forEach(H=>this.addPeer(H)),this.discovery=new R({infoHash:this.infoHash,announce:this.announce,peerId:this.client.peerId,dht:!this.private&&this.client.dht,tracker:P,port:this.client.torrentPort,userAgent:de,lsd:this.client.lsd}),this.discovery.on("error",H=>{this._destroy(H)}),this.discovery.on("peer",(H,Z)=>{this._debug("peer %s discovered via %s",H,Z),typeof H=="string"&&this.done||this.addPeer(H)}),this.discovery.on("trackerAnnounce",()=>{this.emit("trackerAnnounce"),this.numPeers===0&&this.emit("noPeers","tracker")}),this.discovery.on("dhtAnnounce",()=>{this.emit("dhtAnnounce"),this.numPeers===0&&this.emit("noPeers","dht")}),this.discovery.on("warning",H=>{this.emit("warning",H)})}_getMetadataFromServer(){function P(ue,be){function Re(Ie,Be,Oe){if(H.destroyed||H.metadata)return be(null);if(Ie)return H.emit("warning",new Error(`http error from xs param: ${ue}`)),be(null);if(Be.statusCode!==200)return H.emit("warning",new Error(`non-200 status code ${Be.statusCode} from xs param: ${ue}`)),be(null);let Ne;try{Ne=ae(Oe)}catch{}return Ne?Ne.infoHash===H.infoHash?(H._onMetadata(Ne),void be(null)):(H.emit("warning",new Error(`got torrent file with incorrect info hash from xs param: ${ue}`)),be(null)):(H.emit("warning",new Error(`got invalid torrent file from xs param: ${ue}`)),be(null))}if(ue.indexOf("http://")!==0&&ue.indexOf("https://")!==0)return H.emit("warning",new Error(`skipping non-http xs param: ${ue}`)),be(null);let Pe;try{Pe=w.concat({url:ue,method:"GET",headers:{"user-agent":de}},Re)}catch{return H.emit("warning",new Error(`skipping invalid url xs param: ${ue}`)),be(null)}H._xsRequests.push(Pe)}const H=this,Z=Array.isArray(this.xs)?this.xs:[this.xs],se=Z.map(ue=>be=>{P(ue,be)});Y(se)}_onMetadata(P){if(this.metadata||this.destroyed)return;this._debug("got metadata"),this._xsRequests.forEach(se=>{se.abort()}),this._xsRequests=[];let H;if(P&&P.infoHash)H=P;else try{H=ae(P)}catch(se){return this._destroy(se)}this._processParsedTorrent(H),this.metadata=this.torrentFile,this.client.enableWebSeeds&&this.urlList.forEach(se=>{this.addWebSeed(se)}),this._rarityMap=new ee(this),this.files=this.files.map(se=>new W(this,se));let Z=this._preloadedStore;if(Z||(Z=new this._store(this.pieceLength,{...this.storeOpts,torrent:this,path:this.path,files:this.files,length:this.length,name:this.name+" - "+this.infoHash.slice(0,8),addUID:this.addUID})),0<this._storeCacheSlots&&!(Z instanceof L)&&(Z=new c(Z,{max:this._storeCacheSlots})),this.store=new I(Z),this.so?this.files.forEach((se,ue)=>{this.so.includes(ue)?this.files[ue].select():this.files[ue].deselect()}):this.pieces.length!==0&&this.select(0,this.pieces.length-1,!1),this._hashes=this.pieces,this.pieces=this.pieces.map((se,ue)=>{const be=ue===this.pieces.length-1?this.lastPieceLength:this.pieceLength;return new J(be)}),this._reservations=this.pieces.map(()=>[]),this.bitfield=new d(this.pieces.length),this.emit("metadata"),!this.destroyed)if(this.skipVerify)this._markAllVerified(),this._onStore();else{const se=ue=>ue?this._destroy(ue):(this._debug("done verifying"),void this._onStore());this._debug("verifying existing torrent data"),this._fileModtimes&&this._store===A?this.getFileModtimes((ue,be)=>{if(ue)return this._destroy(ue);this.files.map((Pe,Ie)=>be[Ie]===this._fileModtimes[Ie]).every(Pe=>Pe)?(this._markAllVerified(),this._onStore()):this._verifyPieces(se)}):this._verifyPieces(se)}}getFileModtimes(P){const H=[];ie(this.files.map((Z,se)=>ue=>{const be=this.addUID?s.join(this.name+" - "+this.infoHash.slice(0,8)):s.join(this.path,Z.path);o.stat(be,(Re,Pe)=>Re&&Re.code!=="ENOENT"?ue(Re):(H[se]=Pe&&Pe.mtime.getTime(),void ue(null)))}),ge,Z=>{this._debug("done getting file modtimes"),P(Z,H)})}_verifyPieces(P){ie(this.pieces.map((H,Z)=>se=>{if(this.destroyed)return se(new Error("torrent is destroyed"));const ue={};Z===this.pieces.length-1&&(ue.length=this.lastPieceLength),this.store.get(Z,ue,(be,Re)=>this.destroyed?se(new Error("torrent is destroyed")):be?y(()=>se(null)):void T(Re,Pe=>this.destroyed?se(new Error("torrent is destroyed")):(Pe===this._hashes[Z]?(this._debug("piece verified %s",Z),this._markVerified(Z)):this._debug("piece invalid %s",Z),void se(null))))}),ge,P)}rescanFiles(P){if(this.destroyed)throw new Error("torrent is destroyed");P||(P=r),this._verifyPieces(H=>H?(this._destroy(H),P(H)):(this._checkDone(),void P(null)))}_markAllVerified(){for(let P=0;P<this.pieces.length;P++)this._markVerified(P)}_markVerified(P){this.pieces[P]=null,this._reservations[P]=null,this.bitfield.set(P,!0)}_hasAllPieces(){for(let P=0;P<this.pieces.length;P++)if(!this.bitfield.get(P))return!1;return!0}_hasNoPieces(){return!this._hasMorePieces(0)}_hasMorePieces(P){let H=0;for(let Z=0;Z<this.pieces.length;Z++)if(this.bitfield.get(Z)&&(H+=1,H>P))return!0;return!1}_onStore(){this.destroyed||(this._debug("on store"),this._startDiscovery(),this.ready=!0,this.emit("ready"),this._checkDone(),this._updateSelections(),this.wires.forEach(P=>{P.ut_metadata&&P.ut_metadata.setMetadata(this.metadata),this._onWireWithMetadata(P)}))}destroy(P,H){return typeof P=="function"?this.destroy(null,P):void this._destroy(null,P,H)}_destroy(P,H,Z){if(typeof H=="function")return this._destroy(P,null,H);if(!this.destroyed){for(const ue in this.destroyed=!0,this._debug("destroy"),this.client._remove(this),clearInterval(this._rechokeIntervalId),this._xsRequests.forEach(be=>{be.abort()}),this._rarityMap&&this._rarityMap.destroy(),this._peers)this.removePeer(ue);this.files.forEach(ue=>{ue instanceof W&&ue._destroy()});const se=this._servers.map(ue=>be=>{ue.destroy(be)});if(this.discovery&&se.push(ue=>{this.discovery.destroy(ue)}),this.store){let ue=this._destroyStoreOnDestroy;H&&H.destroyStore!==void 0&&(ue=H.destroyStore),se.push(be=>{ue?this.store.destroy(be):this.store.close(be)})}Y(se,Z),P&&(this.listenerCount("error")===0?this.client.emit("error",P):this.emit("error",P)),this.emit("close"),this.client=null,this.files=[],this.discovery=null,this.store=null,this._rarityMap=null,this._peers=null,this._servers=null,this._xsRequests=null}}addPeer(P){if(this.destroyed)throw new Error("torrent is destroyed");if(!this.infoHash)throw new Error("addPeer() must not be called before the `infoHash` event");let H;if(this.client.blocked){if(typeof P=="string"){let ue;try{ue=n(P)}catch{return this._debug("ignoring peer: invalid %s",P),this.emit("invalidPeer",P),!1}H=ue[0]}else typeof P.remoteAddress=="string"&&(H=P.remoteAddress);if(H&&this.client.blocked.contains(H))return this._debug("ignoring peer: blocked %s",P),typeof P!="string"&&P.destroy(),this.emit("blockedPeer",P),!1}const Z=this.client.utp&&this._isIPv4(H)?"utp":"tcp",se=!!this._addPeer(P,Z);return se?this.emit("peer",P):this.emit("invalidPeer",P),se}_addPeer(P,H){if(this.destroyed)return typeof P!="string"&&P.destroy(),null;if(typeof P=="string"&&!this._validAddr(P))return this._debug("ignoring peer: invalid %s",P),null;const Z=P&&P.id||P;if(this._peers[Z])return this._debug("ignoring peer: duplicate (%s)",Z),typeof P!="string"&&P.destroy(),null;if(this.paused)return this._debug("ignoring peer: torrent is paused"),typeof P!="string"&&P.destroy(),null;this._debug("add peer %s",Z);let se;return se=typeof P=="string"?H==="utp"?Q.createUTPOutgoingPeer(P,this,this.client.throttleGroups):Q.createTCPOutgoingPeer(P,this,this.client.throttleGroups):Q.createWebRTCPeer(P,this,this.client.throttleGroups),this._registerPeer(se),typeof P=="string"&&(this._queue.push(se),this._drain()),se}addWebSeed(P){if(this.destroyed)throw new Error("torrent is destroyed");let H,Z;if(typeof P=="string"){if(H=P,!/^https?:\/\/.+/.test(H))return this.emit("warning",new Error(`ignoring invalid web seed: ${H}`)),void this.emit("invalidPeer",H);if(this._peers[H])return this.emit("warning",new Error(`ignoring duplicate web seed: ${H}`)),void this.emit("invalidPeer",H);Z=new me(H,this)}else{if(!(P&&typeof P.connId=="string"))return void this.emit("warning",new Error("addWebSeed must be passed a string or connection object with id property"));if(Z=P,H=Z.connId,this._peers[H])return this.emit("warning",new Error(`ignoring duplicate web seed: ${H}`)),void this.emit("invalidPeer",H)}this._debug("add web seed %s",H);const se=Q.createWebSeedPeer(Z,H,this,this.client.throttleGroups);this._registerPeer(se),this.emit("peer",H)}_addIncomingPeer(P){return this.destroyed?P.destroy(new Error("torrent is destroyed")):this.paused?P.destroy(new Error("torrent is paused")):(this._debug("add incoming peer %s",P.id),void this._registerPeer(P))}_registerPeer(P){P.on("download",H=>{this.destroyed||(this.received+=H,this._downloadSpeed(H),this.client._downloadSpeed(H),this.emit("download",H),this.destroyed||this.client.emit("download",H))}),P.on("upload",H=>{this.destroyed||(this.uploaded+=H,this._uploadSpeed(H),this.client._uploadSpeed(H),this.emit("upload",H),this.destroyed||this.client.emit("upload",H))}),this._peers[P.id]=P,this._peersLength+=1}removePeer(P){const H=P&&P.id||P;P=this._peers[H],P&&(this._debug("removePeer %s",H),delete this._peers[H],this._peersLength-=1,P.destroy(),this._drain())}select(P,H,Z,se){if(this.destroyed)throw new Error("torrent is destroyed");if(0>P||H<P||this.pieces.length<=H)throw new Error(`invalid selection ${P} : ${H}`);Z=+Z||0,this._debug("select %s-%s (priority %s)",P,H,Z),this._selections.push({from:P,to:H,offset:0,priority:Z,notify:se||r}),this._selections.sort((ue,be)=>be.priority-ue.priority),this._updateSelections()}deselect(P,H,Z){if(this.destroyed)throw new Error("torrent is destroyed");Z=+Z||0,this._debug("deselect %s-%s (priority %s)",P,H,Z);for(let se=0;se<this._selections.length;++se){const ue=this._selections[se];if(ue.from===P&&ue.to===H&&ue.priority===Z){this._selections.splice(se,1);break}}this._updateSelections()}critical(P,H){if(this.destroyed)throw new Error("torrent is destroyed");this._debug("critical %s-%s",P,H);for(let Z=P;Z<=H;++Z)this._critical[Z]=!0;this._updateSelections()}_onWire(P,H){if(this._debug("got wire %s (%s)",P._debugId,H||"Unknown"),this.wires.push(P),H){const Z=n(H);P.remoteAddress=Z[0],P.remotePort=Z[1]}this.client.dht&&this.client.dht.listening&&P.on("port",Z=>this.destroyed||this.client.dht.destroyed?void 0:P.remoteAddress?Z===0||65536<Z?this._debug("ignoring invalid PORT from peer"):(this._debug("port: %s (from %s)",Z,H),void this.client.dht.addNode({host:P.remoteAddress,port:Z})):this._debug("ignoring PORT from peer with no address")),P.on("timeout",()=>{this._debug("wire timeout (%s)",H),P.destroy()}),P.type!=="webSeed"&&P.setTimeout(3e4,!0),P.setKeepAlive(!0),P.use(j(this.metadata)),P.ut_metadata.on("warning",Z=>{this._debug("ut_metadata warning: %s",Z.message)}),this.metadata||(P.ut_metadata.on("metadata",Z=>{this._debug("got metadata via ut_metadata"),this._onMetadata(Z)}),P.ut_metadata.fetch()),typeof U!="function"||this.private||(P.use(U()),P.ut_pex.on("peer",Z=>{this.done||(this._debug("ut_pex: got peer: %s (from %s)",Z,H),this.addPeer(Z))}),P.ut_pex.on("dropped",Z=>{const se=this._peers[Z];se&&!se.connected&&(this._debug("ut_pex: dropped peer: %s (from %s)",Z,H),this.removePeer(Z))}),P.once("close",()=>{P.ut_pex.reset()})),P.use(M()),this.emit("wire",P,H),this.ready&&y(()=>{this._onWireWithMetadata(P)})}_onWireWithMetadata(P){let H=null;const Z=()=>{this.destroyed||P.destroyed||(this._numQueued>2*(this._numConns-this.numPeers)&&P.amInterested?P.destroy():(H=setTimeout(Z,Se),H.unref&&H.unref()))};let se;const ue=()=>{if(P.peerPieces.buffer.length===this.bitfield.buffer.length){for(se=0;se<this.pieces.length;++se)if(!P.peerPieces.get(se))return;P.isSeeder=!0,P.choke()}};P.on("bitfield",()=>{ue(),this._update(),this._updateWireInterest(P)}),P.on("have",()=>{ue(),this._update(),this._updateWireInterest(P)}),P.lt_donthave.on("donthave",()=>{ue(),this._update(),this._updateWireInterest(P)}),P.on("have-all",()=>{P.isSeeder=!0,P.choke(),this._update(),this._updateWireInterest(P)}),P.on("have-none",()=>{P.isSeeder=!1,this._update(),this._updateWireInterest(P)}),P.on("allowed-fast",()=>{this._update()}),P.once("interested",()=>{P.unchoke()}),P.once("close",()=>{clearTimeout(H)}),P.on("choke",()=>{clearTimeout(H),H=setTimeout(Z,Se),H.unref&&H.unref()}),P.on("unchoke",()=>{clearTimeout(H),this._update()}),P.on("request",(be,Re,Pe,Ie)=>Pe>131072?P.destroy():void(this.pieces[be]||this.store.get(be,{offset:Re,length:Pe},Ie))),P.hasFast&&this._hasAllPieces()?P.haveAll():P.hasFast&&this._hasNoPieces()?P.haveNone():P.bitfield(this.bitfield),this._updateWireInterest(P),P.peerExtensions.dht&&this.client.dht&&this.client.dht.listening&&P.port(this.client.dht.address().port),P.type!=="webSeed"&&(H=setTimeout(Z,Se),H.unref&&H.unref()),P.isSeeder=!1,ue()}_updateSelections(){!this.ready||this.destroyed||(y(()=>{this._gcSelections()}),this._updateInterest(),this._update())}_gcSelections(){for(let P=0;P<this._selections.length;++P){const H=this._selections[P],Z=H.offset;for(;this.bitfield.get(H.from+H.offset)&&H.from+H.offset<H.to;)H.offset+=1;Z!==H.offset&&H.notify(),H.to===H.from+H.offset&&this.bitfield.get(H.from+H.offset)&&(this._selections.splice(P,1),P-=1,H.notify(),this._updateInterest())}this._selections.length||this.emit("idle")}_updateInterest(){const P=this._amInterested;this._amInterested=!!this._selections.length,this.wires.forEach(H=>this._updateWireInterest(H)),P===this._amInterested||(this._amInterested?this.emit("interested"):this.emit("uninterested"))}_updateWireInterest(P){let H=!1;for(let Z=0;Z<this.pieces.length;++Z)if(this.pieces[Z]&&P.peerPieces.get(Z)){H=!0;break}H?P.interested():P.uninterested()}_update(){if(!this.destroyed){const P=p(this.wires);for(let H;H=P();)this._updateWireWrapper(H)}}_updateWireWrapper(P){const H=this;typeof window<"u"&&typeof window.requestIdleCallback=="function"?window.requestIdleCallback(()=>{H._updateWire(P)},{timeout:250}):H._updateWire(P)}_updateWire(P){function H(Ie,Be,Oe,Ne){return De=>De>=Ie&&De<=Be&&!(De in Oe)&&P.peerPieces.get(De)&&(!Ne||Ne(De))}function Z(){const Ie=P.downloadSpeed()||1;if(Ie>Ae)return()=>!0;const Be=ve(1,P.requests.length)*J.BLOCK_LENGTH/Ie;let Oe=10,Ne=0;return De=>{if(!Oe||be.bitfield.get(De))return!0;for(let We=be.pieces[De].missing;Ne<be.wires.length;Ne++){const Ge=be.wires[Ne],je=Ge.downloadSpeed();if(!(je<Ae)&&!(je<=Ie)&&Ge.peerPieces.get(De)&&!(0<(We-=je*Be)))return Oe--,!1}return!0}}function se(Ie){let Be=Ie;for(let Ne=Ie;Ne<be._selections.length&&be._selections[Ne].priority;Ne++)Be=Ne;const Oe=be._selections[Ie];be._selections[Ie]=be._selections[Be],be._selections[Be]=Oe}function ue(Ie){if(P.requests.length>=Pe)return!0;const Be=Z();for(let Oe=0;Oe<be._selections.length;Oe++){const Ne=be._selections[Oe];let De;if(be.strategy==="rarest"){const We=Ne.from+Ne.offset,Ge=Ne.to,je={};let ot=0;for(const dt=H(We,Ge,je,Be);ot<Ge-We+1&&(De=be._rarityMap.getRarestPiece(dt),!(0>De));){for(;be._request(P,De,be._critical[De]||Ie)&&P.requests.length<Pe;);if(P.requests.length<Pe){je[De]=!0,ot++;continue}return Ne.priority&&se(Oe),!0}}else for(De=Ne.from+Ne.offset;De<=Ne.to;De++)if(P.peerPieces.get(De)&&Be(De)){for(;be._request(P,De,be._critical[De]||Ie)&&P.requests.length<Pe;);if(!(P.requests.length<Pe))return Ne.priority&&se(Oe),!0}}return!1}const be=this,Re=k(P,.5);if(P.requests.length>=Re)return;const Pe=k(P,pe);return P.peerChoking?void(P.hasFast&&0<P.peerAllowedFastSet.length&&!this._hasMorePieces(P.peerAllowedFastSet.length-1)&&function(){if(P.requests.length>=Pe)return!1;for(const Ie of P.peerAllowedFastSet){if(P.peerPieces.get(Ie)&&!be.bitfield.get(Ie))for(;be._request(P,Ie,!1)&&P.requests.length<Pe;);if(!(P.requests.length<Pe))return!0}return!1}()):P.downloaded?void(ue(!1)||ue(!0)):function(){if(!P.requests.length)for(let Ie=be._selections.length;Ie--;){const Be=be._selections[Ie];let Oe;if(be.strategy==="rarest"){const Ne=Be.from+Be.offset,De=Be.to,We={};let Ge=0;for(const je=H(Ne,De,We);Ge<De-Ne+1&&(Oe=be._rarityMap.getRarestPiece(je),!(0>Oe));){if(be._request(P,Oe,!1))return;We[Oe]=!0,Ge+=1}}else for(Oe=Be.to;Oe>=Be.from+Be.offset;--Oe)if(P.peerPieces.get(Oe)&&be._request(P,Oe,!1))return}}()}_rechoke(){if(this.ready){const P=this.wires.map(H=>({wire:H,random:Math.random()})).sort((H,Z)=>{const se=H.wire,ue=Z.wire;return se.downloadSpeed()===ue.downloadSpeed()?se.uploadSpeed()===ue.uploadSpeed()?se.amChoking===ue.amChoking?H.random-Z.random:se.amChoking?-1:1:se.uploadSpeed()-ue.uploadSpeed():se.downloadSpeed()-ue.downloadSpeed()}).map(H=>H.wire);0>=this._rechokeOptimisticTime?this._rechokeOptimisticWire=null:this._rechokeOptimisticTime-=1;for(let H=0;0<P.length&&H<this._rechokeNumSlots-1;){const Z=P.pop();Z.isSeeder||Z===this._rechokeOptimisticWire||(Z.unchoke(),Z.peerInterested&&H++)}if(this._rechokeOptimisticWire===null&&0<this._rechokeNumSlots){const H=P.filter(Z=>Z.peerInterested);if(0<H.length){const Z=H[v(H.length)];Z.unchoke(),this._rechokeOptimisticWire=Z,this._rechokeOptimisticTime=2}}P.filter(H=>H!==this._rechokeOptimisticWire).forEach(H=>H.choke())}}_hotswap(P,H){const Z=P.downloadSpeed();if(Z<J.BLOCK_LENGTH||!this._reservations[H])return!1;const se=this._reservations[H];if(!se)return!1;let ue=1/0,be,Re;for(Re=0;Re<se.length;Re++){const Pe=se[Re];if(!Pe||Pe===P)continue;const Ie=Pe.downloadSpeed();Ie>=Ae||2*Ie>Z||Ie>ue||(be=Pe,ue=Ie)}if(!be)return!1;for(Re=0;Re<se.length;Re++)se[Re]===be&&(se[Re]=null);for(Re=0;Re<be.requests.length;Re++){const Pe=be.requests[Re];Pe.piece===H&&this.pieces[H].cancel(0|Pe.offset/J.BLOCK_LENGTH)}return this.emit("hotswap",be,P,H),!0}_request(P,H,Z){function se(){y(()=>{ue._update()})}const ue=this,be=P.requests.length,Re=P.type==="webSeed";if(ue.bitfield.get(H))return!1;const Pe=Re?ke(E(P,pe,ue.pieceLength),ue.maxWebConns):k(P,pe);if(be>=Pe)return!1;const Ie=ue.pieces[H];let Be=Re?Ie.reserveRemaining():Ie.reserve();if(Be===-1&&Z&&ue._hotswap(P,H)&&(Be=Re?Ie.reserveRemaining():Ie.reserve()),Be===-1)return!1;let Oe=ue._reservations[H];Oe||(Oe=ue._reservations[H]=[]);let Ne=Oe.indexOf(null);Ne===-1&&(Ne=Oe.length),Oe[Ne]=P;const De=Ie.chunkOffset(Be),We=Re?Ie.chunkLengthRemaining(Be):Ie.chunkLength(Be);return P.request(H,De,We,function Ge(je,ot){if(ue.destroyed)return;if(!ue.ready)return ue.once("ready",()=>{Ge(je,ot)});if(Oe[Ne]===P&&(Oe[Ne]=null),Ie!==ue.pieces[H])return se();if(je)return ue._debug("error getting piece %s (offset: %s length: %s) from %s: %s",H,De,We,`${P.remoteAddress}:${P.remotePort}`,je.message),Re?Ie.cancelRemaining(Be):Ie.cancel(Be),void se();if(ue._debug("got piece %s (offset: %s length: %s) from %s",H,De,We,`${P.remoteAddress}:${P.remotePort}`),!Ie.set(Be,ot,P))return se();const dt=Ie.flush();T(dt,ze=>{ue.destroyed||(ze===ue._hashes[H]?(ue._debug("piece verified %s",H),ue.store.put(H,dt,lt=>lt?void ue._destroy(lt):(ue.pieces[H]=null,ue._markVerified(H),ue.wires.forEach(ht=>{ht.have(H)}),ue._checkDone()&&!ue.destroyed&&ue.discovery.complete(),void se()))):(ue.pieces[H]=new J(Ie.length),ue.emit("warning",new Error(`Piece ${H} failed verification`)),se()))})}),!0}_checkDone(){if(this.destroyed)return;this.files.forEach(H=>{if(!H.done){for(let Z=H._startPiece;Z<=H._endPiece;++Z)if(!this.bitfield.get(Z))return;H.done=!0,H.emit("done"),this._debug(`file done: ${H.name}`)}});let P=!0;for(const H of this._selections){for(let Z=H.from;Z<=H.to;Z++)if(!this.bitfield.get(Z)){P=!1;break}if(!P)break}return!this.done&&P?(this.done=!0,this._debug(`torrent done: ${this.infoHash}`),this.emit("done")):this.done=!1,this._gcSelections(),P}load(P,H){if(this.destroyed)throw new Error("torrent is destroyed");if(!this.ready)return this.once("ready",()=>{this.load(P,H)});Array.isArray(P)||(P=[P]),H||(H=r);const Z=N.from(G(P)),se=new f(this.store,this.pieceLength);B(Z,se,ue=>ue?H(ue):(this._markAllVerified(),this._checkDone(),void H(null)))}createServer(P){if(typeof fe!="function")throw new Error("node.js-only method");if(this.destroyed)throw new Error("torrent is destroyed");const H=new fe(this,P);return this._servers.push(H),H}pause(){this.destroyed||(this._debug("pause"),this.paused=!0)}resume(){this.destroyed||(this._debug("resume"),this.paused=!1,this._drain())}_debug(){const P=[].slice.call(arguments);P[0]=`[${this.client?this.client._debugId:"No Client"}] [${this._debugId}] ${P[0]}`,he(...P)}_drain(){if(this._debug("_drain numConns %s maxConns %s",this._numConns,this.client.maxConns),typeof a.connect!="function"||this.destroyed||this.paused||this._numConns>=this.client.maxConns)return;this._debug("drain (%s queued, %s/%s peers)",this._numQueued,this.numPeers,this.client.maxConns);const P=this._queue.shift();if(!P)return;this._debug("%s connect attempt to %s",P.type,P.addr);const H=n(P.addr),Z={host:H[0],port:H[1]};P.conn=this.client.utp&&P.type==="utpOutgoing"?oe.connect(Z.port,Z.host):a.connect(Z);const se=P.conn;se.once("connect",()=>{P.onConnect()}),se.once("error",ue=>{P.destroy(ue)}),P.startConnectTimeout(),se.on("close",()=>{if(!this.destroyed){if(P.retries>=xe.length){if(this.client.utp){const Re=this._addPeer(P.addr,"tcp");Re&&(Re.retries=0)}else this._debug("conn %s closed: will not re-add (max %s attempts)",P.addr,xe.length);return}const ue=xe[P.retries];this._debug("conn %s closed: will re-add to queue in %sms (attempt %s)",P.addr,ue,P.retries+1);const be=setTimeout(()=>{if(!this.destroyed){const Re=n(P.addr)[0],Pe=this.client.utp&&this._isIPv4(Re)?"utp":"tcp",Ie=this._addPeer(P.addr,Pe);Ie&&(Ie.retries=P.retries+1)}},ue);be.unref&&be.unref()}})}_validAddr(P){let H;try{H=n(P)}catch{return!1}const Z=H[0],se=H[1];return 0<se&&65535>se&&(Z!=="127.0.0.1"||se!==this.client.torrentPort)}_isIPv4(P){return/^((?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])[.]){3}(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])$/.test(P)}}}).call(this)}).call(this,S("_process"),typeof ut>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:ut)},{"../package.json":281,"./file.js":2,"./peer.js":3,"./rarity-map.js":4,"./server.js":41,"./utp.js":41,"./webconn.js":6,_process:192,"addr-to-ip-port":7,bitfield:31,"cache-chunk-store":77,"chunk-store-stream/write":78,cpus:81,debug:90,events:122,fs:41,"fs-chunk-store":160,"immediate-chunk-store":145,"join-async-iterator":149,lt_donthave:156,"memory-chunk-store":160,net:41,os:41,"parse-torrent":183,path:184,pump:200,"queue-microtask":205,"random-iterate":207,"run-parallel":232,"run-parallel-limit":231,"simple-get":245,"simple-sha1":247,streamx:263,throughput:267,"torrent-discovery":269,"torrent-piece":270,ut_metadata:275,ut_pex:41}],6:[function(S,V,O){(function(g){(function(){const{default:k}=S("bitfield"),E=S("debug"),v=S("simple-get"),r=S("lt_donthave"),m=S("simple-sha1"),o=S("bittorrent-protocol"),a=E("webtorrent:webconn"),l=S("../package.json").version,s=6e4,n=1e4;class d extends o{constructor(f,h){super(),this.url=f,this.connId=f,this.webPeerId=m.sync(f),this._torrent=h,this._init()}_init(){this.setKeepAlive(!0),this.use(r()),this.once("handshake",(f,h)=>{if(this.destroyed)return;this.handshake(f,this.webPeerId);const x=this._torrent.pieces.length,R=new k(x);for(let A=0;A<=x;A++)R.set(A,!0);this.bitfield(R)}),this.once("interested",()=>{a("interested"),this.unchoke()}),this.on("uninterested",()=>{a("uninterested")}),this.on("choke",()=>{a("choke")}),this.on("unchoke",()=>{a("unchoke")}),this.on("bitfield",()=>{a("bitfield")}),this.lt_donthave.on("donthave",()=>{a("donthave")}),this.on("request",(f,h,x,R)=>{a("request pieceIndex=%d offset=%d length=%d",f,h,x),this.httpRequest(f,h,x,(A,w)=>{if(A){this.lt_donthave.donthave(f);const I=setTimeout(()=>{this.destroyed||this.have(f)},n);I.unref&&I.unref()}R(A,w)})})}httpRequest(f,h,x,R){const A=f*this._torrent.pieceLength,w=A+h,I=w+x-1,M=this._torrent.files;let L;if(1>=M.length)L=[{url:this.url,start:w,end:I}];else{const ae=M.filter(J=>J.offset<=I&&J.offset+J.length>w);if(1>ae.length)return R(new Error("Could not find file corresponding to web seed range request"));L=ae.map(J=>{const B=J.offset+J.length-1;return{url:this.url+(this.url[this.url.length-1]==="/"?"":"/")+J.path.replace(this._torrent.path,""),fileOffsetInRange:ve(J.offset-w,0),start:ve(w-J.offset,0),end:ke(B,I-J.offset)}})}let G=0,Y=!1,ie;1<L.length&&(ie=g.alloc(x)),L.forEach(ae=>{function J(D,j){return 200>D.statusCode||300<=D.statusCode?Y?void 0:(Y=!0,R(new Error(`Unexpected HTTP status code ${D.statusCode}`))):(a("Got data of length %d",j.length),void(L.length===1?R(null,j):(j.copy(ie,ae.fileOffsetInRange),++G===L.length&&R(null,ie))))}const B=ae.url,y=ae.start,p=ae.end;a("Requesting url=%s pieceIndex=%d offset=%d length=%d start=%d end=%d",B,f,h,x,y,p);const T={url:B,method:"GET",headers:{"user-agent":`WebTorrent/${l} (https://webtorrent.io)`,range:`bytes=${y}-${p}`},timeout:s};v.concat(T,(D,j,U)=>Y?void 0:D?typeof window>"u"||B.startsWith(`${window.location.origin}/`)?(Y=!0,R(D)):v.head(B,(N,W)=>Y?void 0:N?(Y=!0,R(N)):200>W.statusCode||300<=W.statusCode?(Y=!0,R(new Error(`Unexpected HTTP status code ${W.statusCode}`))):W.url===B?(Y=!0,R(D)):(T.url=W.url,void v.concat(T,(Q,ee,fe)=>Y?void 0:Q?(Y=!0,R(Q)):void J(ee,fe)))):void J(j,U))})}destroy(){super.destroy(),this._torrent=null}}V.exports=d}).call(this)}).call(this,S("buffer").Buffer)},{"../package.json":281,bitfield:31,"bittorrent-protocol":32,buffer:75,debug:90,lt_donthave:156,"simple-get":245,"simple-sha1":247}],7:[function(S,V,O){const g=/^\[?([^\]]+)]?:(\d+)$/;let k=new Map;V.exports=function(v){if(k.size===1e5&&k.clear(),!k.has(v)){const r=g.exec(v);if(!r)throw new Error(`invalid addr: ${v}`);k.set(v,[r[1],+r[2]])}return k.get(v)}},{}],8:[function(S,V,O){const g=O;g.bignum=S("bn.js"),g.define=S("./asn1/api").define,g.base=S("./asn1/base"),g.constants=S("./asn1/constants"),g.decoders=S("./asn1/decoders"),g.encoders=S("./asn1/encoders")},{"./asn1/api":9,"./asn1/base":11,"./asn1/constants":15,"./asn1/decoders":17,"./asn1/encoders":20,"bn.js":22}],9:[function(S,V,O){function g(m,o){this.name=m,this.body=o,this.decoders={},this.encoders={}}const k=S("./encoders"),E=S("./decoders"),v=S("inherits"),r=O;r.define=function(o,a){return new g(o,a)},g.prototype._createNamed=function(o){function a(s){this._initNamed(s,l)}const l=this.name;return v(a,o),a.prototype._initNamed=function(n,d){o.call(this,n,d)},new a(this)},g.prototype._getDecoder=function(o){return o=o||"der",this.decoders.hasOwnProperty(o)||(this.decoders[o]=this._createNamed(E[o])),this.decoders[o]},g.prototype.decode=function(o,a,l){return this._getDecoder(a).decode(o,l)},g.prototype._getEncoder=function(o){return o=o||"der",this.encoders.hasOwnProperty(o)||(this.encoders[o]=this._createNamed(k[o])),this.encoders[o]},g.prototype.encode=function(o,a,l){return this._getEncoder(a).encode(o,l)}},{"./decoders":17,"./encoders":20,inherits:146}],10:[function(S,V,O){function g(m,o){return v.call(this,o),r.isBuffer(m)?(this.base=m,this.offset=0,void(this.length=m.length)):void this.error("Input not Buffer")}function k(m,o){if(Array.isArray(m))this.length=0,this.value=m.map(function(a){return k.isEncoderBuffer(a)||(a=new k(a,o)),this.length+=a.length,a},this);else if(typeof m=="number"){if(!(0<=m&&255>=m))return o.error("non-byte EncoderBuffer value");this.value=m,this.length=1}else if(typeof m=="string")this.value=m,this.length=r.byteLength(m);else if(r.isBuffer(m))this.value=m,this.length=m.length;else return o.error("Unsupported type: "+typeof m)}const E=S("inherits"),v=S("../base/reporter").Reporter,r=S("safer-buffer").Buffer;E(g,v),O.DecoderBuffer=g,g.isDecoderBuffer=function(o){return o instanceof g?!0:typeof o=="object"&&r.isBuffer(o.base)&&o.constructor.name==="DecoderBuffer"&&typeof o.offset=="number"&&typeof o.length=="number"&&typeof o.save=="function"&&typeof o.restore=="function"&&typeof o.isEmpty=="function"&&typeof o.readUInt8=="function"&&typeof o.skip=="function"&&typeof o.raw=="function"},g.prototype.save=function(){return{offset:this.offset,reporter:v.prototype.save.call(this)}},g.prototype.restore=function(o){const a=new g(this.base);return a.offset=o.offset,a.length=this.offset,this.offset=o.offset,v.prototype.restore.call(this,o.reporter),a},g.prototype.isEmpty=function(){return this.offset===this.length},g.prototype.readUInt8=function(o){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(o||"DecoderBuffer overrun")},g.prototype.skip=function(o,a){if(!(this.offset+o<=this.length))return this.error(a||"DecoderBuffer overrun");const l=new g(this.base);return l._reporterState=this._reporterState,l.offset=this.offset,l.length=this.offset+o,this.offset+=o,l},g.prototype.raw=function(o){return this.base.slice(o?o.offset:this.offset,this.length)},O.EncoderBuffer=k,k.isEncoderBuffer=function(o){return o instanceof k?!0:typeof o=="object"&&o.constructor.name==="EncoderBuffer"&&typeof o.length=="number"&&typeof o.join=="function"},k.prototype.join=function(o,a){return o||(o=r.alloc(this.length)),a||(a=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(l){l.join(o,a),a+=l.length}):(typeof this.value=="number"?o[a]=this.value:typeof this.value=="string"?o.write(this.value,a):r.isBuffer(this.value)&&this.value.copy(o,a),a+=this.length)),o}},{"../base/reporter":13,inherits:146,"safer-buffer":235}],11:[function(S,V,O){const g=O;g.Reporter=S("./reporter").Reporter,g.DecoderBuffer=S("./buffer").DecoderBuffer,g.EncoderBuffer=S("./buffer").EncoderBuffer,g.Node=S("./node")},{"./buffer":10,"./node":12,"./reporter":13}],12:[function(S,V,O){function g(s,n,d){const c={};this._baseState=c,c.name=d,c.enc=s,c.parent=n||null,c.children=null,c.tag=null,c.args=null,c.reverseArgs=null,c.choice=null,c.optional=!1,c.any=!1,c.obj=!1,c.use=null,c.useDecoder=null,c.key=null,c.default=null,c.explicit=null,c.implicit=null,c.contains=null,c.parent||(c.children=[],this._wrap())}const k=S("../base/reporter").Reporter,E=S("../base/buffer").EncoderBuffer,v=S("../base/buffer").DecoderBuffer,r=S("minimalistic-assert"),m=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],o=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(m),a=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];V.exports=g;const l=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];g.prototype.clone=function(){const n=this._baseState,d={};l.forEach(function(f){d[f]=n[f]});const c=new this.constructor(d.parent);return c._baseState=d,c},g.prototype._wrap=function(){const n=this._baseState;o.forEach(function(d){this[d]=function(){const f=new this.constructor(this);return n.children.push(f),f[d].apply(f,arguments)}},this)},g.prototype._init=function(n){const d=this._baseState;r(d.parent===null),n.call(this),d.children=d.children.filter(function(c){return c._baseState.parent===this},this),r.equal(d.children.length,1,"Root node can have only one child")},g.prototype._useArgs=function(n){const d=this._baseState,c=n.filter(function(f){return f instanceof this.constructor},this);n=n.filter(function(f){return!(f instanceof this.constructor)},this),c.length!==0&&(r(d.children===null),d.children=c,c.forEach(function(f){f._baseState.parent=this},this)),n.length!==0&&(r(d.args===null),d.args=n,d.reverseArgs=n.map(function(f){if(typeof f!="object"||f.constructor!==Object)return f;const h={};return Object.keys(f).forEach(function(x){x==(0|x)&&(x|=0);const R=f[x];h[R]=x}),h}))},a.forEach(function(s){g.prototype[s]=function(){const d=this._baseState;throw new Error(s+" not implemented for encoding: "+d.enc)}}),m.forEach(function(s){g.prototype[s]=function(){const d=this._baseState,c=Array.prototype.slice.call(arguments);return r(d.tag===null),d.tag=s,this._useArgs(c),this}}),g.prototype.use=function(n){r(n);const d=this._baseState;return r(d.use===null),d.use=n,this},g.prototype.optional=function(){const n=this._baseState;return n.optional=!0,this},g.prototype.def=function(n){const d=this._baseState;return r(d.default===null),d.default=n,d.optional=!0,this},g.prototype.explicit=function(n){const d=this._baseState;return r(d.explicit===null&&d.implicit===null),d.explicit=n,this},g.prototype.implicit=function(n){const d=this._baseState;return r(d.explicit===null&&d.implicit===null),d.implicit=n,this},g.prototype.obj=function(){const n=this._baseState,d=Array.prototype.slice.call(arguments);return n.obj=!0,d.length!==0&&this._useArgs(d),this},g.prototype.key=function(n){const d=this._baseState;return r(d.key===null),d.key=n,this},g.prototype.any=function(){const n=this._baseState;return n.any=!0,this},g.prototype.choice=function(n){const d=this._baseState;return r(d.choice===null),d.choice=n,this._useArgs(Object.keys(n).map(function(c){return n[c]})),this},g.prototype.contains=function(n){const d=this._baseState;return r(d.use===null),d.contains=n,this},g.prototype._decode=function(n,d){const c=this._baseState;if(c.parent===null)return n.wrapResult(c.children[0]._decode(n,d));let f=c.default,h=!0,x=null;if(c.key!==null&&(x=n.enterKey(c.key)),c.optional){let A=null;if(c.explicit===null?c.implicit===null?c.tag!==null&&(A=c.tag):A=c.implicit:A=c.explicit,A===null&&!c.any){const w=n.save();try{c.choice===null?this._decodeGeneric(c.tag,n,d):this._decodeChoice(n,d),h=!0}catch{h=!1}n.restore(w)}else if(h=this._peekTag(n,A,c.any),n.isError(h))return h}let R;if(c.obj&&h&&(R=n.enterObject()),h){if(c.explicit!==null){const w=this._decodeTag(n,c.explicit);if(n.isError(w))return w;n=w}const A=n.offset;if(c.use===null&&c.choice===null){let w;c.any&&(w=n.save());const I=this._decodeTag(n,c.implicit===null?c.tag:c.implicit,c.any);if(n.isError(I))return I;c.any?f=n.raw(w):n=I}if(d&&d.track&&c.tag!==null&&d.track(n.path(),A,n.length,"tagged"),d&&d.track&&c.tag!==null&&d.track(n.path(),n.offset,n.length,"content"),c.any||(c.choice===null?f=this._decodeGeneric(c.tag,n,d):f=this._decodeChoice(n,d)),n.isError(f))return f;if(c.any||c.choice!==null||c.children===null||c.children.forEach(function(I){I._decode(n,d)}),c.contains&&(c.tag==="octstr"||c.tag==="bitstr")){const w=new v(f);f=this._getUse(c.contains,n._reporterState.obj)._decode(w,d)}}return c.obj&&h&&(f=n.leaveObject(R)),c.key!==null&&(f!==null||h===!0)?n.leaveKey(x,c.key,f):x!==null&&n.exitKey(x),f},g.prototype._decodeGeneric=function(n,d,c){const f=this._baseState;return n==="seq"||n==="set"?null:n==="seqof"||n==="setof"?this._decodeList(d,n,f.args[0],c):/str$/.test(n)?this._decodeStr(d,n,c):n==="objid"&&f.args?this._decodeObjid(d,f.args[0],f.args[1],c):n==="objid"?this._decodeObjid(d,null,null,c):n==="gentime"||n==="utctime"?this._decodeTime(d,n,c):n==="null_"?this._decodeNull(d,c):n==="bool"?this._decodeBool(d,c):n==="objDesc"?this._decodeStr(d,n,c):n==="int"||n==="enum"?this._decodeInt(d,f.args&&f.args[0],c):f.use===null?d.error("unknown tag: "+n):this._getUse(f.use,d._reporterState.obj)._decode(d,c)},g.prototype._getUse=function(n,d){const c=this._baseState;return c.useDecoder=this._use(n,d),r(c.useDecoder._baseState.parent===null),c.useDecoder=c.useDecoder._baseState.children[0],c.implicit!==c.useDecoder._baseState.implicit&&(c.useDecoder=c.useDecoder.clone(),c.useDecoder._baseState.implicit=c.implicit),c.useDecoder},g.prototype._decodeChoice=function(n,d){const c=this._baseState;let f=null,h=!1;return Object.keys(c.choice).some(function(x){const R=n.save(),A=c.choice[x];try{const w=A._decode(n,d);if(n.isError(w))return!1;f={type:x,value:w},h=!0}catch{return n.restore(R),!1}return!0},this),h?f:n.error("Choice not matched")},g.prototype._createEncoderBuffer=function(n){return new E(n,this.reporter)},g.prototype._encode=function(n,d,c){const f=this._baseState;if(f.default===null||f.default!==n){const h=this._encodeValue(n,d,c);return h===void 0||this._skipDefault(h,d,c)?void 0:h}},g.prototype._encodeValue=function(n,d,c){const f=this._baseState;if(f.parent===null)return f.children[0]._encode(n,d||new k);let h=null;if(this.reporter=d,f.optional&&n===void 0)if(f.default!==null)n=f.default;else return;let x=null,R=!1;if(f.any)h=this._createEncoderBuffer(n);else if(f.choice)h=this._encodeChoice(n,d);else if(f.contains)x=this._getUse(f.contains,c)._encode(n,d),R=!0;else if(f.children)x=f.children.map(function(A){if(A._baseState.tag==="null_")return A._encode(null,d,n);if(A._baseState.key===null)return d.error("Child should have a key");const w=d.enterKey(A._baseState.key);if(typeof n!="object")return d.error("Child expected, but input is not object");const I=A._encode(n[A._baseState.key],d,n);return d.leaveKey(w),I},this).filter(function(A){return A}),x=this._createEncoderBuffer(x);else if(f.tag==="seqof"||f.tag==="setof"){if(!(f.args&&f.args.length===1))return d.error("Too many args for : "+f.tag);if(!Array.isArray(n))return d.error("seqof/setof, but data is not Array");const A=this.clone();A._baseState.implicit=null,x=this._createEncoderBuffer(n.map(function(w){const I=this._baseState;return this._getUse(I.args[0],n)._encode(w,d)},A))}else f.use===null?(x=this._encodePrimitive(f.tag,n),R=!0):h=this._getUse(f.use,c)._encode(n,d);if(!f.any&&f.choice===null){const A=f.implicit===null?f.tag:f.implicit,w=f.implicit===null?"universal":"context";A===null?f.use===null&&d.error("Tag could be omitted only for .use()"):f.use===null&&(h=this._encodeComposite(A,R,w,x))}return f.explicit!==null&&(h=this._encodeComposite(f.explicit,!1,"context",h)),h},g.prototype._encodeChoice=function(n,d){const c=this._baseState,f=c.choice[n.type];return f||r(!1,n.type+" not found in "+JSON.stringify(Object.keys(c.choice))),f._encode(n.value,d)},g.prototype._encodePrimitive=function(n,d){const c=this._baseState;if(/str$/.test(n))return this._encodeStr(d,n);if(n==="objid"&&c.args)return this._encodeObjid(d,c.reverseArgs[0],c.args[1]);if(n==="objid")return this._encodeObjid(d,null,null);if(n==="gentime"||n==="utctime")return this._encodeTime(d,n);if(n==="null_")return this._encodeNull();if(n==="int"||n==="enum")return this._encodeInt(d,c.args&&c.reverseArgs[0]);if(n==="bool")return this._encodeBool(d);if(n==="objDesc")return this._encodeStr(d,n);throw new Error("Unsupported tag: "+n)},g.prototype._isNumstr=function(n){return/^[0-9 ]*$/.test(n)},g.prototype._isPrintstr=function(n){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(n)}},{"../base/buffer":10,"../base/reporter":13,"minimalistic-assert":167}],13:[function(S,V,O){function g(v){this._reporterState={obj:null,path:[],options:v||{},errors:[]}}function k(v,r){this.path=v,this.rethrow(r)}const E=S("inherits");O.Reporter=g,g.prototype.isError=function(r){return r instanceof k},g.prototype.save=function(){const r=this._reporterState;return{obj:r.obj,pathLen:r.path.length}},g.prototype.restore=function(r){const m=this._reporterState;m.obj=r.obj,m.path=m.path.slice(0,r.pathLen)},g.prototype.enterKey=function(r){return this._reporterState.path.push(r)},g.prototype.exitKey=function(r){const m=this._reporterState;m.path=m.path.slice(0,r-1)},g.prototype.leaveKey=function(r,m,o){const a=this._reporterState;this.exitKey(r),a.obj!==null&&(a.obj[m]=o)},g.prototype.path=function(){return this._reporterState.path.join("/")},g.prototype.enterObject=function(){const r=this._reporterState,m=r.obj;return r.obj={},m},g.prototype.leaveObject=function(r){const m=this._reporterState,o=m.obj;return m.obj=r,o},g.prototype.error=function(r){let m;const o=this._reporterState,a=r instanceof k;if(m=a?r:new k(o.path.map(function(l){return"["+JSON.stringify(l)+"]"}).join(""),r.message||r,r.stack),!o.options.partial)throw m;return a||o.errors.push(m),m},g.prototype.wrapResult=function(r){const m=this._reporterState;return m.options.partial?{result:this.isError(r)?null:r,errors:m.errors}:r},E(k,Error),k.prototype.rethrow=function(r){if(this.message=r+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,k),!this.stack)try{throw new Error(this.message)}catch(m){this.stack=m.stack}return this}},{inherits:146}],14:[function(S,V,O){function g(k){const E={};return Object.keys(k).forEach(function(v){(0|v)==v&&(v|=0);const r=k[v];E[r]=v}),E}O.tagClass={0:"universal",1:"application",2:"context",3:"private"},O.tagClassByName=g(O.tagClass),O.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},O.tagByName=g(O.tag)},{}],15:[function(S,V,O){const g=O;g._reverse=function(E){const v={};return Object.keys(E).forEach(function(r){(0|r)==r&&(r|=0);const m=E[r];v[m]=r}),v},g.der=S("./der")},{"./der":14}],16:[function(S,V,O){function g(s){this.enc="der",this.name=s.name,this.entity=s,this.tree=new k,this.tree._init(s.body)}function k(s){a.call(this,"der",s)}function E(s,n){let d=s.readUInt8(n);if(s.isError(d))return d;const c=l.tagClass[d>>6],f=(32&d)==0;if((31&d)==31){let x=d;for(d=0;(128&x)==128;){if(x=s.readUInt8(n),s.isError(x))return x;d<<=7,d|=127&x}}else d&=31;const h=l.tag[d];return{cls:c,primitive:f,tag:d,tagStr:h}}function v(s,n,d){let c=s.readUInt8(d);if(s.isError(c))return c;if(!n&&c===128)return null;if((128&c)==0)return c;const f=127&c;if(4<f)return s.error("length octect is too long");c=0;for(let h=0;h<f;h++){c<<=8;const x=s.readUInt8(d);if(s.isError(x))return x;c|=x}return c}const r=S("inherits"),m=S("bn.js"),o=S("../base/buffer").DecoderBuffer,a=S("../base/node"),l=S("../constants/der");V.exports=g,g.prototype.decode=function(n,d){return o.isDecoderBuffer(n)||(n=new o(n,d)),this.tree._decode(n,d)},r(k,a),k.prototype._peekTag=function(n,d,c){if(n.isEmpty())return!1;const f=n.save(),h=E(n,'Failed to peek tag: "'+d+'"');return n.isError(h)?h:(n.restore(f),h.tag===d||h.tagStr===d||h.tagStr+"of"===d||c)},k.prototype._decodeTag=function(n,d,c){const f=E(n,'Failed to decode tag of "'+d+'"');if(n.isError(f))return f;let h=v(n,f.primitive,'Failed to get length of "'+d+'"');if(n.isError(h))return h;if(!c&&f.tag!==d&&f.tagStr!==d&&f.tagStr+"of"!==d)return n.error('Failed to match tag: "'+d+'"');if(f.primitive||h!==null)return n.skip(h,'Failed to match body of: "'+d+'"');const x=n.save(),R=this._skipUntilEnd(n,'Failed to skip indefinite length body: "'+this.tag+'"');return n.isError(R)?R:(h=n.offset-x.offset,n.restore(x),n.skip(h,'Failed to match body of: "'+d+'"'))},k.prototype._skipUntilEnd=function(n,d){for(;;){const c=E(n,d);if(n.isError(c))return c;const f=v(n,c.primitive,d);if(n.isError(f))return f;let h;if(h=c.primitive||f!==null?n.skip(f):this._skipUntilEnd(n,d),n.isError(h))return h;if(c.tagStr==="end")break}},k.prototype._decodeList=function(n,d,c,f){const h=[];for(;!n.isEmpty();){const x=this._peekTag(n,"end");if(n.isError(x))return x;const R=c.decode(n,"der",f);if(n.isError(R)&&x)break;h.push(R)}return h},k.prototype._decodeStr=function(n,d){if(d==="bitstr"){const c=n.readUInt8();return n.isError(c)?c:{unused:c,data:n.raw()}}if(d==="bmpstr"){const c=n.raw();if(c.length%2==1)return n.error("Decoding of string type: bmpstr length mismatch");let f="";for(let h=0;h<c.length/2;h++)f+=we(c.readUInt16BE(2*h));return f}if(d==="numstr"){const c=n.raw().toString("ascii");return this._isNumstr(c)?c:n.error("Decoding of string type: numstr unsupported characters")}if(d==="octstr"||d==="objDesc")return n.raw();if(d==="printstr"){const c=n.raw().toString("ascii");return this._isPrintstr(c)?c:n.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(d)?n.raw().toString():n.error("Decoding of string type: "+d+" unsupported")},k.prototype._decodeObjid=function(n,d,c){let f;const h=[];let x=0,R=0;for(;!n.isEmpty();)R=n.readUInt8(),x<<=7,x|=127&R,(128&R)==0&&(h.push(x),x=0);128&R&&h.push(x);const A=0|h[0]/40,w=h[0]%40;if(f=c?h:[A,w].concat(h.slice(1)),d){let I=d[f.join(" ")];I===void 0&&(I=d[f.join(".")]),I!==void 0&&(f=I)}return f},k.prototype._decodeTime=function(n,d){const c=n.raw().toString();let f,h,x,R,A,w;if(d==="gentime")f=0|c.slice(0,4),h=0|c.slice(4,6),x=0|c.slice(6,8),R=0|c.slice(8,10),A=0|c.slice(10,12),w=0|c.slice(12,14);else if(d==="utctime")f=0|c.slice(0,2),h=0|c.slice(2,4),x=0|c.slice(4,6),R=0|c.slice(6,8),A=0|c.slice(8,10),w=0|c.slice(10,12),f=70>f?2e3+f:1900+f;else return n.error("Decoding "+d+" time is not supported yet");return Date.UTC(f,h-1,x,R,A,w,0)},k.prototype._decodeNull=function(){return null},k.prototype._decodeBool=function(n){const d=n.readUInt8();return n.isError(d)?d:d!==0},k.prototype._decodeInt=function(n,d){const c=n.raw();let f=new m(c);return d&&(f=d[f.toString(10)]||f),f},k.prototype._use=function(n,d){return typeof n=="function"&&(n=n(d)),n._getDecoder("der").tree}},{"../base/buffer":10,"../base/node":12,"../constants/der":14,"bn.js":22,inherits:146}],17:[function(S,V,O){const g=O;g.der=S("./der"),g.pem=S("./pem")},{"./der":16,"./pem":18}],18:[function(S,V,O){function g(r){v.call(this,r),this.enc="pem"}const k=S("inherits"),E=S("safer-buffer").Buffer,v=S("./der");k(g,v),V.exports=g,g.prototype.decode=function(m,o){const a=m.toString().split(/[\r\n]+/g),l=o.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/;let n=-1,d=-1;for(let h=0;h<a.length;h++){const x=a[h].match(s);if(x!==null&&x[2]===l)if(n===-1){if(x[1]!=="BEGIN")break;n=h}else{if(x[1]!=="END")break;d=h;break}}if(n===-1||d===-1)throw new Error("PEM section not found for: "+l);const c=a.slice(n+1,d).join("");c.replace(/[^a-z0-9+/=]+/gi,"");const f=E.from(c,"base64");return v.prototype.decode.call(this,f,o)}},{"./der":16,inherits:146,"safer-buffer":235}],19:[function(S,V,O){function g(l){this.enc="der",this.name=l.name,this.entity=l,this.tree=new k,this.tree._init(l.body)}function k(l){o.call(this,"der",l)}function E(l){return 10>l?"0"+l:l}function v(l,s,n,d){let c;if(l==="seqof"?l="seq":l=="setof"&&(l="set"),a.tagByName.hasOwnProperty(l))c=a.tagByName[l];else if(typeof l=="number"&&(0|l)===l)c=l;else return d.error("Unknown tag: "+l);return 31<=c?d.error("Multi-octet tag encoding unsupported"):(s||(c|=32),c|=a.tagClassByName[n||"universal"]<<6,c)}const r=S("inherits"),m=S("safer-buffer").Buffer,o=S("../base/node"),a=S("../constants/der");V.exports=g,g.prototype.encode=function(s,n){return this.tree._encode(s,n).join()},r(k,o),k.prototype._encodeComposite=function(s,n,d,c){const f=v(s,n,d,this.reporter);if(128>c.length){const R=m.alloc(2);return R[0]=f,R[1]=c.length,this._createEncoderBuffer([R,c])}let h=1;for(let R=c.length;256<=R;R>>=8)h++;const x=m.alloc(2+h);x[0]=f,x[1]=128|h;for(let R=1+h,A=c.length;0<A;R--,A>>=8)x[R]=255&A;return this._createEncoderBuffer([x,c])},k.prototype._encodeStr=function(s,n){if(n==="bitstr")return this._createEncoderBuffer([0|s.unused,s.data]);if(n==="bmpstr"){const d=m.alloc(2*s.length);for(let c=0;c<s.length;c++)d.writeUInt16BE(s.charCodeAt(c),2*c);return this._createEncoderBuffer(d)}return n==="numstr"?this._isNumstr(s)?this._createEncoderBuffer(s):this.reporter.error("Encoding of string type: numstr supports only digits and space"):n==="printstr"?this._isPrintstr(s)?this._createEncoderBuffer(s):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(n)?this._createEncoderBuffer(s):n==="objDesc"?this._createEncoderBuffer(s):this.reporter.error("Encoding of string type: "+n+" unsupported")},k.prototype._encodeObjid=function(s,n,d){if(typeof s=="string"){if(!n)return this.reporter.error("string objid given, but no values map found");if(!n.hasOwnProperty(s))return this.reporter.error("objid not found in values map");s=n[s].split(/[\s.]+/g);for(let x=0;x<s.length;x++)s[x]|=0}else if(Array.isArray(s)){s=s.slice();for(let x=0;x<s.length;x++)s[x]|=0}if(!Array.isArray(s))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(s));if(!d){if(40<=s[1])return this.reporter.error("Second objid identifier OOB");s.splice(0,2,40*s[0]+s[1])}let c=0;for(let x=0,R;x<s.length;x++)for(R=s[x],c++;128<=R;R>>=7)c++;const f=m.alloc(c);let h=f.length-1;for(let x=s.length-1,R;0<=x;x--)for(R=s[x],f[h--]=127&R;0<(R>>=7);)f[h--]=128|127&R;return this._createEncoderBuffer(f)},k.prototype._encodeTime=function(s,n){let d;const c=new Date(s);return n==="gentime"?d=[E(c.getUTCFullYear()),E(c.getUTCMonth()+1),E(c.getUTCDate()),E(c.getUTCHours()),E(c.getUTCMinutes()),E(c.getUTCSeconds()),"Z"].join(""):n==="utctime"?d=[E(c.getUTCFullYear()%100),E(c.getUTCMonth()+1),E(c.getUTCDate()),E(c.getUTCHours()),E(c.getUTCMinutes()),E(c.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+n+" time is not supported yet"),this._encodeStr(d,"octstr")},k.prototype._encodeNull=function(){return this._createEncoderBuffer("")},k.prototype._encodeInt=function(s,n){if(typeof s=="string"){if(!n)return this.reporter.error("String int or enum given, but no values map");if(!n.hasOwnProperty(s))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(s));s=n[s]}if(typeof s!="number"&&!m.isBuffer(s)){const f=s.toArray();!s.sign&&128&f[0]&&f.unshift(0),s=m.from(f)}if(m.isBuffer(s)){let f=s.length;s.length===0&&f++;const h=m.alloc(f);return s.copy(h),s.length===0&&(h[0]=0),this._createEncoderBuffer(h)}if(128>s)return this._createEncoderBuffer(s);if(256>s)return this._createEncoderBuffer([0,s]);let d=1;for(let f=s;256<=f;f>>=8)d++;const c=Array(d);for(let f=c.length-1;0<=f;f--)c[f]=255&s,s>>=8;return 128&c[0]&&c.unshift(0),this._createEncoderBuffer(m.from(c))},k.prototype._encodeBool=function(s){return this._createEncoderBuffer(s?255:0)},k.prototype._use=function(s,n){return typeof s=="function"&&(s=s(n)),s._getEncoder("der").tree},k.prototype._skipDefault=function(s,n,d){const c=this._baseState;let f;if(c.default===null)return!1;const h=s.join();if(c.defaultBuffer===void 0&&(c.defaultBuffer=this._encodeValue(c.default,n,d).join()),h.length!==c.defaultBuffer.length)return!1;for(f=0;f<h.length;f++)if(h[f]!==c.defaultBuffer[f])return!1;return!0}},{"../base/node":12,"../constants/der":14,inherits:146,"safer-buffer":235}],20:[function(S,V,O){const g=O;g.der=S("./der"),g.pem=S("./pem")},{"./der":19,"./pem":21}],21:[function(S,V,O){function g(v){E.call(this,v),this.enc="pem"}const k=S("inherits"),E=S("./der");k(g,E),V.exports=g,g.prototype.encode=function(r,m){const o=E.prototype.encode.call(this,r),a=o.toString("base64"),l=["-----BEGIN "+m.label+"-----"];for(let s=0;s<a.length;s+=64)l.push(a.slice(s,s+64));return l.push("-----END "+m.label+"-----"),l.join(`
`)}},{"./der":19,inherits:146}],22:[function(S,V,O){(function(g,k){function E(J,B){if(!J)throw new Error(B||"Assertion failed")}function v(J,B){J.super_=B;var y=function(){};y.prototype=B.prototype,J.prototype=new y,J.prototype.constructor=J}function r(J,B,y){return r.isBN(J)?J:(this.negative=0,this.words=null,this.length=0,this.red=null,void(J!==null&&((B==="le"||B==="be")&&(y=B,B=10),this._init(J||0,B||10,y||"be"))))}function m(J,B){var y=J.charCodeAt(B);return 65<=y&&70>=y?y-55:97<=y&&102>=y?y-87:15&y-48}function o(J,B,y){var p=m(J,y);return y-1>=B&&(p|=m(J,y-1)<<4),p}function a(J,B,y,p){for(var T=0,D=ke(J.length,y),j=B,U;j<D;j++)U=J.charCodeAt(j)-48,T*=p,T+=49<=U?U-49+10:17<=U?U-17+10:U;return T}function l(J){for(var B=Array(J.bitLength()),y=0;y<B.length;y++){var p=0|y/26,T=y%26;B[y]=(J.words[p]&1<<T)>>>T}return B}function s(J,B,y){y.negative=B.negative^J.negative;var p=0|J.length+B.length;y.length=p,p=0|p-1;var T=0|J.words[0],D=0|B.words[0],j=T*D,U=67108863&j,N=0|j/67108864;y.words[0]=U;for(var W=1;W<p;W++){for(var Q=N>>>26,ee=67108863&N,fe=ke(W,B.length-1),oe=ve(0,W-J.length+1),me;oe<=fe;oe++)me=0|W-oe,T=0|J.words[me],D=0|B.words[oe],j=T*D+ee,Q+=0|j/67108864,ee=67108863&j;y.words[W]=0|ee,N=0|Q}return N===0?y.length--:y.words[W]=0|N,y.strip()}function n(J,B,y){y.negative=B.negative^J.negative,y.length=J.length+B.length;for(var p=0,T=0,D=0,j;D<y.length-1;D++){j=T,T=0;for(var U=67108863&p,N=ke(D,B.length-1),W=ve(0,D-J.length+1);W<=N;W++){var Q=D-W,ee=0|J.words[Q],fe=0|B.words[W],oe=ee*fe,me=67108863&oe;j=0|j+(0|oe/67108864),me=0|me+U,U=67108863&me,j=0|j+(me>>>26),T+=j>>>26,j&=67108863}y.words[D]=U,p=j,j=T}return p===0?y.length--:y.words[D]=p,y.strip()}function d(J,B,y){var p=new c;return p.mulp(J,B,y)}function c(J,B){this.x=J,this.y=B}function f(J,B){this.name=J,this.p=new r(B,16),this.n=this.p.bitLength(),this.k=new r(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function h(){f.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function x(){f.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function R(){f.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function A(){f.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function w(J){if(typeof J=="string"){var B=r._prime(J);this.m=B.p,this.prime=B}else E(J.gtn(1),"modulus must be greater than 1"),this.m=J,this.prime=null}function I(J){w.call(this,J),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new r(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}typeof g=="object"?g.exports=r:k.BN=r,r.BN=r,r.wordSize=26;var M;try{M=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:S("buffer").Buffer}catch{}r.isBN=function(B){return B instanceof r||B!==null&&typeof B=="object"&&B.constructor.wordSize===r.wordSize&&Array.isArray(B.words)},r.max=function(B,y){return 0<B.cmp(y)?B:y},r.min=function(B,y){return 0>B.cmp(y)?B:y},r.prototype._init=function(B,y,p){if(typeof B=="number")return this._initNumber(B,y,p);if(typeof B=="object")return this._initArray(B,y,p);y==="hex"&&(y=16),E(y===(0|y)&&2<=y&&36>=y),B=B.toString().replace(/\s+/g,"");var T=0;B[0]==="-"&&(T++,this.negative=1),T<B.length&&(y===16?this._parseHex(B,T,p):(this._parseBase(B,y,T),p==="le"&&this._initArray(this.toArray(),y,p)))},r.prototype._initNumber=function(B,y,p){0>B&&(this.negative=1,B=-B),67108864>B?(this.words=[67108863&B],this.length=1):4503599627370496>B?(this.words=[67108863&B,67108863&B/67108864],this.length=2):(E(9007199254740992>B),this.words=[67108863&B,67108863&B/67108864,1],this.length=3),p!=="le"||this._initArray(this.toArray(),y,p)},r.prototype._initArray=function(B,y,p){if(E(typeof B.length=="number"),0>=B.length)return this.words=[0],this.length=1,this;this.length=Ee(B.length/3),this.words=Array(this.length);for(var T=0;T<this.length;T++)this.words[T]=0;var D=0,j,U;if(p==="be")for(T=B.length-1,j=0;0<=T;T-=3)U=B[T]|B[T-1]<<8|B[T-2]<<16,this.words[j]|=67108863&U<<D,this.words[j+1]=67108863&U>>>26-D,D+=24,26<=D&&(D-=26,j++);else if(p==="le")for(T=0,j=0;T<B.length;T+=3)U=B[T]|B[T+1]<<8|B[T+2]<<16,this.words[j]|=67108863&U<<D,this.words[j+1]=67108863&U>>>26-D,D+=24,26<=D&&(D-=26,j++);return this.strip()},r.prototype._parseHex=function(B,y,p){this.length=Ee((B.length-y)/6),this.words=Array(this.length);for(var T=0;T<this.length;T++)this.words[T]=0;var D=0,j=0,U;if(p==="be")for(T=B.length-1;T>=y;T-=2)U=o(B,y,T)<<D,this.words[j]|=67108863&U,18<=D?(D-=18,j+=1,this.words[j]|=U>>>26):D+=8;else{var N=B.length-y;for(T=N%2==0?y+1:y;T<B.length;T+=2)U=o(B,y,T)<<D,this.words[j]|=67108863&U,18<=D?(D-=18,j+=1,this.words[j]|=U>>>26):D+=8}this.strip()},r.prototype._parseBase=function(B,y,p){this.words=[0],this.length=1;for(var T=0,D=1;67108863>=D;D*=y)T++;T--,D=0|D/y;for(var j=B.length-p,U=j%T,N=ke(j,j-U)+p,W=0,Q=p;Q<N;Q+=T)W=a(B,Q,Q+T,y),this.imuln(D),67108864>this.words[0]+W?this.words[0]+=W:this._iaddn(W);if(U!==0){var ee=1;for(W=a(B,Q,B.length,y),Q=0;Q<U;Q++)ee*=y;this.imuln(ee),67108864>this.words[0]+W?this.words[0]+=W:this._iaddn(W)}this.strip()},r.prototype.copy=function(B){B.words=Array(this.length);for(var y=0;y<this.length;y++)B.words[y]=this.words[y];B.length=this.length,B.negative=this.negative,B.red=this.red},r.prototype.clone=function(){var B=new r(null);return this.copy(B),B},r.prototype._expand=function(B){for(;this.length<B;)this.words[this.length++]=0;return this},r.prototype.strip=function(){for(;1<this.length&&this.words[this.length-1]===0;)this.length--;return this._normSign()},r.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},r.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var L=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],G=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];r.prototype.toString=function(B,y){B=B||10,y=0|y||1;var p;if(B===16||B==="hex"){p="";for(var T=0,D=0,j=0;j<this.length;j++){var U=this.words[j],N=(16777215&(U<<T|D)).toString(16);D=16777215&U>>>24-T,p=D!==0||j!==this.length-1?L[6-N.length]+N+p:N+p,T+=2,26<=T&&(T-=26,j--)}for(D!==0&&(p=D.toString(16)+p);p.length%y!=0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(B===(0|B)&&2<=B&&36>=B){var W=G[B],Q=Y[B];p="";var ee=this.clone();for(ee.negative=0;!ee.isZero();){var fe=ee.modn(Q).toString(B);ee=ee.idivn(Q),p=ee.isZero()?fe+p:L[W-fe.length]+fe+p}for(this.isZero()&&(p="0"+p);p.length%y!=0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}E(!1,"Base should be between 2 and 36")},r.prototype.toNumber=function(){var B=this.words[0];return this.length===2?B+=67108864*this.words[1]:this.length===3&&this.words[2]===1?B+=4503599627370496+67108864*this.words[1]:2<this.length&&E(!1,"Number can only safely store up to 53 bits"),this.negative===0?B:-B},r.prototype.toJSON=function(){return this.toString(16)},r.prototype.toBuffer=function(B,y){return E(typeof M<"u"),this.toArrayLike(M,B,y)},r.prototype.toArray=function(B,y){return this.toArrayLike(Array,B,y)},r.prototype.toArrayLike=function(B,y,p){var T=this.byteLength(),D=p||ve(1,T);E(T<=D,"byte array longer than desired length"),E(0<D,"Requested array length <= 0"),this.strip();var j=y==="le",U=new B(D),N=this.clone(),W,Q;if(j){for(Q=0;!N.isZero();Q++)W=N.andln(255),N.iushrn(8),U[Q]=W;for(;Q<D;Q++)U[Q]=0}else{for(Q=0;Q<D-T;Q++)U[Q]=0;for(Q=0;!N.isZero();Q++)W=N.andln(255),N.iushrn(8),U[D-Q-1]=W}return U},r.prototype._countBits=ce?function(B){return 32-ce(B)}:function(B){var y=B,p=0;return 4096<=y&&(p+=13,y>>>=13),64<=y&&(p+=7,y>>>=7),8<=y&&(p+=4,y>>>=4),2<=y&&(p+=2,y>>>=2),p+y},r.prototype._zeroBits=function(B){if(B===0)return 26;var y=B,p=0;return(8191&y)==0&&(p+=13,y>>>=13),(127&y)==0&&(p+=7,y>>>=7),(15&y)==0&&(p+=4,y>>>=4),(3&y)==0&&(p+=2,y>>>=2),(1&y)==0&&p++,p},r.prototype.bitLength=function(){var B=this.words[this.length-1],y=this._countBits(B);return 26*(this.length-1)+y},r.prototype.zeroBits=function(){if(this.isZero())return 0;for(var B=0,y=0,p;y<this.length&&(p=this._zeroBits(this.words[y]),B+=p,p===26);y++);return B},r.prototype.byteLength=function(){return Ee(this.bitLength()/8)},r.prototype.toTwos=function(B){return this.negative===0?this.clone():this.abs().inotn(B).iaddn(1)},r.prototype.fromTwos=function(B){return this.testn(B-1)?this.notn(B).iaddn(1).ineg():this.clone()},r.prototype.isNeg=function(){return this.negative!==0},r.prototype.neg=function(){return this.clone().ineg()},r.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},r.prototype.iuor=function(B){for(;this.length<B.length;)this.words[this.length++]=0;for(var y=0;y<B.length;y++)this.words[y]|=B.words[y];return this.strip()},r.prototype.ior=function(B){return E((this.negative|B.negative)==0),this.iuor(B)},r.prototype.or=function(B){return this.length>B.length?this.clone().ior(B):B.clone().ior(this)},r.prototype.uor=function(B){return this.length>B.length?this.clone().iuor(B):B.clone().iuor(this)},r.prototype.iuand=function(B){var y;y=this.length>B.length?B:this;for(var p=0;p<y.length;p++)this.words[p]&=B.words[p];return this.length=y.length,this.strip()},r.prototype.iand=function(B){return E((this.negative|B.negative)==0),this.iuand(B)},r.prototype.and=function(B){return this.length>B.length?this.clone().iand(B):B.clone().iand(this)},r.prototype.uand=function(B){return this.length>B.length?this.clone().iuand(B):B.clone().iuand(this)},r.prototype.iuxor=function(B){var y,p;this.length>B.length?(y=this,p=B):(y=B,p=this);for(var T=0;T<p.length;T++)this.words[T]=y.words[T]^p.words[T];if(this!==y)for(;T<y.length;T++)this.words[T]=y.words[T];return this.length=y.length,this.strip()},r.prototype.ixor=function(B){return E((this.negative|B.negative)==0),this.iuxor(B)},r.prototype.xor=function(B){return this.length>B.length?this.clone().ixor(B):B.clone().ixor(this)},r.prototype.uxor=function(B){return this.length>B.length?this.clone().iuxor(B):B.clone().iuxor(this)},r.prototype.inotn=function(B){E(typeof B=="number"&&0<=B);var y=0|Ee(B/26),p=B%26;this._expand(y),0<p&&y--;for(var T=0;T<y;T++)this.words[T]=67108863&~this.words[T];return 0<p&&(this.words[T]=~this.words[T]&67108863>>26-p),this.strip()},r.prototype.notn=function(B){return this.clone().inotn(B)},r.prototype.setn=function(B,y){E(typeof B=="number"&&0<=B);var p=0|B/26,T=B%26;return this._expand(p+1),y?this.words[p]|=1<<T:this.words[p]&=~(1<<T),this.strip()},r.prototype.iadd=function(B){var y;if(this.negative!==0&&B.negative===0)return this.negative=0,y=this.isub(B),this.negative^=1,this._normSign();if(this.negative===0&&B.negative!==0)return B.negative=0,y=this.isub(B),B.negative=1,y._normSign();var p,T;this.length>B.length?(p=this,T=B):(p=B,T=this);for(var D=0,j=0;j<T.length;j++)y=(0|p.words[j])+(0|T.words[j])+D,this.words[j]=67108863&y,D=y>>>26;for(;D!==0&&j<p.length;j++)y=(0|p.words[j])+D,this.words[j]=67108863&y,D=y>>>26;if(this.length=p.length,D!==0)this.words[this.length]=D,this.length++;else if(p!==this)for(;j<p.length;j++)this.words[j]=p.words[j];return this},r.prototype.add=function(B){var y;return B.negative!==0&&this.negative===0?(B.negative=0,y=this.sub(B),B.negative^=1,y):B.negative===0&&this.negative!==0?(this.negative=0,y=B.sub(this),this.negative=1,y):this.length>B.length?this.clone().iadd(B):B.clone().iadd(this)},r.prototype.isub=function(B){if(B.negative!==0){B.negative=0;var y=this.iadd(B);return B.negative=1,y._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(B),this.negative=1,this._normSign();var p=this.cmp(B);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var T,D;0<p?(T=this,D=B):(T=B,D=this);for(var j=0,U=0;U<D.length;U++)y=(0|T.words[U])-(0|D.words[U])+j,j=y>>26,this.words[U]=67108863&y;for(;j!==0&&U<T.length;U++)y=(0|T.words[U])+j,j=y>>26,this.words[U]=67108863&y;if(j===0&&U<T.length&&T!==this)for(;U<T.length;U++)this.words[U]=T.words[U];return this.length=ve(this.length,U),T!==this&&(this.negative=1),this.strip()},r.prototype.sub=function(B){return this.clone().isub(B)};var ie=function(B,y,p){var T=B.words,D=y.words,j=p.words,U=0,N=0|T[0],W=8191&N,Q=N>>>13,ee=0|T[1],fe=8191&ee,oe=ee>>>13,me=0|T[2],he=8191&me,Se=me>>>13,Ae=0|T[3],pe=8191&Ae,ge=Ae>>>13,xe=0|T[4],Ce=8191&xe,de=xe>>>13,q=0|T[5],P=8191&q,H=q>>>13,Z=0|T[6],se=8191&Z,ue=Z>>>13,be=0|T[7],Re=8191&be,Pe=be>>>13,Ie=0|T[8],Be=8191&Ie,Oe=Ie>>>13,Ne=0|T[9],De=8191&Ne,We=Ne>>>13,Ge=0|D[0],je=8191&Ge,ot=Ge>>>13,dt=0|D[1],ze=8191&dt,lt=dt>>>13,ht=0|D[2],He=8191&ht,rt=ht>>>13,mt=0|D[3],Ve=8191&mt,gt=mt>>>13,vt=0|D[4],Ke=8191&vt,St=vt>>>13,bt=0|D[5],qe=8191&bt,xt=bt>>>13,kt=0|D[6],Ye=8191&kt,Ct=kt>>>13,Tt=0|D[7],Je=8191&Tt,Rt=Tt>>>13,At=0|D[8],Xe=8191&At,It=At>>>13,yt=0|D[9],Ze=8191&yt,_t=yt>>>13,ye,te,re;p.negative=B.negative^y.negative,p.length=19,ye=b(W,je),te=b(W,ot),te=0|te+b(Q,je),re=b(Q,ot);var ne=0|(0|U+ye)+((8191&te)<<13);U=0|(0|re+(te>>>13))+(ne>>>26),ne&=67108863,ye=b(fe,je),te=b(fe,ot),te=0|te+b(oe,je),re=b(oe,ot),ye=0|ye+b(W,ze),te=0|te+b(W,lt),te=0|te+b(Q,ze),re=0|re+b(Q,lt);var _e=0|(0|U+ye)+((8191&te)<<13);U=0|(0|re+(te>>>13))+(_e>>>26),_e&=67108863,ye=b(he,je),te=b(he,ot),te=0|te+b(Se,je),re=b(Se,ot),ye=0|ye+b(fe,ze),te=0|te+b(fe,lt),te=0|te+b(oe,ze),re=0|re+b(oe,lt),ye=0|ye+b(W,He),te=0|te+b(W,rt),te=0|te+b(Q,He),re=0|re+b(Q,rt);var fn=0|(0|U+ye)+((8191&te)<<13);U=0|(0|re+(te>>>13))+(fn>>>26),fn&=67108863,ye=b(pe,je),te=b(pe,ot),te=0|te+b(ge,je),re=b(ge,ot),ye=0|ye+b(he,ze),te=0|te+b(he,lt),te=0|te+b(Se,ze),re=0|re+b(Se,lt),ye=0|ye+b(fe,He),te=0|te+b(fe,rt),te=0|te+b(oe,He),re=0|re+b(oe,rt),ye=0|ye+b(W,Ve),te=0|te+b(W,gt),te=0|te+b(Q,Ve),re=0|re+b(Q,gt);var _n=0|(0|U+ye)+((8191&te)<<13);U=0|(0|re+(te>>>13))+(_n>>>26),_n&=67108863,ye=b(Ce,je),te=b(Ce,ot),te=0|te+b(de,je),re=b(de,ot),ye=0|ye+b(pe,ze),te=0|te+b(pe,lt),te=0|te+b(ge,ze),re=0|re+b(ge,lt),ye=0|ye+b(he,He),te=0|te+b(he,rt),te=0|te+b(Se,He),re=0|re+b(Se,rt),ye=0|ye+b(fe,Ve),te=0|te+b(fe,gt),te=0|te+b(oe,Ve),re=0|re+b(oe,gt),ye=0|ye+b(W,Ke),te=0|te+b(W,St),te=0|te+b(Q,Ke),re=0|re+b(Q,St);var wn=0|(0|U+ye)+((8191&te)<<13);U=0|(0|re+(te>>>13))+(wn>>>26),wn&=67108863,ye=b(P,je),te=b(P,ot),te=0|te+b(H,je),re=b(H,ot),ye=0|ye+b(Ce,ze),te=0|te+b(Ce,lt),te=0|te+b(de,ze),re=0|re+b(de,lt),ye=0|ye+b(pe,He),te=0|te+b(pe,rt),te=0|te+b(ge,He),re=0|re+b(ge,rt),ye=0|ye+b(he,Ve),te=0|te+b(he,gt),te=0|te+b(Se,Ve),re=0|re+b(Se,gt),ye=0|ye+b(fe,Ke),te=0|te+b(fe,St),te=0|te+b(oe,Ke),re=0|re+b(oe,St),ye=0|ye+b(W,qe),te=0|te+b(W,xt),te=0|te+b(Q,qe),re=0|re+b(Q,xt);var En=0|(0|U+ye)+((8191&te)<<13);U=0|(0|re+(te>>>13))+(En>>>26),En&=67108863,ye=b(se,je),te=b(se,ot),te=0|te+b(ue,je),re=b(ue,ot),ye=0|ye+b(P,ze),te=0|te+b(P,lt),te=0|te+b(H,ze),re=0|re+b(H,lt),ye=0|ye+b(Ce,He),te=0|te+b(Ce,rt),te=0|te+b(de,He),re=0|re+b(de,rt),ye=0|ye+b(pe,Ve),te=0|te+b(pe,gt),te=0|te+b(ge,Ve),re=0|re+b(ge,gt),ye=0|ye+b(he,Ke),te=0|te+b(he,St),te=0|te+b(Se,Ke),re=0|re+b(Se,St),ye=0|ye+b(fe,qe),te=0|te+b(fe,xt),te=0|te+b(oe,qe),re=0|re+b(oe,xt),ye=0|ye+b(W,Ye),te=0|te+b(W,Ct),te=0|te+b(Q,Ye),re=0|re+b(Q,Ct);var tn=0|(0|U+ye)+((8191&te)<<13);U=0|(0|re+(te>>>13))+(tn>>>26),tn&=67108863,ye=b(Re,je),te=b(Re,ot),te=0|te+b(Pe,je),re=b(Pe,ot),ye=0|ye+b(se,ze),te=0|te+b(se,lt),te=0|te+b(ue,ze),re=0|re+b(ue,lt),ye=0|ye+b(P,He),te=0|te+b(P,rt),te=0|te+b(H,He),re=0|re+b(H,rt),ye=0|ye+b(Ce,Ve),te=0|te+b(Ce,gt),te=0|te+b(de,Ve),re=0|re+b(de,gt),ye=0|ye+b(pe,Ke),te=0|te+b(pe,St),te=0|te+b(ge,Ke),re=0|re+b(ge,St),ye=0|ye+b(he,qe),te=0|te+b(he,xt),te=0|te+b(Se,qe),re=0|re+b(Se,xt),ye=0|ye+b(fe,Ye),te=0|te+b(fe,Ct),te=0|te+b(oe,Ye),re=0|re+b(oe,Ct),ye=0|ye+b(W,Je),te=0|te+b(W,Rt),te=0|te+b(Q,Je),re=0|re+b(Q,Rt);var Jt=0|(0|U+ye)+((8191&te)<<13);U=0|(0|re+(te>>>13))+(Jt>>>26),Jt&=67108863,ye=b(Be,je),te=b(Be,ot),te=0|te+b(Oe,je),re=b(Oe,ot),ye=0|ye+b(Re,ze),te=0|te+b(Re,lt),te=0|te+b(Pe,ze),re=0|re+b(Pe,lt),ye=0|ye+b(se,He),te=0|te+b(se,rt),te=0|te+b(ue,He),re=0|re+b(ue,rt),ye=0|ye+b(P,Ve),te=0|te+b(P,gt),te=0|te+b(H,Ve),re=0|re+b(H,gt),ye=0|ye+b(Ce,Ke),te=0|te+b(Ce,St),te=0|te+b(de,Ke),re=0|re+b(de,St),ye=0|ye+b(pe,qe),te=0|te+b(pe,xt),te=0|te+b(ge,qe),re=0|re+b(ge,xt),ye=0|ye+b(he,Ye),te=0|te+b(he,Ct),te=0|te+b(Se,Ye),re=0|re+b(Se,Ct),ye=0|ye+b(fe,Je),te=0|te+b(fe,Rt),te=0|te+b(oe,Je),re=0|re+b(oe,Rt),ye=0|ye+b(W,Xe),te=0|te+b(W,It),te=0|te+b(Q,Xe),re=0|re+b(Q,It);var Sn=0|(0|U+ye)+((8191&te)<<13);U=0|(0|re+(te>>>13))+(Sn>>>26),Sn&=67108863,ye=b(De,je),te=b(De,ot),te=0|te+b(We,je),re=b(We,ot),ye=0|ye+b(Be,ze),te=0|te+b(Be,lt),te=0|te+b(Oe,ze),re=0|re+b(Oe,lt),ye=0|ye+b(Re,He),te=0|te+b(Re,rt),te=0|te+b(Pe,He),re=0|re+b(Pe,rt),ye=0|ye+b(se,Ve),te=0|te+b(se,gt),te=0|te+b(ue,Ve),re=0|re+b(ue,gt),ye=0|ye+b(P,Ke),te=0|te+b(P,St),te=0|te+b(H,Ke),re=0|re+b(H,St),ye=0|ye+b(Ce,qe),te=0|te+b(Ce,xt),te=0|te+b(de,qe),re=0|re+b(de,xt),ye=0|ye+b(pe,Ye),te=0|te+b(pe,Ct),te=0|te+b(ge,Ye),re=0|re+b(ge,Ct),ye=0|ye+b(he,Je),te=0|te+b(he,Rt),te=0|te+b(Se,Je),re=0|re+b(Se,Rt),ye=0|ye+b(fe,Xe),te=0|te+b(fe,It),te=0|te+b(oe,Xe),re=0|re+b(oe,It),ye=0|ye+b(W,Ze),te=0|te+b(W,_t),te=0|te+b(Q,Ze),re=0|re+b(Q,_t);var ln=0|(0|U+ye)+((8191&te)<<13);U=0|(0|re+(te>>>13))+(ln>>>26),ln&=67108863,ye=b(De,ze),te=b(De,lt),te=0|te+b(We,ze),re=b(We,lt),ye=0|ye+b(Be,He),te=0|te+b(Be,rt),te=0|te+b(Oe,He),re=0|re+b(Oe,rt),ye=0|ye+b(Re,Ve),te=0|te+b(Re,gt),te=0|te+b(Pe,Ve),re=0|re+b(Pe,gt),ye=0|ye+b(se,Ke),te=0|te+b(se,St),te=0|te+b(ue,Ke),re=0|re+b(ue,St),ye=0|ye+b(P,qe),te=0|te+b(P,xt),te=0|te+b(H,qe),re=0|re+b(H,xt),ye=0|ye+b(Ce,Ye),te=0|te+b(Ce,Ct),te=0|te+b(de,Ye),re=0|re+b(de,Ct),ye=0|ye+b(pe,Je),te=0|te+b(pe,Rt),te=0|te+b(ge,Je),re=0|re+b(ge,Rt),ye=0|ye+b(he,Xe),te=0|te+b(he,It),te=0|te+b(Se,Xe),re=0|re+b(Se,It),ye=0|ye+b(fe,Ze),te=0|te+b(fe,_t),te=0|te+b(oe,Ze),re=0|re+b(oe,_t);var hn=0|(0|U+ye)+((8191&te)<<13);U=0|(0|re+(te>>>13))+(hn>>>26),hn&=67108863,ye=b(De,He),te=b(De,rt),te=0|te+b(We,He),re=b(We,rt),ye=0|ye+b(Be,Ve),te=0|te+b(Be,gt),te=0|te+b(Oe,Ve),re=0|re+b(Oe,gt),ye=0|ye+b(Re,Ke),te=0|te+b(Re,St),te=0|te+b(Pe,Ke),re=0|re+b(Pe,St),ye=0|ye+b(se,qe),te=0|te+b(se,xt),te=0|te+b(ue,qe),re=0|re+b(ue,xt),ye=0|ye+b(P,Ye),te=0|te+b(P,Ct),te=0|te+b(H,Ye),re=0|re+b(H,Ct),ye=0|ye+b(Ce,Je),te=0|te+b(Ce,Rt),te=0|te+b(de,Je),re=0|re+b(de,Rt),ye=0|ye+b(pe,Xe),te=0|te+b(pe,It),te=0|te+b(ge,Xe),re=0|re+b(ge,It),ye=0|ye+b(he,Ze),te=0|te+b(he,_t),te=0|te+b(Se,Ze),re=0|re+b(Se,_t);var xn=0|(0|U+ye)+((8191&te)<<13);U=0|(0|re+(te>>>13))+(xn>>>26),xn&=67108863,ye=b(De,Ve),te=b(De,gt),te=0|te+b(We,Ve),re=b(We,gt),ye=0|ye+b(Be,Ke),te=0|te+b(Be,St),te=0|te+b(Oe,Ke),re=0|re+b(Oe,St),ye=0|ye+b(Re,qe),te=0|te+b(Re,xt),te=0|te+b(Pe,qe),re=0|re+b(Pe,xt),ye=0|ye+b(se,Ye),te=0|te+b(se,Ct),te=0|te+b(ue,Ye),re=0|re+b(ue,Ct),ye=0|ye+b(P,Je),te=0|te+b(P,Rt),te=0|te+b(H,Je),re=0|re+b(H,Rt),ye=0|ye+b(Ce,Xe),te=0|te+b(Ce,It),te=0|te+b(de,Xe),re=0|re+b(de,It),ye=0|ye+b(pe,Ze),te=0|te+b(pe,_t),te=0|te+b(ge,Ze),re=0|re+b(ge,_t);var Fe=0|(0|U+ye)+((8191&te)<<13);U=0|(0|re+(te>>>13))+(Fe>>>26),Fe&=67108863,ye=b(De,Ke),te=b(De,St),te=0|te+b(We,Ke),re=b(We,St),ye=0|ye+b(Be,qe),te=0|te+b(Be,xt),te=0|te+b(Oe,qe),re=0|re+b(Oe,xt),ye=0|ye+b(Re,Ye),te=0|te+b(Re,Ct),te=0|te+b(Pe,Ye),re=0|re+b(Pe,Ct),ye=0|ye+b(se,Je),te=0|te+b(se,Rt),te=0|te+b(ue,Je),re=0|re+b(ue,Rt),ye=0|ye+b(P,Xe),te=0|te+b(P,It),te=0|te+b(H,Xe),re=0|re+b(H,It),ye=0|ye+b(Ce,Ze),te=0|te+b(Ce,_t),te=0|te+b(de,Ze),re=0|re+b(de,_t);var le=0|(0|U+ye)+((8191&te)<<13);U=0|(0|re+(te>>>13))+(le>>>26),le&=67108863,ye=b(De,qe),te=b(De,xt),te=0|te+b(We,qe),re=b(We,xt),ye=0|ye+b(Be,Ye),te=0|te+b(Be,Ct),te=0|te+b(Oe,Ye),re=0|re+b(Oe,Ct),ye=0|ye+b(Re,Je),te=0|te+b(Re,Rt),te=0|te+b(Pe,Je),re=0|re+b(Pe,Rt),ye=0|ye+b(se,Xe),te=0|te+b(se,It),te=0|te+b(ue,Xe),re=0|re+b(ue,It),ye=0|ye+b(P,Ze),te=0|te+b(P,_t),te=0|te+b(H,Ze),re=0|re+b(H,_t);var Me=0|(0|U+ye)+((8191&te)<<13);U=0|(0|re+(te>>>13))+(Me>>>26),Me&=67108863,ye=b(De,Ye),te=b(De,Ct),te=0|te+b(We,Ye),re=b(We,Ct),ye=0|ye+b(Be,Je),te=0|te+b(Be,Rt),te=0|te+b(Oe,Je),re=0|re+b(Oe,Rt),ye=0|ye+b(Re,Xe),te=0|te+b(Re,It),te=0|te+b(Pe,Xe),re=0|re+b(Pe,It),ye=0|ye+b(se,Ze),te=0|te+b(se,_t),te=0|te+b(ue,Ze),re=0|re+b(ue,_t);var Qe=0|(0|U+ye)+((8191&te)<<13);U=0|(0|re+(te>>>13))+(Qe>>>26),Qe&=67108863,ye=b(De,Je),te=b(De,Rt),te=0|te+b(We,Je),re=b(We,Rt),ye=0|ye+b(Be,Xe),te=0|te+b(Be,It),te=0|te+b(Oe,Xe),re=0|re+b(Oe,It),ye=0|ye+b(Re,Ze),te=0|te+b(Re,_t),te=0|te+b(Pe,Ze),re=0|re+b(Pe,_t);var et=0|(0|U+ye)+((8191&te)<<13);U=0|(0|re+(te>>>13))+(et>>>26),et&=67108863,ye=b(De,Xe),te=b(De,It),te=0|te+b(We,Xe),re=b(We,It),ye=0|ye+b(Be,Ze),te=0|te+b(Be,_t),te=0|te+b(Oe,Ze),re=0|re+b(Oe,_t);var wt=0|(0|U+ye)+((8191&te)<<13);U=0|(0|re+(te>>>13))+(wt>>>26),wt&=67108863,ye=b(De,Ze),te=b(De,_t),te=0|te+b(We,Ze),re=b(We,_t);var at=0|(0|U+ye)+((8191&te)<<13);return U=0|(0|re+(te>>>13))+(at>>>26),at&=67108863,j[0]=ne,j[1]=_e,j[2]=fn,j[3]=_n,j[4]=wn,j[5]=En,j[6]=tn,j[7]=Jt,j[8]=Sn,j[9]=ln,j[10]=hn,j[11]=xn,j[12]=Fe,j[13]=le,j[14]=Me,j[15]=Qe,j[16]=et,j[17]=wt,j[18]=at,U!==0&&(j[19]=U,p.length++),p};b||(ie=s),r.prototype.mulTo=function(B,y){var p=this.length+B.length,T;return T=this.length===10&&B.length===10?ie(this,B,y):63>p?s(this,B,y):1024>p?n(this,B,y):d(this,B,y),T},c.prototype.makeRBT=function(B){for(var y=Array(B),p=r.prototype._countBits(B)-1,T=0;T<B;T++)y[T]=this.revBin(T,p,B);return y},c.prototype.revBin=function(B,y,p){if(B===0||B===p-1)return B;for(var T=0,D=0;D<y;D++)T|=(1&B)<<y-D-1,B>>=1;return T},c.prototype.permute=function(B,y,p,T,D,j){for(var U=0;U<j;U++)T[U]=y[B[U]],D[U]=p[B[U]]},c.prototype.transform=function(B,y,p,T,D,j){this.permute(j,B,y,p,T,D);for(var U=1;U<D;U<<=1)for(var N=U<<1,W=$(2*X/N),Q=z(2*X/N),ee=0;ee<D;ee+=N)for(var fe=W,oe=Q,me=0;me<U;me++){var he=p[ee+me],Se=T[ee+me],Ae=p[ee+me+U],pe=T[ee+me+U],ge=fe*Ae-oe*pe;pe=fe*pe+oe*Ae,Ae=ge,p[ee+me]=he+Ae,T[ee+me]=Se+pe,p[ee+me+U]=he-Ae,T[ee+me+U]=Se-pe,me!==N&&(ge=W*fe-Q*oe,oe=W*oe+Q*fe,fe=ge)}},c.prototype.guessLen13b=function(B,y){var p=1|ve(y,B),T=1&p,D=0;for(p=0|p/2;p;p>>>=1)D++;return 1<<D+1+T},c.prototype.conjugate=function(B,y,p){if(!(1>=p))for(var T=0,D;T<p/2;T++)D=B[T],B[T]=B[p-T-1],B[p-T-1]=D,D=y[T],y[T]=-y[p-T-1],y[p-T-1]=-D},c.prototype.normalize13b=function(B,y){for(var p=0,T=0,D;T<y/2;T++)D=8192*K(B[2*T+1]/y)+K(B[2*T]/y)+p,B[T]=67108863&D,p=67108864>D?0:0|D/67108864;return B},c.prototype.convert13b=function(B,y,p,T){for(var D=0,j=0;j<y;j++)D+=0|B[j],p[2*j]=8191&D,D>>>=13,p[2*j+1]=8191&D,D>>>=13;for(j=2*y;j<T;++j)p[j]=0;E(D===0),E((-8192&D)==0)},c.prototype.stub=function(B){for(var y=Array(B),p=0;p<B;p++)y[p]=0;return y},c.prototype.mulp=function(B,y,p){var T=2*this.guessLen13b(B.length,y.length),D=this.makeRBT(T),j=this.stub(T),U=Array(T),N=Array(T),W=Array(T),Q=Array(T),ee=Array(T),fe=Array(T),oe=p.words;oe.length=T,this.convert13b(B.words,B.length,U,T),this.convert13b(y.words,y.length,Q,T),this.transform(U,j,N,W,T,D),this.transform(Q,j,ee,fe,T,D);for(var me=0,he;me<T;me++)he=N[me]*ee[me]-W[me]*fe[me],W[me]=N[me]*fe[me]+W[me]*ee[me],N[me]=he;return this.conjugate(N,W,T),this.transform(N,W,oe,j,T,D),this.conjugate(oe,j,T),this.normalize13b(oe,T),p.negative=B.negative^y.negative,p.length=B.length+y.length,p.strip()},r.prototype.mul=function(B){var y=new r(null);return y.words=Array(this.length+B.length),this.mulTo(B,y)},r.prototype.mulf=function(B){var y=new r(null);return y.words=Array(this.length+B.length),d(this,B,y)},r.prototype.imul=function(B){return this.clone().mulTo(B,this)},r.prototype.imuln=function(B){E(typeof B=="number"),E(67108864>B);for(var y=0,p=0;p<this.length;p++){var T=(0|this.words[p])*B,D=(67108863&T)+(67108863&y);y>>=26,y+=0|T/67108864,y+=D>>>26,this.words[p]=67108863&D}return y!==0&&(this.words[p]=y,this.length++),this},r.prototype.muln=function(B){return this.clone().imuln(B)},r.prototype.sqr=function(){return this.mul(this)},r.prototype.isqr=function(){return this.imul(this.clone())},r.prototype.pow=function(B){var y=l(B);if(y.length===0)return new r(1);for(var p=this,T=0;T<y.length&&y[T]===0;T++,p=p.sqr());if(++T<y.length)for(var D=p.sqr();T<y.length;T++,D=D.sqr())y[T]!==0&&(p=p.mul(D));return p},r.prototype.iushln=function(B){E(typeof B=="number"&&0<=B);var y=B%26,p=(B-y)/26,T=67108863>>>26-y<<26-y,D;if(y!=0){var j=0;for(D=0;D<this.length;D++){var U=this.words[D]&T,N=(0|this.words[D])-U<<y;this.words[D]=N|j,j=U>>>26-y}j&&(this.words[D]=j,this.length++)}if(p!==0){for(D=this.length-1;0<=D;D--)this.words[D+p]=this.words[D];for(D=0;D<p;D++)this.words[D]=0;this.length+=p}return this.strip()},r.prototype.ishln=function(B){return E(this.negative===0),this.iushln(B)},r.prototype.iushrn=function(B,y,p){E(typeof B=="number"&&0<=B);var T;T=y?(y-y%26)/26:0;var D=B%26,j=ke((B-D)/26,this.length),U=67108863^67108863>>>D<<D,N=p;if(T-=j,T=ve(0,T),N){for(var W=0;W<j;W++)N.words[W]=this.words[W];N.length=j}if(j!==0)if(this.length>j)for(this.length-=j,W=0;W<this.length;W++)this.words[W]=this.words[W+j];else this.words[0]=0,this.length=1;var Q=0;for(W=this.length-1;0<=W&&(Q!==0||W>=T);W--){var ee=0|this.words[W];this.words[W]=Q<<26-D|ee>>>D,Q=ee&U}return N&&Q!==0&&(N.words[N.length++]=Q),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},r.prototype.ishrn=function(B,y,p){return E(this.negative===0),this.iushrn(B,y,p)},r.prototype.shln=function(B){return this.clone().ishln(B)},r.prototype.ushln=function(B){return this.clone().iushln(B)},r.prototype.shrn=function(B){return this.clone().ishrn(B)},r.prototype.ushrn=function(B){return this.clone().iushrn(B)},r.prototype.testn=function(B){E(typeof B=="number"&&0<=B);var y=B%26,p=(B-y)/26,T=1<<y;if(this.length<=p)return!1;var D=this.words[p];return!!(D&T)},r.prototype.imaskn=function(B){E(typeof B=="number"&&0<=B);var y=B%26,p=(B-y)/26;if(E(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(y!=0&&p++,this.length=ke(p,this.length),y!=0){var T=67108863^67108863>>>y<<y;this.words[this.length-1]&=T}return this.strip()},r.prototype.maskn=function(B){return this.clone().imaskn(B)},r.prototype.iaddn=function(B){return E(typeof B=="number"),E(67108864>B),0>B?this.isubn(-B):this.negative===0?this._iaddn(B):this.length===1&&(0|this.words[0])<B?(this.words[0]=B-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(B),this.negative=1,this)},r.prototype._iaddn=function(B){this.words[0]+=B;for(var y=0;y<this.length&&67108864<=this.words[y];y++)this.words[y]-=67108864,y==this.length-1?this.words[y+1]=1:this.words[y+1]++;return this.length=ve(this.length,y+1),this},r.prototype.isubn=function(B){if(E(typeof B=="number"),E(67108864>B),0>B)return this.iaddn(-B);if(this.negative!==0)return this.negative=0,this.iaddn(B),this.negative=1,this;if(this.words[0]-=B,this.length===1&&0>this.words[0])this.words[0]=-this.words[0],this.negative=1;else for(var y=0;y<this.length&&0>this.words[y];y++)this.words[y]+=67108864,this.words[y+1]-=1;return this.strip()},r.prototype.addn=function(B){return this.clone().iaddn(B)},r.prototype.subn=function(B){return this.clone().isubn(B)},r.prototype.iabs=function(){return this.negative=0,this},r.prototype.abs=function(){return this.clone().iabs()},r.prototype._ishlnsubmul=function(B,y,p){var T=B.length+p,D;this._expand(T);var j=0,U;for(D=0;D<B.length;D++){U=(0|this.words[D+p])+j;var N=(0|B.words[D])*y;U-=67108863&N,j=(U>>26)-(0|N/67108864),this.words[D+p]=67108863&U}for(;D<this.length-p;D++)U=(0|this.words[D+p])+j,j=U>>26,this.words[D+p]=67108863&U;if(j===0)return this.strip();for(E(j===-1),j=0,D=0;D<this.length;D++)U=-(0|this.words[D])+j,j=U>>26,this.words[D]=67108863&U;return this.negative=1,this.strip()},r.prototype._wordDiv=function(B,y){var p=this.length-B.length,T=this.clone(),D=B,j=0|D.words[D.length-1],U=this._countBits(j);p=26-U,p!=0&&(D=D.ushln(p),T.iushln(p),j=0|D.words[D.length-1]);var N=T.length-D.length,W;if(y!=="mod"){W=new r(null),W.length=N+1,W.words=Array(W.length);for(var Q=0;Q<W.length;Q++)W.words[Q]=0}var ee=T.clone()._ishlnsubmul(D,1,N);ee.negative===0&&(T=ee,W&&(W.words[N]=1));for(var fe=N-1,oe;0<=fe;fe--){for(oe=67108864*(0|T.words[D.length+fe])+(0|T.words[D.length+fe-1]),oe=ke(0|oe/j,67108863),T._ishlnsubmul(D,oe,fe);T.negative!==0;)oe--,T.negative=0,T._ishlnsubmul(D,1,fe),T.isZero()||(T.negative^=1);W&&(W.words[fe]=oe)}return W&&W.strip(),T.strip(),y!=="div"&&p!==0&&T.iushrn(p),{div:W||null,mod:T}},r.prototype.divmod=function(B,y,p){if(E(!B.isZero()),this.isZero())return{div:new r(0),mod:new r(0)};var T,D,j;return this.negative!==0&&B.negative===0?(j=this.neg().divmod(B,y),y!=="mod"&&(T=j.div.neg()),y!=="div"&&(D=j.mod.neg(),p&&D.negative!==0&&D.iadd(B)),{div:T,mod:D}):this.negative===0&&B.negative!==0?(j=this.divmod(B.neg(),y),y!=="mod"&&(T=j.div.neg()),{div:T,mod:j.mod}):(this.negative&B.negative)==0?B.length>this.length||0>this.cmp(B)?{div:new r(0),mod:this}:B.length===1?y==="div"?{div:this.divn(B.words[0]),mod:null}:y==="mod"?{div:null,mod:new r(this.modn(B.words[0]))}:{div:this.divn(B.words[0]),mod:new r(this.modn(B.words[0]))}:this._wordDiv(B,y):(j=this.neg().divmod(B.neg(),y),y!=="div"&&(D=j.mod.neg(),p&&D.negative!==0&&D.isub(B)),{div:j.div,mod:D})},r.prototype.div=function(B){return this.divmod(B,"div",!1).div},r.prototype.mod=function(B){return this.divmod(B,"mod",!1).mod},r.prototype.umod=function(B){return this.divmod(B,"mod",!0).mod},r.prototype.divRound=function(B){var y=this.divmod(B);if(y.mod.isZero())return y.div;var p=y.div.negative===0?y.mod:y.mod.isub(B),T=B.ushrn(1),D=B.andln(1),j=p.cmp(T);return 0>j||D===1&&j===0?y.div:y.div.negative===0?y.div.iaddn(1):y.div.isubn(1)},r.prototype.modn=function(B){E(67108863>=B);for(var y=67108864%B,p=0,T=this.length-1;0<=T;T--)p=(y*p+(0|this.words[T]))%B;return p},r.prototype.idivn=function(B){E(67108863>=B);for(var y=0,p=this.length-1,T;0<=p;p--)T=(0|this.words[p])+67108864*y,this.words[p]=0|T/B,y=T%B;return this.strip()},r.prototype.divn=function(B){return this.clone().idivn(B)},r.prototype.egcd=function(B){E(B.negative===0),E(!B.isZero());var y=this,p=B.clone();y=y.negative===0?y.clone():y.umod(B);for(var T=new r(1),D=new r(0),j=new r(0),U=new r(1),N=0;y.isEven()&&p.isEven();)y.iushrn(1),p.iushrn(1),++N;for(var W=p.clone(),Q=y.clone();!y.isZero();){for(var ee=0,fe=1;(y.words[0]&fe)==0&&26>ee;++ee,fe<<=1);if(0<ee)for(y.iushrn(ee);0<ee--;)(T.isOdd()||D.isOdd())&&(T.iadd(W),D.isub(Q)),T.iushrn(1),D.iushrn(1);for(var oe=0,me=1;(p.words[0]&me)==0&&26>oe;++oe,me<<=1);if(0<oe)for(p.iushrn(oe);0<oe--;)(j.isOdd()||U.isOdd())&&(j.iadd(W),U.isub(Q)),j.iushrn(1),U.iushrn(1);0<=y.cmp(p)?(y.isub(p),T.isub(j),D.isub(U)):(p.isub(y),j.isub(T),U.isub(D))}return{a:j,b:U,gcd:p.iushln(N)}},r.prototype._invmp=function(B){E(B.negative===0),E(!B.isZero());var y=this,p=B.clone();y=y.negative===0?y.clone():y.umod(B);for(var T=new r(1),D=new r(0),j=p.clone();0<y.cmpn(1)&&0<p.cmpn(1);){for(var U=0,N=1;(y.words[0]&N)==0&&26>U;++U,N<<=1);if(0<U)for(y.iushrn(U);0<U--;)T.isOdd()&&T.iadd(j),T.iushrn(1);for(var W=0,Q=1;(p.words[0]&Q)==0&&26>W;++W,Q<<=1);if(0<W)for(p.iushrn(W);0<W--;)D.isOdd()&&D.iadd(j),D.iushrn(1);0<=y.cmp(p)?(y.isub(p),T.isub(D)):(p.isub(y),D.isub(T))}var ee;return ee=y.cmpn(1)===0?T:D,0>ee.cmpn(0)&&ee.iadd(B),ee},r.prototype.gcd=function(B){if(this.isZero())return B.abs();if(B.isZero())return this.abs();var y=this.clone(),p=B.clone();y.negative=0,p.negative=0;for(var T=0;y.isEven()&&p.isEven();T++)y.iushrn(1),p.iushrn(1);do{for(;y.isEven();)y.iushrn(1);for(;p.isEven();)p.iushrn(1);var D=y.cmp(p);if(0>D){var j=y;y=p,p=j}else if(D===0||p.cmpn(1)===0)break;y.isub(p)}while(!0);return p.iushln(T)},r.prototype.invm=function(B){return this.egcd(B).a.umod(B)},r.prototype.isEven=function(){return(1&this.words[0])==0},r.prototype.isOdd=function(){return(1&this.words[0])==1},r.prototype.andln=function(B){return this.words[0]&B},r.prototype.bincn=function(B){E(typeof B=="number");var y=B%26,p=(B-y)/26,T=1<<y;if(this.length<=p)return this._expand(p+1),this.words[p]|=T,this;for(var D=T,j=p,U;D!==0&&j<this.length;j++)U=0|this.words[j],U+=D,D=U>>>26,U&=67108863,this.words[j]=U;return D!==0&&(this.words[j]=D,this.length++),this},r.prototype.isZero=function(){return this.length===1&&this.words[0]===0},r.prototype.cmpn=function(B){var y=0>B;if(this.negative!==0&&!y)return-1;if(this.negative===0&&y)return 1;this.strip();var p;if(1<this.length)p=1;else{y&&(B=-B),E(67108863>=B,"Number is too big");var T=0|this.words[0];p=T===B?0:T<B?-1:1}return this.negative===0?p:0|-p},r.prototype.cmp=function(B){if(this.negative!==0&&B.negative===0)return-1;if(this.negative===0&&B.negative!==0)return 1;var y=this.ucmp(B);return this.negative===0?y:0|-y},r.prototype.ucmp=function(B){if(this.length>B.length)return 1;if(this.length<B.length)return-1;for(var y=0,p=this.length-1;0<=p;p--){var T=0|this.words[p],D=0|B.words[p];if(T!=D){T<D?y=-1:T>D&&(y=1);break}}return y},r.prototype.gtn=function(B){return this.cmpn(B)===1},r.prototype.gt=function(B){return this.cmp(B)===1},r.prototype.gten=function(B){return 0<=this.cmpn(B)},r.prototype.gte=function(B){return 0<=this.cmp(B)},r.prototype.ltn=function(B){return this.cmpn(B)===-1},r.prototype.lt=function(B){return this.cmp(B)===-1},r.prototype.lten=function(B){return 0>=this.cmpn(B)},r.prototype.lte=function(B){return 0>=this.cmp(B)},r.prototype.eqn=function(B){return this.cmpn(B)===0},r.prototype.eq=function(B){return this.cmp(B)===0},r.red=function(B){return new w(B)},r.prototype.toRed=function(B){return E(!this.red,"Already a number in reduction context"),E(this.negative===0,"red works only with positives"),B.convertTo(this)._forceRed(B)},r.prototype.fromRed=function(){return E(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},r.prototype._forceRed=function(B){return this.red=B,this},r.prototype.forceRed=function(B){return E(!this.red,"Already a number in reduction context"),this._forceRed(B)},r.prototype.redAdd=function(B){return E(this.red,"redAdd works only with red numbers"),this.red.add(this,B)},r.prototype.redIAdd=function(B){return E(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,B)},r.prototype.redSub=function(B){return E(this.red,"redSub works only with red numbers"),this.red.sub(this,B)},r.prototype.redISub=function(B){return E(this.red,"redISub works only with red numbers"),this.red.isub(this,B)},r.prototype.redShl=function(B){return E(this.red,"redShl works only with red numbers"),this.red.shl(this,B)},r.prototype.redMul=function(B){return E(this.red,"redMul works only with red numbers"),this.red._verify2(this,B),this.red.mul(this,B)},r.prototype.redIMul=function(B){return E(this.red,"redMul works only with red numbers"),this.red._verify2(this,B),this.red.imul(this,B)},r.prototype.redSqr=function(){return E(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},r.prototype.redISqr=function(){return E(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},r.prototype.redSqrt=function(){return E(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},r.prototype.redInvm=function(){return E(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},r.prototype.redNeg=function(){return E(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},r.prototype.redPow=function(B){return E(this.red&&!B.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,B)};var ae={k256:null,p224:null,p192:null,p25519:null};f.prototype._tmp=function(){var B=new r(null);return B.words=Array(Ee(this.n/13)),B},f.prototype.ireduce=function(B){var y=B,p;do this.split(y,this.tmp),y=this.imulK(y),y=y.iadd(this.tmp),p=y.bitLength();while(p>this.n);var T=p<this.n?-1:y.ucmp(this.p);return T===0?(y.words[0]=0,y.length=1):0<T?y.isub(this.p):y.strip===void 0?y._strip():y.strip(),y},f.prototype.split=function(B,y){B.iushrn(this.n,0,y)},f.prototype.imulK=function(B){return B.imul(this.k)},v(h,f),h.prototype.split=function(B,y){for(var p=4194303,T=ke(B.length,9),D=0;D<T;D++)y.words[D]=B.words[D];if(y.length=T,9>=B.length)return B.words[0]=0,void(B.length=1);var j=B.words[9];for(y.words[y.length++]=j&p,D=10;D<B.length;D++){var U=0|B.words[D];B.words[D-10]=(U&p)<<4|j>>>22,j=U}j>>>=22,B.words[D-10]=j,B.length-=j===0&&10<B.length?10:9},h.prototype.imulK=function(B){B.words[B.length]=0,B.words[B.length+1]=0,B.length+=2;for(var y=0,p=0,T;p<B.length;p++)T=0|B.words[p],y+=977*T,B.words[p]=67108863&y,y=64*T+(0|y/67108864);return B.words[B.length-1]===0&&(B.length--,B.words[B.length-1]===0&&B.length--),B},v(x,f),v(R,f),v(A,f),A.prototype.imulK=function(B){for(var y=0,p=0;p<B.length;p++){var T=19*(0|B.words[p])+y,D=67108863&T;T>>>=26,B.words[p]=D,y=T}return y!==0&&(B.words[B.length++]=y),B},r._prime=function(B){if(ae[B])return ae[B];var y;if(B==="k256")y=new h;else if(B==="p224")y=new x;else if(B==="p192")y=new R;else if(B==="p25519")y=new A;else throw new Error("Unknown prime "+B);return ae[B]=y,y},w.prototype._verify1=function(B){E(B.negative===0,"red works only with positives"),E(B.red,"red works only with red numbers")},w.prototype._verify2=function(B,y){E((B.negative|y.negative)==0,"red works only with positives"),E(B.red&&B.red===y.red,"red works only with red numbers")},w.prototype.imod=function(B){return this.prime?this.prime.ireduce(B)._forceRed(this):B.umod(this.m)._forceRed(this)},w.prototype.neg=function(B){return B.isZero()?B.clone():this.m.sub(B)._forceRed(this)},w.prototype.add=function(B,y){this._verify2(B,y);var p=B.add(y);return 0<=p.cmp(this.m)&&p.isub(this.m),p._forceRed(this)},w.prototype.iadd=function(B,y){this._verify2(B,y);var p=B.iadd(y);return 0<=p.cmp(this.m)&&p.isub(this.m),p},w.prototype.sub=function(B,y){this._verify2(B,y);var p=B.sub(y);return 0>p.cmpn(0)&&p.iadd(this.m),p._forceRed(this)},w.prototype.isub=function(B,y){this._verify2(B,y);var p=B.isub(y);return 0>p.cmpn(0)&&p.iadd(this.m),p},w.prototype.shl=function(B,y){return this._verify1(B),this.imod(B.ushln(y))},w.prototype.imul=function(B,y){return this._verify2(B,y),this.imod(B.imul(y))},w.prototype.mul=function(B,y){return this._verify2(B,y),this.imod(B.mul(y))},w.prototype.isqr=function(B){return this.imul(B,B.clone())},w.prototype.sqr=function(B){return this.mul(B,B)},w.prototype.sqrt=function(B){if(B.isZero())return B.clone();var y=this.m.andln(3);if(E(y%2==1),y===3){var p=this.m.add(new r(1)).iushrn(2);return this.pow(B,p)}for(var T=this.m.subn(1),D=0;!T.isZero()&&T.andln(1)===0;)D++,T.iushrn(1);E(!T.isZero());var j=new r(1).toRed(this),U=j.redNeg(),N=this.m.subn(1).iushrn(1),W=this.m.bitLength();for(W=new r(2*W*W).toRed(this);this.pow(W,N).cmp(U)!==0;)W.redIAdd(U);for(var Q=this.pow(W,T),ee=this.pow(B,T.addn(1).iushrn(1)),fe=this.pow(B,T),oe=D;fe.cmp(j)!==0;){for(var me=fe,he=0;me.cmp(j)!==0;he++)me=me.redSqr();E(he<oe);var Se=this.pow(Q,new r(1).iushln(oe-he-1));ee=ee.redMul(Se),Q=Se.redSqr(),fe=fe.redMul(Q),oe=he}return ee},w.prototype.invm=function(B){var y=B._invmp(this.m);return y.negative===0?this.imod(y):(y.negative=0,this.imod(y).redNeg())},w.prototype.pow=function(B,y){if(y.isZero())return new r(1).toRed(this);if(y.cmpn(1)===0)return B.clone();var p=Array(16);p[0]=new r(1).toRed(this),p[1]=B;for(var T=2;T<p.length;T++)p[T]=this.mul(p[T-1],B);var D=p[0],j=0,U=0,N=y.bitLength()%26;for(N===0&&(N=26),T=y.length-1;0<=T;T--){for(var W=y.words[T],Q=N-1,ee;0<=Q;Q--){if(ee=1&W>>Q,D!==p[0]&&(D=this.sqr(D)),ee===0&&j===0){U=0;continue}j<<=1,j|=ee,U++,(U===4||T===0&&Q===0)&&(D=this.mul(D,p[j]),U=0,j=0)}N=26}return D},w.prototype.convertTo=function(B){var y=B.umod(this.m);return y===B?y.clone():y},w.prototype.convertFrom=function(B){var y=B.clone();return y.red=null,y},r.mont=function(B){return new I(B)},v(I,w),I.prototype.convertTo=function(B){return this.imod(B.ushln(this.shift))},I.prototype.convertFrom=function(B){var y=this.imod(B.mul(this.rinv));return y.red=null,y},I.prototype.imul=function(B,y){if(B.isZero()||y.isZero())return B.words[0]=0,B.length=1,B;var p=B.imul(y),T=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=p.isub(T).iushrn(this.shift),j=D;return 0<=D.cmp(this.m)?j=D.isub(this.m):0>D.cmpn(0)&&(j=D.iadd(this.m)),j._forceRed(this)},I.prototype.mul=function(B,y){if(B.isZero()||y.isZero())return new r(0)._forceRed(this);var p=B.mul(y),T=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=p.isub(T).iushrn(this.shift),j=D;return 0<=D.cmp(this.m)?j=D.isub(this.m):0>D.cmpn(0)&&(j=D.iadd(this.m)),j._forceRed(this)},I.prototype.invm=function(B){var y=this.imod(B._invmp(this.m).mul(this.r2));return y._forceRed(this)}})(typeof V>"u"||V,this)},{buffer:41}],23:[function(S,V,O){function g(f){var h=f.length;if(0<h%4)throw new Error("Invalid string. Length must be a multiple of 4");var x=f.indexOf("=");x===-1&&(x=h);var R=x===h?0:4-x%4;return[x,R]}function k(f){var h=g(f),x=h[0],R=h[1];return 3*(x+R)/4-R}function E(f,h,x){return 3*(h+x)/4-x}function v(f){var h=g(f),x=h[0],R=h[1],A=new s(E(f,x,R)),w=0,I=0<R?x-4:x,M,L;for(L=0;L<I;L+=4)M=l[f.charCodeAt(L)]<<18|l[f.charCodeAt(L+1)]<<12|l[f.charCodeAt(L+2)]<<6|l[f.charCodeAt(L+3)],A[w++]=255&M>>16,A[w++]=255&M>>8,A[w++]=255&M;return R===2&&(M=l[f.charCodeAt(L)]<<2|l[f.charCodeAt(L+1)]>>4,A[w++]=255&M),R===1&&(M=l[f.charCodeAt(L)]<<10|l[f.charCodeAt(L+1)]<<4|l[f.charCodeAt(L+2)]>>2,A[w++]=255&M>>8,A[w++]=255&M),A}function r(f){return a[63&f>>18]+a[63&f>>12]+a[63&f>>6]+a[63&f]}function m(f,h,x){for(var R=[],A=h,w;A<x;A+=3)w=(16711680&f[A]<<16)+(65280&f[A+1]<<8)+(255&f[A+2]),R.push(r(w));return R.join("")}function o(f){for(var h=f.length,x=h%3,R=[],A=16383,w=0,I=h-x,M;w<I;w+=A)R.push(m(f,w,w+A>I?I:w+A));return x===1?(M=f[h-1],R.push(a[M>>2]+a[63&M<<4]+"==")):x===2&&(M=(f[h-2]<<8)+f[h-1],R.push(a[M>>10]+a[63&M>>4]+a[63&M<<2]+"=")),R.join("")}O.byteLength=k,O.toByteArray=v,O.fromByteArray=o;for(var a=[],l=[],s=typeof Uint8Array>"u"?Array:Uint8Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,c=n.length;d<c;++d)a[d]=n[d],l[n.charCodeAt(d)]=d;l[45]=62,l[95]=63},{}],24:[function(S,V,O){(function(g){(function(){function k(l,s,n){let d=0,c=1;for(let f=s;f<n;f++){const h=l[f];if(58>h&&48<=h){d=10*d+(h-48);continue}if(f!==s||h!==43){if(f===s&&h===45){c=-1;continue}if(h===46)break;throw new Error("not a number: buffer["+f+"] = "+h)}}return d*c}function E(l,s,n,d){return l==null||l.length===0?null:(typeof s!="number"&&d==null&&(d=s,s=void 0),typeof n!="number"&&d==null&&(d=n,n=void 0),E.position=0,E.encoding=d||null,E.data=g.isBuffer(l)?l.slice(s,n):g.from(l),E.bytes=E.data.length,E.next())}const v=105,r=58,m=100,o=108,a=101;E.bytes=0,E.position=0,E.data=null,E.encoding=null,E.next=function(){switch(E.data[E.position]){case m:return E.dictionary();case o:return E.list();case v:return E.integer();default:return E.buffer()}},E.find=function(l){let s=E.position;const n=E.data.length,d=E.data;for(;s<n;){if(d[s]===l)return s;s++}throw new Error('Invalid data: Missing delimiter "'+we(l)+'" [0x'+l.toString(16)+"]")},E.dictionary=function(){E.position++;const l={};for(;E.data[E.position]!==a;)l[E.buffer()]=E.next();return E.position++,l},E.list=function(){E.position++;const l=[];for(;E.data[E.position]!==a;)l.push(E.next());return E.position++,l},E.integer=function(){const l=E.find(a),s=k(E.data,E.position+1,l);return E.position+=l+1-E.position,s},E.buffer=function(){let l=E.find(r);const s=k(E.data,E.position,l),n=++l+s;return E.position=n,E.encoding?E.data.toString(E.encoding,l,n):E.data.slice(l,n)},V.exports=E}).call(this)}).call(this,S("buffer").Buffer)},{buffer:75}],25:[function(S,V,O){(function(g){(function(){function k(o,a,l){const s=[];let n=null;return k._encode(s,o),n=g.concat(s),k.bytes=n.length,g.isBuffer(a)?(n.copy(a,l),a):n}const{getType:E}=S("./util.js");k.bytes=-1,k._floatConversionDetected=!1,k._encode=function(o,a){if(a!=null)switch(E(a)){case"buffer":k.buffer(o,a);break;case"object":k.dict(o,a);break;case"map":k.dictMap(o,a);break;case"array":k.list(o,a);break;case"set":k.listSet(o,a);break;case"string":k.string(o,a);break;case"number":k.number(o,a);break;case"boolean":k.number(o,a);break;case"arraybufferview":k.buffer(o,g.from(a.buffer,a.byteOffset,a.byteLength));break;case"arraybuffer":k.buffer(o,g.from(a))}};const v=g.from("e"),r=g.from("d"),m=g.from("l");k.buffer=function(o,a){o.push(g.from(a.length+":"),a)},k.string=function(o,a){o.push(g.from(g.byteLength(a)+":"+a))},k.number=function(o,a){const l=a/2147483648<<0,s=a%2147483648<<0,n=l*2147483648+s;o.push(g.from("i"+n+"e")),n===a||k._floatConversionDetected||(k._floatConversionDetected=!0,console.warn('WARNING: Possible data corruption detected with value "'+a+'":','Bencoding only defines support for integers, value was converted to "'+n+'"'),console.trace())},k.dict=function(o,a){o.push(r);let l=0,s;const n=Object.keys(a).sort(),d=n.length;for(;l<d;l++)s=n[l],a[s]!=null&&(k.string(o,s),k._encode(o,a[s]));o.push(v)},k.dictMap=function(o,a){o.push(r);const l=Array.from(a.keys()).sort();for(const s of l)a.get(s)!=null&&(g.isBuffer(s)?k._encode(o,s):k.string(o,s+""),k._encode(o,a.get(s)));o.push(v)},k.list=function(o,a){let l=0;const s=a.length;for(o.push(m);l<s;l++)a[l]!=null&&k._encode(o,a[l]);o.push(v)},k.listSet=function(o,a){o.push(m);for(const l of a)l!=null&&k._encode(o,l);o.push(v)},V.exports=k}).call(this)}).call(this,S("buffer").Buffer)},{"./util.js":28,buffer:75}],26:[function(S,V,O){(function(g){(function(){function k(s){let n=2;for(const d of s)n+=o(d);return n}function E(s){let n=2;for(const[d,c]of s){const f=g.byteLength(d);n+=a(f)+1+f,n+=o(c)}return n}function v(s){let n=2;const d=Object.keys(s);for(let c=0;c<d.length;c++){const f=g.byteLength(d[c]);n+=a(f)+1+f,n+=o(s[d[c]])}return n}function r(s){const n=g.byteLength(s);return a(n)+1+n}function m(s){const n=s.byteLength-s.byteOffset;return a(n)+1+n}function o(s){if(s==null)return 0;const n=l(s);switch(n){case"buffer":return a(s.length)+1+s.length;case"arraybufferview":return m(s);case"string":return r(s);case"array":case"set":return k(s);case"number":return 1+a(F(s))+1;case"bigint":return 1+s.toString().length+1;case"object":return v(s);case"map":return E(s);default:throw new TypeError(`Unsupported value of type "${n}"`)}}const{digitCount:a,getType:l}=S("./util.js");V.exports=o}).call(this)}).call(this,S("buffer").Buffer)},{"./util.js":28,buffer:75}],27:[function(S,V,O){const g=V.exports;g.encode=S("./encode.js"),g.decode=S("./decode.js"),g.byteLength=g.encodingLength=S("./encoding-length.js")},{"./decode.js":24,"./encode.js":25,"./encoding-length.js":26}],28:[function(S,V,O){(function(g){(function(){const k=V.exports;k.digitCount=function(v){var r=Math.log10;const m=0>v?1:0;return v=C(+(v||1)),F(r(v))+1+m},k.getType=function(v){return g.isBuffer(v)?"buffer":ArrayBuffer.isView(v)?"arraybufferview":Array.isArray(v)?"array":v instanceof Number?"number":v instanceof Boolean?"boolean":v instanceof Set?"set":v instanceof Map?"map":v instanceof String?"string":v instanceof ArrayBuffer?"arraybuffer":typeof v}}).call(this)}).call(this,{isBuffer:S("../../is-buffer/index.js")})},{"../../is-buffer/index.js":148}],29:[function(S,V,O){function g(E){return E.reduce((v,r,m,o)=>((m===0||r!==o[m-1]+1)&&v.push([]),v[v.length-1].push(r),v),[]).map(v=>1<v.length?`${v[0]}-${v[v.length-1]}`:`${v[0]}`)}function k(E){const v=(r,m=r)=>Array.from({length:m-r+1},(o,a)=>a+r);return E.reduce((r,m,o,a)=>{const l=m.split("-").map(s=>parseInt(s));return r.concat(v(...l))},[])}V.exports=k,V.exports.parse=k,V.exports.compose=g},{}],30:[function(S,V,O){V.exports=function(g,k,E,v,r){var m,o;if(v===void 0)v=0;else if(v|=0,0>v||v>=g.length)throw new RangeError("invalid lower bound");if(r===void 0)r=g.length-1;else if(r|=0,r<v||r>=g.length)throw new RangeError("invalid upper bound");for(;v<=r;)if(m=v+(r-v>>>1),o=+E(g[m],k,m,g),0>o)v=m+1;else if(0<o)r=m-1;else return m;return~v}},{}],31:[function(S,V,O){function g(E){var v=E>>3;return E%8!=0&&v++,v}Object.defineProperty(O,"__esModule",{value:!0});var k=function(){function E(v,r){v===void 0&&(v=0);var m=r==null?void 0:r.grow;this.grow=m&&isFinite(m)&&g(m)||m||0,this.buffer=typeof v=="number"?new Uint8Array(g(v)):v}return E.prototype.get=function(v){var r=v>>3;return r<this.buffer.length&&!!(this.buffer[r]&128>>v%8)},E.prototype.set=function(v,r){r===void 0&&(r=!0);var m=v>>3;if(r){if(this.buffer.length<m+1){var o=ve(m+1,ke(2*this.buffer.length,this.grow));if(o<=this.grow){var a=new Uint8Array(o);a.set(this.buffer),this.buffer=a}}this.buffer[m]|=128>>v%8}else m<this.buffer.length&&(this.buffer[m]&=~(128>>v%8))},E.prototype.forEach=function(v,r,m){r===void 0&&(r=0),m===void 0&&(m=8*this.buffer.length);for(var o=r,a=o>>3,l=128>>o%8,s=this.buffer[a];o<m;o++)v(!!(s&l),o),l=l==1?(s=this.buffer[++a],128):l>>1},E}();O.default=k},{}],32:[function(S,V,O){(function(g){(function(){function k(U,N){for(let W=U.length;W--;)U[W]^=N[W];return U}/*! bittorrent-protocol. MIT License. WebTorrent LLC <https://webtorrent.io/opensource> */const E=S("unordered-array-remove"),v=S("bencode"),r=S("bitfield").default,m=S("crypto"),o=S("debug")("bittorrent-protocol"),a=S("randombytes"),l=S("simple-sha1"),s=S("speedometer"),n=S("readable-stream"),d=S("rc4"),c=4e5,f=55e3,h=100,x=g.from("BitTorrent protocol"),R=g.from([0,0,0,0]),A=g.from([0,0,0,1,0]),w=g.from([0,0,0,1,1]),I=g.from([0,0,0,1,2]),M=g.from([0,0,0,1,3]),L=[0,0,0,0,0,0,0,0],G=[0,0,0,3,9,0,0],Y=g.from([0,0,0,1,14]),ie=g.from([0,0,0,1,15]),ae="ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a36210000000000090563",J=2,B=g.from([0,0,0,0,0,0,0,0]),y=g.from([0,0,1,2]),p=g.from([0,0,0,2]);class T{constructor(N,W,Q,ee){this.piece=N,this.offset=W,this.length=Q,this.callback=ee}}class D{constructor(){this.buffer=new Uint8Array}get(N){return!0}set(N){}}class j extends n.Duplex{constructor(N=null,W=0,Q=!1){super(),this._debugId=a(4).toString("hex"),this._debug("new wire"),this.peerId=null,this.peerIdBuffer=null,this.type=N,this.amChoking=!0,this.amInterested=!1,this.peerChoking=!0,this.peerInterested=!1,this.peerPieces=new r(0,{grow:c}),this.extensions={},this.peerExtensions={},this.requests=[],this.peerRequests=[],this.extendedMapping={},this.peerExtendedMapping={},this.extendedHandshake={},this.peerExtendedHandshake={},this.hasFast=!1,this.allowedFastSet=[],this.peerAllowedFastSet=[],this._ext={},this._nextExt=1,this.uploaded=0,this.downloaded=0,this.uploadSpeed=s(),this.downloadSpeed=s(),this._keepAliveInterval=null,this._timeout=null,this._timeoutMs=0,this._timeoutExpiresAt=null,this.destroyed=!1,this._finished=!1,this._parserSize=0,this._parser=null,this._buffer=[],this._bufferSize=0,this._peEnabled=Q,Q?(this._dh=m.createDiffieHellman(ae,"hex",J),this._myPubKey=this._dh.generateKeys("hex")):this._myPubKey=null,this._peerPubKey=null,this._sharedSecret=null,this._peerCryptoProvide=[],this._cryptoHandshakeDone=!1,this._cryptoSyncPattern=null,this._waitMaxBytes=null,this._encryptionMethod=null,this._encryptGenerator=null,this._decryptGenerator=null,this._setGenerators=!1,this.once("finish",()=>this._onFinish()),this.on("finish",this._onFinish),this._debug("type:",this.type),this.type==="tcpIncoming"&&this._peEnabled?this._determineHandshakeType():this.type==="tcpOutgoing"&&this._peEnabled&&W===0?this._parsePe2():this._parseHandshake(null)}setKeepAlive(N){this._debug("setKeepAlive %s",N),clearInterval(this._keepAliveInterval),N===!1||(this._keepAliveInterval=setInterval(()=>{this.keepAlive()},f))}setTimeout(N,W){this._debug("setTimeout ms=%d unref=%s",N,W),this._timeoutMs=N,this._timeoutUnref=!!W,this._resetTimeout(!0)}destroy(){if(!this.destroyed)return this.destroyed=!0,this._debug("destroy"),this.emit("close"),this.end(),this}end(...N){return this._debug("end"),this._onUninterested(),this._onChoke(),super.end(...N)}use(N){function W(){}const Q=N.prototype.name;if(!Q)throw new Error('Extension class requires a "name" property on the prototype');this._debug("use extension.name=%s",Q);const ee=this._nextExt,fe=new N(this);typeof fe.onHandshake!="function"&&(fe.onHandshake=W),typeof fe.onExtendedHandshake!="function"&&(fe.onExtendedHandshake=W),typeof fe.onMessage!="function"&&(fe.onMessage=W),this.extendedMapping[ee]=Q,this._ext[Q]=fe,this[Q]=fe,this._nextExt+=1}keepAlive(){this._debug("keep-alive"),this._push(R)}sendPe1(){if(this._peEnabled){const N=F(513*Math.random()),W=a(N);this._push(g.concat([g.from(this._myPubKey,"hex"),W]))}}sendPe2(){const N=F(513*Math.random()),W=a(N);this._push(g.concat([g.from(this._myPubKey,"hex"),W]))}sendPe3(N){this.setEncrypt(this._sharedSecret,N);const W=g.from(l.sync(g.from(this._utfToHex("req1")+this._sharedSecret,"hex")),"hex"),Q=g.from(l.sync(g.from(this._utfToHex("req2")+N,"hex")),"hex"),ee=g.from(l.sync(g.from(this._utfToHex("req3")+this._sharedSecret,"hex")),"hex"),fe=k(Q,ee),oe=a(2).readUInt16BE(0)%512,me=a(oe);let he=g.alloc(14+oe+2);B.copy(he),y.copy(he,8),he.writeInt16BE(oe,12),me.copy(he,14),he.writeInt16BE(0,14+oe),he=this._encryptHandshake(he),this._push(g.concat([W,fe,he]))}sendPe4(N){this.setEncrypt(this._sharedSecret,N);const W=a(2).readUInt16BE(0)%512,Q=a(W);let ee=g.alloc(14+W);B.copy(ee),p.copy(ee,8),ee.writeInt16BE(W,12),Q.copy(ee,14),ee=this._encryptHandshake(ee),this._push(ee),this._cryptoHandshakeDone=!0,this._debug("completed crypto handshake")}handshake(N,W,Q){let ee,fe;if(typeof N=="string"?(N=N.toLowerCase(),ee=g.from(N,"hex")):(ee=N,N=ee.toString("hex")),typeof W=="string"?fe=g.from(W,"hex"):(fe=W,W=fe.toString("hex")),this._infoHash=ee,ee.length!==20||fe.length!==20)throw new Error("infoHash and peerId MUST have length 20");this._debug("handshake i=%s p=%s exts=%o",N,W,Q);const oe=g.from(L);this.extensions={extended:!0,dht:!!(Q&&Q.dht),fast:!!(Q&&Q.fast)},oe[5]|=16,this.extensions.dht&&(oe[7]|=1),this.extensions.fast&&(oe[7]|=4),this.extensions.fast&&this.peerExtensions.fast&&(this._debug("fast extension is enabled"),this.hasFast=!0),this._push(g.concat([x,oe,ee,fe])),this._handshakeSent=!0,this.peerExtensions.extended&&!this._extendedHandshakeSent&&this._sendExtendedHandshake()}_sendExtendedHandshake(){const N=Object.assign({},this.extendedHandshake);for(const W in N.m={},this.extendedMapping){const Q=this.extendedMapping[W];N.m[Q]=+W}this.extended(0,v.encode(N)),this._extendedHandshakeSent=!0}choke(){if(!this.amChoking)if(this.amChoking=!0,this._debug("choke"),this._push(A),this.hasFast)for(let N=0;this.peerRequests.length>N;){const W=this.peerRequests[N];this.allowedFastSet.includes(W.piece)?++N:this.reject(W.piece,W.offset,W.length)}else for(;this.peerRequests.length;)this.peerRequests.pop()}unchoke(){this.amChoking&&(this.amChoking=!1,this._debug("unchoke"),this._push(w))}interested(){this.amInterested||(this.amInterested=!0,this._debug("interested"),this._push(I))}uninterested(){this.amInterested&&(this.amInterested=!1,this._debug("uninterested"),this._push(M))}have(N){this._debug("have %d",N),this._message(4,[N],null)}bitfield(N){this._debug("bitfield"),g.isBuffer(N)||(N=N.buffer),this._message(5,[],N)}request(N,W,Q,ee){return ee||(ee=()=>{}),this._finished?ee(new Error("wire is closed")):this.peerChoking&&!(this.hasFast&&this.peerAllowedFastSet.includes(N))?ee(new Error("peer is choking")):(this._debug("request index=%d offset=%d length=%d",N,W,Q),this.requests.push(new T(N,W,Q,ee)),!this._timeout&&this._resetTimeout(!0),void this._message(6,[N,W,Q],null))}piece(N,W,Q){this._debug("piece index=%d offset=%d",N,W),this._message(7,[N,W],Q),this.uploaded+=Q.length,this.uploadSpeed(Q.length),this.emit("upload",Q.length)}cancel(N,W,Q){this._debug("cancel index=%d offset=%d length=%d",N,W,Q),this._callback(this._pull(this.requests,N,W,Q),new Error("request was cancelled"),null),this._message(8,[N,W,Q],null)}port(N){this._debug("port %d",N);const W=g.from(G);W.writeUInt16BE(N,5),this._push(W)}suggest(N){if(!this.hasFast)throw Error("fast extension is disabled");this._debug("suggest %d",N),this._message(13,[N],null)}haveAll(){if(!this.hasFast)throw Error("fast extension is disabled");this._debug("have-all"),this._push(Y)}haveNone(){if(!this.hasFast)throw Error("fast extension is disabled");this._debug("have-none"),this._push(ie)}reject(N,W,Q){if(!this.hasFast)throw Error("fast extension is disabled");this._debug("reject index=%d offset=%d length=%d",N,W,Q),this._pull(this.peerRequests,N,W,Q),this._message(16,[N,W,Q],null)}allowedFast(N){if(!this.hasFast)throw Error("fast extension is disabled");this._debug("allowed-fast %d",N),this.allowedFastSet.includes(N)||this.allowedFastSet.push(N),this._message(17,[N],null)}extended(N,W){if(this._debug("extended ext=%s",N),typeof N=="string"&&this.peerExtendedMapping[N]&&(N=this.peerExtendedMapping[N]),typeof N=="number"){const Q=g.from([N]),ee=g.isBuffer(W)?W:v.encode(W);this._message(20,[],g.concat([Q,ee]))}else throw new Error(`Unrecognized extension: ${N}`)}setEncrypt(N,W){let Q,ee,fe,oe,me,he;switch(this.type){case"tcpIncoming":Q=l.sync(g.from(this._utfToHex("keyB")+N+W,"hex")),ee=l.sync(g.from(this._utfToHex("keyA")+N+W,"hex")),fe=g.from(Q,"hex"),oe=[];for(const Se of fe.values())oe.push(Se);me=g.from(ee,"hex"),he=[];for(const Se of me.values())he.push(Se);this._encryptGenerator=new d(oe),this._decryptGenerator=new d(he);break;case"tcpOutgoing":Q=l.sync(g.from(this._utfToHex("keyA")+N+W,"hex")),ee=l.sync(g.from(this._utfToHex("keyB")+N+W,"hex")),fe=g.from(Q,"hex"),oe=[];for(const Se of fe.values())oe.push(Se);me=g.from(ee,"hex"),he=[];for(const Se of me.values())he.push(Se);this._encryptGenerator=new d(oe),this._decryptGenerator=new d(he);break;default:return!1}for(let Se=0;1024>Se;Se++)this._encryptGenerator.randomByte(),this._decryptGenerator.randomByte();return this._setGenerators=!0,!0}_read(){}_message(N,W,Q){const ee=Q?Q.length:0,fe=g.allocUnsafe(5+4*W.length);fe.writeUInt32BE(fe.length+ee-4,0),fe[4]=N;for(let oe=0;oe<W.length;oe++)fe.writeUInt32BE(W[oe],5+4*oe);this._push(fe),Q&&this._push(Q)}_push(N){if(!this._finished)return this._encryptionMethod===2&&this._cryptoHandshakeDone&&(N=this._encrypt(N)),this.push(N)}_onKeepAlive(){this._debug("got keep-alive"),this.emit("keep-alive")}_onPe1(N){this._peerPubKey=N.toString("hex"),this._sharedSecret=this._dh.computeSecret(this._peerPubKey,"hex","hex"),this.emit("pe1")}_onPe2(N){this._peerPubKey=N.toString("hex"),this._sharedSecret=this._dh.computeSecret(this._peerPubKey,"hex","hex"),this.emit("pe2")}_onPe3(N){const W=l.sync(g.from(this._utfToHex("req3")+this._sharedSecret,"hex")),Q=k(g.from(W,"hex"),N).toString("hex");this.emit("pe3",Q)}_onPe3Encrypted(N,W){if(!N.equals(B))return this._debug("Error: verification constant did not match"),void this.destroy();for(const Q of W.values())Q!==0&&this._peerCryptoProvide.push(Q);this._peerCryptoProvide.includes(2)?this._encryptionMethod=2:(this._debug("Error: RC4 encryption method not provided by peer"),this.destroy())}_onPe4(N){this._encryptionMethod=N.readUInt8(3),y.includes(this._encryptionMethod)||(this._debug("Error: peer selected invalid crypto method"),this.destroy()),this._cryptoHandshakeDone=!0,this._debug("crypto handshake done"),this.emit("pe4")}_onHandshake(N,W,Q){const ee=N.toString("hex"),fe=W.toString("hex");for(const oe in this._debug("got handshake i=%s p=%s exts=%o",ee,fe,Q),this.peerId=fe,this.peerIdBuffer=W,this.peerExtensions=Q,this.extensions.fast&&this.peerExtensions.fast&&(this._debug("fast extension is enabled"),this.hasFast=!0),this.emit("handshake",ee,fe,Q),this._ext)this._ext[oe].onHandshake(ee,fe,Q);Q.extended&&this._handshakeSent&&!this._extendedHandshakeSent&&this._sendExtendedHandshake()}_onChoke(){if(this.peerChoking=!0,this._debug("got choke"),this.emit("choke"),!this.hasFast)for(;this.requests.length;)this._callback(this.requests.pop(),new Error("peer is choking"),null)}_onUnchoke(){this.peerChoking=!1,this._debug("got unchoke"),this.emit("unchoke")}_onInterested(){this.peerInterested=!0,this._debug("got interested"),this.emit("interested")}_onUninterested(){this.peerInterested=!1,this._debug("got uninterested"),this.emit("uninterested")}_onHave(N){this.peerPieces.get(N)||(this._debug("got have %d",N),this.peerPieces.set(N,!0),this.emit("have",N))}_onBitField(N){this.peerPieces=new r(N),this._debug("got bitfield"),this.emit("bitfield",this.peerPieces)}_onRequest(N,W,Q){if(this.amChoking&&!(this.hasFast&&this.allowedFastSet.includes(N)))return void(this.hasFast&&this.reject(N,W,Q));this._debug("got request index=%d offset=%d length=%d",N,W,Q);const ee=(oe,me)=>fe===this._pull(this.peerRequests,N,W,Q)?oe?(this._debug("error satisfying request index=%d offset=%d length=%d (%s)",N,W,Q,oe.message),void(this.hasFast&&this.reject(N,W,Q))):void this.piece(N,W,me):void 0,fe=new T(N,W,Q,ee);this.peerRequests.push(fe),this.emit("request",N,W,Q,ee)}_onPiece(N,W,Q){this._debug("got piece index=%d offset=%d",N,W),this._callback(this._pull(this.requests,N,W,Q.length),null,Q),this.downloaded+=Q.length,this.downloadSpeed(Q.length),this.emit("download",Q.length),this.emit("piece",N,W,Q)}_onCancel(N,W,Q){this._debug("got cancel index=%d offset=%d length=%d",N,W,Q),this._pull(this.peerRequests,N,W,Q),this.emit("cancel",N,W,Q)}_onPort(N){this._debug("got port %d",N),this.emit("port",N)}_onSuggest(N){return this.hasFast?(this._debug("got suggest %d",N),void this.emit("suggest",N)):(this._debug("Error: got suggest whereas fast extension is disabled"),void this.destroy())}_onHaveAll(){return this.hasFast?(this._debug("got have-all"),this.peerPieces=new D,void this.emit("have-all")):(this._debug("Error: got have-all whereas fast extension is disabled"),void this.destroy())}_onHaveNone(){return this.hasFast?(this._debug("got have-none"),void this.emit("have-none")):(this._debug("Error: got have-none whereas fast extension is disabled"),void this.destroy())}_onReject(N,W,Q){return this.hasFast?(this._debug("got reject index=%d offset=%d length=%d",N,W,Q),this._callback(this._pull(this.requests,N,W,Q),new Error("request was rejected"),null),void this.emit("reject",N,W,Q)):(this._debug("Error: got reject whereas fast extension is disabled"),void this.destroy())}_onAllowedFast(N){return this.hasFast?(this._debug("got allowed-fast %d",N),!this.peerAllowedFastSet.includes(N)&&this.peerAllowedFastSet.push(N),this.peerAllowedFastSet.length>h&&this.peerAllowedFastSet.shift(),void this.emit("allowed-fast",N)):(this._debug("Error: got allowed-fast whereas fast extension is disabled"),void this.destroy())}_onExtended(N,W){if(N===0){let Q;try{Q=v.decode(W)}catch(ee){this._debug("ignoring invalid extended handshake: %s",ee.message||ee)}if(!Q)return;if(this.peerExtendedHandshake=Q,typeof Q.m=="object")for(const ee in Q.m)this.peerExtendedMapping[ee]=+Q.m[ee].toString();for(const ee in this._ext)this.peerExtendedMapping[ee]&&this._ext[ee].onExtendedHandshake(this.peerExtendedHandshake);this._debug("got extended handshake"),this.emit("extended","handshake",this.peerExtendedHandshake)}else this.extendedMapping[N]&&(N=this.extendedMapping[N],this._ext[N]&&this._ext[N].onMessage(W)),this._debug("got extended message ext=%s",N),this.emit("extended",N,W)}_onTimeout(){this._debug("request timed out"),this._callback(this.requests.shift(),new Error("request has timed out"),null),this.emit("timeout")}_write(N,W,Q){if(this._encryptionMethod===2&&this._cryptoHandshakeDone&&(N=this._decrypt(N)),this._bufferSize+=N.length,this._buffer.push(N),1<this._buffer.length&&(this._buffer=[g.concat(this._buffer,this._bufferSize)]),this._cryptoSyncPattern){const ee=this._buffer[0].indexOf(this._cryptoSyncPattern);if(ee!==-1)this._buffer[0]=this._buffer[0].slice(ee+this._cryptoSyncPattern.length),this._bufferSize-=ee+this._cryptoSyncPattern.length,this._cryptoSyncPattern=null;else if(this._bufferSize+N.length>this._waitMaxBytes+this._cryptoSyncPattern.length)return this._debug("Error: could not resynchronize"),void this.destroy()}for(;this._bufferSize>=this._parserSize&&!this._cryptoSyncPattern;)if(this._parserSize===0)this._parser(g.from([]));else{const ee=this._buffer[0];this._bufferSize-=this._parserSize,this._buffer=this._bufferSize?[ee.slice(this._parserSize)]:[],this._parser(ee.slice(0,this._parserSize))}Q(null)}_callback(N,W,Q){N&&(this._resetTimeout(!this.peerChoking&&!this._finished),N.callback(W,Q))}_resetTimeout(N){if(!N||!this._timeoutMs||!this.requests.length)return clearTimeout(this._timeout),this._timeout=null,void(this._timeoutExpiresAt=null);const W=Date.now()+this._timeoutMs;if(this._timeout){if(W-this._timeoutExpiresAt<.05*this._timeoutMs)return;clearTimeout(this._timeout)}this._timeoutExpiresAt=W,this._timeout=setTimeout(()=>this._onTimeout(),this._timeoutMs),this._timeoutUnref&&this._timeout.unref&&this._timeout.unref()}_parse(N,W){this._parserSize=N,this._parser=W}_parseUntil(N,W){this._cryptoSyncPattern=N,this._waitMaxBytes=W}_onMessageLength(N){const W=N.readUInt32BE(0);0<W?this._parse(W,this._onMessage):(this._onKeepAlive(),this._parse(4,this._onMessageLength))}_onMessage(N){switch(this._parse(4,this._onMessageLength),N[0]){case 0:return this._onChoke();case 1:return this._onUnchoke();case 2:return this._onInterested();case 3:return this._onUninterested();case 4:return this._onHave(N.readUInt32BE(1));case 5:return this._onBitField(N.slice(1));case 6:return this._onRequest(N.readUInt32BE(1),N.readUInt32BE(5),N.readUInt32BE(9));case 7:return this._onPiece(N.readUInt32BE(1),N.readUInt32BE(5),N.slice(9));case 8:return this._onCancel(N.readUInt32BE(1),N.readUInt32BE(5),N.readUInt32BE(9));case 9:return this._onPort(N.readUInt16BE(1));case 13:return this._onSuggest(N.readUInt32BE(1));case 14:return this._onHaveAll();case 15:return this._onHaveNone();case 16:return this._onReject(N.readUInt32BE(1),N.readUInt32BE(5),N.readUInt32BE(9));case 17:return this._onAllowedFast(N.readUInt32BE(1));case 20:return this._onExtended(N.readUInt8(1),N.slice(2));default:return this._debug("got unknown message"),this.emit("unknownmessage",N)}}_determineHandshakeType(){this._parse(1,N=>{const W=N.readUInt8(0);W===19?this._parse(W+48,this._onHandshakeBuffer):this._parsePe1(N)})}_parsePe1(N){this._parse(95,W=>{this._onPe1(g.concat([N,W])),this._parsePe3()})}_parsePe2(){this._parse(96,N=>{for(this._onPe2(N);!this._setGenerators;);this._parsePe4()})}_parsePe3(){const N=g.from(l.sync(g.from(this._utfToHex("req1")+this._sharedSecret,"hex")),"hex");this._parseUntil(N,512),this._parse(20,W=>{for(this._onPe3(W);!this._setGenerators;);this._parsePe3Encrypted()})}_parsePe3Encrypted(){this._parse(14,N=>{const W=this._decryptHandshake(N.slice(0,8)),Q=this._decryptHandshake(N.slice(8,12)),ee=this._decryptHandshake(N.slice(12,14)).readUInt16BE(0);this._parse(ee,fe=>{fe=this._decryptHandshake(fe),this._parse(2,oe=>{const me=this._decryptHandshake(oe).readUInt16BE(0);this._parse(me,he=>{he=this._decryptHandshake(he),this._onPe3Encrypted(W,Q,fe,he);const Se=me?he.readUInt8(0):null,Ae=me?he.slice(1,20):null;Se===19&&Ae.toString()==="BitTorrent protocol"?this._onHandshakeBuffer(he.slice(1)):this._parseHandshake()})})})})}_parsePe4(){const N=this._decryptHandshake(B);this._parseUntil(N,512),this._parse(6,W=>{const Q=this._decryptHandshake(W.slice(0,4)),ee=this._decryptHandshake(W.slice(4,6)).readUInt16BE(0);this._parse(ee,fe=>{this._decryptHandshake(fe),this._onPe4(Q),this._parseHandshake(null)})})}_parseHandshake(){this._parse(1,N=>{const W=N.readUInt8(0);return W===19?void this._parse(W+48,this._onHandshakeBuffer):(this._debug("Error: wire not speaking BitTorrent protocol (%s)",W.toString()),void this.end())})}_onHandshakeBuffer(N){const W=N.slice(0,19);return W.toString()==="BitTorrent protocol"?(N=N.slice(19),this._onHandshake(N.slice(8,28),N.slice(28,48),{dht:!!(1&N[7]),fast:!!(4&N[7]),extended:!!(16&N[5])}),void this._parse(4,this._onMessageLength)):(this._debug("Error: wire not speaking BitTorrent protocol (%s)",W.toString()),void this.end())}_onFinish(){for(this._finished=!0,this.push(null);this.read(););for(clearInterval(this._keepAliveInterval),this._parse(Number.MAX_VALUE,()=>{});this.peerRequests.length;)this.peerRequests.pop();for(;this.requests.length;)this._callback(this.requests.pop(),new Error("wire was closed"),null)}_debug(...N){N[0]=`[${this._debugId}] ${N[0]}`,o(...N)}_pull(N,W,Q,ee){for(let fe=0;fe<N.length;fe++){const oe=N[fe];if(oe.piece===W&&oe.offset===Q&&oe.length===ee)return E(N,fe),oe}return null}_encryptHandshake(N){const W=g.from(N);if(!this._encryptGenerator)return this._debug("Warning: Encrypting without any generator"),W;for(let Q=0;Q<N.length;Q++){const ee=this._encryptGenerator.randomByte();W[Q]^=ee}return W}_encrypt(N){const W=g.from(N);if(!this._encryptGenerator||this._encryptionMethod!==2)return W;for(let Q=0;Q<N.length;Q++){const ee=this._encryptGenerator.randomByte();W[Q]^=ee}return W}_decryptHandshake(N){const W=g.from(N);if(!this._decryptGenerator)return this._debug("Warning: Decrypting without any generator"),W;for(let Q=0;Q<N.length;Q++){const ee=this._decryptGenerator.randomByte();W[Q]^=ee}return W}_decrypt(N){const W=g.from(N);if(!this._decryptGenerator||this._encryptionMethod!==2)return W;for(let Q=0;Q<N.length;Q++){const ee=this._decryptGenerator.randomByte();W[Q]^=ee}return W}_utfToHex(N){return g.from(N,"utf8").toString("hex")}}V.exports=j}).call(this)}).call(this,S("buffer").Buffer)},{bencode:27,bitfield:31,buffer:75,crypto:89,debug:90,randombytes:208,rc4:212,"readable-stream":227,"simple-sha1":247,speedometer:254,"unordered-array-remove":272}],33:[function(S,V,O){(function(g,k){(function(){const E=S("debug")("bittorrent-tracker:client"),v=S("events"),r=S("once"),m=S("run-parallel"),o=S("simple-peer"),a=S("queue-microtask"),l=S("./lib/common"),s=S("./lib/client/http-tracker"),n=S("./lib/client/udp-tracker"),d=S("./lib/client/websocket-tracker");class c extends v{constructor(h={}){if(super(),!h.peerId)throw new Error("Option `peerId` is required");if(!h.infoHash)throw new Error("Option `infoHash` is required");if(!h.announce)throw new Error("Option `announce` is required");if(!g.browser&&!h.port)throw new Error("Option `port` is required");this.peerId=typeof h.peerId=="string"?h.peerId:h.peerId.toString("hex"),this._peerIdBuffer=k.from(this.peerId,"hex"),this._peerIdBinary=this._peerIdBuffer.toString("binary"),this.infoHash=typeof h.infoHash=="string"?h.infoHash.toLowerCase():h.infoHash.toString("hex"),this._infoHashBuffer=k.from(this.infoHash,"hex"),this._infoHashBinary=this._infoHashBuffer.toString("binary"),E("new client %s",this.infoHash),this.destroyed=!1,this._port=h.port,this._getAnnounceOpts=h.getAnnounceOpts,this._rtcConfig=h.rtcConfig,this._userAgent=h.userAgent,this._proxyOpts=h.proxyOpts,this._wrtc=typeof h.wrtc=="function"?h.wrtc():h.wrtc;let x=typeof h.announce=="string"?[h.announce]:h.announce==null?[]:h.announce;x=x.map(w=>(w=w.toString(),w[w.length-1]==="/"&&(w=w.substring(0,w.length-1)),w)),x=Array.from(new Set(x));const R=this._wrtc!==!1&&(!!this._wrtc||o.WEBRTC_SUPPORT),A=w=>{a(()=>{this.emit("warning",w)})};this._trackers=x.map(w=>{let I;try{I=l.parseUrl(w)}catch{return A(new Error(`Invalid tracker URL: ${w}`)),null}const M=I.port;if(0>M||65535<M)return A(new Error(`Invalid tracker port: ${w}`)),null;const L=I.protocol;return(L==="http:"||L==="https:")&&typeof s=="function"?new s(this,w):L==="udp:"&&typeof n=="function"?new n(this,w):(L==="ws:"||L==="wss:")&&R?L==="ws:"&&typeof window<"u"&&window.location.protocol==="https:"?(A(new Error(`Unsupported tracker protocol: ${w}`)),null):new d(this,w):(A(new Error(`Unsupported tracker protocol: ${w}`)),null)}).filter(Boolean)}start(h){h=this._defaultAnnounceOpts(h),h.event="started",E("send `start` %o",h),this._announce(h),this._trackers.forEach(x=>{x.setInterval()})}stop(h){h=this._defaultAnnounceOpts(h),h.event="stopped",E("send `stop` %o",h),this._announce(h)}complete(h){h||(h={}),h=this._defaultAnnounceOpts(h),h.event="completed",E("send `complete` %o",h),this._announce(h)}update(h){h=this._defaultAnnounceOpts(h),h.event&&delete h.event,E("send `update` %o",h),this._announce(h)}_announce(h){this._trackers.forEach(x=>{x.announce(h)})}scrape(h){E("send `scrape`"),h||(h={}),this._trackers.forEach(x=>{x.scrape(h)})}setInterval(h){E("setInterval %d",h),this._trackers.forEach(x=>{x.setInterval(h)})}destroy(h){if(!this.destroyed){this.destroyed=!0,E("destroy");const x=this._trackers.map(R=>A=>{R.destroy(A)});m(x,h),this._trackers=[],this._getAnnounceOpts=null}}_defaultAnnounceOpts(h={}){return h.numwant==null&&(h.numwant=l.DEFAULT_ANNOUNCE_PEERS),h.uploaded==null&&(h.uploaded=0),h.downloaded==null&&(h.downloaded=0),this._getAnnounceOpts&&(h=Object.assign({},h,this._getAnnounceOpts())),h}}c.scrape=(f,h)=>{if(h=r(h),!f.infoHash)throw new Error("Option `infoHash` is required");if(!f.announce)throw new Error("Option `announce` is required");const x=Object.assign({},f,{infoHash:Array.isArray(f.infoHash)?f.infoHash[0]:f.infoHash,peerId:k.from("01234567890123456789"),port:6881}),R=new c(x);R.once("error",h),R.once("warning",h);let A=Array.isArray(f.infoHash)?f.infoHash.length:1;const w={};return R.on("scrape",I=>{if(A-=1,w[I.infoHash]=I,A===0){R.destroy();const M=Object.keys(w);M.length===1?h(null,w[M[0]]):h(null,w)}}),f.infoHash=Array.isArray(f.infoHash)?f.infoHash.map(I=>k.from(I,"hex")):k.from(f.infoHash,"hex"),R.scrape({infoHash:f.infoHash}),R},V.exports=c}).call(this)}).call(this,S("_process"),S("buffer").Buffer)},{"./lib/client/http-tracker":41,"./lib/client/udp-tracker":41,"./lib/client/websocket-tracker":35,"./lib/common":36,_process:192,buffer:75,debug:90,events:122,once:177,"queue-microtask":205,"run-parallel":232,"simple-peer":246}],34:[function(S,V,O){const g=S("events");class k extends g{constructor(v,r){super(),this.client=v,this.announceUrl=r,this.interval=null,this.destroyed=!1}setInterval(v){v==null&&(v=this.DEFAULT_ANNOUNCE_INTERVAL),clearInterval(this.interval),v&&(this.interval=setInterval(()=>{this.announce(this.client._defaultAnnounceOpts())},v),this.interval.unref&&this.interval.unref())}}V.exports=k},{events:122}],35:[function(S,V,O){function g(){}const k=S("clone"),E=S("debug")("bittorrent-tracker:websocket-tracker"),v=S("simple-peer"),r=S("randombytes"),m=S("simple-websocket"),o=S("socks"),a=S("../common"),l=S("./tracker"),s={},n=1e4,d=36e5,c=3e5,f=5e4;class h extends l{constructor(R,A){super(R,A),E("new websocket tracker %s",A),this.peers={},this.socket=null,this.reconnecting=!1,this.retries=0,this.reconnectTimer=null,this.expectingResponse=!1,this._openSocket()}announce(R){if(this.destroyed||this.reconnecting)return;if(!this.socket.connected)return void this.socket.once("connect",()=>{this.announce(R)});const A=Object.assign({},R,{action:"announce",info_hash:this.client._infoHashBinary,peer_id:this.client._peerIdBinary});if(this._trackerId&&(A.trackerid=this._trackerId),R.event==="stopped"||R.event==="completed")this._send(A);else{const w=ke(R.numwant,5);this._generateOffers(w,I=>{A.numwant=w,A.offers=I,this._send(A)})}}scrape(R){if(this.destroyed||this.reconnecting)return;if(!this.socket.connected)return void this.socket.once("connect",()=>{this.scrape(R)});const A=Array.isArray(R.infoHash)&&0<R.infoHash.length?R.infoHash.map(I=>I.toString("binary")):R.infoHash&&R.infoHash.toString("binary")||this.client._infoHashBinary,w={action:"scrape",info_hash:A};this._send(w)}destroy(R=g){function A(){I&&(clearTimeout(I),I=null),w.removeListener("data",A),w.destroy(),w=null}if(this.destroyed)return R(null);for(const M in this.destroyed=!0,clearInterval(this.interval),clearTimeout(this.reconnectTimer),this.peers){const L=this.peers[M];clearTimeout(L.trackerTimeout),L.destroy()}if(this.peers=null,this.socket&&(this.socket.removeListener("connect",this._onSocketConnectBound),this.socket.removeListener("data",this._onSocketDataBound),this.socket.removeListener("close",this._onSocketCloseBound),this.socket.removeListener("error",this._onSocketErrorBound),this.socket=null),this._onSocketConnectBound=null,this._onSocketErrorBound=null,this._onSocketDataBound=null,this._onSocketCloseBound=null,s[this.announceUrl]&&(s[this.announceUrl].consumers-=1),0<s[this.announceUrl].consumers)return R();let w=s[this.announceUrl];delete s[this.announceUrl],w.on("error",g),w.once("close",R);let I;return this.expectingResponse?(I=setTimeout(A,a.DESTROY_TIMEOUT),void w.once("data",A)):A()}_openSocket(){if(this.destroyed=!1,this.peers||(this.peers={}),this._onSocketConnectBound=()=>{this._onSocketConnect()},this._onSocketErrorBound=R=>{this._onSocketError(R)},this._onSocketDataBound=R=>{this._onSocketData(R)},this._onSocketCloseBound=()=>{this._onSocketClose()},this.socket=s[this.announceUrl],this.socket)s[this.announceUrl].consumers+=1,this.socket.connected&&this._onSocketConnectBound();else{const R=new URL(this.announceUrl);let A;this.client._proxyOpts&&(A=R.protocol==="wss:"?this.client._proxyOpts.httpsAgent:this.client._proxyOpts.httpAgent,!A&&this.client._proxyOpts.socksProxy&&(A=new o.Agent(k(this.client._proxyOpts.socksProxy),R.protocol==="wss:"))),this.socket=s[this.announceUrl]=new m({url:this.announceUrl,agent:A}),this.socket.consumers=1,this.socket.once("connect",this._onSocketConnectBound)}this.socket.on("data",this._onSocketDataBound),this.socket.once("close",this._onSocketCloseBound),this.socket.once("error",this._onSocketErrorBound)}_onSocketConnect(){this.destroyed||this.reconnecting&&(this.reconnecting=!1,this.retries=0,this.announce(this.client._defaultAnnounceOpts()))}_onSocketData(R){if(!this.destroyed){this.expectingResponse=!1;try{R=JSON.parse(R)}catch{return void this.client.emit("warning",new Error("Invalid tracker response"))}R.action==="announce"?this._onAnnounceResponse(R):R.action==="scrape"?this._onScrapeResponse(R):this._onSocketError(new Error(`invalid action in WS response: ${R.action}`))}}_onAnnounceResponse(R){if(R.info_hash!==this.client._infoHashBinary)return void E("ignoring websocket data from %s for %s (looking for %s: reused socket)",this.announceUrl,a.binaryToHex(R.info_hash),this.client.infoHash);if(R.peer_id&&R.peer_id===this.client._peerIdBinary)return;E("received %s from %s for %s",JSON.stringify(R),this.announceUrl,this.client.infoHash);const A=R["failure reason"];if(A)return this.client.emit("warning",new Error(A));const w=R["warning message"];w&&this.client.emit("warning",new Error(w));const I=R.interval||R["min interval"];I&&this.setInterval(1e3*I);const M=R["tracker id"];if(M&&(this._trackerId=M),R.complete!=null){const G=Object.assign({},R,{announce:this.announceUrl,infoHash:a.binaryToHex(R.info_hash)});this.client.emit("update",G)}let L;if(R.offer&&R.peer_id&&(E("creating peer (from remote offer)"),L=this._createPeer(),L.id=a.binaryToHex(R.peer_id),L.once("signal",G=>{const Y={action:"announce",info_hash:this.client._infoHashBinary,peer_id:this.client._peerIdBinary,to_peer_id:R.peer_id,answer:G,offer_id:R.offer_id};this._trackerId&&(Y.trackerid=this._trackerId),this._send(Y)}),this.client.emit("peer",L),L.signal(R.offer)),R.answer&&R.peer_id){const G=a.binaryToHex(R.offer_id);L=this.peers[G],L?(L.id=a.binaryToHex(R.peer_id),this.client.emit("peer",L),L.signal(R.answer),clearTimeout(L.trackerTimeout),L.trackerTimeout=null,delete this.peers[G]):E(`got unexpected answer: ${JSON.stringify(R.answer)}`)}}_onScrapeResponse(R){R=R.files||{};const A=Object.keys(R);return A.length===0?void this.client.emit("warning",new Error("invalid scrape response")):void A.forEach(w=>{const I=Object.assign(R[w],{announce:this.announceUrl,infoHash:a.binaryToHex(w)});this.client.emit("scrape",I)})}_onSocketClose(){this.destroyed||(this.destroy(),this._startReconnectTimer())}_onSocketError(R){this.destroyed||(this.destroy(),this.client.emit("warning",R),this._startReconnectTimer())}_startReconnectTimer(){const R=F(Math.random()*c)+ke(_(2,this.retries)*n,d);this.reconnecting=!0,clearTimeout(this.reconnectTimer),this.reconnectTimer=setTimeout(()=>{this.retries++,this._openSocket()},R),this.reconnectTimer.unref&&this.reconnectTimer.unref(),E("reconnecting socket in %s ms",R)}_send(R){if(!this.destroyed){this.expectingResponse=!0;const A=JSON.stringify(R);E("send %s",A),this.socket.send(A)}}_generateOffers(R,A){function w(){const G=r(20).toString("hex");E("creating peer (from _generateOffers)");const Y=M.peers[G]=M._createPeer({initiator:!0});Y.once("signal",ie=>{L.push({offer:ie,offer_id:a.hexToBinary(G)}),I()}),Y.trackerTimeout=setTimeout(()=>{E("tracker timeout: destroying peer"),Y.trackerTimeout=null,delete M.peers[G],Y.destroy()},f),Y.trackerTimeout.unref&&Y.trackerTimeout.unref()}function I(){L.length===R&&(E("generated %s offers",R),A(L))}const M=this,L=[];E("generating %s offers",R);for(let G=0;G<R;++G)w();I()}_createPeer(R){function A(L){I.client.emit("warning",new Error(`Connection error: ${L.message}`)),M.destroy()}function w(){M.removeListener("error",A),M.removeListener("connect",w)}const I=this;R=Object.assign({trickle:!1,config:I.client._rtcConfig,wrtc:I.client._wrtc},R);const M=new v(R);return M.once("error",A),M.once("connect",w),M}}h.prototype.DEFAULT_ANNOUNCE_INTERVAL=3e4,h._socketPool=s,V.exports=h},{"../common":36,"./tracker":34,clone:80,debug:90,randombytes:208,"simple-peer":246,"simple-websocket":249,socks:41}],36:[function(S,V,O){(function(g){(function(){O.DEFAULT_ANNOUNCE_PEERS=50,O.MAX_ANNOUNCE_PEERS=82,O.binaryToHex=E=>(typeof E!="string"&&(E+=""),g.from(E,"binary").toString("hex")),O.hexToBinary=E=>(typeof E!="string"&&(E+=""),g.from(E,"hex").toString("binary")),O.parseUrl=E=>{const v=new URL(E.replace(/^udp:/,"http:"));return E.match(/^udp:/)&&Object.defineProperties(v,{href:{value:v.href.replace(/^http/,"udp")},protocol:{value:v.protocol.replace(/^http/,"udp")},origin:{value:v.origin.replace(/^http/,"udp")}}),v};const k=S("./common-node");Object.assign(O,k)}).call(this)}).call(this,S("buffer").Buffer)},{"./common-node":41,buffer:75}],37:[function(S,V,O){(function(g){(function(){/*! blob-to-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */V.exports=function(E,v){function r(o){m.removeEventListener("loadend",r,!1),o.error?v(o.error):v(null,g.from(m.result))}if(typeof Blob>"u"||!(E instanceof Blob))throw new Error("first argument must be a Blob");if(typeof v!="function")throw new Error("second argument must be a function");const m=new FileReader;m.addEventListener("loadend",r,!1),m.readAsArrayBuffer(E)}}).call(this)}).call(this,S("buffer").Buffer)},{buffer:75}],38:[function(S,V,O){(function(g){(function(){const{Transform:k}=S("readable-stream");class E extends k{constructor(r,m={}){super(m),typeof r=="object"&&(m=r,r=m.size),this.size=r||512;const{nopad:o,zeroPadding:a=!0}=m;this._zeroPadding=!o&&!!a,this._buffered=[],this._bufferedBytes=0}_transform(r,m,o){for(this._bufferedBytes+=r.length,this._buffered.push(r);this._bufferedBytes>=this.size;){this._bufferedBytes-=this.size;const a=[];for(let l=0;l<this.size;){const s=this._buffered.shift();if(l+s.length<=this.size)a.push(s),l+=s.length;else{const n=this.size-l;a.push(s.slice(0,n)),l+=n,this._buffered.unshift(s.slice(n))}}this.push(g.concat(a,this.size))}o()}_flush(){if(this._bufferedBytes&&this._zeroPadding){const r=g.alloc(this.size-this._bufferedBytes);this._buffered.push(r),this.push(g.concat(this._buffered)),this._buffered=null}else this._bufferedBytes&&(this.push(g.concat(this._buffered)),this._buffered=null);this.push(null)}}V.exports=E}).call(this)}).call(this,S("buffer").Buffer)},{buffer:75,"readable-stream":227}],39:[function(S,V,O){(function(g,k){function E(y,p){if(!y)throw new Error(p||"Assertion failed")}function v(y,p){y.super_=p;var T=function(){};T.prototype=p.prototype,y.prototype=new T,y.prototype.constructor=y}function r(y,p,T){return r.isBN(y)?y:(this.negative=0,this.words=null,this.length=0,this.red=null,void(y!==null&&((p==="le"||p==="be")&&(T=p,p=10),this._init(y||0,p||10,T||"be"))))}function m(y,p){var T=y.charCodeAt(p);return 48<=T&&57>=T?T-48:65<=T&&70>=T?T-55:97<=T&&102>=T?T-87:void E(!1,"Invalid character in "+y)}function o(y,p,T){var D=m(y,T);return T-1>=p&&(D|=m(y,T-1)<<4),D}function a(y,p,T,D){for(var j=0,U=0,N=ke(y.length,T),W=p,Q;W<N;W++)Q=y.charCodeAt(W)-48,j*=D,U=49<=Q?Q-49+10:17<=Q?Q-17+10:Q,E(0<=Q&&U<D,"Invalid character"),j+=U;return j}function l(y,p){y.words=p.words,y.length=p.length,y.negative=p.negative,y.red=p.red}function s(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}function n(y){for(var p=Array(y.bitLength()),T=0;T<p.length;T++){var D=0|T/26,j=T%26;p[T]=1&y.words[D]>>>j}return p}function d(y,p,T){T.negative=p.negative^y.negative;var D=0|y.length+p.length;T.length=D,D=0|D-1;var j=0|y.words[0],U=0|p.words[0],N=j*U,W=67108863&N,Q=0|N/67108864;T.words[0]=W;for(var ee=1;ee<D;ee++){for(var fe=Q>>>26,oe=67108863&Q,me=ke(ee,p.length-1),he=ve(0,ee-y.length+1),Se;he<=me;he++)Se=0|ee-he,j=0|y.words[Se],U=0|p.words[he],N=j*U+oe,fe+=0|N/67108864,oe=67108863&N;T.words[ee]=0|oe,Q=0|fe}return Q===0?T.length--:T.words[ee]=0|Q,T._strip()}function c(y,p,T){T.negative=p.negative^y.negative,T.length=y.length+p.length;for(var D=0,j=0,U=0,N;U<T.length-1;U++){N=j,j=0;for(var W=67108863&D,Q=ke(U,p.length-1),ee=ve(0,U-y.length+1);ee<=Q;ee++){var fe=U-ee,oe=0|y.words[fe],me=0|p.words[ee],he=oe*me,Se=67108863&he;N=0|N+(0|he/67108864),Se=0|Se+W,W=67108863&Se,N=0|N+(Se>>>26),j+=N>>>26,N&=67108863}T.words[U]=W,D=N,N=j}return D===0?T.length--:T.words[U]=D,T._strip()}function f(y,p,T){return c(y,p,T)}function h(y,p){this.name=y,this.p=new r(p,16),this.n=this.p.bitLength(),this.k=new r(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function x(){h.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function R(){h.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function A(){h.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function w(){h.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function I(y){if(typeof y=="string"){var p=r._prime(y);this.m=p.p,this.prime=p}else E(y.gtn(1),"modulus must be greater than 1"),this.m=y,this.prime=null}function M(y){I.call(this,y),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new r(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}typeof g=="object"?g.exports=r:k.BN=r,r.BN=r,r.wordSize=26;var L;try{L=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:S("buffer").Buffer}catch{}if(r.isBN=function(p){return p instanceof r||p!==null&&typeof p=="object"&&p.constructor.wordSize===r.wordSize&&Array.isArray(p.words)},r.max=function(p,T){return 0<p.cmp(T)?p:T},r.min=function(p,T){return 0>p.cmp(T)?p:T},r.prototype._init=function(p,T,D){if(typeof p=="number")return this._initNumber(p,T,D);if(typeof p=="object")return this._initArray(p,T,D);T==="hex"&&(T=16),E(T===(0|T)&&2<=T&&36>=T),p=p.toString().replace(/\s+/g,"");var j=0;p[0]==="-"&&(j++,this.negative=1),j<p.length&&(T===16?this._parseHex(p,j,D):(this._parseBase(p,T,j),D==="le"&&this._initArray(this.toArray(),T,D)))},r.prototype._initNumber=function(p,T,D){0>p&&(this.negative=1,p=-p),67108864>p?(this.words=[67108863&p],this.length=1):4503599627370496>p?(this.words=[67108863&p,67108863&p/67108864],this.length=2):(E(9007199254740992>p),this.words=[67108863&p,67108863&p/67108864,1],this.length=3),D!=="le"||this._initArray(this.toArray(),T,D)},r.prototype._initArray=function(p,T,D){if(E(typeof p.length=="number"),0>=p.length)return this.words=[0],this.length=1,this;this.length=Ee(p.length/3),this.words=Array(this.length);for(var j=0;j<this.length;j++)this.words[j]=0;var U=0,N,W;if(D==="be")for(j=p.length-1,N=0;0<=j;j-=3)W=p[j]|p[j-1]<<8|p[j-2]<<16,this.words[N]|=67108863&W<<U,this.words[N+1]=67108863&W>>>26-U,U+=24,26<=U&&(U-=26,N++);else if(D==="le")for(j=0,N=0;j<p.length;j+=3)W=p[j]|p[j+1]<<8|p[j+2]<<16,this.words[N]|=67108863&W<<U,this.words[N+1]=67108863&W>>>26-U,U+=24,26<=U&&(U-=26,N++);return this._strip()},r.prototype._parseHex=function(p,T,D){this.length=Ee((p.length-T)/6),this.words=Array(this.length);for(var j=0;j<this.length;j++)this.words[j]=0;var U=0,N=0,W;if(D==="be")for(j=p.length-1;j>=T;j-=2)W=o(p,T,j)<<U,this.words[N]|=67108863&W,18<=U?(U-=18,N+=1,this.words[N]|=W>>>26):U+=8;else{var Q=p.length-T;for(j=Q%2==0?T+1:T;j<p.length;j+=2)W=o(p,T,j)<<U,this.words[N]|=67108863&W,18<=U?(U-=18,N+=1,this.words[N]|=W>>>26):U+=8}this._strip()},r.prototype._parseBase=function(p,T,D){this.words=[0],this.length=1;for(var j=0,U=1;67108863>=U;U*=T)j++;j--,U=0|U/T;for(var N=p.length-D,W=N%j,Q=ke(N,N-W)+D,ee=0,fe=D;fe<Q;fe+=j)ee=a(p,fe,fe+j,T),this.imuln(U),67108864>this.words[0]+ee?this.words[0]+=ee:this._iaddn(ee);if(W!==0){var oe=1;for(ee=a(p,fe,p.length,T),fe=0;fe<W;fe++)oe*=T;this.imuln(oe),67108864>this.words[0]+ee?this.words[0]+=ee:this._iaddn(ee)}this._strip()},r.prototype.copy=function(p){p.words=Array(this.length);for(var T=0;T<this.length;T++)p.words[T]=this.words[T];p.length=this.length,p.negative=this.negative,p.red=this.red},r.prototype._move=function(p){l(p,this)},r.prototype.clone=function(){var p=new r(null);return this.copy(p),p},r.prototype._expand=function(p){for(;this.length<p;)this.words[this.length++]=0;return this},r.prototype._strip=function(){for(;1<this.length&&this.words[this.length-1]===0;)this.length--;return this._normSign()},r.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{r.prototype[Symbol.for("nodejs.util.inspect.custom")]=s}catch{r.prototype.inspect=s}else r.prototype.inspect=s;var G=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],ie=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];r.prototype.toString=function(p,T){p=p||10,T=0|T||1;var D;if(p===16||p==="hex"){D="";for(var j=0,U=0,N=0;N<this.length;N++){var W=this.words[N],Q=(16777215&(W<<j|U)).toString(16);U=16777215&W>>>24-j,j+=2,26<=j&&(j-=26,N--),D=U!==0||N!==this.length-1?G[6-Q.length]+Q+D:Q+D}for(U!==0&&(D=U.toString(16)+D);D.length%T!=0;)D="0"+D;return this.negative!==0&&(D="-"+D),D}if(p===(0|p)&&2<=p&&36>=p){var ee=Y[p],fe=ie[p];D="";var oe=this.clone();for(oe.negative=0;!oe.isZero();){var me=oe.modrn(fe).toString(p);oe=oe.idivn(fe),D=oe.isZero()?me+D:G[ee-me.length]+me+D}for(this.isZero()&&(D="0"+D);D.length%T!=0;)D="0"+D;return this.negative!==0&&(D="-"+D),D}E(!1,"Base should be between 2 and 36")},r.prototype.toNumber=function(){var p=this.words[0];return this.length===2?p+=67108864*this.words[1]:this.length===3&&this.words[2]===1?p+=4503599627370496+67108864*this.words[1]:2<this.length&&E(!1,"Number can only safely store up to 53 bits"),this.negative===0?p:-p},r.prototype.toJSON=function(){return this.toString(16,2)},L&&(r.prototype.toBuffer=function(p,T){return this.toArrayLike(L,p,T)}),r.prototype.toArray=function(p,T){return this.toArrayLike(Array,p,T)};var ae=function(p,T){return p.allocUnsafe?p.allocUnsafe(T):new p(T)};r.prototype.toArrayLike=function(p,T,D){this._strip();var j=this.byteLength(),U=D||ve(1,j);E(j<=U,"byte array longer than desired length"),E(0<U,"Requested array length <= 0");var N=ae(p,U),W=T==="le"?"LE":"BE";return this["_toArrayLike"+W](N,j),N},r.prototype._toArrayLikeLE=function(p,T){for(var D=0,j=0,U=0,N=0,W;U<this.length;U++)W=this.words[U]<<N|j,p[D++]=255&W,D<p.length&&(p[D++]=255&W>>8),D<p.length&&(p[D++]=255&W>>16),N==6?(D<p.length&&(p[D++]=255&W>>24),j=0,N=0):(j=W>>>24,N+=2);if(D<p.length)for(p[D++]=j;D<p.length;)p[D++]=0},r.prototype._toArrayLikeBE=function(p,T){for(var D=p.length-1,j=0,U=0,N=0,W;U<this.length;U++)W=this.words[U]<<N|j,p[D--]=255&W,0<=D&&(p[D--]=255&W>>8),0<=D&&(p[D--]=255&W>>16),N==6?(0<=D&&(p[D--]=255&W>>24),j=0,N=0):(j=W>>>24,N+=2);if(0<=D)for(p[D--]=j;0<=D;)p[D--]=0},r.prototype._countBits=ce?function(p){return 32-ce(p)}:function(p){var T=p,D=0;return 4096<=T&&(D+=13,T>>>=13),64<=T&&(D+=7,T>>>=7),8<=T&&(D+=4,T>>>=4),2<=T&&(D+=2,T>>>=2),D+T},r.prototype._zeroBits=function(p){if(p===0)return 26;var T=p,D=0;return(8191&T)==0&&(D+=13,T>>>=13),(127&T)==0&&(D+=7,T>>>=7),(15&T)==0&&(D+=4,T>>>=4),(3&T)==0&&(D+=2,T>>>=2),(1&T)==0&&D++,D},r.prototype.bitLength=function(){var p=this.words[this.length-1],T=this._countBits(p);return 26*(this.length-1)+T},r.prototype.zeroBits=function(){if(this.isZero())return 0;for(var p=0,T=0,D;T<this.length&&(D=this._zeroBits(this.words[T]),p+=D,D===26);T++);return p},r.prototype.byteLength=function(){return Ee(this.bitLength()/8)},r.prototype.toTwos=function(p){return this.negative===0?this.clone():this.abs().inotn(p).iaddn(1)},r.prototype.fromTwos=function(p){return this.testn(p-1)?this.notn(p).iaddn(1).ineg():this.clone()},r.prototype.isNeg=function(){return this.negative!==0},r.prototype.neg=function(){return this.clone().ineg()},r.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},r.prototype.iuor=function(p){for(;this.length<p.length;)this.words[this.length++]=0;for(var T=0;T<p.length;T++)this.words[T]|=p.words[T];return this._strip()},r.prototype.ior=function(p){return E((this.negative|p.negative)==0),this.iuor(p)},r.prototype.or=function(p){return this.length>p.length?this.clone().ior(p):p.clone().ior(this)},r.prototype.uor=function(p){return this.length>p.length?this.clone().iuor(p):p.clone().iuor(this)},r.prototype.iuand=function(p){var T;T=this.length>p.length?p:this;for(var D=0;D<T.length;D++)this.words[D]&=p.words[D];return this.length=T.length,this._strip()},r.prototype.iand=function(p){return E((this.negative|p.negative)==0),this.iuand(p)},r.prototype.and=function(p){return this.length>p.length?this.clone().iand(p):p.clone().iand(this)},r.prototype.uand=function(p){return this.length>p.length?this.clone().iuand(p):p.clone().iuand(this)},r.prototype.iuxor=function(p){var T,D;this.length>p.length?(T=this,D=p):(T=p,D=this);for(var j=0;j<D.length;j++)this.words[j]=T.words[j]^D.words[j];if(this!==T)for(;j<T.length;j++)this.words[j]=T.words[j];return this.length=T.length,this._strip()},r.prototype.ixor=function(p){return E((this.negative|p.negative)==0),this.iuxor(p)},r.prototype.xor=function(p){return this.length>p.length?this.clone().ixor(p):p.clone().ixor(this)},r.prototype.uxor=function(p){return this.length>p.length?this.clone().iuxor(p):p.clone().iuxor(this)},r.prototype.inotn=function(p){E(typeof p=="number"&&0<=p);var T=0|Ee(p/26),D=p%26;this._expand(T),0<D&&T--;for(var j=0;j<T;j++)this.words[j]=67108863&~this.words[j];return 0<D&&(this.words[j]=~this.words[j]&67108863>>26-D),this._strip()},r.prototype.notn=function(p){return this.clone().inotn(p)},r.prototype.setn=function(p,T){E(typeof p=="number"&&0<=p);var D=0|p/26,j=p%26;return this._expand(D+1),T?this.words[D]|=1<<j:this.words[D]&=~(1<<j),this._strip()},r.prototype.iadd=function(p){var T;if(this.negative!==0&&p.negative===0)return this.negative=0,T=this.isub(p),this.negative^=1,this._normSign();if(this.negative===0&&p.negative!==0)return p.negative=0,T=this.isub(p),p.negative=1,T._normSign();var D,j;this.length>p.length?(D=this,j=p):(D=p,j=this);for(var U=0,N=0;N<j.length;N++)T=(0|D.words[N])+(0|j.words[N])+U,this.words[N]=67108863&T,U=T>>>26;for(;U!==0&&N<D.length;N++)T=(0|D.words[N])+U,this.words[N]=67108863&T,U=T>>>26;if(this.length=D.length,U!==0)this.words[this.length]=U,this.length++;else if(D!==this)for(;N<D.length;N++)this.words[N]=D.words[N];return this},r.prototype.add=function(p){var T;return p.negative!==0&&this.negative===0?(p.negative=0,T=this.sub(p),p.negative^=1,T):p.negative===0&&this.negative!==0?(this.negative=0,T=p.sub(this),this.negative=1,T):this.length>p.length?this.clone().iadd(p):p.clone().iadd(this)},r.prototype.isub=function(p){if(p.negative!==0){p.negative=0;var T=this.iadd(p);return p.negative=1,T._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(p),this.negative=1,this._normSign();var D=this.cmp(p);if(D===0)return this.negative=0,this.length=1,this.words[0]=0,this;var j,U;0<D?(j=this,U=p):(j=p,U=this);for(var N=0,W=0;W<U.length;W++)T=(0|j.words[W])-(0|U.words[W])+N,N=T>>26,this.words[W]=67108863&T;for(;N!==0&&W<j.length;W++)T=(0|j.words[W])+N,N=T>>26,this.words[W]=67108863&T;if(N===0&&W<j.length&&j!==this)for(;W<j.length;W++)this.words[W]=j.words[W];return this.length=ve(this.length,W),j!==this&&(this.negative=1),this._strip()},r.prototype.sub=function(p){return this.clone().isub(p)};var J=function(p,T,D){var j=p.words,U=T.words,N=D.words,W=0,Q=0|j[0],ee=8191&Q,fe=Q>>>13,oe=0|j[1],me=8191&oe,he=oe>>>13,Se=0|j[2],Ae=8191&Se,pe=Se>>>13,ge=0|j[3],xe=8191&ge,Ce=ge>>>13,de=0|j[4],q=8191&de,P=de>>>13,H=0|j[5],Z=8191&H,se=H>>>13,ue=0|j[6],be=8191&ue,Re=ue>>>13,Pe=0|j[7],Ie=8191&Pe,Be=Pe>>>13,Oe=0|j[8],Ne=8191&Oe,De=Oe>>>13,We=0|j[9],Ge=8191&We,je=We>>>13,ot=0|U[0],dt=8191&ot,ze=ot>>>13,lt=0|U[1],ht=8191&lt,He=lt>>>13,rt=0|U[2],mt=8191&rt,Ve=rt>>>13,gt=0|U[3],vt=8191&gt,Ke=gt>>>13,St=0|U[4],bt=8191&St,qe=St>>>13,xt=0|U[5],kt=8191&xt,Ye=xt>>>13,Ct=0|U[6],Tt=8191&Ct,Je=Ct>>>13,Rt=0|U[7],At=8191&Rt,Xe=Rt>>>13,It=0|U[8],yt=8191&It,Ze=It>>>13,_t=0|U[9],ye=8191&_t,te=_t>>>13,re,ne,_e;D.negative=p.negative^T.negative,D.length=19,re=b(ee,dt),ne=b(ee,ze),ne=0|ne+b(fe,dt),_e=b(fe,ze);var fn=0|(0|W+re)+((8191&ne)<<13);W=0|(0|_e+(ne>>>13))+(fn>>>26),fn&=67108863,re=b(me,dt),ne=b(me,ze),ne=0|ne+b(he,dt),_e=b(he,ze),re=0|re+b(ee,ht),ne=0|ne+b(ee,He),ne=0|ne+b(fe,ht),_e=0|_e+b(fe,He);var _n=0|(0|W+re)+((8191&ne)<<13);W=0|(0|_e+(ne>>>13))+(_n>>>26),_n&=67108863,re=b(Ae,dt),ne=b(Ae,ze),ne=0|ne+b(pe,dt),_e=b(pe,ze),re=0|re+b(me,ht),ne=0|ne+b(me,He),ne=0|ne+b(he,ht),_e=0|_e+b(he,He),re=0|re+b(ee,mt),ne=0|ne+b(ee,Ve),ne=0|ne+b(fe,mt),_e=0|_e+b(fe,Ve);var wn=0|(0|W+re)+((8191&ne)<<13);W=0|(0|_e+(ne>>>13))+(wn>>>26),wn&=67108863,re=b(xe,dt),ne=b(xe,ze),ne=0|ne+b(Ce,dt),_e=b(Ce,ze),re=0|re+b(Ae,ht),ne=0|ne+b(Ae,He),ne=0|ne+b(pe,ht),_e=0|_e+b(pe,He),re=0|re+b(me,mt),ne=0|ne+b(me,Ve),ne=0|ne+b(he,mt),_e=0|_e+b(he,Ve),re=0|re+b(ee,vt),ne=0|ne+b(ee,Ke),ne=0|ne+b(fe,vt),_e=0|_e+b(fe,Ke);var En=0|(0|W+re)+((8191&ne)<<13);W=0|(0|_e+(ne>>>13))+(En>>>26),En&=67108863,re=b(q,dt),ne=b(q,ze),ne=0|ne+b(P,dt),_e=b(P,ze),re=0|re+b(xe,ht),ne=0|ne+b(xe,He),ne=0|ne+b(Ce,ht),_e=0|_e+b(Ce,He),re=0|re+b(Ae,mt),ne=0|ne+b(Ae,Ve),ne=0|ne+b(pe,mt),_e=0|_e+b(pe,Ve),re=0|re+b(me,vt),ne=0|ne+b(me,Ke),ne=0|ne+b(he,vt),_e=0|_e+b(he,Ke),re=0|re+b(ee,bt),ne=0|ne+b(ee,qe),ne=0|ne+b(fe,bt),_e=0|_e+b(fe,qe);var tn=0|(0|W+re)+((8191&ne)<<13);W=0|(0|_e+(ne>>>13))+(tn>>>26),tn&=67108863,re=b(Z,dt),ne=b(Z,ze),ne=0|ne+b(se,dt),_e=b(se,ze),re=0|re+b(q,ht),ne=0|ne+b(q,He),ne=0|ne+b(P,ht),_e=0|_e+b(P,He),re=0|re+b(xe,mt),ne=0|ne+b(xe,Ve),ne=0|ne+b(Ce,mt),_e=0|_e+b(Ce,Ve),re=0|re+b(Ae,vt),ne=0|ne+b(Ae,Ke),ne=0|ne+b(pe,vt),_e=0|_e+b(pe,Ke),re=0|re+b(me,bt),ne=0|ne+b(me,qe),ne=0|ne+b(he,bt),_e=0|_e+b(he,qe),re=0|re+b(ee,kt),ne=0|ne+b(ee,Ye),ne=0|ne+b(fe,kt),_e=0|_e+b(fe,Ye);var Jt=0|(0|W+re)+((8191&ne)<<13);W=0|(0|_e+(ne>>>13))+(Jt>>>26),Jt&=67108863,re=b(be,dt),ne=b(be,ze),ne=0|ne+b(Re,dt),_e=b(Re,ze),re=0|re+b(Z,ht),ne=0|ne+b(Z,He),ne=0|ne+b(se,ht),_e=0|_e+b(se,He),re=0|re+b(q,mt),ne=0|ne+b(q,Ve),ne=0|ne+b(P,mt),_e=0|_e+b(P,Ve),re=0|re+b(xe,vt),ne=0|ne+b(xe,Ke),ne=0|ne+b(Ce,vt),_e=0|_e+b(Ce,Ke),re=0|re+b(Ae,bt),ne=0|ne+b(Ae,qe),ne=0|ne+b(pe,bt),_e=0|_e+b(pe,qe),re=0|re+b(me,kt),ne=0|ne+b(me,Ye),ne=0|ne+b(he,kt),_e=0|_e+b(he,Ye),re=0|re+b(ee,Tt),ne=0|ne+b(ee,Je),ne=0|ne+b(fe,Tt),_e=0|_e+b(fe,Je);var Sn=0|(0|W+re)+((8191&ne)<<13);W=0|(0|_e+(ne>>>13))+(Sn>>>26),Sn&=67108863,re=b(Ie,dt),ne=b(Ie,ze),ne=0|ne+b(Be,dt),_e=b(Be,ze),re=0|re+b(be,ht),ne=0|ne+b(be,He),ne=0|ne+b(Re,ht),_e=0|_e+b(Re,He),re=0|re+b(Z,mt),ne=0|ne+b(Z,Ve),ne=0|ne+b(se,mt),_e=0|_e+b(se,Ve),re=0|re+b(q,vt),ne=0|ne+b(q,Ke),ne=0|ne+b(P,vt),_e=0|_e+b(P,Ke),re=0|re+b(xe,bt),ne=0|ne+b(xe,qe),ne=0|ne+b(Ce,bt),_e=0|_e+b(Ce,qe),re=0|re+b(Ae,kt),ne=0|ne+b(Ae,Ye),ne=0|ne+b(pe,kt),_e=0|_e+b(pe,Ye),re=0|re+b(me,Tt),ne=0|ne+b(me,Je),ne=0|ne+b(he,Tt),_e=0|_e+b(he,Je),re=0|re+b(ee,At),ne=0|ne+b(ee,Xe),ne=0|ne+b(fe,At),_e=0|_e+b(fe,Xe);var ln=0|(0|W+re)+((8191&ne)<<13);W=0|(0|_e+(ne>>>13))+(ln>>>26),ln&=67108863,re=b(Ne,dt),ne=b(Ne,ze),ne=0|ne+b(De,dt),_e=b(De,ze),re=0|re+b(Ie,ht),ne=0|ne+b(Ie,He),ne=0|ne+b(Be,ht),_e=0|_e+b(Be,He),re=0|re+b(be,mt),ne=0|ne+b(be,Ve),ne=0|ne+b(Re,mt),_e=0|_e+b(Re,Ve),re=0|re+b(Z,vt),ne=0|ne+b(Z,Ke),ne=0|ne+b(se,vt),_e=0|_e+b(se,Ke),re=0|re+b(q,bt),ne=0|ne+b(q,qe),ne=0|ne+b(P,bt),_e=0|_e+b(P,qe),re=0|re+b(xe,kt),ne=0|ne+b(xe,Ye),ne=0|ne+b(Ce,kt),_e=0|_e+b(Ce,Ye),re=0|re+b(Ae,Tt),ne=0|ne+b(Ae,Je),ne=0|ne+b(pe,Tt),_e=0|_e+b(pe,Je),re=0|re+b(me,At),ne=0|ne+b(me,Xe),ne=0|ne+b(he,At),_e=0|_e+b(he,Xe),re=0|re+b(ee,yt),ne=0|ne+b(ee,Ze),ne=0|ne+b(fe,yt),_e=0|_e+b(fe,Ze);var hn=0|(0|W+re)+((8191&ne)<<13);W=0|(0|_e+(ne>>>13))+(hn>>>26),hn&=67108863,re=b(Ge,dt),ne=b(Ge,ze),ne=0|ne+b(je,dt),_e=b(je,ze),re=0|re+b(Ne,ht),ne=0|ne+b(Ne,He),ne=0|ne+b(De,ht),_e=0|_e+b(De,He),re=0|re+b(Ie,mt),ne=0|ne+b(Ie,Ve),ne=0|ne+b(Be,mt),_e=0|_e+b(Be,Ve),re=0|re+b(be,vt),ne=0|ne+b(be,Ke),ne=0|ne+b(Re,vt),_e=0|_e+b(Re,Ke),re=0|re+b(Z,bt),ne=0|ne+b(Z,qe),ne=0|ne+b(se,bt),_e=0|_e+b(se,qe),re=0|re+b(q,kt),ne=0|ne+b(q,Ye),ne=0|ne+b(P,kt),_e=0|_e+b(P,Ye),re=0|re+b(xe,Tt),ne=0|ne+b(xe,Je),ne=0|ne+b(Ce,Tt),_e=0|_e+b(Ce,Je),re=0|re+b(Ae,At),ne=0|ne+b(Ae,Xe),ne=0|ne+b(pe,At),_e=0|_e+b(pe,Xe),re=0|re+b(me,yt),ne=0|ne+b(me,Ze),ne=0|ne+b(he,yt),_e=0|_e+b(he,Ze),re=0|re+b(ee,ye),ne=0|ne+b(ee,te),ne=0|ne+b(fe,ye),_e=0|_e+b(fe,te);var xn=0|(0|W+re)+((8191&ne)<<13);W=0|(0|_e+(ne>>>13))+(xn>>>26),xn&=67108863,re=b(Ge,ht),ne=b(Ge,He),ne=0|ne+b(je,ht),_e=b(je,He),re=0|re+b(Ne,mt),ne=0|ne+b(Ne,Ve),ne=0|ne+b(De,mt),_e=0|_e+b(De,Ve),re=0|re+b(Ie,vt),ne=0|ne+b(Ie,Ke),ne=0|ne+b(Be,vt),_e=0|_e+b(Be,Ke),re=0|re+b(be,bt),ne=0|ne+b(be,qe),ne=0|ne+b(Re,bt),_e=0|_e+b(Re,qe),re=0|re+b(Z,kt),ne=0|ne+b(Z,Ye),ne=0|ne+b(se,kt),_e=0|_e+b(se,Ye),re=0|re+b(q,Tt),ne=0|ne+b(q,Je),ne=0|ne+b(P,Tt),_e=0|_e+b(P,Je),re=0|re+b(xe,At),ne=0|ne+b(xe,Xe),ne=0|ne+b(Ce,At),_e=0|_e+b(Ce,Xe),re=0|re+b(Ae,yt),ne=0|ne+b(Ae,Ze),ne=0|ne+b(pe,yt),_e=0|_e+b(pe,Ze),re=0|re+b(me,ye),ne=0|ne+b(me,te),ne=0|ne+b(he,ye),_e=0|_e+b(he,te);var Fe=0|(0|W+re)+((8191&ne)<<13);W=0|(0|_e+(ne>>>13))+(Fe>>>26),Fe&=67108863,re=b(Ge,mt),ne=b(Ge,Ve),ne=0|ne+b(je,mt),_e=b(je,Ve),re=0|re+b(Ne,vt),ne=0|ne+b(Ne,Ke),ne=0|ne+b(De,vt),_e=0|_e+b(De,Ke),re=0|re+b(Ie,bt),ne=0|ne+b(Ie,qe),ne=0|ne+b(Be,bt),_e=0|_e+b(Be,qe),re=0|re+b(be,kt),ne=0|ne+b(be,Ye),ne=0|ne+b(Re,kt),_e=0|_e+b(Re,Ye),re=0|re+b(Z,Tt),ne=0|ne+b(Z,Je),ne=0|ne+b(se,Tt),_e=0|_e+b(se,Je),re=0|re+b(q,At),ne=0|ne+b(q,Xe),ne=0|ne+b(P,At),_e=0|_e+b(P,Xe),re=0|re+b(xe,yt),ne=0|ne+b(xe,Ze),ne=0|ne+b(Ce,yt),_e=0|_e+b(Ce,Ze),re=0|re+b(Ae,ye),ne=0|ne+b(Ae,te),ne=0|ne+b(pe,ye),_e=0|_e+b(pe,te);var le=0|(0|W+re)+((8191&ne)<<13);W=0|(0|_e+(ne>>>13))+(le>>>26),le&=67108863,re=b(Ge,vt),ne=b(Ge,Ke),ne=0|ne+b(je,vt),_e=b(je,Ke),re=0|re+b(Ne,bt),ne=0|ne+b(Ne,qe),ne=0|ne+b(De,bt),_e=0|_e+b(De,qe),re=0|re+b(Ie,kt),ne=0|ne+b(Ie,Ye),ne=0|ne+b(Be,kt),_e=0|_e+b(Be,Ye),re=0|re+b(be,Tt),ne=0|ne+b(be,Je),ne=0|ne+b(Re,Tt),_e=0|_e+b(Re,Je),re=0|re+b(Z,At),ne=0|ne+b(Z,Xe),ne=0|ne+b(se,At),_e=0|_e+b(se,Xe),re=0|re+b(q,yt),ne=0|ne+b(q,Ze),ne=0|ne+b(P,yt),_e=0|_e+b(P,Ze),re=0|re+b(xe,ye),ne=0|ne+b(xe,te),ne=0|ne+b(Ce,ye),_e=0|_e+b(Ce,te);var Me=0|(0|W+re)+((8191&ne)<<13);W=0|(0|_e+(ne>>>13))+(Me>>>26),Me&=67108863,re=b(Ge,bt),ne=b(Ge,qe),ne=0|ne+b(je,bt),_e=b(je,qe),re=0|re+b(Ne,kt),ne=0|ne+b(Ne,Ye),ne=0|ne+b(De,kt),_e=0|_e+b(De,Ye),re=0|re+b(Ie,Tt),ne=0|ne+b(Ie,Je),ne=0|ne+b(Be,Tt),_e=0|_e+b(Be,Je),re=0|re+b(be,At),ne=0|ne+b(be,Xe),ne=0|ne+b(Re,At),_e=0|_e+b(Re,Xe),re=0|re+b(Z,yt),ne=0|ne+b(Z,Ze),ne=0|ne+b(se,yt),_e=0|_e+b(se,Ze),re=0|re+b(q,ye),ne=0|ne+b(q,te),ne=0|ne+b(P,ye),_e=0|_e+b(P,te);var Qe=0|(0|W+re)+((8191&ne)<<13);W=0|(0|_e+(ne>>>13))+(Qe>>>26),Qe&=67108863,re=b(Ge,kt),ne=b(Ge,Ye),ne=0|ne+b(je,kt),_e=b(je,Ye),re=0|re+b(Ne,Tt),ne=0|ne+b(Ne,Je),ne=0|ne+b(De,Tt),_e=0|_e+b(De,Je),re=0|re+b(Ie,At),ne=0|ne+b(Ie,Xe),ne=0|ne+b(Be,At),_e=0|_e+b(Be,Xe),re=0|re+b(be,yt),ne=0|ne+b(be,Ze),ne=0|ne+b(Re,yt),_e=0|_e+b(Re,Ze),re=0|re+b(Z,ye),ne=0|ne+b(Z,te),ne=0|ne+b(se,ye),_e=0|_e+b(se,te);var et=0|(0|W+re)+((8191&ne)<<13);W=0|(0|_e+(ne>>>13))+(et>>>26),et&=67108863,re=b(Ge,Tt),ne=b(Ge,Je),ne=0|ne+b(je,Tt),_e=b(je,Je),re=0|re+b(Ne,At),ne=0|ne+b(Ne,Xe),ne=0|ne+b(De,At),_e=0|_e+b(De,Xe),re=0|re+b(Ie,yt),ne=0|ne+b(Ie,Ze),ne=0|ne+b(Be,yt),_e=0|_e+b(Be,Ze),re=0|re+b(be,ye),ne=0|ne+b(be,te),ne=0|ne+b(Re,ye),_e=0|_e+b(Re,te);var wt=0|(0|W+re)+((8191&ne)<<13);W=0|(0|_e+(ne>>>13))+(wt>>>26),wt&=67108863,re=b(Ge,At),ne=b(Ge,Xe),ne=0|ne+b(je,At),_e=b(je,Xe),re=0|re+b(Ne,yt),ne=0|ne+b(Ne,Ze),ne=0|ne+b(De,yt),_e=0|_e+b(De,Ze),re=0|re+b(Ie,ye),ne=0|ne+b(Ie,te),ne=0|ne+b(Be,ye),_e=0|_e+b(Be,te);var at=0|(0|W+re)+((8191&ne)<<13);W=0|(0|_e+(ne>>>13))+(at>>>26),at&=67108863,re=b(Ge,yt),ne=b(Ge,Ze),ne=0|ne+b(je,yt),_e=b(je,Ze),re=0|re+b(Ne,ye),ne=0|ne+b(Ne,te),ne=0|ne+b(De,ye),_e=0|_e+b(De,te);var Ot=0|(0|W+re)+((8191&ne)<<13);W=0|(0|_e+(ne>>>13))+(Ot>>>26),Ot&=67108863,re=b(Ge,ye),ne=b(Ge,te),ne=0|ne+b(je,ye),_e=b(je,te);var Kt=0|(0|W+re)+((8191&ne)<<13);return W=0|(0|_e+(ne>>>13))+(Kt>>>26),Kt&=67108863,N[0]=fn,N[1]=_n,N[2]=wn,N[3]=En,N[4]=tn,N[5]=Jt,N[6]=Sn,N[7]=ln,N[8]=hn,N[9]=xn,N[10]=Fe,N[11]=le,N[12]=Me,N[13]=Qe,N[14]=et,N[15]=wt,N[16]=at,N[17]=Ot,N[18]=Kt,W!==0&&(N[19]=W,D.length++),D};b||(J=d),r.prototype.mulTo=function(p,T){var D=this.length+p.length,j;return j=this.length===10&&p.length===10?J(this,p,T):63>D?d(this,p,T):1024>D?c(this,p,T):f(this,p,T),j},r.prototype.mul=function(p){var T=new r(null);return T.words=Array(this.length+p.length),this.mulTo(p,T)},r.prototype.mulf=function(p){var T=new r(null);return T.words=Array(this.length+p.length),f(this,p,T)},r.prototype.imul=function(p){return this.clone().mulTo(p,this)},r.prototype.imuln=function(p){var T=0>p;T&&(p=-p),E(typeof p=="number"),E(67108864>p);for(var D=0,j=0;j<this.length;j++){var U=(0|this.words[j])*p,N=(67108863&U)+(67108863&D);D>>=26,D+=0|U/67108864,D+=N>>>26,this.words[j]=67108863&N}return D!==0&&(this.words[j]=D,this.length++),T?this.ineg():this},r.prototype.muln=function(p){return this.clone().imuln(p)},r.prototype.sqr=function(){return this.mul(this)},r.prototype.isqr=function(){return this.imul(this.clone())},r.prototype.pow=function(p){var T=n(p);if(T.length===0)return new r(1);for(var D=this,j=0;j<T.length&&T[j]===0;j++,D=D.sqr());if(++j<T.length)for(var U=D.sqr();j<T.length;j++,U=U.sqr())T[j]!==0&&(D=D.mul(U));return D},r.prototype.iushln=function(p){E(typeof p=="number"&&0<=p);var T=p%26,D=(p-T)/26,j=67108863>>>26-T<<26-T,U;if(T!=0){var N=0;for(U=0;U<this.length;U++){var W=this.words[U]&j,Q=(0|this.words[U])-W<<T;this.words[U]=Q|N,N=W>>>26-T}N&&(this.words[U]=N,this.length++)}if(D!==0){for(U=this.length-1;0<=U;U--)this.words[U+D]=this.words[U];for(U=0;U<D;U++)this.words[U]=0;this.length+=D}return this._strip()},r.prototype.ishln=function(p){return E(this.negative===0),this.iushln(p)},r.prototype.iushrn=function(p,T,D){E(typeof p=="number"&&0<=p);var j;j=T?(T-T%26)/26:0;var U=p%26,N=ke((p-U)/26,this.length),W=67108863^67108863>>>U<<U,Q=D;if(j-=N,j=ve(0,j),Q){for(var ee=0;ee<N;ee++)Q.words[ee]=this.words[ee];Q.length=N}if(N!==0)if(this.length>N)for(this.length-=N,ee=0;ee<this.length;ee++)this.words[ee]=this.words[ee+N];else this.words[0]=0,this.length=1;var fe=0;for(ee=this.length-1;0<=ee&&(fe!==0||ee>=j);ee--){var oe=0|this.words[ee];this.words[ee]=fe<<26-U|oe>>>U,fe=oe&W}return Q&&fe!==0&&(Q.words[Q.length++]=fe),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},r.prototype.ishrn=function(p,T,D){return E(this.negative===0),this.iushrn(p,T,D)},r.prototype.shln=function(p){return this.clone().ishln(p)},r.prototype.ushln=function(p){return this.clone().iushln(p)},r.prototype.shrn=function(p){return this.clone().ishrn(p)},r.prototype.ushrn=function(p){return this.clone().iushrn(p)},r.prototype.testn=function(p){E(typeof p=="number"&&0<=p);var T=p%26,D=(p-T)/26,j=1<<T;if(this.length<=D)return!1;var U=this.words[D];return!!(U&j)},r.prototype.imaskn=function(p){E(typeof p=="number"&&0<=p);var T=p%26,D=(p-T)/26;if(E(this.negative===0,"imaskn works only with positive numbers"),this.length<=D)return this;if(T!=0&&D++,this.length=ke(D,this.length),T!=0){var j=67108863^67108863>>>T<<T;this.words[this.length-1]&=j}return this._strip()},r.prototype.maskn=function(p){return this.clone().imaskn(p)},r.prototype.iaddn=function(p){return E(typeof p=="number"),E(67108864>p),0>p?this.isubn(-p):this.negative===0?this._iaddn(p):this.length===1&&(0|this.words[0])<=p?(this.words[0]=p-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(p),this.negative=1,this)},r.prototype._iaddn=function(p){this.words[0]+=p;for(var T=0;T<this.length&&67108864<=this.words[T];T++)this.words[T]-=67108864,T==this.length-1?this.words[T+1]=1:this.words[T+1]++;return this.length=ve(this.length,T+1),this},r.prototype.isubn=function(p){if(E(typeof p=="number"),E(67108864>p),0>p)return this.iaddn(-p);if(this.negative!==0)return this.negative=0,this.iaddn(p),this.negative=1,this;if(this.words[0]-=p,this.length===1&&0>this.words[0])this.words[0]=-this.words[0],this.negative=1;else for(var T=0;T<this.length&&0>this.words[T];T++)this.words[T]+=67108864,this.words[T+1]-=1;return this._strip()},r.prototype.addn=function(p){return this.clone().iaddn(p)},r.prototype.subn=function(p){return this.clone().isubn(p)},r.prototype.iabs=function(){return this.negative=0,this},r.prototype.abs=function(){return this.clone().iabs()},r.prototype._ishlnsubmul=function(p,T,D){var j=p.length+D,U;this._expand(j);var N=0,W;for(U=0;U<p.length;U++){W=(0|this.words[U+D])+N;var Q=(0|p.words[U])*T;W-=67108863&Q,N=(W>>26)-(0|Q/67108864),this.words[U+D]=67108863&W}for(;U<this.length-D;U++)W=(0|this.words[U+D])+N,N=W>>26,this.words[U+D]=67108863&W;if(N===0)return this._strip();for(E(N===-1),N=0,U=0;U<this.length;U++)W=-(0|this.words[U])+N,N=W>>26,this.words[U]=67108863&W;return this.negative=1,this._strip()},r.prototype._wordDiv=function(p,T){var D=this.length-p.length,j=this.clone(),U=p,N=0|U.words[U.length-1],W=this._countBits(N);D=26-W,D!=0&&(U=U.ushln(D),j.iushln(D),N=0|U.words[U.length-1]);var Q=j.length-U.length,ee;if(T!=="mod"){ee=new r(null),ee.length=Q+1,ee.words=Array(ee.length);for(var fe=0;fe<ee.length;fe++)ee.words[fe]=0}var oe=j.clone()._ishlnsubmul(U,1,Q);oe.negative===0&&(j=oe,ee&&(ee.words[Q]=1));for(var me=Q-1,he;0<=me;me--){for(he=67108864*(0|j.words[U.length+me])+(0|j.words[U.length+me-1]),he=ke(0|he/N,67108863),j._ishlnsubmul(U,he,me);j.negative!==0;)he--,j.negative=0,j._ishlnsubmul(U,1,me),j.isZero()||(j.negative^=1);ee&&(ee.words[me]=he)}return ee&&ee._strip(),j._strip(),T!=="div"&&D!==0&&j.iushrn(D),{div:ee||null,mod:j}},r.prototype.divmod=function(p,T,D){if(E(!p.isZero()),this.isZero())return{div:new r(0),mod:new r(0)};var j,U,N;return this.negative!==0&&p.negative===0?(N=this.neg().divmod(p,T),T!=="mod"&&(j=N.div.neg()),T!=="div"&&(U=N.mod.neg(),D&&U.negative!==0&&U.iadd(p)),{div:j,mod:U}):this.negative===0&&p.negative!==0?(N=this.divmod(p.neg(),T),T!=="mod"&&(j=N.div.neg()),{div:j,mod:N.mod}):(this.negative&p.negative)==0?p.length>this.length||0>this.cmp(p)?{div:new r(0),mod:this}:p.length===1?T==="div"?{div:this.divn(p.words[0]),mod:null}:T==="mod"?{div:null,mod:new r(this.modrn(p.words[0]))}:{div:this.divn(p.words[0]),mod:new r(this.modrn(p.words[0]))}:this._wordDiv(p,T):(N=this.neg().divmod(p.neg(),T),T!=="div"&&(U=N.mod.neg(),D&&U.negative!==0&&U.isub(p)),{div:N.div,mod:U})},r.prototype.div=function(p){return this.divmod(p,"div",!1).div},r.prototype.mod=function(p){return this.divmod(p,"mod",!1).mod},r.prototype.umod=function(p){return this.divmod(p,"mod",!0).mod},r.prototype.divRound=function(p){var T=this.divmod(p);if(T.mod.isZero())return T.div;var D=T.div.negative===0?T.mod:T.mod.isub(p),j=p.ushrn(1),U=p.andln(1),N=D.cmp(j);return 0>N||U===1&&N===0?T.div:T.div.negative===0?T.div.iaddn(1):T.div.isubn(1)},r.prototype.modrn=function(p){var T=0>p;T&&(p=-p),E(67108863>=p);for(var D=67108864%p,j=0,U=this.length-1;0<=U;U--)j=(D*j+(0|this.words[U]))%p;return T?-j:j},r.prototype.modn=function(p){return this.modrn(p)},r.prototype.idivn=function(p){var T=0>p;T&&(p=-p),E(67108863>=p);for(var D=0,j=this.length-1,U;0<=j;j--)U=(0|this.words[j])+67108864*D,this.words[j]=0|U/p,D=U%p;return this._strip(),T?this.ineg():this},r.prototype.divn=function(p){return this.clone().idivn(p)},r.prototype.egcd=function(p){E(p.negative===0),E(!p.isZero());var T=this,D=p.clone();T=T.negative===0?T.clone():T.umod(p);for(var j=new r(1),U=new r(0),N=new r(0),W=new r(1),Q=0;T.isEven()&&D.isEven();)T.iushrn(1),D.iushrn(1),++Q;for(var ee=D.clone(),fe=T.clone();!T.isZero();){for(var oe=0,me=1;(T.words[0]&me)==0&&26>oe;++oe,me<<=1);if(0<oe)for(T.iushrn(oe);0<oe--;)(j.isOdd()||U.isOdd())&&(j.iadd(ee),U.isub(fe)),j.iushrn(1),U.iushrn(1);for(var he=0,Se=1;(D.words[0]&Se)==0&&26>he;++he,Se<<=1);if(0<he)for(D.iushrn(he);0<he--;)(N.isOdd()||W.isOdd())&&(N.iadd(ee),W.isub(fe)),N.iushrn(1),W.iushrn(1);0<=T.cmp(D)?(T.isub(D),j.isub(N),U.isub(W)):(D.isub(T),N.isub(j),W.isub(U))}return{a:N,b:W,gcd:D.iushln(Q)}},r.prototype._invmp=function(p){E(p.negative===0),E(!p.isZero());var T=this,D=p.clone();T=T.negative===0?T.clone():T.umod(p);for(var j=new r(1),U=new r(0),N=D.clone();0<T.cmpn(1)&&0<D.cmpn(1);){for(var W=0,Q=1;(T.words[0]&Q)==0&&26>W;++W,Q<<=1);if(0<W)for(T.iushrn(W);0<W--;)j.isOdd()&&j.iadd(N),j.iushrn(1);for(var ee=0,fe=1;(D.words[0]&fe)==0&&26>ee;++ee,fe<<=1);if(0<ee)for(D.iushrn(ee);0<ee--;)U.isOdd()&&U.iadd(N),U.iushrn(1);0<=T.cmp(D)?(T.isub(D),j.isub(U)):(D.isub(T),U.isub(j))}var oe;return oe=T.cmpn(1)===0?j:U,0>oe.cmpn(0)&&oe.iadd(p),oe},r.prototype.gcd=function(p){if(this.isZero())return p.abs();if(p.isZero())return this.abs();var T=this.clone(),D=p.clone();T.negative=0,D.negative=0;for(var j=0;T.isEven()&&D.isEven();j++)T.iushrn(1),D.iushrn(1);do{for(;T.isEven();)T.iushrn(1);for(;D.isEven();)D.iushrn(1);var U=T.cmp(D);if(0>U){var N=T;T=D,D=N}else if(U===0||D.cmpn(1)===0)break;T.isub(D)}while(!0);return D.iushln(j)},r.prototype.invm=function(p){return this.egcd(p).a.umod(p)},r.prototype.isEven=function(){return(1&this.words[0])==0},r.prototype.isOdd=function(){return(1&this.words[0])==1},r.prototype.andln=function(p){return this.words[0]&p},r.prototype.bincn=function(p){E(typeof p=="number");var T=p%26,D=(p-T)/26,j=1<<T;if(this.length<=D)return this._expand(D+1),this.words[D]|=j,this;for(var U=j,N=D,W;U!==0&&N<this.length;N++)W=0|this.words[N],W+=U,U=W>>>26,W&=67108863,this.words[N]=W;return U!==0&&(this.words[N]=U,this.length++),this},r.prototype.isZero=function(){return this.length===1&&this.words[0]===0},r.prototype.cmpn=function(p){var T=0>p;if(this.negative!==0&&!T)return-1;if(this.negative===0&&T)return 1;this._strip();var D;if(1<this.length)D=1;else{T&&(p=-p),E(67108863>=p,"Number is too big");var j=0|this.words[0];D=j===p?0:j<p?-1:1}return this.negative===0?D:0|-D},r.prototype.cmp=function(p){if(this.negative!==0&&p.negative===0)return-1;if(this.negative===0&&p.negative!==0)return 1;var T=this.ucmp(p);return this.negative===0?T:0|-T},r.prototype.ucmp=function(p){if(this.length>p.length)return 1;if(this.length<p.length)return-1;for(var T=0,D=this.length-1;0<=D;D--){var j=0|this.words[D],U=0|p.words[D];if(j!=U){j<U?T=-1:j>U&&(T=1);break}}return T},r.prototype.gtn=function(p){return this.cmpn(p)===1},r.prototype.gt=function(p){return this.cmp(p)===1},r.prototype.gten=function(p){return 0<=this.cmpn(p)},r.prototype.gte=function(p){return 0<=this.cmp(p)},r.prototype.ltn=function(p){return this.cmpn(p)===-1},r.prototype.lt=function(p){return this.cmp(p)===-1},r.prototype.lten=function(p){return 0>=this.cmpn(p)},r.prototype.lte=function(p){return 0>=this.cmp(p)},r.prototype.eqn=function(p){return this.cmpn(p)===0},r.prototype.eq=function(p){return this.cmp(p)===0},r.red=function(p){return new I(p)},r.prototype.toRed=function(p){return E(!this.red,"Already a number in reduction context"),E(this.negative===0,"red works only with positives"),p.convertTo(this)._forceRed(p)},r.prototype.fromRed=function(){return E(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},r.prototype._forceRed=function(p){return this.red=p,this},r.prototype.forceRed=function(p){return E(!this.red,"Already a number in reduction context"),this._forceRed(p)},r.prototype.redAdd=function(p){return E(this.red,"redAdd works only with red numbers"),this.red.add(this,p)},r.prototype.redIAdd=function(p){return E(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,p)},r.prototype.redSub=function(p){return E(this.red,"redSub works only with red numbers"),this.red.sub(this,p)},r.prototype.redISub=function(p){return E(this.red,"redISub works only with red numbers"),this.red.isub(this,p)},r.prototype.redShl=function(p){return E(this.red,"redShl works only with red numbers"),this.red.shl(this,p)},r.prototype.redMul=function(p){return E(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.mul(this,p)},r.prototype.redIMul=function(p){return E(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.imul(this,p)},r.prototype.redSqr=function(){return E(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},r.prototype.redISqr=function(){return E(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},r.prototype.redSqrt=function(){return E(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},r.prototype.redInvm=function(){return E(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},r.prototype.redNeg=function(){return E(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},r.prototype.redPow=function(p){return E(this.red&&!p.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,p)};var B={k256:null,p224:null,p192:null,p25519:null};h.prototype._tmp=function(){var p=new r(null);return p.words=Array(Ee(this.n/13)),p},h.prototype.ireduce=function(p){var T=p,D;do this.split(T,this.tmp),T=this.imulK(T),T=T.iadd(this.tmp),D=T.bitLength();while(D>this.n);var j=D<this.n?-1:T.ucmp(this.p);return j===0?(T.words[0]=0,T.length=1):0<j?T.isub(this.p):T.strip===void 0?T._strip():T.strip(),T},h.prototype.split=function(p,T){p.iushrn(this.n,0,T)},h.prototype.imulK=function(p){return p.imul(this.k)},v(x,h),x.prototype.split=function(p,T){for(var D=4194303,j=ke(p.length,9),U=0;U<j;U++)T.words[U]=p.words[U];if(T.length=j,9>=p.length)return p.words[0]=0,void(p.length=1);var N=p.words[9];for(T.words[T.length++]=N&D,U=10;U<p.length;U++){var W=0|p.words[U];p.words[U-10]=(W&D)<<4|N>>>22,N=W}N>>>=22,p.words[U-10]=N,p.length-=N===0&&10<p.length?10:9},x.prototype.imulK=function(p){p.words[p.length]=0,p.words[p.length+1]=0,p.length+=2;for(var T=0,D=0,j;D<p.length;D++)j=0|p.words[D],T+=977*j,p.words[D]=67108863&T,T=64*j+(0|T/67108864);return p.words[p.length-1]===0&&(p.length--,p.words[p.length-1]===0&&p.length--),p},v(R,h),v(A,h),v(w,h),w.prototype.imulK=function(p){for(var T=0,D=0;D<p.length;D++){var j=19*(0|p.words[D])+T,U=67108863&j;j>>>=26,p.words[D]=U,T=j}return T!==0&&(p.words[p.length++]=T),p},r._prime=function(p){if(B[p])return B[p];var T;if(p==="k256")T=new x;else if(p==="p224")T=new R;else if(p==="p192")T=new A;else if(p==="p25519")T=new w;else throw new Error("Unknown prime "+p);return B[p]=T,T},I.prototype._verify1=function(p){E(p.negative===0,"red works only with positives"),E(p.red,"red works only with red numbers")},I.prototype._verify2=function(p,T){E((p.negative|T.negative)==0,"red works only with positives"),E(p.red&&p.red===T.red,"red works only with red numbers")},I.prototype.imod=function(p){return this.prime?this.prime.ireduce(p)._forceRed(this):(l(p,p.umod(this.m)._forceRed(this)),p)},I.prototype.neg=function(p){return p.isZero()?p.clone():this.m.sub(p)._forceRed(this)},I.prototype.add=function(p,T){this._verify2(p,T);var D=p.add(T);return 0<=D.cmp(this.m)&&D.isub(this.m),D._forceRed(this)},I.prototype.iadd=function(p,T){this._verify2(p,T);var D=p.iadd(T);return 0<=D.cmp(this.m)&&D.isub(this.m),D},I.prototype.sub=function(p,T){this._verify2(p,T);var D=p.sub(T);return 0>D.cmpn(0)&&D.iadd(this.m),D._forceRed(this)},I.prototype.isub=function(p,T){this._verify2(p,T);var D=p.isub(T);return 0>D.cmpn(0)&&D.iadd(this.m),D},I.prototype.shl=function(p,T){return this._verify1(p),this.imod(p.ushln(T))},I.prototype.imul=function(p,T){return this._verify2(p,T),this.imod(p.imul(T))},I.prototype.mul=function(p,T){return this._verify2(p,T),this.imod(p.mul(T))},I.prototype.isqr=function(p){return this.imul(p,p.clone())},I.prototype.sqr=function(p){return this.mul(p,p)},I.prototype.sqrt=function(p){if(p.isZero())return p.clone();var T=this.m.andln(3);if(E(T%2==1),T===3){var D=this.m.add(new r(1)).iushrn(2);return this.pow(p,D)}for(var j=this.m.subn(1),U=0;!j.isZero()&&j.andln(1)===0;)U++,j.iushrn(1);E(!j.isZero());var N=new r(1).toRed(this),W=N.redNeg(),Q=this.m.subn(1).iushrn(1),ee=this.m.bitLength();for(ee=new r(2*ee*ee).toRed(this);this.pow(ee,Q).cmp(W)!==0;)ee.redIAdd(W);for(var fe=this.pow(ee,j),oe=this.pow(p,j.addn(1).iushrn(1)),me=this.pow(p,j),he=U;me.cmp(N)!==0;){for(var Se=me,Ae=0;Se.cmp(N)!==0;Ae++)Se=Se.redSqr();E(Ae<he);var pe=this.pow(fe,new r(1).iushln(he-Ae-1));oe=oe.redMul(pe),fe=pe.redSqr(),me=me.redMul(fe),he=Ae}return oe},I.prototype.invm=function(p){var T=p._invmp(this.m);return T.negative===0?this.imod(T):(T.negative=0,this.imod(T).redNeg())},I.prototype.pow=function(p,T){if(T.isZero())return new r(1).toRed(this);if(T.cmpn(1)===0)return p.clone();var D=Array(16);D[0]=new r(1).toRed(this),D[1]=p;for(var j=2;j<D.length;j++)D[j]=this.mul(D[j-1],p);var U=D[0],N=0,W=0,Q=T.bitLength()%26;for(Q===0&&(Q=26),j=T.length-1;0<=j;j--){for(var ee=T.words[j],fe=Q-1,oe;0<=fe;fe--){if(oe=1&ee>>fe,U!==D[0]&&(U=this.sqr(U)),oe===0&&N===0){W=0;continue}N<<=1,N|=oe,W++,(W===4||j===0&&fe===0)&&(U=this.mul(U,D[N]),W=0,N=0)}Q=26}return U},I.prototype.convertTo=function(p){var T=p.umod(this.m);return T===p?T.clone():T},I.prototype.convertFrom=function(p){var T=p.clone();return T.red=null,T},r.mont=function(p){return new M(p)},v(M,I),M.prototype.convertTo=function(p){return this.imod(p.ushln(this.shift))},M.prototype.convertFrom=function(p){var T=this.imod(p.mul(this.rinv));return T.red=null,T},M.prototype.imul=function(p,T){if(p.isZero()||T.isZero())return p.words[0]=0,p.length=1,p;var D=p.imul(T),j=D.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),U=D.isub(j).iushrn(this.shift),N=U;return 0<=U.cmp(this.m)?N=U.isub(this.m):0>U.cmpn(0)&&(N=U.iadd(this.m)),N._forceRed(this)},M.prototype.mul=function(p,T){if(p.isZero()||T.isZero())return new r(0)._forceRed(this);var D=p.mul(T),j=D.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),U=D.isub(j).iushrn(this.shift),N=U;return 0<=U.cmp(this.m)?N=U.isub(this.m):0>U.cmpn(0)&&(N=U.iadd(this.m)),N._forceRed(this)},M.prototype.invm=function(p){var T=this.imod(p._invmp(this.m).mul(this.r2));return T._forceRed(this)}})(typeof V>"u"||V,this)},{buffer:41}],40:[function(S,V,O){function g(v){this.rand=v}var k;if(V.exports=function(r){return k||(k=new g(null)),k.generate(r)},V.exports.Rand=g,g.prototype.generate=function(r){return this._rand(r)},g.prototype._rand=function(r){if(this.rand.getBytes)return this.rand.getBytes(r);for(var m=new Uint8Array(r),o=0;o<m.length;o++)m[o]=this.rand.getByte();return m},typeof self=="object")self.crypto&&self.crypto.getRandomValues?g.prototype._rand=function(r){var m=new Uint8Array(r);return self.crypto.getRandomValues(m),m}:self.msCrypto&&self.msCrypto.getRandomValues?g.prototype._rand=function(r){var m=new Uint8Array(r);return self.msCrypto.getRandomValues(m),m}:typeof window=="object"&&(g.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var E=S("crypto");if(typeof E.randomBytes!="function")throw new Error("Not supported");g.prototype._rand=function(r){return E.randomBytes(r)}}catch{}},{crypto:41}],41:[function(S,V,O){},{}],42:[function(S,V,O){function g(a){r.isBuffer(a)||(a=r.from(a));for(var l=0|a.length/4,s=Array(l),n=0;n<l;n++)s[n]=a.readUInt32BE(4*n);return s}function k(a){for(var l=0;l<a.length;a++)a[l]=0}function E(a,l,s,n,d){for(var c=s[0],f=s[1],h=s[2],x=s[3],R=a[0]^l[0],A=a[1]^l[1],w=a[2]^l[2],I=a[3]^l[3],M=4,L=1,G,Y,ie,ae;L<d;L++)G=c[R>>>24]^f[255&A>>>16]^h[255&w>>>8]^x[255&I]^l[M++],Y=c[A>>>24]^f[255&w>>>16]^h[255&I>>>8]^x[255&R]^l[M++],ie=c[w>>>24]^f[255&I>>>16]^h[255&R>>>8]^x[255&A]^l[M++],ae=c[I>>>24]^f[255&R>>>16]^h[255&A>>>8]^x[255&w]^l[M++],R=G,A=Y,w=ie,I=ae;return G=(n[R>>>24]<<24|n[255&A>>>16]<<16|n[255&w>>>8]<<8|n[255&I])^l[M++],Y=(n[A>>>24]<<24|n[255&w>>>16]<<16|n[255&I>>>8]<<8|n[255&R])^l[M++],ie=(n[w>>>24]<<24|n[255&I>>>16]<<16|n[255&R>>>8]<<8|n[255&A])^l[M++],ae=(n[I>>>24]<<24|n[255&R>>>16]<<16|n[255&A>>>8]<<8|n[255&w])^l[M++],G>>>=0,Y>>>=0,ie>>>=0,ae>>>=0,[G,Y,ie,ae]}function v(a){this._key=g(a),this._reset()}var r=S("safe-buffer").Buffer,m=[0,1,2,4,8,16,32,64,128,27,54],o=function(){for(var a=Array(256),l=0;256>l;l++)a[l]=128>l?l<<1:283^l<<1;for(var s=[],n=[],d=[[],[],[],[]],c=[[],[],[],[]],f=0,h=0,x=0,R;256>x;++x){R=h^h<<1^h<<2^h<<3^h<<4,R=99^(R>>>8^255&R),s[f]=R,n[R]=f;var A=a[f],w=a[A],I=a[w],M=257*a[R]^16843008*R;d[0][f]=M<<24|M>>>8,d[1][f]=M<<16|M>>>16,d[2][f]=M<<8|M>>>24,d[3][f]=M,M=16843009*I^65537*w^257*A^16843008*f,c[0][R]=M<<24|M>>>8,c[1][R]=M<<16|M>>>16,c[2][R]=M<<8|M>>>24,c[3][R]=M,f===0?f=h=1:(f=A^a[a[a[I^A]]],h^=a[a[h]])}return{SBOX:s,INV_SBOX:n,SUB_MIX:d,INV_SUB_MIX:c}}();v.blockSize=16,v.keySize=32,v.prototype.blockSize=v.blockSize,v.prototype.keySize=v.keySize,v.prototype._reset=function(){for(var a=this._key,l=a.length,s=l+6,n=4*(s+1),d=[],c=0;c<l;c++)d[c]=a[c];for(c=l;c<n;c++){var f=d[c-1];c%l==0?(f=f<<8|f>>>24,f=o.SBOX[f>>>24]<<24|o.SBOX[255&f>>>16]<<16|o.SBOX[255&f>>>8]<<8|o.SBOX[255&f],f^=m[0|c/l]<<24):6<l&&c%l==4&&(f=o.SBOX[f>>>24]<<24|o.SBOX[255&f>>>16]<<16|o.SBOX[255&f>>>8]<<8|o.SBOX[255&f]),d[c]=d[c-l]^f}for(var h=[],x=0;x<n;x++){var R=n-x,A=d[R-(x%4?0:4)];h[x]=4>x||4>=R?A:o.INV_SUB_MIX[0][o.SBOX[A>>>24]]^o.INV_SUB_MIX[1][o.SBOX[255&A>>>16]]^o.INV_SUB_MIX[2][o.SBOX[255&A>>>8]]^o.INV_SUB_MIX[3][o.SBOX[255&A]]}this._nRounds=s,this._keySchedule=d,this._invKeySchedule=h},v.prototype.encryptBlockRaw=function(a){return a=g(a),E(a,this._keySchedule,o.SUB_MIX,o.SBOX,this._nRounds)},v.prototype.encryptBlock=function(a){var l=this.encryptBlockRaw(a),s=r.allocUnsafe(16);return s.writeUInt32BE(l[0],0),s.writeUInt32BE(l[1],4),s.writeUInt32BE(l[2],8),s.writeUInt32BE(l[3],12),s},v.prototype.decryptBlock=function(a){a=g(a);var l=a[1];a[1]=a[3],a[3]=l;var s=E(a,this._invKeySchedule,o.INV_SUB_MIX,o.INV_SBOX,this._nRounds),n=r.allocUnsafe(16);return n.writeUInt32BE(s[0],0),n.writeUInt32BE(s[3],4),n.writeUInt32BE(s[2],8),n.writeUInt32BE(s[1],12),n},v.prototype.scrub=function(){k(this._keySchedule),k(this._invKeySchedule),k(this._key)},V.exports.AES=v},{"safe-buffer":234}],43:[function(S,V,O){function g(n,d){var c=0;n.length!==d.length&&c++;for(var f=ke(n.length,d.length),h=0;h<f;++h)c+=n[h]^d[h];return c}function k(n,d,c){if(d.length===12)return n._finID=r.concat([d,r.from([0,0,0,1])]),r.concat([d,r.from([0,0,0,2])]);var f=new a(c),h=d.length,x=h%16;f.update(d),x&&(x=16-x,f.update(r.alloc(x,0))),f.update(r.alloc(8,0));var R=8*h,A=r.alloc(8);A.writeUIntBE(R,0,8),f.update(A),n._finID=f.state;var w=r.from(n._finID);return s(w),w}function E(n,d,c,f){m.call(this);var h=r.alloc(4,0);this._cipher=new v.AES(d);var x=this._cipher.encryptBlock(h);this._ghash=new a(x),c=k(this,c,x),this._prev=r.from(c),this._cache=r.allocUnsafe(0),this._secCache=r.allocUnsafe(0),this._decrypt=f,this._alen=0,this._len=0,this._mode=n,this._authTag=null,this._called=!1}var v=S("./aes"),r=S("safe-buffer").Buffer,m=S("cipher-base"),o=S("inherits"),a=S("./ghash"),l=S("buffer-xor"),s=S("./incr32");o(E,m),E.prototype._update=function(n){if(!this._called&&this._alen){var d=16-this._alen%16;16>d&&(d=r.alloc(d,0),this._ghash.update(d))}this._called=!0;var c=this._mode.encrypt(this,n);return this._decrypt?this._ghash.update(n):this._ghash.update(c),this._len+=n.length,c},E.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var n=l(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&g(n,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=n,this._cipher.scrub()},E.prototype.getAuthTag=function(){if(this._decrypt||!r.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},E.prototype.setAuthTag=function(d){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=d},E.prototype.setAAD=function(d){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(d),this._alen+=d.length},V.exports=E},{"./aes":42,"./ghash":47,"./incr32":48,"buffer-xor":74,"cipher-base":79,inherits:146,"safe-buffer":234}],44:[function(S,V,O){function g(){return Object.keys(v)}var k=S("./encrypter"),E=S("./decrypter"),v=S("./modes/list.json");O.createCipher=O.Cipher=k.createCipher,O.createCipheriv=O.Cipheriv=k.createCipheriv,O.createDecipher=O.Decipher=E.createDecipher,O.createDecipheriv=O.Decipheriv=E.createDecipheriv,O.listCiphers=O.getCiphers=g},{"./decrypter":45,"./encrypter":46,"./modes/list.json":56}],45:[function(S,V,O){function g(f,h,x){s.call(this),this._cache=new k,this._last=void 0,this._cipher=new n.AES(h),this._prev=o.from(x),this._mode=f,this._autopadding=!0}function k(){this.cache=o.allocUnsafe(0)}function E(f){var h=f[15];if(1>h||16<h)throw new Error("unable to decrypt data");for(var x=-1;++x<h;)if(f[x+(16-h)]!==h)throw new Error("unable to decrypt data");return h===16?void 0:f.slice(0,16-h)}function v(f,h,x){var R=a[f.toLowerCase()];if(!R)throw new TypeError("invalid suite type");if(typeof x=="string"&&(x=o.from(x)),R.mode!=="GCM"&&x.length!==R.iv)throw new TypeError("invalid iv length "+x.length);if(typeof h=="string"&&(h=o.from(h)),h.length!==R.key/8)throw new TypeError("invalid key length "+h.length);return R.type==="stream"?new l(R.module,h,x,!0):R.type==="auth"?new m(R.module,h,x,!0):new g(R.module,h,x)}function r(f,h){var x=a[f.toLowerCase()];if(!x)throw new TypeError("invalid suite type");var R=d(h,!1,x.key,x.iv);return v(f,R.key,R.iv)}var m=S("./authCipher"),o=S("safe-buffer").Buffer,a=S("./modes"),l=S("./streamCipher"),s=S("cipher-base"),n=S("./aes"),d=S("evp_bytestokey"),c=S("inherits");c(g,s),g.prototype._update=function(f){this._cache.add(f);for(var h=[],x,R;x=this._cache.get(this._autopadding);)R=this._mode.decrypt(this,x),h.push(R);return o.concat(h)},g.prototype._final=function(){var f=this._cache.flush();if(this._autopadding)return E(this._mode.decrypt(this,f));if(f)throw new Error("data not multiple of block length")},g.prototype.setAutoPadding=function(f){return this._autopadding=!!f,this},k.prototype.add=function(f){this.cache=o.concat([this.cache,f])},k.prototype.get=function(f){var h;if(f){if(16<this.cache.length)return h=this.cache.slice(0,16),this.cache=this.cache.slice(16),h}else if(16<=this.cache.length)return h=this.cache.slice(0,16),this.cache=this.cache.slice(16),h;return null},k.prototype.flush=function(){if(this.cache.length)return this.cache},O.createDecipher=r,O.createDecipheriv=v},{"./aes":42,"./authCipher":43,"./modes":55,"./streamCipher":58,"cipher-base":79,evp_bytestokey:123,inherits:146,"safe-buffer":234}],46:[function(S,V,O){function g(f,h,x){l.call(this),this._cache=new k,this._cipher=new s.AES(h),this._prev=o.from(x),this._mode=f,this._autopadding=!0}function k(){this.cache=o.allocUnsafe(0)}function E(f,h,x){var R=r[f.toLowerCase()];if(!R)throw new TypeError("invalid suite type");if(typeof h=="string"&&(h=o.from(h)),h.length!==R.key/8)throw new TypeError("invalid key length "+h.length);if(typeof x=="string"&&(x=o.from(x)),R.mode!=="GCM"&&x.length!==R.iv)throw new TypeError("invalid iv length "+x.length);return R.type==="stream"?new a(R.module,h,x):R.type==="auth"?new m(R.module,h,x):new g(R.module,h,x)}function v(f,h){var x=r[f.toLowerCase()];if(!x)throw new TypeError("invalid suite type");var R=n(h,!1,x.key,x.iv);return E(f,R.key,R.iv)}var r=S("./modes"),m=S("./authCipher"),o=S("safe-buffer").Buffer,a=S("./streamCipher"),l=S("cipher-base"),s=S("./aes"),n=S("evp_bytestokey"),d=S("inherits");d(g,l),g.prototype._update=function(f){this._cache.add(f);for(var h=[],x,R;x=this._cache.get();)R=this._mode.encrypt(this,x),h.push(R);return o.concat(h)};var c=o.alloc(16,16);g.prototype._final=function(){var f=this._cache.flush();if(this._autopadding)return f=this._mode.encrypt(this,f),this._cipher.scrub(),f;if(!f.equals(c))throw this._cipher.scrub(),new Error("data not multiple of block length")},g.prototype.setAutoPadding=function(f){return this._autopadding=!!f,this},k.prototype.add=function(f){this.cache=o.concat([this.cache,f])},k.prototype.get=function(){if(15<this.cache.length){var f=this.cache.slice(0,16);return this.cache=this.cache.slice(16),f}return null},k.prototype.flush=function(){for(var f=16-this.cache.length,h=o.allocUnsafe(f),x=-1;++x<f;)h.writeUInt8(f,x);return o.concat([this.cache,h])},O.createCipheriv=E,O.createCipher=v},{"./aes":42,"./authCipher":43,"./modes":55,"./streamCipher":58,"cipher-base":79,evp_bytestokey:123,inherits:146,"safe-buffer":234}],47:[function(S,V,O){function g(m){return[m.readUInt32BE(0),m.readUInt32BE(4),m.readUInt32BE(8),m.readUInt32BE(12)]}function k(m){var o=v.allocUnsafe(16);return o.writeUInt32BE(m[0]>>>0,0),o.writeUInt32BE(m[1]>>>0,4),o.writeUInt32BE(m[2]>>>0,8),o.writeUInt32BE(m[3]>>>0,12),o}function E(m){this.h=m,this.state=v.alloc(16,0),this.cache=v.allocUnsafe(0)}var v=S("safe-buffer").Buffer,r=v.alloc(16,0);E.prototype.ghash=function(m){for(var o=-1;++o<m.length;)this.state[o]^=m[o];this._multiply()},E.prototype._multiply=function(){for(var m=g(this.h),o=[0,0,0,0],a=-1,l,s,n;128>++a;){for(s=(this.state[~~(a/8)]&1<<7-a%8)!=0,s&&(o[0]^=m[0],o[1]^=m[1],o[2]^=m[2],o[3]^=m[3]),n=(1&m[3])!=0,l=3;0<l;l--)m[l]=m[l]>>>1|(1&m[l-1])<<31;m[0]>>>=1,n&&(m[0]^=-520093696)}this.state=k(o)},E.prototype.update=function(m){this.cache=v.concat([this.cache,m]);for(var o;16<=this.cache.length;)o=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(o)},E.prototype.final=function(m,o){return this.cache.length&&this.ghash(v.concat([this.cache,r],16)),this.ghash(k([0,m,0,o])),this.state},V.exports=E},{"safe-buffer":234}],48:[function(S,V,O){function g(k){for(var E=k.length,v;E--;)if(v=k.readUInt8(E),v===255)k.writeUInt8(0,E);else{v++,k.writeUInt8(v,E);break}}V.exports=g},{}],49:[function(S,V,O){var g=S("buffer-xor");O.encrypt=function(k,E){var v=g(E,k._prev);return k._prev=k._cipher.encryptBlock(v),k._prev},O.decrypt=function(k,E){var v=k._prev;k._prev=E;var r=k._cipher.decryptBlock(E);return g(r,v)}},{"buffer-xor":74}],50:[function(S,V,O){function g(v,r,m){var o=r.length,a=E(r,v._cache);return v._cache=v._cache.slice(o),v._prev=k.concat([v._prev,m?r:a]),a}var k=S("safe-buffer").Buffer,E=S("buffer-xor");O.encrypt=function(v,r,m){for(var o=k.allocUnsafe(0),a;r.length;)if(v._cache.length===0&&(v._cache=v._cipher.encryptBlock(v._prev),v._prev=k.allocUnsafe(0)),v._cache.length<=r.length)a=v._cache.length,o=k.concat([o,g(v,r.slice(0,a),m)]),r=r.slice(a);else{o=k.concat([o,g(v,r,m)]);break}return o}},{"buffer-xor":74,"safe-buffer":234}],51:[function(S,V,O){function g(v,r,m){for(var o=-1,a=8,l=0,s,n,d;++o<a;)s=v._cipher.encryptBlock(v._prev),n=r&1<<7-o?128:0,d=s[0]^n,l+=(128&d)>>o%8,v._prev=k(v._prev,m?n:d);return l}function k(v,r){var m=v.length,o=-1,a=E.allocUnsafe(v.length);for(v=E.concat([v,E.from([r])]);++o<m;)a[o]=v[o]<<1|v[o+1]>>7;return a}var E=S("safe-buffer").Buffer;O.encrypt=function(v,r,m){for(var o=r.length,a=E.allocUnsafe(o),l=-1;++l<o;)a[l]=g(v,r[l],m);return a}},{"safe-buffer":234}],52:[function(S,V,O){function g(E,v,r){var m=E._cipher.encryptBlock(E._prev),o=m[0]^v;return E._prev=k.concat([E._prev.slice(1),k.from([r?v:o])]),o}var k=S("safe-buffer").Buffer;O.encrypt=function(E,v,r){for(var m=v.length,o=k.allocUnsafe(m),a=-1;++a<m;)o[a]=g(E,v[a],r);return o}},{"safe-buffer":234}],53:[function(S,V,O){function g(m){var o=m._cipher.encryptBlockRaw(m._prev);return v(m._prev),o}var k=S("buffer-xor"),E=S("safe-buffer").Buffer,v=S("../incr32"),r=16;O.encrypt=function(m,o){var a=Ee(o.length/r),l=m._cache.length;m._cache=E.concat([m._cache,E.allocUnsafe(a*r)]);for(var s=0;s<a;s++){var n=g(m),d=l+s*r;m._cache.writeUInt32BE(n[0],d+0),m._cache.writeUInt32BE(n[1],d+4),m._cache.writeUInt32BE(n[2],d+8),m._cache.writeUInt32BE(n[3],d+12)}var c=m._cache.slice(0,o.length);return m._cache=m._cache.slice(o.length),k(o,c)}},{"../incr32":48,"buffer-xor":74,"safe-buffer":234}],54:[function(S,V,O){O.encrypt=function(g,k){return g._cipher.encryptBlock(k)},O.decrypt=function(g,k){return g._cipher.decryptBlock(k)}},{}],55:[function(S,V,O){var g={ECB:S("./ecb"),CBC:S("./cbc"),CFB:S("./cfb"),CFB8:S("./cfb8"),CFB1:S("./cfb1"),OFB:S("./ofb"),CTR:S("./ctr"),GCM:S("./ctr")},k=S("./list.json");for(var E in k)k[E].module=g[k[E].mode];V.exports=k},{"./cbc":49,"./cfb":50,"./cfb1":51,"./cfb8":52,"./ctr":53,"./ecb":54,"./list.json":56,"./ofb":57}],56:[function(S,V,O){V.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],57:[function(S,V,O){(function(g){(function(){function k(v){return v._prev=v._cipher.encryptBlock(v._prev),v._prev}var E=S("buffer-xor");O.encrypt=function(v,r){for(;v._cache.length<r.length;)v._cache=g.concat([v._cache,k(v)]);var m=v._cache.slice(0,r.length);return v._cache=v._cache.slice(r.length),E(r,m)}}).call(this)}).call(this,S("buffer").Buffer)},{buffer:75,"buffer-xor":74}],58:[function(S,V,O){function g(m,o,a,l){v.call(this),this._cipher=new k.AES(o),this._prev=E.from(a),this._cache=E.allocUnsafe(0),this._secCache=E.allocUnsafe(0),this._decrypt=l,this._mode=m}var k=S("./aes"),E=S("safe-buffer").Buffer,v=S("cipher-base"),r=S("inherits");r(g,v),g.prototype._update=function(m){return this._mode.encrypt(this,m,this._decrypt)},g.prototype._final=function(){this._cipher.scrub()},V.exports=g},{"./aes":42,"cipher-base":79,inherits:146,"safe-buffer":234}],59:[function(S,V,O){function g(n,d){n=n.toLowerCase();var c,f;if(a[n])c=a[n].key,f=a[n].iv;else if(l[n])c=8*l[n].key,f=l[n].iv;else throw new TypeError("invalid suite type");var h=s(d,!1,c,f);return E(n,h.key,h.iv)}function k(n,d){n=n.toLowerCase();var c,f;if(a[n])c=a[n].key,f=a[n].iv;else if(l[n])c=8*l[n].key,f=l[n].iv;else throw new TypeError("invalid suite type");var h=s(d,!1,c,f);return v(n,h.key,h.iv)}function E(n,d,c){if(n=n.toLowerCase(),a[n])return o.createCipheriv(n,d,c);if(l[n])return new m({key:d,iv:c,mode:n});throw new TypeError("invalid suite type")}function v(n,d,c){if(n=n.toLowerCase(),a[n])return o.createDecipheriv(n,d,c);if(l[n])return new m({key:d,iv:c,mode:n,decrypt:!0});throw new TypeError("invalid suite type")}function r(){return Object.keys(l).concat(o.getCiphers())}var m=S("browserify-des"),o=S("browserify-aes/browser"),a=S("browserify-aes/modes"),l=S("browserify-des/modes"),s=S("evp_bytestokey");O.createCipher=O.Cipher=g,O.createCipheriv=O.Cipheriv=E,O.createDecipher=O.Decipher=k,O.createDecipheriv=O.Decipheriv=v,O.listCiphers=O.getCiphers=r},{"browserify-aes/browser":44,"browserify-aes/modes":55,"browserify-des":60,"browserify-des/modes":61,evp_bytestokey:123}],60:[function(S,V,O){function g(o){k.call(this);var a=o.mode.toLowerCase(),l=m[a],s;s=o.decrypt?"decrypt":"encrypt";var n=o.key;r.isBuffer(n)||(n=r.from(n)),(a==="des-ede"||a==="des-ede-cbc")&&(n=r.concat([n,n.slice(0,8)]));var d=o.iv;r.isBuffer(d)||(d=r.from(d)),this._des=l.create({key:n,iv:d,type:s})}var k=S("cipher-base"),E=S("des.js"),v=S("inherits"),r=S("safe-buffer").Buffer,m={"des-ede3-cbc":E.CBC.instantiate(E.EDE),"des-ede3":E.EDE,"des-ede-cbc":E.CBC.instantiate(E.EDE),"des-ede":E.EDE,"des-cbc":E.CBC.instantiate(E.DES),"des-ecb":E.DES};m.des=m["des-cbc"],m.des3=m["des-ede3-cbc"],V.exports=g,v(g,k),g.prototype._update=function(o){return r.from(this._des.update(o))},g.prototype._final=function(){return r.from(this._des.final())}},{"cipher-base":79,"des.js":92,inherits:146,"safe-buffer":234}],61:[function(S,V,O){O["des-ecb"]={key:8,iv:0},O["des-cbc"]=O.des={key:8,iv:8},O["des-ede3-cbc"]=O.des3={key:24,iv:8},O["des-ede3"]={key:24,iv:0},O["des-ede-cbc"]={key:16,iv:8},O["des-ede"]={key:16,iv:0}},{}],62:[function(S,V,O){(function(g){(function(){function k(o){var a=E(o),l=a.toRed(r.mont(o.modulus)).redPow(new r(o.publicExponent)).fromRed();return{blinder:l,unblinder:a.invm(o.modulus)}}function E(o){var a=o.modulus.byteLength(),l;do l=new r(m(a));while(0<=l.cmp(o.modulus)||!l.umod(o.prime1)||!l.umod(o.prime2));return l}function v(o,a){var l=k(a),s=a.modulus.byteLength(),n=new r(o).mul(l.blinder).umod(a.modulus),d=n.toRed(r.mont(a.prime1)),c=n.toRed(r.mont(a.prime2)),f=a.coefficient,h=a.prime1,x=a.prime2,R=d.redPow(a.exponent1).fromRed(),A=c.redPow(a.exponent2).fromRed(),w=R.isub(A).imul(f).umod(h).imul(x);return A.iadd(w).imul(l.unblinder).umod(a.modulus).toArrayLike(g,"be",s)}var r=S("bn.js"),m=S("randombytes");v.getr=E,V.exports=v}).call(this)}).call(this,S("buffer").Buffer)},{"bn.js":39,buffer:75,randombytes:208}],63:[function(S,V,O){V.exports=S("./browser/algorithms.json")},{"./browser/algorithms.json":64}],64:[function(S,V,O){V.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],65:[function(S,V,O){V.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],66:[function(S,V,O){function g(d){o.Writable.call(this);var c=n[d];if(!c)throw new Error("Unknown message digest");this._hashType=c.hash,this._hash=m(c.hash),this._tag=c.id,this._signType=c.sign}function k(d){o.Writable.call(this);var c=n[d];if(!c)throw new Error("Unknown message digest");this._hash=m(c.hash),this._tag=c.id,this._signType=c.sign}function E(d){return new g(d)}function v(d){return new k(d)}var r=S("safe-buffer").Buffer,m=S("create-hash"),o=S("readable-stream"),a=S("inherits"),l=S("./sign"),s=S("./verify"),n=S("./algorithms.json");Object.keys(n).forEach(function(d){n[d].id=r.from(n[d].id,"hex"),n[d.toLowerCase()]=n[d]}),a(g,o.Writable),g.prototype._write=function(c,f,h){this._hash.update(c),h()},g.prototype.update=function(c,f){return typeof c=="string"&&(c=r.from(c,f)),this._hash.update(c),this},g.prototype.sign=function(c,f){this.end();var h=this._hash.digest(),x=l(h,c,this._hashType,this._signType,this._tag);return f?x.toString(f):x},a(k,o.Writable),k.prototype._write=function(c,f,h){this._hash.update(c),h()},k.prototype.update=function(c,f){return typeof c=="string"&&(c=r.from(c,f)),this._hash.update(c),this},k.prototype.verify=function(c,f,h){typeof f=="string"&&(f=r.from(f,h)),this.end();var x=this._hash.digest();return s(f,x,c,this._signType,this._tag)},V.exports={Sign:E,Verify:v,createSign:E,createVerify:v}},{"./algorithms.json":64,"./sign":67,"./verify":68,"create-hash":84,inherits:146,"readable-stream":227,"safe-buffer":234}],67:[function(S,V,O){function g(R,A,w,I,M){var L=h(A);if(L.curve){if(I!=="ecdsa"&&I!=="ecdsa/rsa")throw new Error("wrong private key type");return k(R,L)}if(L.type==="dsa"){if(I!=="dsa")throw new Error("wrong private key type");return E(R,L,w)}if(I!=="rsa"&&I!=="ecdsa/rsa")throw new Error("wrong private key type");R=s.concat([M,R]);for(var G=L.modulus.byteLength(),Y=[0,1];R.length+Y.length+1<G;)Y.push(255);Y.push(0);for(var ie=-1;++ie<R.length;)Y.push(R[ie]);var ae=d(Y,L);return ae}function k(R,A){var w=x[A.curve.join(".")];if(!w)throw new Error("unknown curve "+A.curve.join("."));var I=new c(w),M=I.keyFromPrivate(A.privateKey),L=M.sign(R);return s.from(L.toDER())}function E(R,A,w){for(var I=A.params.priv_key,M=A.params.p,L=A.params.q,G=A.params.g,Y=new f(0),ie=m(R,L).mod(L),ae=!1,J=r(I,L,R,w),B;ae===!1;)B=a(L,J,w),Y=l(G,B,M,L),ae=B.invm(L).imul(ie.add(I.mul(Y))).mod(L),ae.cmpn(0)===0&&(ae=!1,Y=new f(0));return v(Y,ae)}function v(R,A){R=R.toArray(),A=A.toArray(),128&R[0]&&(R=[0].concat(R)),128&A[0]&&(A=[0].concat(A));var w=R.length+A.length+4,I=[48,w,2,R.length];return I=I.concat(R,[2,A.length],A),s.from(I)}function r(R,A,w,I){if(R=s.from(R.toArray()),R.length<A.byteLength()){var M=s.alloc(A.byteLength()-R.length);R=s.concat([M,R])}var L=w.length,G=o(w,A),Y=s.alloc(L);Y.fill(1);var ie=s.alloc(L);return ie=n(I,ie).update(Y).update(s.from([0])).update(R).update(G).digest(),Y=n(I,ie).update(Y).digest(),ie=n(I,ie).update(Y).update(s.from([1])).update(R).update(G).digest(),Y=n(I,ie).update(Y).digest(),{k:ie,v:Y}}function m(R,A){var w=new f(R),I=(R.length<<3)-A.bitLength();return 0<I&&w.ishrn(I),w}function o(R,A){R=m(R,A),R=R.mod(A);var w=s.from(R.toArray());if(w.length<A.byteLength()){var I=s.alloc(A.byteLength()-w.length);w=s.concat([I,w])}return w}function a(R,A,w){var I,M;do{for(I=s.alloc(0);8*I.length<R.bitLength();)A.v=n(w,A.k).update(A.v).digest(),I=s.concat([I,A.v]);M=m(I,R),A.k=n(w,A.k).update(A.v).update(s.from([0])).digest(),A.v=n(w,A.k).update(A.v).digest()}while(M.cmp(R)!==-1);return M}function l(R,A,w,I){return R.toRed(f.mont(w)).redPow(A).fromRed().mod(I)}var s=S("safe-buffer").Buffer,n=S("create-hmac"),d=S("browserify-rsa"),c=S("elliptic").ec,f=S("bn.js"),h=S("parse-asn1"),x=S("./curves.json");V.exports=g,V.exports.getKey=r,V.exports.makeKey=a},{"./curves.json":65,"bn.js":39,"browserify-rsa":62,"create-hmac":86,elliptic:103,"parse-asn1":182,"safe-buffer":234}],68:[function(S,V,O){function g(s,n,d,c,f){var h=a(d);if(h.type==="ec"){if(c!=="ecdsa"&&c!=="ecdsa/rsa")throw new Error("wrong public key type");return k(s,n,h)}if(h.type==="dsa"){if(c!=="dsa")throw new Error("wrong public key type");return E(s,n,h)}if(c!=="rsa"&&c!=="ecdsa/rsa")throw new Error("wrong public key type");n=r.concat([f,n]);for(var x=h.modulus.byteLength(),R=[1],A=0;n.length+R.length+2<x;)R.push(255),A++;R.push(0);for(var w=-1;++w<n.length;)R.push(n[w]);R=r.from(R);var I=m.mont(h.modulus);s=new m(s).toRed(I),s=s.redPow(new m(h.publicExponent)),s=r.from(s.fromRed().toArray());var M=8>A?1:0;for(x=ke(s.length,R.length),s.length!==R.length&&(M=1),w=-1;++w<x;)M|=s[w]^R[w];return M==0}function k(s,n,d){var c=l[d.data.algorithm.curve.join(".")];if(!c)throw new Error("unknown curve "+d.data.algorithm.curve.join("."));var f=new o(c),h=d.data.subjectPrivateKey.data;return f.verify(n,s,h)}function E(s,n,d){var c=d.data.p,f=d.data.q,h=d.data.g,x=d.data.pub_key,R=a.signature.decode(s,"der"),A=R.s,w=R.r;v(A,f),v(w,f);var I=m.mont(c),M=A.invm(f),L=h.toRed(I).redPow(new m(n).mul(M).mod(f)).fromRed().mul(x.toRed(I).redPow(w.mul(M).mod(f)).fromRed()).mod(c).mod(f);return L.cmp(w)===0}function v(s,n){if(0>=s.cmpn(0))throw new Error("invalid sig");if(s.cmp(n)>=n)throw new Error("invalid sig")}var r=S("safe-buffer").Buffer,m=S("bn.js"),o=S("elliptic").ec,a=S("parse-asn1"),l=S("./curves.json");V.exports=g},{"./curves.json":65,"bn.js":39,elliptic:103,"parse-asn1":182,"safe-buffer":234}],69:[function(S,V,O){function g(r,m){for(var o in r)m[o]=r[o]}function k(r,m,o){return v(r,m,o)}var E=S("buffer"),v=E.Buffer;v.from&&v.alloc&&v.allocUnsafe&&v.allocUnsafeSlow?V.exports=E:(g(E,O),O.Buffer=k),g(v,k),k.from=function(r,m,o){if(typeof r=="number")throw new TypeError("Argument must not be a number");return v(r,m,o)},k.alloc=function(r,m,o){if(typeof r!="number")throw new TypeError("Argument must be a number");var a=v(r);return m===void 0?a.fill(0):typeof o=="string"?a.fill(m,o):a.fill(m),a},k.allocUnsafe=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return v(r)},k.allocUnsafeSlow=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return E.SlowBuffer(r)}},{buffer:75}],70:[function(S,V,O){function g(A){if(!A)return"utf8";for(var w;;)switch(A){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return A;default:if(w)return;A=(""+A).toLowerCase(),w=!0}}function k(A){var w=g(A);if(typeof w!="string"&&(x.isEncoding===R||!R(A)))throw new Error("Unknown encoding: "+A);return w||A}function E(A){this.encoding=k(A);var w;switch(this.encoding){case"utf16le":this.text=s,this.end=n,w=4;break;case"utf8":this.fillLast=o,w=4;break;case"base64":this.text=d,this.end=c,w=3;break;default:return this.write=f,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=x.allocUnsafe(w)}function v(A){return 127>=A?0:A>>5==6?2:A>>4==14?3:A>>3==30?4:A>>6==2?-1:-2}function r(A,w,I){var M=w.length-1;if(M<I)return 0;var L=v(w[M]);return 0<=L?(0<L&&(A.lastNeed=L-1),L):--M<I||L===-2?0:(L=v(w[M]),0<=L?(0<L&&(A.lastNeed=L-2),L):--M<I||L===-2?0:(L=v(w[M]),0<=L?(0<L&&(L===2?L=0:A.lastNeed=L-3),L):0))}function m(A,w,I){if((192&w[0])!=128)return A.lastNeed=0,"\uFFFD";if(1<A.lastNeed&&1<w.length){if((192&w[1])!=128)return A.lastNeed=1,"\uFFFD";if(2<A.lastNeed&&2<w.length&&(192&w[2])!=128)return A.lastNeed=2,"\uFFFD"}}function o(A){var w=this.lastTotal-this.lastNeed,I=m(this,A);return I===void 0?this.lastNeed<=A.length?(A.copy(this.lastChar,w,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(A.copy(this.lastChar,w,0,A.length),void(this.lastNeed-=A.length)):I}function a(A,w){var I=r(this,A,w);if(!this.lastNeed)return A.toString("utf8",w);this.lastTotal=I;var M=A.length-(I-this.lastNeed);return A.copy(this.lastChar,0,M),A.toString("utf8",w,M)}function l(A){var w=A&&A.length?this.write(A):"";return this.lastNeed?w+"\uFFFD":w}function s(A,w){if((A.length-w)%2==0){var I=A.toString("utf16le",w);if(I){var M=I.charCodeAt(I.length-1);if(55296<=M&&56319>=M)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=A[A.length-2],this.lastChar[1]=A[A.length-1],I.slice(0,-1)}return I}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=A[A.length-1],A.toString("utf16le",w,A.length-1)}function n(A){var w=A&&A.length?this.write(A):"";if(this.lastNeed){var I=this.lastTotal-this.lastNeed;return w+this.lastChar.toString("utf16le",0,I)}return w}function d(A,w){var I=(A.length-w)%3;return I==0?A.toString("base64",w):(this.lastNeed=3-I,this.lastTotal=3,I==1?this.lastChar[0]=A[A.length-1]:(this.lastChar[0]=A[A.length-2],this.lastChar[1]=A[A.length-1]),A.toString("base64",w,A.length-I))}function c(A){var w=A&&A.length?this.write(A):"";return this.lastNeed?w+this.lastChar.toString("base64",0,3-this.lastNeed):w}function f(A){return A.toString(this.encoding)}function h(A){return A&&A.length?this.write(A):""}var x=S("safe-buffer").Buffer,R=x.isEncoding||function(A){switch(A=""+A,A&&A.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};O.StringDecoder=E,E.prototype.write=function(A){if(A.length===0)return"";var w,I;if(this.lastNeed){if(w=this.fillLast(A),w===void 0)return"";I=this.lastNeed,this.lastNeed=0}else I=0;return I<A.length?w?w+this.text(A,I):this.text(A,I):w||""},E.prototype.end=l,E.prototype.text=a,E.prototype.fillLast=function(A){return this.lastNeed<=A.length?(A.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(A.copy(this.lastChar,this.lastTotal-this.lastNeed,0,A.length),void(this.lastNeed-=A.length))}},{"safe-buffer":69}],71:[function(S,V,O){(function(g){(function(){function k(E){if(typeof E!="number")throw new TypeError('"size" argument must be a number');if(0>E)throw new RangeError('"size" argument must not be negative');return g.allocUnsafe?g.allocUnsafe(E):new g(E)}V.exports=k}).call(this)}).call(this,S("buffer").Buffer)},{buffer:75}],72:[function(S,V,O){(function(g){(function(){var k=S("buffer-fill"),E=S("buffer-alloc-unsafe");V.exports=function(r,m,o){if(typeof r!="number")throw new TypeError('"size" argument must be a number');if(0>r)throw new RangeError('"size" argument must not be negative');if(g.alloc)return g.alloc(r,m,o);var a=E(r);return r===0?a:m===void 0?k(a,0):(typeof o!="string"&&(o=void 0),k(a,m,o))}}).call(this)}).call(this,S("buffer").Buffer)},{buffer:75,"buffer-alloc-unsafe":71,"buffer-fill":73}],73:[function(S,V,O){(function(g){(function(){function k(o){return o.length===1&&256>o.charCodeAt(0)}function E(o,a,l,s){if(0>l||s>o.length)throw new RangeError("Out of range index");return l>>>=0,s=s===void 0?o.length:s>>>0,s>l&&o.fill(a,l,s),o}function v(o,a,l,s){if(0>l||s>o.length)throw new RangeError("Out of range index");if(s<=l)return o;l>>>=0,s=s===void 0?o.length:s>>>0;for(var n=l,d=a.length;n<=s-d;)a.copy(o,n),n+=d;return n!==s&&a.copy(o,n,0,s-n),o}function r(o,a,l,s,n){if(m)return o.fill(a,l,s,n);if(typeof a=="number")return E(o,a,l,s);if(typeof a=="string"){if(typeof l=="string"?(n=l,l=0,s=o.length):typeof s=="string"&&(n=s,s=o.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(n==="latin1"&&(n="binary"),typeof n=="string"&&!g.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(a==="")return E(o,0,l,s);if(k(a))return E(o,a.charCodeAt(0),l,s);a=new g(a,n)}return g.isBuffer(a)?v(o,a,l,s):E(o,0,l,s)}var m=function(){try{if(!g.isEncoding("latin1"))return!1;var o=g.alloc?g.alloc(4):new g(4);return o.fill("ab","ucs2"),o.toString("hex")==="61006200"}catch{return!1}}();V.exports=r}).call(this)}).call(this,S("buffer").Buffer)},{buffer:75}],74:[function(S,V,O){(function(g){(function(){V.exports=function(E,v){for(var r=ke(E.length,v.length),m=new g(r),o=0;o<r;++o)m[o]=E[o]^v[o];return m}}).call(this)}).call(this,S("buffer").Buffer)},{buffer:75}],75:[function(S,V,O){(function(g){(function(){function k(){try{var q=new Uint8Array(1);return q.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},q.foo()===42}catch{return!1}}function E(q){if(2147483647<q)throw new RangeError('The value "'+q+'" is invalid for option "size"');var P=new Uint8Array(q);return P.__proto__=v.prototype,P}function v(q,P,H){if(typeof q=="number"){if(typeof P=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return a(q)}return r(q,P,H)}function r(q,P,H){if(typeof q=="string")return l(q,P);if(ArrayBuffer.isView(q))return s(q);if(q==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof q);if(pe(q,ArrayBuffer)||q&&pe(q.buffer,ArrayBuffer))return n(q,P,H);if(typeof q=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Z=q.valueOf&&q.valueOf();if(Z!=null&&Z!==q)return v.from(Z,P,H);var se=d(q);if(se)return se;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof q[Symbol.toPrimitive]=="function")return v.from(q[Symbol.toPrimitive]("string"),P,H);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof q)}function m(q){if(typeof q!="number")throw new TypeError('"size" argument must be of type number');if(0>q)throw new RangeError('The value "'+q+'" is invalid for option "size"')}function o(q,P,H){return m(q),0>=q||P===void 0?E(q):typeof H=="string"?E(q).fill(P,H):E(q).fill(P)}function a(q){return m(q),E(0>q?0:0|c(q))}function l(q,P){if((typeof P!="string"||P==="")&&(P="utf8"),!v.isEncoding(P))throw new TypeError("Unknown encoding: "+P);var H=0|h(q,P),Z=E(H),se=Z.write(q,P);return se!==H&&(Z=Z.slice(0,se)),Z}function s(q){for(var P=0>q.length?0:0|c(q.length),H=E(P),Z=0;Z<P;Z+=1)H[Z]=255&q[Z];return H}function n(q,P,H){if(0>P||q.byteLength<P)throw new RangeError('"offset" is outside of buffer bounds');if(q.byteLength<P+(H||0))throw new RangeError('"length" is outside of buffer bounds');var Z;return Z=P===void 0&&H===void 0?new Uint8Array(q):H===void 0?new Uint8Array(q,P):new Uint8Array(q,P,H),Z.__proto__=v.prototype,Z}function d(q){if(v.isBuffer(q)){var P=0|c(q.length),H=E(P);return H.length===0||q.copy(H,0,0,P),H}return q.length===void 0?q.type==="Buffer"&&Array.isArray(q.data)?s(q.data):void 0:typeof q.length!="number"||ge(q.length)?E(0):s(q)}function c(q){if(q>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647 .toString(16)+" bytes");return 0|q}function f(q){return+q!=q&&(q=0),v.alloc(+q)}function h(q,P){if(v.isBuffer(q))return q.length;if(ArrayBuffer.isView(q)||pe(q,ArrayBuffer))return q.byteLength;if(typeof q!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof q);var H=q.length,Z=2<arguments.length&&arguments[2]===!0;if(!Z&&H===0)return 0;for(var se=!1;;)switch(P){case"ascii":case"latin1":case"binary":return H;case"utf8":case"utf-8":return oe(q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*H;case"hex":return H>>>1;case"base64":return Se(q).length;default:if(se)return Z?-1:oe(q).length;P=(""+P).toLowerCase(),se=!0}}function x(q,P,H){var Z=!1;if((P===void 0||0>P)&&(P=0),P>this.length||((H===void 0||H>this.length)&&(H=this.length),0>=H)||(H>>>=0,P>>>=0,H<=P))return"";for(q||(q="utf8");;)switch(q){case"hex":return T(this,P,H);case"utf8":case"utf-8":return J(this,P,H);case"ascii":return y(this,P,H);case"latin1":case"binary":return p(this,P,H);case"base64":return ae(this,P,H);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,P,H);default:if(Z)throw new TypeError("Unknown encoding: "+q);q=(q+"").toLowerCase(),Z=!0}}function R(q,P,H){var Z=q[P];q[P]=q[H],q[H]=Z}function A(q,P,H,Z,se){if(q.length===0)return-1;if(typeof H=="string"?(Z=H,H=0):2147483647<H?H=2147483647:-2147483648>H&&(H=-2147483648),H=+H,ge(H)&&(H=se?0:q.length-1),0>H&&(H=q.length+H),H>=q.length){if(se)return-1;H=q.length-1}else if(0>H)if(se)H=0;else return-1;if(typeof P=="string"&&(P=v.from(P,Z)),v.isBuffer(P))return P.length===0?-1:w(q,P,H,Z,se);if(typeof P=="number")return P&=255,typeof Uint8Array.prototype.indexOf=="function"?se?Uint8Array.prototype.indexOf.call(q,P,H):Uint8Array.prototype.lastIndexOf.call(q,P,H):w(q,[P],H,Z,se);throw new TypeError("val must be string, number or Buffer")}function w(q,P,H,Z,se){function ue(De,We){return be===1?De[We]:De.readUInt16BE(We*be)}var be=1,Re=q.length,Pe=P.length;if(Z!==void 0&&(Z=(Z+"").toLowerCase(),Z==="ucs2"||Z==="ucs-2"||Z==="utf16le"||Z==="utf-16le")){if(2>q.length||2>P.length)return-1;be=2,Re/=2,Pe/=2,H/=2}var Ie;if(se){var Be=-1;for(Ie=H;Ie<Re;Ie++)if(ue(q,Ie)!==ue(P,Be===-1?0:Ie-Be))Be!==-1&&(Ie-=Ie-Be),Be=-1;else if(Be===-1&&(Be=Ie),Ie-Be+1===Pe)return Be*be}else for(H+Pe>Re&&(H=Re-Pe),Ie=H;0<=Ie;Ie--){for(var Oe=!0,Ne=0;Ne<Pe;Ne++)if(ue(q,Ie+Ne)!==ue(P,Ne)){Oe=!1;break}if(Oe)return Ie}return-1}function I(q,P,H,Z){H=+H||0;var se=q.length-H;Z?(Z=+Z,Z>se&&(Z=se)):Z=se;var ue=P.length;Z>ue/2&&(Z=ue/2);for(var be=0,Re;be<Z;++be){if(Re=parseInt(P.substr(2*be,2),16),ge(Re))return be;q[H+be]=Re}return be}function M(q,P,H,Z){return Ae(oe(P,q.length-H),q,H,Z)}function L(q,P,H,Z){return Ae(me(P),q,H,Z)}function G(q,P,H,Z){return L(q,P,H,Z)}function Y(q,P,H,Z){return Ae(Se(P),q,H,Z)}function ie(q,P,H,Z){return Ae(he(P,q.length-H),q,H,Z)}function ae(q,P,H){return P===0&&H===q.length?xe.fromByteArray(q):xe.fromByteArray(q.slice(P,H))}function J(q,P,H){H=ke(q.length,H);for(var Z=[],se=P;se<H;){var ue=q[se],be=null,Re=239<ue?4:223<ue?3:191<ue?2:1;if(se+Re<=H){var Pe,Ie,Be,Oe;Re===1?128>ue&&(be=ue):Re===2?(Pe=q[se+1],(192&Pe)==128&&(Oe=(31&ue)<<6|63&Pe,127<Oe&&(be=Oe))):Re===3?(Pe=q[se+1],Ie=q[se+2],(192&Pe)==128&&(192&Ie)==128&&(Oe=(15&ue)<<12|(63&Pe)<<6|63&Ie,2047<Oe&&(55296>Oe||57343<Oe)&&(be=Oe))):Re===4&&(Pe=q[se+1],Ie=q[se+2],Be=q[se+3],(192&Pe)==128&&(192&Ie)==128&&(192&Be)==128&&(Oe=(15&ue)<<18|(63&Pe)<<12|(63&Ie)<<6|63&Be,65535<Oe&&1114112>Oe&&(be=Oe)))}be===null?(be=65533,Re=1):65535<be&&(be-=65536,Z.push(55296|1023&be>>>10),be=56320|1023&be),Z.push(be),se+=Re}return B(Z)}function B(q){var P=q.length;if(P<=4096)return we.apply(String,q);for(var H="",Z=0;Z<P;)H+=we.apply(String,q.slice(Z,Z+=4096));return H}function y(q,P,H){var Z="";H=ke(q.length,H);for(var se=P;se<H;++se)Z+=we(127&q[se]);return Z}function p(q,P,H){var Z="";H=ke(q.length,H);for(var se=P;se<H;++se)Z+=we(q[se]);return Z}function T(q,P,H){var Z=q.length;(!P||0>P)&&(P=0),(!H||0>H||H>Z)&&(H=Z);for(var se="",ue=P;ue<H;++ue)se+=fe(q[ue]);return se}function D(q,P,H){for(var Z=q.slice(P,H),se="",ue=0;ue<Z.length;ue+=2)se+=we(Z[ue]+256*Z[ue+1]);return se}function j(q,P,H){if(q%1!=0||0>q)throw new RangeError("offset is not uint");if(q+P>H)throw new RangeError("Trying to access beyond buffer length")}function U(q,P,H,Z,se,ue){if(!v.isBuffer(q))throw new TypeError('"buffer" argument must be a Buffer instance');if(P>se||P<ue)throw new RangeError('"value" argument is out of bounds');if(H+Z>q.length)throw new RangeError("Index out of range")}function N(q,P,H,Z,se,ue){if(H+Z>q.length)throw new RangeError("Index out of range");if(0>H)throw new RangeError("Index out of range")}function W(q,P,H,Z,se){return P=+P,H>>>=0,se||N(q,P,H,4),Ce.write(q,P,H,Z,23,4),H+4}function Q(q,P,H,Z,se){return P=+P,H>>>=0,se||N(q,P,H,8),Ce.write(q,P,H,Z,52,8),H+8}function ee(q){if(q=q.split("=")[0],q=q.trim().replace(de,""),2>q.length)return"";for(;q.length%4!=0;)q+="=";return q}function fe(q){return 16>q?"0"+q.toString(16):q.toString(16)}function oe(q,P){P=P||1/0;for(var H=q.length,Z=null,se=[],ue=0,be;ue<H;++ue){if(be=q.charCodeAt(ue),55295<be&&57344>be){if(!Z){if(56319<be){-1<(P-=3)&&se.push(239,191,189);continue}else if(ue+1===H){-1<(P-=3)&&se.push(239,191,189);continue}Z=be;continue}if(56320>be){-1<(P-=3)&&se.push(239,191,189),Z=be;continue}be=(Z-55296<<10|be-56320)+65536}else Z&&-1<(P-=3)&&se.push(239,191,189);if(Z=null,128>be){if(0>(P-=1))break;se.push(be)}else if(2048>be){if(0>(P-=2))break;se.push(192|be>>6,128|63&be)}else if(65536>be){if(0>(P-=3))break;se.push(224|be>>12,128|63&be>>6,128|63&be)}else if(1114112>be){if(0>(P-=4))break;se.push(240|be>>18,128|63&be>>12,128|63&be>>6,128|63&be)}else throw new Error("Invalid code point")}return se}function me(q){for(var P=[],H=0;H<q.length;++H)P.push(255&q.charCodeAt(H));return P}function he(q,P){for(var H=[],Z=0,se,ue,be;Z<q.length&&!(0>(P-=2));++Z)se=q.charCodeAt(Z),ue=se>>8,be=se%256,H.push(be),H.push(ue);return H}function Se(q){return xe.toByteArray(ee(q))}function Ae(q,P,H,Z){for(var se=0;se<Z&&!(se+H>=P.length||se>=q.length);++se)P[se+H]=q[se];return se}function pe(q,P){return q instanceof P||q!=null&&q.constructor!=null&&q.constructor.name!=null&&q.constructor.name===P.name}function ge(q){return q!==q}var xe=S("base64-js"),Ce=S("ieee754");O.Buffer=v,O.SlowBuffer=f,O.INSPECT_MAX_BYTES=50,O.kMaxLength=2147483647,v.TYPED_ARRAY_SUPPORT=k(),v.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(v.prototype,"parent",{enumerable:!0,get:function(){return v.isBuffer(this)?this.buffer:void 0}}),Object.defineProperty(v.prototype,"offset",{enumerable:!0,get:function(){return v.isBuffer(this)?this.byteOffset:void 0}}),typeof Symbol<"u"&&Symbol.species!=null&&v[Symbol.species]===v&&Object.defineProperty(v,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),v.poolSize=8192,v.from=function(q,P,H){return r(q,P,H)},v.prototype.__proto__=Uint8Array.prototype,v.__proto__=Uint8Array,v.alloc=function(q,P,H){return o(q,P,H)},v.allocUnsafe=function(q){return a(q)},v.allocUnsafeSlow=function(q){return a(q)},v.isBuffer=function(P){return P!=null&&P._isBuffer===!0&&P!==v.prototype},v.compare=function(P,H){if(pe(P,Uint8Array)&&(P=v.from(P,P.offset,P.byteLength)),pe(H,Uint8Array)&&(H=v.from(H,H.offset,H.byteLength)),!v.isBuffer(P)||!v.isBuffer(H))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(P===H)return 0;for(var Z=P.length,se=H.length,ue=0,be=ke(Z,se);ue<be;++ue)if(P[ue]!==H[ue]){Z=P[ue],se=H[ue];break}return Z<se?-1:se<Z?1:0},v.isEncoding=function(P){switch((P+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},v.concat=function(P,H){if(!Array.isArray(P))throw new TypeError('"list" argument must be an Array of Buffers');if(P.length===0)return v.alloc(0);var Z;if(H===void 0)for(H=0,Z=0;Z<P.length;++Z)H+=P[Z].length;var se=v.allocUnsafe(H),ue=0;for(Z=0;Z<P.length;++Z){var be=P[Z];if(pe(be,Uint8Array)&&(be=v.from(be)),!v.isBuffer(be))throw new TypeError('"list" argument must be an Array of Buffers');be.copy(se,ue),ue+=be.length}return se},v.byteLength=h,v.prototype._isBuffer=!0,v.prototype.swap16=function(){var P=this.length;if(P%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var H=0;H<P;H+=2)R(this,H,H+1);return this},v.prototype.swap32=function(){var P=this.length;if(P%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var H=0;H<P;H+=4)R(this,H,H+3),R(this,H+1,H+2);return this},v.prototype.swap64=function(){var P=this.length;if(P%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var H=0;H<P;H+=8)R(this,H,H+7),R(this,H+1,H+6),R(this,H+2,H+5),R(this,H+3,H+4);return this},v.prototype.toString=function(){var P=this.length;return P===0?"":arguments.length===0?J(this,0,P):x.apply(this,arguments)},v.prototype.toLocaleString=v.prototype.toString,v.prototype.equals=function(P){if(!v.isBuffer(P))throw new TypeError("Argument must be a Buffer");return this===P||v.compare(this,P)===0},v.prototype.inspect=function(){var P="",H=O.INSPECT_MAX_BYTES;return P=this.toString("hex",0,H).replace(/(.{2})/g,"$1 ").trim(),this.length>H&&(P+=" ... "),"<Buffer "+P+">"},v.prototype.compare=function(P,H,Z,se,ue){if(pe(P,Uint8Array)&&(P=v.from(P,P.offset,P.byteLength)),!v.isBuffer(P))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof P);if(H===void 0&&(H=0),Z===void 0&&(Z=P?P.length:0),se===void 0&&(se=0),ue===void 0&&(ue=this.length),0>H||Z>P.length||0>se||ue>this.length)throw new RangeError("out of range index");if(se>=ue&&H>=Z)return 0;if(se>=ue)return-1;if(H>=Z)return 1;if(H>>>=0,Z>>>=0,se>>>=0,ue>>>=0,this===P)return 0;for(var be=ue-se,Re=Z-H,Pe=ke(be,Re),Ie=this.slice(se,ue),Be=P.slice(H,Z),Oe=0;Oe<Pe;++Oe)if(Ie[Oe]!==Be[Oe]){be=Ie[Oe],Re=Be[Oe];break}return be<Re?-1:Re<be?1:0},v.prototype.includes=function(P,H,Z){return this.indexOf(P,H,Z)!==-1},v.prototype.indexOf=function(P,H,Z){return A(this,P,H,Z,!0)},v.prototype.lastIndexOf=function(P,H,Z){return A(this,P,H,Z,!1)},v.prototype.write=function(P,H,Z,se){if(H===void 0)se="utf8",Z=this.length,H=0;else if(Z===void 0&&typeof H=="string")se=H,Z=this.length,H=0;else if(isFinite(H))H>>>=0,isFinite(Z)?(Z>>>=0,se===void 0&&(se="utf8")):(se=Z,Z=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ue=this.length-H;if((Z===void 0||Z>ue)&&(Z=ue),0<P.length&&(0>Z||0>H)||H>this.length)throw new RangeError("Attempt to write outside buffer bounds");se||(se="utf8");for(var be=!1;;)switch(se){case"hex":return I(this,P,H,Z);case"utf8":case"utf-8":return M(this,P,H,Z);case"ascii":return L(this,P,H,Z);case"latin1":case"binary":return G(this,P,H,Z);case"base64":return Y(this,P,H,Z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ie(this,P,H,Z);default:if(be)throw new TypeError("Unknown encoding: "+se);se=(""+se).toLowerCase(),be=!0}},v.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},v.prototype.slice=function(P,H){var Z=this.length;P=~~P,H=H===void 0?Z:~~H,0>P?(P+=Z,0>P&&(P=0)):P>Z&&(P=Z),0>H?(H+=Z,0>H&&(H=0)):H>Z&&(H=Z),H<P&&(H=P);var se=this.subarray(P,H);return se.__proto__=v.prototype,se},v.prototype.readUIntLE=function(P,H,Z){P>>>=0,H>>>=0,Z||j(P,H,this.length);for(var se=this[P],ue=1,be=0;++be<H&&(ue*=256);)se+=this[P+be]*ue;return se},v.prototype.readUIntBE=function(P,H,Z){P>>>=0,H>>>=0,Z||j(P,H,this.length);for(var se=this[P+--H],ue=1;0<H&&(ue*=256);)se+=this[P+--H]*ue;return se},v.prototype.readUInt8=function(P,H){return P>>>=0,H||j(P,1,this.length),this[P]},v.prototype.readUInt16LE=function(P,H){return P>>>=0,H||j(P,2,this.length),this[P]|this[P+1]<<8},v.prototype.readUInt16BE=function(P,H){return P>>>=0,H||j(P,2,this.length),this[P]<<8|this[P+1]},v.prototype.readUInt32LE=function(P,H){return P>>>=0,H||j(P,4,this.length),(this[P]|this[P+1]<<8|this[P+2]<<16)+16777216*this[P+3]},v.prototype.readUInt32BE=function(P,H){return P>>>=0,H||j(P,4,this.length),16777216*this[P]+(this[P+1]<<16|this[P+2]<<8|this[P+3])},v.prototype.readIntLE=function(P,H,Z){P>>>=0,H>>>=0,Z||j(P,H,this.length);for(var se=this[P],ue=1,be=0;++be<H&&(ue*=256);)se+=this[P+be]*ue;return ue*=128,se>=ue&&(se-=_(2,8*H)),se},v.prototype.readIntBE=function(P,H,Z){P>>>=0,H>>>=0,Z||j(P,H,this.length);for(var se=H,ue=1,be=this[P+--se];0<se&&(ue*=256);)be+=this[P+--se]*ue;return ue*=128,be>=ue&&(be-=_(2,8*H)),be},v.prototype.readInt8=function(P,H){return P>>>=0,H||j(P,1,this.length),128&this[P]?-1*(255-this[P]+1):this[P]},v.prototype.readInt16LE=function(P,H){P>>>=0,H||j(P,2,this.length);var Z=this[P]|this[P+1]<<8;return 32768&Z?4294901760|Z:Z},v.prototype.readInt16BE=function(P,H){P>>>=0,H||j(P,2,this.length);var Z=this[P+1]|this[P]<<8;return 32768&Z?4294901760|Z:Z},v.prototype.readInt32LE=function(P,H){return P>>>=0,H||j(P,4,this.length),this[P]|this[P+1]<<8|this[P+2]<<16|this[P+3]<<24},v.prototype.readInt32BE=function(P,H){return P>>>=0,H||j(P,4,this.length),this[P]<<24|this[P+1]<<16|this[P+2]<<8|this[P+3]},v.prototype.readFloatLE=function(P,H){return P>>>=0,H||j(P,4,this.length),Ce.read(this,P,!0,23,4)},v.prototype.readFloatBE=function(P,H){return P>>>=0,H||j(P,4,this.length),Ce.read(this,P,!1,23,4)},v.prototype.readDoubleLE=function(P,H){return P>>>=0,H||j(P,8,this.length),Ce.read(this,P,!0,52,8)},v.prototype.readDoubleBE=function(P,H){return P>>>=0,H||j(P,8,this.length),Ce.read(this,P,!1,52,8)},v.prototype.writeUIntLE=function(P,H,Z,se){if(P=+P,H>>>=0,Z>>>=0,!se){var ue=_(2,8*Z)-1;U(this,P,H,Z,ue,0)}var be=1,Re=0;for(this[H]=255&P;++Re<Z&&(be*=256);)this[H+Re]=255&P/be;return H+Z},v.prototype.writeUIntBE=function(P,H,Z,se){if(P=+P,H>>>=0,Z>>>=0,!se){var ue=_(2,8*Z)-1;U(this,P,H,Z,ue,0)}var be=Z-1,Re=1;for(this[H+be]=255&P;0<=--be&&(Re*=256);)this[H+be]=255&P/Re;return H+Z},v.prototype.writeUInt8=function(P,H,Z){return P=+P,H>>>=0,Z||U(this,P,H,1,255,0),this[H]=255&P,H+1},v.prototype.writeUInt16LE=function(P,H,Z){return P=+P,H>>>=0,Z||U(this,P,H,2,65535,0),this[H]=255&P,this[H+1]=P>>>8,H+2},v.prototype.writeUInt16BE=function(P,H,Z){return P=+P,H>>>=0,Z||U(this,P,H,2,65535,0),this[H]=P>>>8,this[H+1]=255&P,H+2},v.prototype.writeUInt32LE=function(P,H,Z){return P=+P,H>>>=0,Z||U(this,P,H,4,4294967295,0),this[H+3]=P>>>24,this[H+2]=P>>>16,this[H+1]=P>>>8,this[H]=255&P,H+4},v.prototype.writeUInt32BE=function(P,H,Z){return P=+P,H>>>=0,Z||U(this,P,H,4,4294967295,0),this[H]=P>>>24,this[H+1]=P>>>16,this[H+2]=P>>>8,this[H+3]=255&P,H+4},v.prototype.writeIntLE=function(P,H,Z,se){if(P=+P,H>>>=0,!se){var ue=_(2,8*Z-1);U(this,P,H,Z,ue-1,-ue)}var be=0,Re=1,Pe=0;for(this[H]=255&P;++be<Z&&(Re*=256);)0>P&&Pe===0&&this[H+be-1]!==0&&(Pe=1),this[H+be]=255&(P/Re>>0)-Pe;return H+Z},v.prototype.writeIntBE=function(P,H,Z,se){if(P=+P,H>>>=0,!se){var ue=_(2,8*Z-1);U(this,P,H,Z,ue-1,-ue)}var be=Z-1,Re=1,Pe=0;for(this[H+be]=255&P;0<=--be&&(Re*=256);)0>P&&Pe===0&&this[H+be+1]!==0&&(Pe=1),this[H+be]=255&(P/Re>>0)-Pe;return H+Z},v.prototype.writeInt8=function(P,H,Z){return P=+P,H>>>=0,Z||U(this,P,H,1,127,-128),0>P&&(P=255+P+1),this[H]=255&P,H+1},v.prototype.writeInt16LE=function(P,H,Z){return P=+P,H>>>=0,Z||U(this,P,H,2,32767,-32768),this[H]=255&P,this[H+1]=P>>>8,H+2},v.prototype.writeInt16BE=function(P,H,Z){return P=+P,H>>>=0,Z||U(this,P,H,2,32767,-32768),this[H]=P>>>8,this[H+1]=255&P,H+2},v.prototype.writeInt32LE=function(P,H,Z){return P=+P,H>>>=0,Z||U(this,P,H,4,2147483647,-2147483648),this[H]=255&P,this[H+1]=P>>>8,this[H+2]=P>>>16,this[H+3]=P>>>24,H+4},v.prototype.writeInt32BE=function(P,H,Z){return P=+P,H>>>=0,Z||U(this,P,H,4,2147483647,-2147483648),0>P&&(P=4294967295+P+1),this[H]=P>>>24,this[H+1]=P>>>16,this[H+2]=P>>>8,this[H+3]=255&P,H+4},v.prototype.writeFloatLE=function(P,H,Z){return W(this,P,H,!0,Z)},v.prototype.writeFloatBE=function(P,H,Z){return W(this,P,H,!1,Z)},v.prototype.writeDoubleLE=function(P,H,Z){return Q(this,P,H,!0,Z)},v.prototype.writeDoubleBE=function(P,H,Z){return Q(this,P,H,!1,Z)},v.prototype.copy=function(P,H,Z,se){if(!v.isBuffer(P))throw new TypeError("argument should be a Buffer");if(Z||(Z=0),se||se===0||(se=this.length),H>=P.length&&(H=P.length),H||(H=0),0<se&&se<Z&&(se=Z),se===Z||P.length===0||this.length===0)return 0;if(0>H)throw new RangeError("targetStart out of bounds");if(0>Z||Z>=this.length)throw new RangeError("Index out of range");if(0>se)throw new RangeError("sourceEnd out of bounds");se>this.length&&(se=this.length),P.length-H<se-Z&&(se=P.length-H+Z);var ue=se-Z;if(this===P&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(H,Z,se);else if(this===P&&Z<H&&H<se)for(var be=ue-1;0<=be;--be)P[be+H]=this[be+Z];else Uint8Array.prototype.set.call(P,this.subarray(Z,se),H);return ue},v.prototype.fill=function(P,H,Z,se){if(typeof P=="string"){if(typeof H=="string"?(se=H,H=0,Z=this.length):typeof Z=="string"&&(se=Z,Z=this.length),se!==void 0&&typeof se!="string")throw new TypeError("encoding must be a string");if(typeof se=="string"&&!v.isEncoding(se))throw new TypeError("Unknown encoding: "+se);if(P.length===1){var ue=P.charCodeAt(0);(se==="utf8"&&128>ue||se==="latin1")&&(P=ue)}}else typeof P=="number"&&(P&=255);if(0>H||this.length<H||this.length<Z)throw new RangeError("Out of range index");if(Z<=H)return this;H>>>=0,Z=Z===void 0?this.length:Z>>>0,P||(P=0);var be;if(typeof P=="number")for(be=H;be<Z;++be)this[be]=P;else{var Re=v.isBuffer(P)?P:v.from(P,se),Pe=Re.length;if(Pe===0)throw new TypeError('The value "'+P+'" is invalid for argument "value"');for(be=0;be<Z-H;++be)this[be+H]=Re[be%Pe]}return this};var de=/[^+/0-9A-Za-z-_]/g}).call(this)}).call(this,S("buffer").Buffer)},{"base64-js":23,buffer:75,ieee754:144}],76:[function(S,V,O){V.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],77:[function(S,V,O){/*! cache-chunk-store. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */const g=S("lru"),k=S("queue-microtask");class E{constructor(r,m){if(this.store=r,this.chunkLength=r.chunkLength,this.inProgressGets=new Map,!this.store||!this.store.get||!this.store.put)throw new Error("First argument must be abstract-chunk-store compliant");this.cache=new g(m)}put(r,m,o=()=>{}){return this.cache?(this.cache.remove(r),void this.store.put(r,m,o)):k(()=>o(new Error("CacheStore closed")))}get(r,m,o=()=>{}){if(typeof m=="function")return this.get(r,null,m);if(!this.cache)return k(()=>o(new Error("CacheStore closed")));m||(m={});let a=this.cache.get(r);if(a){const n=m.offset||0,d=m.length||a.length-n;return(n!==0||d!==a.length)&&(a=a.slice(n,d+n)),k(()=>o(null,a))}let l=this.inProgressGets.get(r);const s=!!l;l||(l=[],this.inProgressGets.set(r,l)),l.push({opts:m,cb:o}),s||this.store.get(r,(n,d)=>{n||this.cache==null||this.cache.set(r,d);const c=this.inProgressGets.get(r);this.inProgressGets.delete(r);for(const{opts:f,cb:h}of c)if(n)h(n);else{const x=f.offset||0,R=f.length||d.length-x;let A=d;(x!==0||R!==d.length)&&(A=d.slice(x,R+x)),h(null,A)}})}close(r=()=>{}){return this.cache?(this.cache=null,void this.store.close(r)):k(()=>r(new Error("CacheStore closed")))}destroy(r=()=>{}){return this.cache?(this.cache=null,void this.store.destroy(r)):k(()=>r(new Error("CacheStore closed")))}}V.exports=E},{lru:155,"queue-microtask":205}],78:[function(S,V,O){const g=S("block-stream2"),k=S("readable-stream");class E extends k.Writable{constructor(r,m,o={}){if(super(o),!r||!r.put||!r.get)throw new Error("First argument must be an abstract-chunk-store compliant store");if(m=+m,!m)throw new Error("Second argument must be a chunk length");const a=o.zeroPadding!==void 0&&o.zeroPadding;this._blockstream=new g(m,{...o,zeroPadding:a}),this._outstandingPuts=0,this._storeMaxOutstandingPuts=o.storeMaxOutstandingPuts||16;let l=0;const s=n=>{this.destroyed||(this._outstandingPuts+=1,this._outstandingPuts>=this._storeMaxOutstandingPuts&&this._blockstream.pause(),r.put(l,n,d=>d?this.destroy(d):(this._outstandingPuts-=1,this._outstandingPuts<this._storeMaxOutstandingPuts&&this._blockstream.resume(),void(this._outstandingPuts===0&&typeof this._finalCb=="function"&&(this._finalCb(null),this._finalCb=null)))),l+=1)};this._blockstream.on("data",s).on("error",n=>{this.destroy(n)})}_write(r,m,o){this._blockstream.write(r,m,o)}_final(r){this._blockstream.end(),this._blockstream.once("end",()=>{this._outstandingPuts===0?r(null):this._finalCb=r})}destroy(r){this.destroyed||(this.destroyed=!0,r&&this.emit("error",r),this.emit("close"))}}V.exports=E},{"block-stream2":38,"readable-stream":227}],79:[function(S,V,O){function g(m){E.call(this),this.hashMode=typeof m=="string",this.hashMode?this[m]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}var k=S("safe-buffer").Buffer,E=S("stream").Transform,v=S("string_decoder").StringDecoder,r=S("inherits");r(g,E),g.prototype.update=function(m,o,a){typeof m=="string"&&(m=k.from(m,o));var l=this._update(m);return this.hashMode?this:(a&&(l=this._toString(l,a)),l)},g.prototype.setAutoPadding=function(){},g.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},g.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},g.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},g.prototype._transform=function(m,o,a){var l;try{this.hashMode?this._update(m):this.push(this._update(m))}catch(s){l=s}finally{a(l)}},g.prototype._flush=function(m){var o;try{this.push(this.__final())}catch(a){o=a}m(o)},g.prototype._finalOrDigest=function(m){var o=this.__final()||k.alloc(0);return m&&(o=this._toString(o,m,!0)),o},g.prototype._toString=function(m,o,a){if(this._decoder||(this._decoder=new v(o),this._encoding=o),this._encoding!==o)throw new Error("can't switch encodings");var l=this._decoder.write(m);return a&&(l+=this._decoder.end()),l},V.exports=g},{inherits:146,"safe-buffer":234,stream:255,string_decoder:70}],80:[function(S,V,O){(function(g){(function(){var k=function(){function E(c,f){return f!=null&&c instanceof f}function v(c,f,h,x,R){function A(L,G){if(L===null)return null;if(G===0)return L;var Y,ie;if(typeof L!="object")return L;if(E(L,s))Y=new s;else if(E(L,n))Y=new n;else if(E(L,d))Y=new d(function(U,N){L.then(function(W){U(A(W,G-1))},function(W){N(A(W,G-1))})});else if(v.__isArray(L))Y=[];else if(v.__isRegExp(L))Y=new RegExp(L.source,l(L)),L.lastIndex&&(Y.lastIndex=L.lastIndex);else if(v.__isDate(L))Y=new Date(L.getTime());else{if(M&&g.isBuffer(L))return Y=g.allocUnsafe?g.allocUnsafe(L.length):new g(L.length),L.copy(Y),Y;E(L,Error)?Y=Object.create(L):typeof x>"u"?(ie=Object.getPrototypeOf(L),Y=Object.create(ie)):(Y=Object.create(x),ie=x)}if(f){var ae=w.indexOf(L);if(ae!=-1)return I[ae];w.push(L),I.push(Y)}for(var J in E(L,s)&&L.forEach(function(U,N){var W=A(N,G-1),Q=A(U,G-1);Y.set(W,Q)}),E(L,n)&&L.forEach(function(U){var N=A(U,G-1);Y.add(N)}),L){var B;ie&&(B=Object.getOwnPropertyDescriptor(ie,J)),!(B&&B.set==null)&&(Y[J]=A(L[J],G-1))}if(Object.getOwnPropertySymbols)for(var y=Object.getOwnPropertySymbols(L),J=0;J<y.length;J++){var p=y[J],T=Object.getOwnPropertyDescriptor(L,p);(!T||T.enumerable||R)&&(Y[p]=A(L[p],G-1),T.enumerable||Object.defineProperty(Y,p,{enumerable:!1}))}if(R)for(var D=Object.getOwnPropertyNames(L),J=0;J<D.length;J++){var j=D[J],T=Object.getOwnPropertyDescriptor(L,j);T&&T.enumerable||(Y[j]=A(L[j],G-1),Object.defineProperty(Y,j,{enumerable:!1}))}return Y}typeof f=="object"&&(h=f.depth,x=f.prototype,R=f.includeNonEnumerable,f=f.circular);var w=[],I=[],M=typeof g<"u";return typeof f>"u"&&(f=!0),typeof h>"u"&&(h=1/0),A(c,h)}function r(c){return Object.prototype.toString.call(c)}function m(c){return typeof c=="object"&&r(c)==="[object Date]"}function o(c){return typeof c=="object"&&r(c)==="[object Array]"}function a(c){return typeof c=="object"&&r(c)==="[object RegExp]"}function l(c){var f="";return c.global&&(f+="g"),c.ignoreCase&&(f+="i"),c.multiline&&(f+="m"),f}var s;try{s=Map}catch{s=function(){}}var n;try{n=Set}catch{n=function(){}}var d;try{d=Promise}catch{d=function(){}}return v.clonePrototype=function(f){if(f===null)return null;var h=function(){};return h.prototype=f,new h},v.__objToStr=r,v.__isDate=m,v.__isArray=o,v.__isRegExp=a,v.__getRegExpFlags=l,v}();typeof V=="object"&&V.exports&&(V.exports=k)}).call(this)}).call(this,S("buffer").Buffer)},{buffer:75}],81:[function(S,V,O){V.exports=function(){for(var k=navigator.hardwareConcurrency||1,E=[],v=0;v<k;v++)E.push({model:"",speed:0,times:{user:0,nice:0,sys:0,idle:0,irq:0}});return E}},{}],82:[function(S,V,O){(function(g){(function(){function k(o){this.curveType=m[o],this.curveType||(this.curveType={name:o}),this.curve=new v.ec(this.curveType.name),this.keys=void 0}function E(o,a,l){Array.isArray(o)||(o=o.toArray());var s=new g(o);if(l&&s.length<l){var n=new g(l-s.length);n.fill(0),s=g.concat([n,s])}return a?s.toString(a):s}var v=S("elliptic"),r=S("bn.js");V.exports=function(a){return new k(a)};var m={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};m.p224=m.secp224r1,m.p256=m.secp256r1=m.prime256v1,m.p192=m.secp192r1=m.prime192v1,m.p384=m.secp384r1,m.p521=m.secp521r1,k.prototype.generateKeys=function(o,a){return this.keys=this.curve.genKeyPair(),this.getPublicKey(o,a)},k.prototype.computeSecret=function(o,a,l){a=a||"utf8",g.isBuffer(o)||(o=new g(o,a));var s=this.curve.keyFromPublic(o).getPublic(),n=s.mul(this.keys.getPrivate()).getX();return E(n,l,this.curveType.byteLength)},k.prototype.getPublicKey=function(o,a){var l=this.keys.getPublic(a==="compressed",!0);return a==="hybrid"&&(l[l.length-1]%2?l[0]=7:l[0]=6),E(l,o)},k.prototype.getPrivateKey=function(o){return E(this.keys.getPrivate(),o)},k.prototype.setPublicKey=function(o,a){return a=a||"utf8",g.isBuffer(o)||(o=new g(o,a)),this.keys._importPublic(o),this},k.prototype.setPrivateKey=function(o,a){a=a||"utf8",g.isBuffer(o)||(o=new g(o,a));var l=new r(o);return l=l.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(l),this}}).call(this)}).call(this,S("buffer").Buffer)},{"bn.js":83,buffer:75,elliptic:103}],83:[function(S,V,O){arguments[4][22][0].apply(O,arguments)},{buffer:41,dup:22}],84:[function(S,V,O){function g(o){m.call(this,"digest"),this._hash=o}var k=S("inherits"),E=S("md5.js"),v=S("ripemd160"),r=S("sha.js"),m=S("cipher-base");k(g,m),g.prototype._update=function(o){this._hash.update(o)},g.prototype._final=function(){return this._hash.digest()},V.exports=function(a){return a=a.toLowerCase(),a==="md5"?new E:a==="rmd160"||a==="ripemd160"?new v:new g(r(a))}},{"cipher-base":79,inherits:146,"md5.js":158,ripemd160:230,"sha.js":237}],85:[function(S,V,O){var g=S("md5.js");V.exports=function(k){return new g().update(k).digest()}},{"md5.js":158}],86:[function(S,V,O){function g(s,n){v.call(this,"digest"),typeof n=="string"&&(n=r.from(n));var d=s==="sha512"||s==="sha384"?128:64;if(this._alg=s,this._key=n,n.length>d){var c=s==="rmd160"?new o:a(s);n=c.update(n).digest()}else n.length<d&&(n=r.concat([n,l],d));for(var f=this._ipad=r.allocUnsafe(d),h=this._opad=r.allocUnsafe(d),x=0;x<d;x++)f[x]=54^n[x],h[x]=92^n[x];this._hash=s==="rmd160"?new o:a(s),this._hash.update(f)}var k=S("inherits"),E=S("./legacy"),v=S("cipher-base"),r=S("safe-buffer").Buffer,m=S("create-hash/md5"),o=S("ripemd160"),a=S("sha.js"),l=r.alloc(128);k(g,v),g.prototype._update=function(s){this._hash.update(s)},g.prototype._final=function(){var s=this._hash.digest(),n=this._alg==="rmd160"?new o:a(this._alg);return n.update(this._opad).update(s).digest()},V.exports=function(n,d){return n=n.toLowerCase(),n==="rmd160"||n==="ripemd160"?new g("rmd160",d):n==="md5"?new E(m,d):new g(n,d)}},{"./legacy":87,"cipher-base":79,"create-hash/md5":85,inherits:146,ripemd160:230,"safe-buffer":234,"sha.js":237}],87:[function(S,V,O){function g(m,o){v.call(this,"digest"),typeof o=="string"&&(o=E.from(o)),this._alg=m,this._key=o,o.length>64?o=m(o):o.length<64&&(o=E.concat([o,r],64));for(var a=this._ipad=E.allocUnsafe(64),l=this._opad=E.allocUnsafe(64),s=0;s<64;s++)a[s]=54^o[s],l[s]=92^o[s];this._hash=[a]}var k=S("inherits"),E=S("safe-buffer").Buffer,v=S("cipher-base"),r=E.alloc(128);k(g,v),g.prototype._update=function(m){this._hash.push(m)},g.prototype._final=function(){var m=this._alg(E.concat(this._hash));return this._alg(E.concat([this._opad,m]))},V.exports=g},{"cipher-base":79,inherits:146,"safe-buffer":234}],88:[function(S,V,O){(function(g){(function(){function k(U,N,W){typeof N=="function"&&([N,W]=[W,N]),N=N?Object.assign({},N):{},v(U,N,(Q,ee,fe)=>Q?W(Q):(N.singleFileTorrent=fe,void m(ee,N,W)))}function E(U,N,W){typeof N=="function"&&([N,W]=[W,N]),N=N?Object.assign({},N):{},v(U,N,W)}function v(U,N,W){function Q(){Y(U.map(he=>Se=>{const Ae={};if(l(he))Ae.getStream=d(he),Ae.length=he.size;else if(g.isBuffer(he))Ae.getStream=c(he),Ae.length=he.length;else if(n(he))Ae.getStream=f(he,Ae),Ae.length=0;else{if(typeof he=="string"){if(typeof p!="function")throw new Error("filesystem paths do not work in the browser");const pe=1<oe||me;return void p(he,pe,Se)}throw new Error("invalid input type")}Ae.path=he[D],Se(null,Ae)}),(he,Se)=>he?W(he):(Se=Se.flat(),void W(null,Se,me)))}if(s(U)&&(U=Array.from(U)),Array.isArray(U)||(U=[U]),U.length===0)throw new Error("invalid input type");U.forEach(he=>{if(he==null)throw new Error(`invalid input type: ${he}`)}),U=U.map(he=>l(he)&&typeof he.path=="string"&&typeof p=="function"?he.path:he),U.length!==1||typeof U[0]=="string"||U[0].name||(U[0].name=N.name);let ee=null;U.forEach((he,Se)=>{if(typeof he=="string")return;let Ae=he.fullPath||he.name;Ae||(Ae=`Unknown File ${Se+1}`,he.unknownName=!0),he[D]=Ae.split("/"),he[D][0]||he[D].shift(),2>he[D].length?ee=null:Se===0&&1<U.length?ee=he[D][0]:he[D][0]!==ee&&(ee=null)}),(N.filterJunkFiles===void 0||N.filterJunkFiles)&&(U=U.filter(he=>typeof he=="string"||!o(he[D]))),ee&&U.forEach(he=>{const Se=(g.isBuffer(he)||n(he))&&!he[D];typeof he=="string"||Se||he[D].shift()}),!N.name&&ee&&(N.name=ee),N.name||U.some(he=>typeof he=="string"?(N.name=A.basename(he),!0):!he.unknownName&&(N.name=he[D][he[D].length-1],!0)),N.name||(N.name=`Unnamed Torrent ${Date.now()}`);const oe=U.reduce((he,Se)=>he+ +(typeof Se=="string"),0);let me=U.length===1;if(U.length===1&&typeof U[0]=="string"){if(typeof p!="function")throw new Error("filesystem paths do not work in the browser");I(U[0],(he,Se)=>he?W(he):(me=Se,void Q()))}else ie(Q)}function r(U,N,W,Q,ee){function fe(Z){pe+=Z.length;const se=de;ae(Z,ue=>{Ae[se]=ue,Ce-=1,Ce<j&&H.resume(),ge+=Z.length,Q.onProgress&&Q.onProgress(ge,W),Se()}),Ce+=1,Ce>=j&&H.pause(),de+=1}function oe(){q=!0,Se()}function me(Z){he(),ee(Z)}function he(){P.removeListener("error",me),H.removeListener("data",fe),H.removeListener("end",oe),H.removeListener("error",me)}function Se(){q&&Ce===0&&(he(),ee(null,g.from(Ae.join(""),"hex"),pe))}ee=G(ee);const Ae=[];let pe=0,ge=0;const xe=U.map(Z=>Z.getStream);let Ce=0,de=0,q=!1;const P=y.from(L(xe)),H=new x(N,{zeroPadding:!1});P.on("error",me),P.pipe(H).on("data",fe).on("end",oe).on("error",me)}function m(U,N,W){let Q=N.announceList;Q||(typeof N.announce=="string"?Q=[[N.announce]]:Array.isArray(N.announce)&&(Q=N.announce.map(me=>[me]))),Q||(Q=[]),globalThis.WEBTORRENT_ANNOUNCE&&(typeof globalThis.WEBTORRENT_ANNOUNCE=="string"?Q.push([[globalThis.WEBTORRENT_ANNOUNCE]]):Array.isArray(globalThis.WEBTORRENT_ANNOUNCE)&&(Q=Q.concat(globalThis.WEBTORRENT_ANNOUNCE.map(me=>[me])))),N.announce===void 0&&N.announceList===void 0&&(Q=Q.concat(V.exports.announceList)),typeof N.urlList=="string"&&(N.urlList=[N.urlList]);const ee={info:{name:N.name},"creation date":Ee((+N.creationDate||Date.now())/1e3),encoding:"UTF-8"};Q.length!==0&&(ee.announce=Q[0][0],ee["announce-list"]=Q),N.comment!==void 0&&(ee.comment=N.comment),N.createdBy!==void 0&&(ee["created by"]=N.createdBy),N.private!==void 0&&(ee.info.private=+N.private),N.info!==void 0&&Object.assign(ee.info,N.info),N.sslCert!==void 0&&(ee.info["ssl-cert"]=N.sslCert),N.urlList!==void 0&&(ee["url-list"]=N.urlList);const fe=U.reduce(a,0),oe=N.pieceLength||R(fe);ee.info["piece length"]=oe,r(U,oe,fe,N,(me,he,Se)=>me?W(me):(ee.info.pieces=he,U.forEach(Ae=>{delete Ae.getStream}),N.singleFileTorrent?ee.info.length=Se:ee.info.files=U,void W(null,h.encode(ee))))}function o(U){const N=U[U.length-1];return N[0]==="."&&M.is(N)}function a(U,N){return U+N.length}function l(U){return typeof Blob<"u"&&U instanceof Blob}function s(U){return typeof FileList<"u"&&U instanceof FileList}function n(U){return typeof U=="object"&&U!=null&&typeof U.pipe=="function"}function d(U){return()=>new w(U)}function c(U){return()=>{const N=new B;return N.end(U),N}}function f(U,N){return()=>{const W=new J;return W._transform=function(Q,ee){N.length+=Q.length,this.push(Q),ee()},U.pipe(W),W}}/*! create-torrent. MIT License. WebTorrent LLC <https://webtorrent.io/opensource> */const h=S("bencode"),x=S("block-stream2"),R=S("piece-length"),A=S("path"),{BlobReadStream:w}=S("fast-blob-stream"),I=S("is-file"),M=S("junk"),L=S("join-async-iterator"),G=S("once"),Y=S("run-parallel"),ie=S("queue-microtask"),ae=S("simple-sha1"),{Transform:J,PassThrough:B,Readable:y}=S("streamx"),p=S("./get-files"),T=[["udp://tracker.leechers-paradise.org:6969"],["udp://tracker.coppersurfer.tk:6969"],["udp://tracker.opentrackr.org:1337"],["udp://explodie.org:6969"],["udp://tracker.empire-js.us:1337"],["wss://tracker.btorrent.xyz"],["wss://tracker.openwebtorrent.com"]],D=Symbol("itemPath"),j=5;V.exports=k,V.exports.parseInput=E,V.exports.announceList=T,V.exports.isJunkPath=o}).call(this)}).call(this,S("buffer").Buffer)},{"./get-files":41,bencode:27,"block-stream2":38,buffer:75,"fast-blob-stream":124,"is-file":41,"join-async-iterator":149,junk:150,once:177,path:184,"piece-length":191,"queue-microtask":205,"run-parallel":232,"simple-sha1":247,streamx:263}],89:[function(S,V,O){O.randomBytes=O.rng=O.pseudoRandomBytes=O.prng=S("randombytes"),O.createHash=O.Hash=S("create-hash"),O.createHmac=O.Hmac=S("create-hmac");var g=S("browserify-sign/algos"),k=Object.keys(g),E=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(k);O.getHashes=function(){return E};var v=S("pbkdf2");O.pbkdf2=v.pbkdf2,O.pbkdf2Sync=v.pbkdf2Sync;var r=S("browserify-cipher");O.Cipher=r.Cipher,O.createCipher=r.createCipher,O.Cipheriv=r.Cipheriv,O.createCipheriv=r.createCipheriv,O.Decipher=r.Decipher,O.createDecipher=r.createDecipher,O.Decipheriv=r.Decipheriv,O.createDecipheriv=r.createDecipheriv,O.getCiphers=r.getCiphers,O.listCiphers=r.listCiphers;var m=S("diffie-hellman");O.DiffieHellmanGroup=m.DiffieHellmanGroup,O.createDiffieHellmanGroup=m.createDiffieHellmanGroup,O.getDiffieHellman=m.getDiffieHellman,O.createDiffieHellman=m.createDiffieHellman,O.DiffieHellman=m.DiffieHellman;var o=S("browserify-sign");O.createSign=o.createSign,O.Sign=o.Sign,O.createVerify=o.createVerify,O.Verify=o.Verify,O.createECDH=S("create-ecdh");var a=S("public-encrypt");O.publicEncrypt=a.publicEncrypt,O.privateEncrypt=a.privateEncrypt,O.publicDecrypt=a.publicDecrypt,O.privateDecrypt=a.privateDecrypt;var l=S("randomfill");O.randomFill=l.randomFill,O.randomFillSync=l.randomFillSync,O.createCredentials=function(){throw new Error(`sorry, createCredentials is not implemented yet
we accept pull requests
https://github.com/crypto-browserify/crypto-browserify`)},O.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":59,"browserify-sign":66,"browserify-sign/algos":63,"create-ecdh":82,"create-hash":84,"create-hmac":86,"diffie-hellman":98,pbkdf2:185,"public-encrypt":193,randombytes:208,randomfill:209}],90:[function(S,V,O){(function(g){(function(){function k(){return!!(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))||!(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function E(a){if(a[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+a[0]+(this.useColors?"%c ":" ")+"+"+V.exports.humanize(this.diff),!this.useColors)return;const l="color: "+this.color;a.splice(1,0,l,"color: inherit");let s=0,n=0;a[0].replace(/%[a-zA-Z%]/g,d=>{d==="%%"||(s++,d==="%c"&&(n=s))}),a.splice(n,0,l)}function v(a){try{a?O.storage.setItem("debug",a):O.storage.removeItem("debug")}catch{}}function r(){let a;try{a=O.storage.getItem("debug")}catch{}return!a&&typeof g<"u"&&"env"in g&&(a=g.env.DEBUG),a}function m(){try{return localStorage}catch{}}O.formatArgs=E,O.save=v,O.load=r,O.useColors=k,O.storage=m(),O.destroy=(()=>{let a=!1;return()=>{a||(a=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),O.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],O.log=console.debug||console.log||(()=>{}),V.exports=S("./common")(O);const{formatters:o}=V.exports;o.j=function(a){try{return JSON.stringify(a)}catch(l){return"[UnexpectedJSONParseError]: "+l.message}}}).call(this)}).call(this,S("_process"))},{"./common":91,_process:192}],91:[function(S,V,O){function g(k){function E(d){let c=0;for(let f=0;f<d.length;f++)c=(c<<5)-c+d.charCodeAt(f),c|=0;return v.colors[C(c)%v.colors.length]}function v(d){function c(...A){if(!c.enabled)return;const w=c,I=+new Date,M=I-(h||I);w.diff=M,w.prev=h,w.curr=I,h=I,A[0]=v.coerce(A[0]),typeof A[0]!="string"&&A.unshift("%O");let L=0;A[0]=A[0].replace(/%([a-zA-Z%])/g,(Y,ie)=>{if(Y==="%%")return"%";L++;const ae=v.formatters[ie];if(typeof ae=="function"){const J=A[L];Y=ae.call(w,J),A.splice(L,1),L--}return Y}),v.formatArgs.call(w,A),(w.log||v.log).apply(w,A)}let f=null,h,x,R;return c.namespace=d,c.useColors=v.useColors(),c.color=v.selectColor(d),c.extend=r,c.destroy=v.destroy,Object.defineProperty(c,"enabled",{enumerable:!0,configurable:!1,get:()=>f===null?(x!==v.namespaces&&(x=v.namespaces,R=v.enabled(d)),R):f,set:A=>{f=A}}),typeof v.init=="function"&&v.init(c),c}function r(d,c){const f=v(this.namespace+(typeof c>"u"?":":c)+d);return f.log=this.log,f}function m(d){v.save(d),v.namespaces=d,v.names=[],v.skips=[];let c;const f=(typeof d=="string"?d:"").split(/[\s,]+/),h=f.length;for(c=0;c<h;c++)f[c]&&(d=f[c].replace(/\*/g,".*?"),d[0]==="-"?v.skips.push(new RegExp("^"+d.slice(1)+"$")):v.names.push(new RegExp("^"+d+"$")))}function o(){const d=[...v.names.map(l),...v.skips.map(l).map(c=>"-"+c)].join(",");return v.enable(""),d}function a(d){if(d[d.length-1]==="*")return!0;let c,f;for(c=0,f=v.skips.length;c<f;c++)if(v.skips[c].test(d))return!1;for(c=0,f=v.names.length;c<f;c++)if(v.names[c].test(d))return!0;return!1}function l(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}function s(d){return d instanceof Error?d.stack||d.message:d}function n(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return v.debug=v,v.default=v,v.coerce=s,v.disable=o,v.enable=m,v.enabled=a,v.humanize=S("ms"),v.destroy=n,Object.keys(k).forEach(d=>{v[d]=k[d]}),v.names=[],v.skips=[],v.formatters={},v.selectColor=E,v.enable(v.load()),v}V.exports=g},{ms:175}],92:[function(S,V,O){O.utils=S("./des/utils"),O.Cipher=S("./des/cipher"),O.DES=S("./des/des"),O.CBC=S("./des/cbc"),O.EDE=S("./des/ede")},{"./des/cbc":93,"./des/cipher":94,"./des/des":95,"./des/ede":96,"./des/utils":97}],93:[function(S,V,O){function g(m){E.equal(m.length,8,"Invalid IV length"),this.iv=Array(8);for(var o=0;o<this.iv.length;o++)this.iv[o]=m[o]}function k(m){function o(n){m.call(this,n),this._cbcInit()}v(o,m);for(var a=Object.keys(r),l=0,s;l<a.length;l++)s=a[l],o.prototype[s]=r[s];return o.create=function(d){return new o(d)},o}var E=S("minimalistic-assert"),v=S("inherits"),r={};O.instantiate=k,r._cbcInit=function(){var o=new g(this.options.iv);this._cbcState=o},r._update=function(o,a,l,s){var n=this._cbcState,d=this.constructor.super_.prototype,c=n.iv;if(this.type==="encrypt"){for(var f=0;f<this.blockSize;f++)c[f]^=o[a+f];d._update.call(this,c,0,l,s);for(var f=0;f<this.blockSize;f++)c[f]=l[s+f]}else{d._update.call(this,o,a,l,s);for(var f=0;f<this.blockSize;f++)l[s+f]^=c[f];for(var f=0;f<this.blockSize;f++)c[f]=o[a+f]}}},{inherits:146,"minimalistic-assert":167}],94:[function(S,V,O){function g(E){this.options=E,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=Array(this.blockSize),this.bufferOff=0}var k=S("minimalistic-assert");V.exports=g,g.prototype._init=function(){},g.prototype.update=function(v){return v.length===0?[]:this.type==="decrypt"?this._updateDecrypt(v):this._updateEncrypt(v)},g.prototype._buffer=function(v,r){for(var m=ke(this.buffer.length-this.bufferOff,v.length-r),o=0;o<m;o++)this.buffer[this.bufferOff+o]=v[r+o];return this.bufferOff+=m,m},g.prototype._flushBuffer=function(v,r){return this._update(this.buffer,0,v,r),this.bufferOff=0,this.blockSize},g.prototype._updateEncrypt=function(v){var r=0,m=0,o=0|(this.bufferOff+v.length)/this.blockSize,a=Array(o*this.blockSize);this.bufferOff!==0&&(r+=this._buffer(v,r),this.bufferOff===this.buffer.length&&(m+=this._flushBuffer(a,m)));for(var l=v.length-(v.length-r)%this.blockSize;r<l;r+=this.blockSize)this._update(v,r,a,m),m+=this.blockSize;for(;r<v.length;r++,this.bufferOff++)this.buffer[this.bufferOff]=v[r];return a},g.prototype._updateDecrypt=function(v){for(var r=0,m=0,o=Ee((this.bufferOff+v.length)/this.blockSize)-1,a=Array(o*this.blockSize);0<o;o--)r+=this._buffer(v,r),m+=this._flushBuffer(a,m);return r+=this._buffer(v,r),a},g.prototype.final=function(v){var r;v&&(r=this.update(v));var m;return m=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),r?r.concat(m):m},g.prototype._pad=function(v,r){if(r===0)return!1;for(;r<v.length;)v[r++]=0;return!0},g.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var v=Array(this.blockSize);return this._update(this.buffer,0,v,0),v},g.prototype._unpad=function(v){return v},g.prototype._finalDecrypt=function(){k.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var v=Array(this.blockSize);return this._flushBuffer(v,0),this._unpad(v)}},{"minimalistic-assert":167}],95:[function(S,V,O){function g(){this.tmp=[,,],this.keys=null}function k(a){m.call(this,a);var l=new g;this._desState=l,this.deriveKeys(l,a.key)}var E=S("minimalistic-assert"),v=S("inherits"),r=S("./utils"),m=S("./cipher");v(k,m),V.exports=k,k.create=function(l){return new k(l)};var o=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];k.prototype.deriveKeys=function(l,s){l.keys=Array(32),E.equal(s.length,this.blockSize,"Invalid key length");var n=r.readUInt32BE(s,0),d=r.readUInt32BE(s,4);r.pc1(n,d,l.tmp,0),n=l.tmp[0],d=l.tmp[1];for(var c=0,f;c<l.keys.length;c+=2)f=o[c>>>1],n=r.r28shl(n,f),d=r.r28shl(d,f),r.pc2(n,d,l.keys,c)},k.prototype._update=function(l,s,n,d){var c=this._desState,f=r.readUInt32BE(l,s),h=r.readUInt32BE(l,s+4);r.ip(f,h,c.tmp,0),f=c.tmp[0],h=c.tmp[1],this.type==="encrypt"?this._encrypt(c,f,h,c.tmp,0):this._decrypt(c,f,h,c.tmp,0),f=c.tmp[0],h=c.tmp[1],r.writeUInt32BE(n,f,d),r.writeUInt32BE(n,h,d+4)},k.prototype._pad=function(l,s){for(var n=l.length-s,d=s;d<l.length;d++)l[d]=n;return!0},k.prototype._unpad=function(l){for(var s=l[l.length-1],n=l.length-s;n<l.length;n++)E.equal(l[n],s);return l.slice(0,l.length-s)},k.prototype._encrypt=function(l,s,n,d,c){for(var f=s,h=n,x=0;x<l.keys.length;x+=2){var R=l.keys[x],A=l.keys[x+1];r.expand(h,l.tmp,0),R^=l.tmp[0],A^=l.tmp[1];var w=r.substitute(R,A),I=r.permute(w),M=h;h=(f^I)>>>0,f=M}r.rip(h,f,d,c)},k.prototype._decrypt=function(l,s,n,d,c){for(var f=n,h=s,x=l.keys.length-2;0<=x;x-=2){var R=l.keys[x],A=l.keys[x+1];r.expand(f,l.tmp,0),R^=l.tmp[0],A^=l.tmp[1];var w=r.substitute(R,A),I=r.permute(w),M=f;f=(h^I)>>>0,h=M}r.rip(f,h,d,c)}},{"./cipher":94,"./utils":97,inherits:146,"minimalistic-assert":167}],96:[function(S,V,O){function g(o,a){E.equal(a.length,24,"Invalid key length");var l=a.slice(0,8),s=a.slice(8,16),n=a.slice(16,24);this.ciphers=o==="encrypt"?[m.create({type:"encrypt",key:l}),m.create({type:"decrypt",key:s}),m.create({type:"encrypt",key:n})]:[m.create({type:"decrypt",key:n}),m.create({type:"encrypt",key:s}),m.create({type:"decrypt",key:l})]}function k(o){r.call(this,o);var a=new g(this.type,this.options.key);this._edeState=a}var E=S("minimalistic-assert"),v=S("inherits"),r=S("./cipher"),m=S("./des");v(k,r),V.exports=k,k.create=function(a){return new k(a)},k.prototype._update=function(a,l,s,n){var d=this._edeState;d.ciphers[0]._update(a,l,s,n),d.ciphers[1]._update(s,n,s,n),d.ciphers[2]._update(s,n,s,n)},k.prototype._pad=m.prototype._pad,k.prototype._unpad=m.prototype._unpad},{"./cipher":94,"./des":95,inherits:146,"minimalistic-assert":167}],97:[function(S,V,O){O.readUInt32BE=function(r,m){var o=r[0+m]<<24|r[1+m]<<16|r[2+m]<<8|r[3+m];return o>>>0},O.writeUInt32BE=function(r,m,o){r[0+o]=m>>>24,r[1+o]=255&m>>>16,r[2+o]=255&m>>>8,r[3+o]=255&m},O.ip=function(r,m,o,a){for(var l=0,s=0,n=6;0<=n;n-=2){for(var d=0;24>=d;d+=8)l<<=1,l|=1&m>>>d+n;for(var d=0;24>=d;d+=8)l<<=1,l|=1&r>>>d+n}for(var n=6;0<=n;n-=2){for(var d=1;25>=d;d+=8)s<<=1,s|=1&m>>>d+n;for(var d=1;25>=d;d+=8)s<<=1,s|=1&r>>>d+n}o[a+0]=l>>>0,o[a+1]=s>>>0},O.rip=function(r,m,o,a){for(var l=0,s=0,n=0;4>n;n++)for(var d=24;0<=d;d-=8)l<<=1,l|=1&m>>>d+n,l<<=1,l|=1&r>>>d+n;for(var n=4;8>n;n++)for(var d=24;0<=d;d-=8)s<<=1,s|=1&m>>>d+n,s<<=1,s|=1&r>>>d+n;o[a+0]=l>>>0,o[a+1]=s>>>0},O.pc1=function(r,m,o,a){for(var l=0,s=0,n=7;5<=n;n--){for(var d=0;24>=d;d+=8)l<<=1,l|=1&m>>d+n;for(var d=0;24>=d;d+=8)l<<=1,l|=1&r>>d+n}for(var d=0;24>=d;d+=8)l<<=1,l|=1&m>>d+n;for(var n=1;3>=n;n++){for(var d=0;24>=d;d+=8)s<<=1,s|=1&m>>d+n;for(var d=0;24>=d;d+=8)s<<=1,s|=1&r>>d+n}for(var d=0;24>=d;d+=8)s<<=1,s|=1&r>>d+n;o[a+0]=l>>>0,o[a+1]=s>>>0},O.r28shl=function(r,m){return 268435455&r<<m|r>>>28-m};var g=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];O.pc2=function(r,m,o,a){for(var l=0,s=0,n=g.length>>>1,d=0;d<n;d++)l<<=1,l|=1&r>>>g[d];for(var d=n;d<g.length;d++)s<<=1,s|=1&m>>>g[d];o[a+0]=l>>>0,o[a+1]=s>>>0},O.expand=function(r,m,o){var a=0,l=0;a=(1&r)<<5|r>>>27;for(var s=23;15<=s;s-=4)a<<=6,a|=63&r>>>s;for(var s=11;3<=s;s-=4)l|=63&r>>>s,l<<=6;l|=(31&r)<<1|r>>>31,m[o+0]=a>>>0,m[o+1]=l>>>0};var k=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];O.substitute=function(r,m){for(var o=0,a=0;4>a;a++){var l=63&r>>>18-6*a,s=k[64*a+l];o<<=4,o|=s}for(var a=0;4>a;a++){var l=63&m>>>18-6*a,s=k[256+64*a+l];o<<=4,o|=s}return o>>>0};var E=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];O.permute=function(r){for(var m=0,o=0;o<E.length;o++)m<<=1,m|=1&r>>>E[o];return m>>>0},O.padSplit=function(r,m,o){for(var a=r.toString(2);a.length<m;)a="0"+a;for(var l=[],s=0;s<m;s+=o)l.push(a.slice(s,s+o));return l.join(" ")}},{}],98:[function(S,V,O){(function(g){(function(){function k(a){var l=new g(r[a].prime,"hex"),s=new g(r[a].gen,"hex");return new m(l,s)}function E(a,l,s,n){return g.isBuffer(l)||o[l]===void 0?E(a,"binary",l,s):(l=l||"binary",n=n||"binary",s=s||new g([2]),g.isBuffer(s)||(s=new g(s,n)),typeof a=="number"?new m(v(a,s),s,!0):(g.isBuffer(a)||(a=new g(a,l)),new m(a,s,!0)))}var v=S("./lib/generatePrime"),r=S("./lib/primes.json"),m=S("./lib/dh"),o={binary:!0,hex:!0,base64:!0};O.DiffieHellmanGroup=O.createDiffieHellmanGroup=O.getDiffieHellman=k,O.createDiffieHellman=O.DiffieHellman=E}).call(this)}).call(this,S("buffer").Buffer)},{"./lib/dh":99,"./lib/generatePrime":100,"./lib/primes.json":101,buffer:75}],99:[function(S,V,O){(function(g){(function(){function k(A,w){return w=w||"utf8",g.isBuffer(A)||(A=new g(A,w)),this._pub=new o(A),this}function E(A,w){return w=w||"utf8",g.isBuffer(A)||(A=new g(A,w)),this._priv=new o(A),this}function v(A,w){var I=w.toString("hex"),M=[I,A.toString(16)].join("_");if(M in R)return R[M];var L=0;if(A.isEven()||!h.simpleSieve||!h.fermatTest(A)||!l.test(A))return L+=1,L+=I==="02"||I==="05"?8:4,R[M]=L,L;l.test(A.shrn(1))||(L+=2);var G;return I==="02"?A.mod(s).cmp(n)&&(L+=8):I==="05"?(G=A.mod(d),G.cmp(c)&&G.cmp(f)&&(L+=8)):L+=4,R[M]=L,L}function r(A,w,I){this.setGenerator(w),this.__prime=new o(A),this._prime=o.mont(this.__prime),this._primeLen=A.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,I?(this.setPublicKey=k,this.setPrivateKey=E):this._primeCode=8}function m(A,w){var I=new g(A.toArray());return w?I.toString(w):I}var o=S("bn.js"),a=S("miller-rabin"),l=new a,s=new o(24),n=new o(11),d=new o(10),c=new o(3),f=new o(7),h=S("./generatePrime"),x=S("randombytes");V.exports=r;var R={};Object.defineProperty(r.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=v(this.__prime,this.__gen)),this._primeCode}}),r.prototype.generateKeys=function(){return this._priv||(this._priv=new o(x(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},r.prototype.computeSecret=function(A){A=new o(A),A=A.toRed(this._prime);var w=A.redPow(this._priv).fromRed(),I=new g(w.toArray()),M=this.getPrime();if(I.length<M.length){var L=new g(M.length-I.length);L.fill(0),I=g.concat([L,I])}return I},r.prototype.getPublicKey=function(w){return m(this._pub,w)},r.prototype.getPrivateKey=function(w){return m(this._priv,w)},r.prototype.getPrime=function(A){return m(this.__prime,A)},r.prototype.getGenerator=function(A){return m(this._gen,A)},r.prototype.setGenerator=function(A,w){return w=w||"utf8",g.isBuffer(A)||(A=new g(A,w)),this.__gen=A,this._gen=new o(A),this}}).call(this)}).call(this,S("buffer").Buffer)},{"./generatePrime":100,"bn.js":102,buffer:75,"miller-rabin":161,randombytes:208}],100:[function(S,V,O){function g(){var A=Math.sqrt;if(R!==null)return R;var w=[];w[0]=2;for(var I=1,M=3,L;1048576>M;M+=2){L=Ee(A(M));for(var G=0;G<I&&w[G]<=L&&M%w[G]!=0;G++);I!=G&&w[G]<=L||(w[I++]=M)}return R=w,w}function k(A){for(var w=g(),I=0;I<w.length;I++)if(A.modn(w[I])===0)return A.cmpn(w[I])===0;return!0}function E(A){var w=m.mont(A);return n.toRed(w).redPow(A.subn(1)).fromRed().cmpn(1)===0}function v(A,w){if(16>A)return w===2||w===5?new m([140,123]):new m([140,39]);w=new m(w);for(var I,M;;){for(I=new m(r(Ee(A/8)));I.bitLength()>A;)I.ishrn(1);if(I.isEven()&&I.iadd(s),I.testn(1)||I.iadd(n),!w.cmp(n))for(;I.mod(o).cmp(h);)I.iadd(x);else if(!w.cmp(d))for(;I.mod(c).cmp(f);)I.iadd(x);if(M=I.shrn(1),k(M)&&k(I)&&E(M)&&E(I)&&l.test(M)&&l.test(I))return I}}var r=S("randombytes");V.exports=v,v.simpleSieve=k,v.fermatTest=E;var m=S("bn.js"),o=new m(24),a=S("miller-rabin"),l=new a,s=new m(1),n=new m(2),d=new m(5);new m(16),new m(8);var c=new m(10),f=new m(3);new m(7);var h=new m(11),x=new m(4);new m(12);var R=null},{"bn.js":102,"miller-rabin":161,randombytes:208}],101:[function(S,V,O){V.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],102:[function(S,V,O){arguments[4][22][0].apply(O,arguments)},{buffer:41,dup:22}],103:[function(S,V,O){var g=O;g.version=S("../package.json").version,g.utils=S("./elliptic/utils"),g.rand=S("brorand"),g.curve=S("./elliptic/curve"),g.curves=S("./elliptic/curves"),g.ec=S("./elliptic/ec"),g.eddsa=S("./elliptic/eddsa")},{"../package.json":119,"./elliptic/curve":106,"./elliptic/curves":109,"./elliptic/ec":110,"./elliptic/eddsa":113,"./elliptic/utils":117,brorand:40}],104:[function(S,V,O){function g(a,l){this.type=a,this.p=new E(l.p,16),this.red=l.prime?E.red(l.prime):E.mont(this.p),this.zero=new E(0).toRed(this.red),this.one=new E(1).toRed(this.red),this.two=new E(2).toRed(this.red),this.n=l.n&&new E(l.n,16),this.g=l.g&&this.pointFromJSON(l.g,l.gRed),this._wnafT1=[,,,,],this._wnafT2=[,,,,],this._wnafT3=[,,,,],this._wnafT4=[,,,,],this._bitLength=this.n?this.n.bitLength():0;var s=this.n&&this.p.div(this.n);!s||0<s.cmpn(100)?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function k(a,l){this.curve=a,this.type=l,this.precomputed=null}var E=S("bn.js"),v=S("../utils"),r=v.getNAF,m=v.getJSF,o=v.assert;V.exports=g,g.prototype.point=function(){throw new Error("Not implemented")},g.prototype.validate=function(){throw new Error("Not implemented")},g.prototype._fixedNafMul=function(l,s){o(l.precomputed);var n=l._getDoubles(),d=r(s,1,this._bitLength),c=(1<<n.step+1)-(n.step%2==0?2:1);c/=3;var f=[],h,x;for(h=0;h<d.length;h+=n.step){x=0;for(var R=h+n.step-1;R>=h;R--)x=(x<<1)+d[R];f.push(x)}for(var A=this.jpoint(null,null,null),w=this.jpoint(null,null,null),I=c;0<I;I--){for(h=0;h<f.length;h++)x=f[h],x===I?w=w.mixedAdd(n.points[h]):x===-I&&(w=w.mixedAdd(n.points[h].neg()));A=A.add(w)}return A.toP()},g.prototype._wnafMul=function(l,s){var n=4,d=l._getNAFPoints(n);n=d.wnd;for(var c=d.points,f=r(s,n,this._bitLength),h=this.jpoint(null,null,null),x=f.length-1;0<=x;x--){for(var R=0;0<=x&&f[x]===0;x--)R++;if(0<=x&&R++,h=h.dblp(R),0>x)break;var A=f[x];o(A!==0),h=l.type==="affine"?0<A?h.mixedAdd(c[A-1>>1]):h.mixedAdd(c[-A-1>>1].neg()):0<A?h.add(c[A-1>>1]):h.add(c[-A-1>>1].neg())}return l.type==="affine"?h.toP():h},g.prototype._wnafMulAdd=function(l,s,n,d,c){var f=this._wnafT1,h=this._wnafT2,x=this._wnafT3,R=0,A,w,I;for(A=0;A<d;A++){I=s[A];var M=I._getNAFPoints(l);f[A]=M.wnd,h[A]=M.points}for(A=d-1;1<=A;A-=2){var L=A-1,G=A;if(f[L]!==1||f[G]!==1){x[L]=r(n[L],f[L],this._bitLength),x[G]=r(n[G],f[G],this._bitLength),R=ve(x[L].length,R),R=ve(x[G].length,R);continue}var Y=[s[L],null,null,s[G]];s[L].y.cmp(s[G].y)===0?(Y[1]=s[L].add(s[G]),Y[2]=s[L].toJ().mixedAdd(s[G].neg())):s[L].y.cmp(s[G].y.redNeg())===0?(Y[1]=s[L].toJ().mixedAdd(s[G]),Y[2]=s[L].add(s[G].neg())):(Y[1]=s[L].toJ().mixedAdd(s[G]),Y[2]=s[L].toJ().mixedAdd(s[G].neg()));var ie=[-3,-1,-5,-7,0,7,5,1,3],ae=m(n[L],n[G]);for(R=ve(ae[0].length,R),x[L]=Array(R),x[G]=Array(R),w=0;w<R;w++){var J=0|ae[0][w],B=0|ae[1][w];x[L][w]=ie[3*(J+1)+(B+1)],x[G][w]=0,h[L]=Y}}var y=this.jpoint(null,null,null),p=this._wnafT4;for(A=R;0<=A;A--){for(var T=0,D;0<=A;){for(D=!0,w=0;w<d;w++)p[w]=0|x[w][A],p[w]!==0&&(D=!1);if(!D)break;T++,A--}if(0<=A&&T++,y=y.dblp(T),0>A)break;for(w=0;w<d;w++){var j=p[w];j!==0&&(0<j?I=h[w][j-1>>1]:0>j&&(I=h[w][-j-1>>1].neg()),y=I.type==="affine"?y.mixedAdd(I):y.add(I))}}for(A=0;A<d;A++)h[A]=null;return c?y:y.toP()},g.BasePoint=k,k.prototype.eq=function(){throw new Error("Not implemented")},k.prototype.validate=function(){return this.curve.validate(this)},g.prototype.decodePoint=function(l,s){l=v.toArray(l,s);var n=this.p.byteLength();if((l[0]===4||l[0]===6||l[0]===7)&&l.length-1==2*n){l[0]===6?o(l[l.length-1]%2==0):l[0]===7&&o(l[l.length-1]%2==1);var d=this.point(l.slice(1,1+n),l.slice(1+n,1+2*n));return d}if((l[0]===2||l[0]===3)&&l.length-1===n)return this.pointFromX(l.slice(1,1+n),l[0]===3);throw new Error("Unknown point format")},k.prototype.encodeCompressed=function(l){return this.encode(l,!0)},k.prototype._encode=function(l){var s=this.curve.p.byteLength(),n=this.getX().toArray("be",s);return l?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",s))},k.prototype.encode=function(l,s){return v.encode(this._encode(s),l)},k.prototype.precompute=function(l){if(this.precomputed)return this;var s={doubles:null,naf:null,beta:null};return s.naf=this._getNAFPoints(8),s.doubles=this._getDoubles(4,l),s.beta=this._getBeta(),this.precomputed=s,this},k.prototype._hasDoubles=function(l){if(!this.precomputed)return!1;var s=this.precomputed.doubles;return!!s&&s.points.length>=Ee((l.bitLength()+1)/s.step)},k.prototype._getDoubles=function(l,s){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],d=this,c=0;c<s;c+=l){for(var f=0;f<l;f++)d=d.dbl();n.push(d)}return{step:l,points:n}},k.prototype._getNAFPoints=function(l){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var s=[this],n=(1<<l)-1,d=n===1?null:this.dbl(),c=1;c<n;c++)s[c]=s[c-1].add(d);return{wnd:l,points:s}},k.prototype._getBeta=function(){return null},k.prototype.dblp=function(l){for(var s=this,n=0;n<l;n++)s=s.dbl();return s}},{"../utils":117,"bn.js":118}],105:[function(S,V,O){function g(a){this.twisted=(0|a.a)!=1,this.mOneA=this.twisted&&(0|a.a)==-1,this.extended=this.mOneA,m.call(this,"edwards",a),this.a=new v(a.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new v(a.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new v(a.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),o(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|a.c)==1}function k(a,l,s,n,d){m.BasePoint.call(this,a,"projective"),l===null&&s===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new v(l,16),this.y=new v(s,16),this.z=n?new v(n,16):this.curve.one,this.t=d&&new v(d,16),!this.x.red&&(this.x=this.x.toRed(this.curve.red)),!this.y.red&&(this.y=this.y.toRed(this.curve.red)),!this.z.red&&(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),!this.zOne&&(this.t=this.t.redMul(this.z.redInvm()))))}var E=S("../utils"),v=S("bn.js"),r=S("inherits"),m=S("./base"),o=E.assert;r(g,m),V.exports=g,g.prototype._mulA=function(l){return this.mOneA?l.redNeg():this.a.redMul(l)},g.prototype._mulC=function(l){return this.oneC?l:this.c.redMul(l)},g.prototype.jpoint=function(l,s,n,d){return this.point(l,s,n,d)},g.prototype.pointFromX=function(l,s){l=new v(l,16),l.red||(l=l.toRed(this.red));var n=l.redSqr(),d=this.c2.redSub(this.a.redMul(n)),c=this.one.redSub(this.c2.redMul(this.d).redMul(n)),f=d.redMul(c.redInvm()),h=f.redSqrt();if(h.redSqr().redSub(f).cmp(this.zero)!==0)throw new Error("invalid point");var x=h.fromRed().isOdd();return(s&&!x||!s&&x)&&(h=h.redNeg()),this.point(l,h)},g.prototype.pointFromY=function(l,s){l=new v(l,16),l.red||(l=l.toRed(this.red));var n=l.redSqr(),d=n.redSub(this.c2),c=n.redMul(this.d).redMul(this.c2).redSub(this.a),f=d.redMul(c.redInvm());if(f.cmp(this.zero)===0){if(s)throw new Error("invalid point");return this.point(this.zero,l)}var h=f.redSqrt();if(h.redSqr().redSub(f).cmp(this.zero)!==0)throw new Error("invalid point");return h.fromRed().isOdd()!==s&&(h=h.redNeg()),this.point(h,l)},g.prototype.validate=function(l){if(l.isInfinity())return!0;l.normalize();var s=l.x.redSqr(),n=l.y.redSqr(),d=s.redMul(this.a).redAdd(n),c=this.c2.redMul(this.one.redAdd(this.d.redMul(s).redMul(n)));return d.cmp(c)===0},r(k,m.BasePoint),g.prototype.pointFromJSON=function(l){return k.fromJSON(this,l)},g.prototype.point=function(l,s,n,d){return new k(this,l,s,n,d)},k.fromJSON=function(l,s){return new k(l,s[0],s[1],s[2])},k.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},k.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},k.prototype._extDbl=function(){var l=this.x.redSqr(),s=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var d=this.curve._mulA(l),c=this.x.redAdd(this.y).redSqr().redISub(l).redISub(s),f=d.redAdd(s),h=f.redSub(n),x=d.redSub(s),R=c.redMul(h),A=f.redMul(x),w=c.redMul(x),I=h.redMul(f);return this.curve.point(R,A,I,w)},k.prototype._projDbl=function(){var l=this.x.redAdd(this.y).redSqr(),s=this.x.redSqr(),n=this.y.redSqr(),d,c,f,h,x,R;if(this.curve.twisted){h=this.curve._mulA(s);var A=h.redAdd(n);this.zOne?(d=l.redSub(s).redSub(n).redMul(A.redSub(this.curve.two)),c=A.redMul(h.redSub(n)),f=A.redSqr().redSub(A).redSub(A)):(x=this.z.redSqr(),R=A.redSub(x).redISub(x),d=l.redSub(s).redISub(n).redMul(R),c=A.redMul(h.redSub(n)),f=A.redMul(R))}else h=s.redAdd(n),x=this.curve._mulC(this.z).redSqr(),R=h.redSub(x).redSub(x),d=this.curve._mulC(l.redISub(h)).redMul(R),c=this.curve._mulC(h).redMul(s.redISub(n)),f=h.redMul(R);return this.curve.point(d,c,f)},k.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},k.prototype._extAdd=function(l){var s=this.y.redSub(this.x).redMul(l.y.redSub(l.x)),n=this.y.redAdd(this.x).redMul(l.y.redAdd(l.x)),d=this.t.redMul(this.curve.dd).redMul(l.t),c=this.z.redMul(l.z.redAdd(l.z)),f=n.redSub(s),h=c.redSub(d),x=c.redAdd(d),R=n.redAdd(s),A=f.redMul(h),w=x.redMul(R),I=f.redMul(R),M=h.redMul(x);return this.curve.point(A,w,M,I)},k.prototype._projAdd=function(l){var s=this.z.redMul(l.z),n=s.redSqr(),d=this.x.redMul(l.x),c=this.y.redMul(l.y),f=this.curve.d.redMul(d).redMul(c),h=n.redSub(f),x=n.redAdd(f),R=this.x.redAdd(this.y).redMul(l.x.redAdd(l.y)).redISub(d).redISub(c),A=s.redMul(h).redMul(R),w,I;return this.curve.twisted?(w=s.redMul(x).redMul(c.redSub(this.curve._mulA(d))),I=h.redMul(x)):(w=s.redMul(x).redMul(c.redSub(d)),I=this.curve._mulC(h).redMul(x)),this.curve.point(A,w,I)},k.prototype.add=function(l){return this.isInfinity()?l:l.isInfinity()?this:this.curve.extended?this._extAdd(l):this._projAdd(l)},k.prototype.mul=function(l){return this._hasDoubles(l)?this.curve._fixedNafMul(this,l):this.curve._wnafMul(this,l)},k.prototype.mulAdd=function(l,s,n){return this.curve._wnafMulAdd(1,[this,s],[l,n],2,!1)},k.prototype.jmulAdd=function(l,s,n){return this.curve._wnafMulAdd(1,[this,s],[l,n],2,!0)},k.prototype.normalize=function(){if(this.zOne)return this;var l=this.z.redInvm();return this.x=this.x.redMul(l),this.y=this.y.redMul(l),this.t&&(this.t=this.t.redMul(l)),this.z=this.curve.one,this.zOne=!0,this},k.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},k.prototype.getX=function(){return this.normalize(),this.x.fromRed()},k.prototype.getY=function(){return this.normalize(),this.y.fromRed()},k.prototype.eq=function(l){return this===l||this.getX().cmp(l.getX())===0&&this.getY().cmp(l.getY())===0},k.prototype.eqXToP=function(l){var s=l.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(s)===0)return!0;for(var n=l.clone(),d=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),0<=n.cmp(this.curve.p))return!1;if(s.redIAdd(d),this.x.cmp(s)===0)return!0}},k.prototype.toP=k.prototype.normalize,k.prototype.mixedAdd=k.prototype.add},{"../utils":117,"./base":104,"bn.js":118,inherits:146}],106:[function(S,V,O){var g=O;g.base=S("./base"),g.short=S("./short"),g.mont=S("./mont"),g.edwards=S("./edwards")},{"./base":104,"./edwards":105,"./mont":107,"./short":108}],107:[function(S,V,O){function g(o){r.call(this,"mont",o),this.a=new E(o.a,16).toRed(this.red),this.b=new E(o.b,16).toRed(this.red),this.i4=new E(4).toRed(this.red).redInvm(),this.two=new E(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function k(o,a,l){r.BasePoint.call(this,o,"projective"),a===null&&l===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new E(a,16),this.z=new E(l,16),!this.x.red&&(this.x=this.x.toRed(this.curve.red)),!this.z.red&&(this.z=this.z.toRed(this.curve.red)))}var E=S("bn.js"),v=S("inherits"),r=S("./base"),m=S("../utils");v(g,r),V.exports=g,g.prototype.validate=function(a){var l=a.normalize().x,s=l.redSqr(),n=s.redMul(l).redAdd(s.redMul(this.a)).redAdd(l),d=n.redSqrt();return d.redSqr().cmp(n)===0},v(k,r.BasePoint),g.prototype.decodePoint=function(a,l){return this.point(m.toArray(a,l),1)},g.prototype.point=function(a,l){return new k(this,a,l)},g.prototype.pointFromJSON=function(a){return k.fromJSON(this,a)},k.prototype.precompute=function(){},k.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},k.fromJSON=function(a,l){return new k(a,l[0],l[1]||a.one)},k.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},k.prototype.isInfinity=function(){return this.z.cmpn(0)===0},k.prototype.dbl=function(){var a=this.x.redAdd(this.z),l=a.redSqr(),s=this.x.redSub(this.z),n=s.redSqr(),d=l.redSub(n),c=l.redMul(n),f=d.redMul(n.redAdd(this.curve.a24.redMul(d)));return this.curve.point(c,f)},k.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},k.prototype.diffAdd=function(a,l){var s=this.x.redAdd(this.z),n=this.x.redSub(this.z),d=a.x.redAdd(a.z),c=a.x.redSub(a.z),f=c.redMul(s),h=d.redMul(n),x=l.z.redMul(f.redAdd(h).redSqr()),R=l.x.redMul(f.redISub(h).redSqr());return this.curve.point(x,R)},k.prototype.mul=function(a){for(var l=a.clone(),s=this,n=this.curve.point(null,null),d=this,c=[];l.cmpn(0)!==0;l.iushrn(1))c.push(l.andln(1));for(var f=c.length-1;0<=f;f--)c[f]===0?(s=s.diffAdd(n,d),n=n.dbl()):(n=s.diffAdd(n,d),s=s.dbl());return n},k.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},k.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},k.prototype.eq=function(a){return this.getX().cmp(a.getX())===0},k.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},k.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":117,"./base":104,"bn.js":118,inherits:146}],108:[function(S,V,O){function g(l){o.call(this,"short",l),this.a=new r(l.a,16).toRed(this.red),this.b=new r(l.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(l),this._endoWnafT1=[,,,,],this._endoWnafT2=[,,,,]}function k(l,s,n,d){o.BasePoint.call(this,l,"affine"),s===null&&n===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new r(s,16),this.y=new r(n,16),d&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),!this.x.red&&(this.x=this.x.toRed(this.curve.red)),!this.y.red&&(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function E(l,s,n,d){o.BasePoint.call(this,l,"jacobian"),s===null&&n===null&&d===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new r(0)):(this.x=new r(s,16),this.y=new r(n,16),this.z=new r(d,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}var v=S("../utils"),r=S("bn.js"),m=S("inherits"),o=S("./base"),a=v.assert;m(g,o),V.exports=g,g.prototype._getEndomorphism=function(s){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var n,d;if(s.beta)n=new r(s.beta,16).toRed(this.red);else{var c=this._getEndoRoots(this.p);n=0>c[0].cmp(c[1])?c[0]:c[1],n=n.toRed(this.red)}if(s.lambda)d=new r(s.lambda,16);else{var f=this._getEndoRoots(this.n);this.g.mul(f[0]).x.cmp(this.g.x.redMul(n))===0?d=f[0]:(d=f[1],a(this.g.mul(d).x.cmp(this.g.x.redMul(n))===0))}var h;return h=s.basis?s.basis.map(function(x){return{a:new r(x.a,16),b:new r(x.b,16)}}):this._getEndoBasis(d),{beta:n,lambda:d,basis:h}}},g.prototype._getEndoRoots=function(s){var n=s===this.p?this.red:r.mont(s),d=new r(2).toRed(n).redInvm(),c=d.redNeg(),f=new r(3).toRed(n).redNeg().redSqrt().redMul(d),h=c.redAdd(f).fromRed(),x=c.redSub(f).fromRed();return[h,x]},g.prototype._getEndoBasis=function(s){for(var n=this.n.ushrn(F(this.n.bitLength()/2)),d=s,c=this.n.clone(),f=new r(1),h=new r(0),x=new r(0),R=new r(1),A=0,w,I,M,L,G,Y,ie,ae,J,B;d.cmpn(0)!==0;){B=c.div(d),ae=c.sub(B.mul(d)),J=x.sub(B.mul(f));var y=R.sub(B.mul(h));if(!M&&0>ae.cmp(n))w=ie.neg(),I=f,M=ae.neg(),L=J;else if(M&&++A==2)break;ie=ae,c=d,d=ae,x=f,f=J,R=h,h=y}G=ae.neg(),Y=J;var p=M.sqr().add(L.sqr()),T=G.sqr().add(Y.sqr());return 0<=T.cmp(p)&&(G=w,Y=I),M.negative&&(M=M.neg(),L=L.neg()),G.negative&&(G=G.neg(),Y=Y.neg()),[{a:M,b:L},{a:G,b:Y}]},g.prototype._endoSplit=function(s){var n=this.endo.basis,d=n[0],c=n[1],f=c.b.mul(s).divRound(this.n),h=d.b.neg().mul(s).divRound(this.n),x=f.mul(d.a),R=h.mul(c.a),A=f.mul(d.b),w=h.mul(c.b),I=s.sub(x).sub(R),M=A.add(w).neg();return{k1:I,k2:M}},g.prototype.pointFromX=function(s,n){s=new r(s,16),s.red||(s=s.toRed(this.red));var d=s.redSqr().redMul(s).redIAdd(s.redMul(this.a)).redIAdd(this.b),c=d.redSqrt();if(c.redSqr().redSub(d).cmp(this.zero)!==0)throw new Error("invalid point");var f=c.fromRed().isOdd();return(n&&!f||!n&&f)&&(c=c.redNeg()),this.point(s,c)},g.prototype.validate=function(s){if(s.inf)return!0;var n=s.x,d=s.y,c=this.a.redMul(n),f=n.redSqr().redMul(n).redIAdd(c).redIAdd(this.b);return d.redSqr().redISub(f).cmpn(0)===0},g.prototype._endoWnafMulAdd=function(s,n,d){for(var c=this._endoWnafT1,f=this._endoWnafT2,h=0;h<s.length;h++){var x=this._endoSplit(n[h]),R=s[h],A=R._getBeta();x.k1.negative&&(x.k1.ineg(),R=R.neg(!0)),x.k2.negative&&(x.k2.ineg(),A=A.neg(!0)),c[2*h]=R,c[2*h+1]=A,f[2*h]=x.k1,f[2*h+1]=x.k2}for(var w=this._wnafMulAdd(1,c,f,2*h,d),I=0;I<2*h;I++)c[I]=null,f[I]=null;return w},m(k,o.BasePoint),g.prototype.point=function(s,n,d){return new k(this,s,n,d)},g.prototype.pointFromJSON=function(s,n){return k.fromJSON(this,s,n)},k.prototype._getBeta=function(){if(this.curve.endo){var s=this.precomputed;if(s&&s.beta)return s.beta;var n=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(s){var d=this.curve,c=function(f){return d.point(f.x.redMul(d.endo.beta),f.y)};s.beta=n,n.precomputed={beta:null,naf:s.naf&&{wnd:s.naf.wnd,points:s.naf.points.map(c)},doubles:s.doubles&&{step:s.doubles.step,points:s.doubles.points.map(c)}}}return n}},k.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},k.fromJSON=function(s,n,d){function c(x){return s.point(x[0],x[1],d)}typeof n=="string"&&(n=JSON.parse(n));var f=s.point(n[0],n[1],d);if(!n[2])return f;var h=n[2];return f.precomputed={beta:null,doubles:h.doubles&&{step:h.doubles.step,points:[f].concat(h.doubles.points.map(c))},naf:h.naf&&{wnd:h.naf.wnd,points:[f].concat(h.naf.points.map(c))}},f},k.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},k.prototype.isInfinity=function(){return this.inf},k.prototype.add=function(s){if(this.inf)return s;if(s.inf)return this;if(this.eq(s))return this.dbl();if(this.neg().eq(s))return this.curve.point(null,null);if(this.x.cmp(s.x)===0)return this.curve.point(null,null);var n=this.y.redSub(s.y);n.cmpn(0)!==0&&(n=n.redMul(this.x.redSub(s.x).redInvm()));var d=n.redSqr().redISub(this.x).redISub(s.x),c=n.redMul(this.x.redSub(d)).redISub(this.y);return this.curve.point(d,c)},k.prototype.dbl=function(){if(this.inf)return this;var s=this.y.redAdd(this.y);if(s.cmpn(0)===0)return this.curve.point(null,null);var n=this.curve.a,d=this.x.redSqr(),c=s.redInvm(),f=d.redAdd(d).redIAdd(d).redIAdd(n).redMul(c),h=f.redSqr().redISub(this.x.redAdd(this.x)),x=f.redMul(this.x.redSub(h)).redISub(this.y);return this.curve.point(h,x)},k.prototype.getX=function(){return this.x.fromRed()},k.prototype.getY=function(){return this.y.fromRed()},k.prototype.mul=function(s){return s=new r(s,16),this.isInfinity()?this:this._hasDoubles(s)?this.curve._fixedNafMul(this,s):this.curve.endo?this.curve._endoWnafMulAdd([this],[s]):this.curve._wnafMul(this,s)},k.prototype.mulAdd=function(s,n,d){var c=[this,n],f=[s,d];return this.curve.endo?this.curve._endoWnafMulAdd(c,f):this.curve._wnafMulAdd(1,c,f,2)},k.prototype.jmulAdd=function(s,n,d){var c=[this,n],f=[s,d];return this.curve.endo?this.curve._endoWnafMulAdd(c,f,!0):this.curve._wnafMulAdd(1,c,f,2,!0)},k.prototype.eq=function(s){return this===s||this.inf===s.inf&&(this.inf||this.x.cmp(s.x)===0&&this.y.cmp(s.y)===0)},k.prototype.neg=function(s){if(this.inf)return this;var n=this.curve.point(this.x,this.y.redNeg());if(s&&this.precomputed){var d=this.precomputed,c=function(f){return f.neg()};n.precomputed={naf:d.naf&&{wnd:d.naf.wnd,points:d.naf.points.map(c)},doubles:d.doubles&&{step:d.doubles.step,points:d.doubles.points.map(c)}}}return n},k.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var s=this.curve.jpoint(this.x,this.y,this.curve.one);return s},m(E,o.BasePoint),g.prototype.jpoint=function(s,n,d){return new E(this,s,n,d)},E.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var s=this.z.redInvm(),n=s.redSqr(),d=this.x.redMul(n),c=this.y.redMul(n).redMul(s);return this.curve.point(d,c)},E.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},E.prototype.add=function(s){if(this.isInfinity())return s;if(s.isInfinity())return this;var n=s.z.redSqr(),d=this.z.redSqr(),c=this.x.redMul(n),f=s.x.redMul(d),h=this.y.redMul(n.redMul(s.z)),x=s.y.redMul(d.redMul(this.z)),R=c.redSub(f),A=h.redSub(x);if(R.cmpn(0)===0)return A.cmpn(0)===0?this.dbl():this.curve.jpoint(null,null,null);var w=R.redSqr(),I=w.redMul(R),M=c.redMul(w),L=A.redSqr().redIAdd(I).redISub(M).redISub(M),G=A.redMul(M.redISub(L)).redISub(h.redMul(I)),Y=this.z.redMul(s.z).redMul(R);return this.curve.jpoint(L,G,Y)},E.prototype.mixedAdd=function(s){if(this.isInfinity())return s.toJ();if(s.isInfinity())return this;var n=this.z.redSqr(),d=this.x,c=s.x.redMul(n),f=this.y,h=s.y.redMul(n).redMul(this.z),x=d.redSub(c),R=f.redSub(h);if(x.cmpn(0)===0)return R.cmpn(0)===0?this.dbl():this.curve.jpoint(null,null,null);var A=x.redSqr(),w=A.redMul(x),I=d.redMul(A),M=R.redSqr().redIAdd(w).redISub(I).redISub(I),L=R.redMul(I.redISub(M)).redISub(f.redMul(w)),G=this.z.redMul(x);return this.curve.jpoint(M,L,G)},E.prototype.dblp=function(s){if(s===0)return this;if(this.isInfinity())return this;if(!s)return this.dbl();var n;if(this.curve.zeroA||this.curve.threeA){var d=this;for(n=0;n<s;n++)d=d.dbl();return d}var c=this.curve.a,f=this.curve.tinv,h=this.x,x=this.y,R=this.z,A=R.redSqr().redSqr(),w=x.redAdd(x);for(n=0;n<s;n++){var I=h.redSqr(),M=w.redSqr(),L=M.redSqr(),G=I.redAdd(I).redIAdd(I).redIAdd(c.redMul(A)),Y=h.redMul(M),ie=G.redSqr().redISub(Y.redAdd(Y)),ae=Y.redISub(ie),J=G.redMul(ae);J=J.redIAdd(J).redISub(L);var B=w.redMul(R);n+1<s&&(A=A.redMul(L)),h=ie,R=B,w=J}return this.curve.jpoint(h,w.redMul(f),R)},E.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},E.prototype._zeroDbl=function(){var s,n,d;if(this.zOne){var c=this.x.redSqr(),f=this.y.redSqr(),h=f.redSqr(),x=this.x.redAdd(f).redSqr().redISub(c).redISub(h);x=x.redIAdd(x);var R=c.redAdd(c).redIAdd(c),A=R.redSqr().redISub(x).redISub(x),w=h.redIAdd(h);w=w.redIAdd(w),w=w.redIAdd(w),s=A,n=R.redMul(x.redISub(A)).redISub(w),d=this.y.redAdd(this.y)}else{var I=this.x.redSqr(),M=this.y.redSqr(),L=M.redSqr(),G=this.x.redAdd(M).redSqr().redISub(I).redISub(L);G=G.redIAdd(G);var Y=I.redAdd(I).redIAdd(I),ie=Y.redSqr(),ae=L.redIAdd(L);ae=ae.redIAdd(ae),ae=ae.redIAdd(ae),s=ie.redISub(G).redISub(G),n=Y.redMul(G.redISub(s)).redISub(ae),d=this.y.redMul(this.z),d=d.redIAdd(d)}return this.curve.jpoint(s,n,d)},E.prototype._threeDbl=function(){var s,n,d;if(this.zOne){var c=this.x.redSqr(),f=this.y.redSqr(),h=f.redSqr(),x=this.x.redAdd(f).redSqr().redISub(c).redISub(h);x=x.redIAdd(x);var R=c.redAdd(c).redIAdd(c).redIAdd(this.curve.a),A=R.redSqr().redISub(x).redISub(x);s=A;var w=h.redIAdd(h);w=w.redIAdd(w),w=w.redIAdd(w),n=R.redMul(x.redISub(A)).redISub(w),d=this.y.redAdd(this.y)}else{var I=this.z.redSqr(),M=this.y.redSqr(),L=this.x.redMul(M),G=this.x.redSub(I).redMul(this.x.redAdd(I));G=G.redAdd(G).redIAdd(G);var Y=L.redIAdd(L);Y=Y.redIAdd(Y);var ie=Y.redAdd(Y);s=G.redSqr().redISub(ie),d=this.y.redAdd(this.z).redSqr().redISub(M).redISub(I);var ae=M.redSqr();ae=ae.redIAdd(ae),ae=ae.redIAdd(ae),ae=ae.redIAdd(ae),n=G.redMul(Y.redISub(s)).redISub(ae)}return this.curve.jpoint(s,n,d)},E.prototype._dbl=function(){var s=this.curve.a,n=this.x,d=this.y,c=this.z,f=c.redSqr().redSqr(),h=n.redSqr(),x=d.redSqr(),R=h.redAdd(h).redIAdd(h).redIAdd(s.redMul(f)),A=n.redAdd(n);A=A.redIAdd(A);var w=A.redMul(x),I=R.redSqr().redISub(w.redAdd(w)),M=w.redISub(I),L=x.redSqr();L=L.redIAdd(L),L=L.redIAdd(L),L=L.redIAdd(L);var G=R.redMul(M).redISub(L),Y=d.redAdd(d).redMul(c);return this.curve.jpoint(I,G,Y)},E.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var s=this.x.redSqr(),n=this.y.redSqr(),d=this.z.redSqr(),c=n.redSqr(),f=s.redAdd(s).redIAdd(s),h=f.redSqr(),x=this.x.redAdd(n).redSqr().redISub(s).redISub(c);x=x.redIAdd(x),x=x.redAdd(x).redIAdd(x),x=x.redISub(h);var R=x.redSqr(),A=c.redIAdd(c);A=A.redIAdd(A),A=A.redIAdd(A),A=A.redIAdd(A);var w=f.redIAdd(x).redSqr().redISub(h).redISub(R).redISub(A),I=n.redMul(w);I=I.redIAdd(I),I=I.redIAdd(I);var M=this.x.redMul(R).redISub(I);M=M.redIAdd(M),M=M.redIAdd(M);var L=this.y.redMul(w.redMul(A.redISub(w)).redISub(x.redMul(R)));L=L.redIAdd(L),L=L.redIAdd(L),L=L.redIAdd(L);var G=this.z.redAdd(x).redSqr().redISub(d).redISub(R);return this.curve.jpoint(M,L,G)},E.prototype.mul=function(s,n){return s=new r(s,n),this.curve._wnafMul(this,s)},E.prototype.eq=function(s){if(s.type==="affine")return this.eq(s.toJ());if(this===s)return!0;var n=this.z.redSqr(),d=s.z.redSqr();if(this.x.redMul(d).redISub(s.x.redMul(n)).cmpn(0)!==0)return!1;var c=n.redMul(this.z),f=d.redMul(s.z);return this.y.redMul(f).redISub(s.y.redMul(c)).cmpn(0)===0},E.prototype.eqXToP=function(s){var n=this.z.redSqr(),d=s.toRed(this.curve.red).redMul(n);if(this.x.cmp(d)===0)return!0;for(var c=s.clone(),f=this.curve.redN.redMul(n);;){if(c.iadd(this.curve.n),0<=c.cmp(this.curve.p))return!1;if(d.redIAdd(f),this.x.cmp(d)===0)return!0}},E.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},E.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":117,"./base":104,"bn.js":118,inherits:146}],109:[function(S,V,O){function g(l){this.curve=l.type==="short"?new r.short(l):l.type==="edwards"?new r.edwards(l):new r.mont(l),this.g=this.curve.g,this.n=this.curve.n,this.hash=l.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function k(l,s){Object.defineProperty(E,l,{configurable:!0,enumerable:!0,get:function(){var n=new g(s);return Object.defineProperty(E,l,{configurable:!0,enumerable:!0,value:n}),n}})}var E=O,v=S("hash.js"),r=S("./curve"),m=S("./utils"),o=m.assert;E.PresetCurve=g,k("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:v.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),k("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:v.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),k("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:v.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),k("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:v.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),k("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:v.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),k("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:v.sha256,gRed:!1,g:["9"]}),k("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:v.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var a;try{a=S("./precomputed/secp256k1")}catch{a=void 0}k("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:v.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",a]})},{"./curve":106,"./precomputed/secp256k1":116,"./utils":117,"hash.js":130}],110:[function(S,V,O){function g(s){return this instanceof g?(typeof s=="string"&&(o(Object.prototype.hasOwnProperty.call(r,s),"Unknown curve "+s),s=r[s]),s instanceof r.PresetCurve&&(s={curve:s}),this.curve=s.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=s.curve.g,this.g.precompute(s.curve.n.bitLength()+1),void(this.hash=s.hash||s.curve.hash)):new g(s)}var k=S("bn.js"),E=S("hmac-drbg"),v=S("../utils"),r=S("../curves"),m=S("brorand"),o=v.assert,a=S("./key"),l=S("./signature");V.exports=g,g.prototype.keyPair=function(n){return new a(this,n)},g.prototype.keyFromPrivate=function(n,d){return a.fromPrivate(this,n,d)},g.prototype.keyFromPublic=function(n,d){return a.fromPublic(this,n,d)},g.prototype.genKeyPair=function(n){n||(n={});for(var d=new E({hash:this.hash,pers:n.pers,persEnc:n.persEnc||"utf8",entropy:n.entropy||m(this.hash.hmacStrength),entropyEnc:n.entropy&&n.entropyEnc||"utf8",nonce:this.n.toArray()}),c=this.n.byteLength(),f=this.n.sub(new k(2));;){var h=new k(d.generate(c));if(!(0<h.cmp(f)))return h.iaddn(1),this.keyFromPrivate(h)}},g.prototype._truncateToN=function(n,d){var c=8*n.byteLength()-this.n.bitLength();return 0<c&&(n=n.ushrn(c)),!d&&0<=n.cmp(this.n)?n.sub(this.n):n},g.prototype.sign=function(n,d,c,f){typeof c=="object"&&(f=c,c=null),f||(f={}),d=this.keyFromPrivate(d,c),n=this._truncateToN(new k(n,16));for(var h=this.n.byteLength(),x=d.getPrivate().toArray("be",h),R=n.toArray("be",h),A=new E({hash:this.hash,entropy:x,nonce:R,pers:f.pers,persEnc:f.persEnc||"utf8"}),w=this.n.sub(new k(1)),I=0,M;;I++)if(M=f.k?f.k(I):new k(A.generate(this.n.byteLength())),M=this._truncateToN(M,!0),!(0>=M.cmpn(1)||0<=M.cmp(w))){var L=this.g.mul(M);if(!L.isInfinity()){var G=L.getX(),Y=G.umod(this.n);if(Y.cmpn(0)!==0){var ie=M.invm(this.n).mul(Y.mul(d.getPrivate()).iadd(n));if(ie=ie.umod(this.n),ie.cmpn(0)!==0){var ae=(L.getY().isOdd()?1:0)|(G.cmp(Y)===0?0:2);return f.canonical&&0<ie.cmp(this.nh)&&(ie=this.n.sub(ie),ae^=1),new l({r:Y,s:ie,recoveryParam:ae})}}}}},g.prototype.verify=function(n,d,c,f){n=this._truncateToN(new k(n,16)),c=this.keyFromPublic(c,f),d=new l(d,"hex");var h=d.r,x=d.s;if(0>h.cmpn(1)||0<=h.cmp(this.n)||0>x.cmpn(1)||0<=x.cmp(this.n))return!1;var R=x.invm(this.n),A=R.mul(n).umod(this.n),w=R.mul(h).umod(this.n),I;return this.curve._maxwellTrick?(I=this.g.jmulAdd(A,c.getPublic(),w),!I.isInfinity()&&I.eqXToP(h)):(I=this.g.mulAdd(A,c.getPublic(),w),!I.isInfinity()&&I.getX().umod(this.n).cmp(h)===0)},g.prototype.recoverPubKey=function(s,n,d,c){o((3&d)===d,"The recovery param is more than two bits"),n=new l(n,c);var f=this.n,h=new k(s),x=n.r,R=n.s,A=1&d,w=d>>1;if(0<=x.cmp(this.curve.p.umod(this.curve.n))&&w)throw new Error("Unable to find sencond key candinate");x=w?this.curve.pointFromX(x.add(this.curve.n),A):this.curve.pointFromX(x,A);var I=n.r.invm(f),M=f.sub(h).mul(I).umod(f),L=R.mul(I).umod(f);return this.g.mulAdd(M,x,L)},g.prototype.getKeyRecoveryParam=function(s,n,d,c){if(n=new l(n,c),n.recoveryParam!==null)return n.recoveryParam;for(var f=0;4>f;f++){var h;try{h=this.recoverPubKey(s,n,f)}catch{continue}if(h.eq(d))return f}throw new Error("Unable to find valid recovery factor")}},{"../curves":109,"../utils":117,"./key":111,"./signature":112,"bn.js":118,brorand:40,"hmac-drbg":142}],111:[function(S,V,O){function g(r,m){this.ec=r,this.priv=null,this.pub=null,m.priv&&this._importPrivate(m.priv,m.privEnc),m.pub&&this._importPublic(m.pub,m.pubEnc)}var k=S("bn.js"),E=S("../utils"),v=E.assert;V.exports=g,g.fromPublic=function(m,o,a){return o instanceof g?o:new g(m,{pub:o,pubEnc:a})},g.fromPrivate=function(m,o,a){return o instanceof g?o:new g(m,{priv:o,privEnc:a})},g.prototype.validate=function(){var m=this.getPublic();return m.isInfinity()?{result:!1,reason:"Invalid public key"}:m.validate()?m.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},g.prototype.getPublic=function(m,o){return typeof m=="string"&&(o=m,m=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),o?this.pub.encode(o,m):this.pub},g.prototype.getPrivate=function(m){return m==="hex"?this.priv.toString(16,2):this.priv},g.prototype._importPrivate=function(m,o){this.priv=new k(m,o||16),this.priv=this.priv.umod(this.ec.curve.n)},g.prototype._importPublic=function(m,o){return m.x||m.y?(this.ec.curve.type==="mont"?v(m.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&v(m.x&&m.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(m.x,m.y))):void(this.pub=this.ec.curve.decodePoint(m,o))},g.prototype.derive=function(m){return m.validate()||v(m.validate(),"public point not validated"),m.mul(this.priv).getX()},g.prototype.sign=function(m,o,a){return this.ec.sign(m,this,o,a)},g.prototype.verify=function(m,o){return this.ec.verify(m,o,this)},g.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":117,"bn.js":118}],112:[function(S,V,O){function g(l,s){return l instanceof g?l:void(this._importDER(l,s)||(a(l.r&&l.s,"Signature without r or s"),this.r=new m(l.r,16),this.s=new m(l.s,16),this.recoveryParam=l.recoveryParam===void 0?null:l.recoveryParam))}function k(){this.place=0}function E(l,s){var n=l[s.place++];if(!(128&n))return n;var d=15&n;if(d==0||4<d)return!1;for(var c=0,f=0,h=s.place;f<d;f++,h++)c<<=8,c|=l[h],c>>>=0;return!(127>=c)&&(s.place=h,c)}function v(l){for(var s=0,n=l.length-1;!l[s]&&!(128&l[s+1])&&s<n;)s++;return s===0?l:l.slice(s)}function r(l,s){if(128>s)return void l.push(s);var n=1+(u(s)/i>>>3);for(l.push(128|n);--n;)l.push(255&s>>>(n<<3));l.push(s)}var m=S("bn.js"),o=S("../utils"),a=o.assert;V.exports=g,g.prototype._importDER=function(s,n){s=o.toArray(s,n);var d=new k;if(s[d.place++]!==48)return!1;var c=E(s,d);if(c===!1||c+d.place!==s.length||s[d.place++]!==2)return!1;var f=E(s,d);if(f===!1)return!1;var h=s.slice(d.place,f+d.place);if(d.place+=f,s[d.place++]!==2)return!1;var x=E(s,d);if(x===!1||s.length!==x+d.place)return!1;var R=s.slice(d.place,x+d.place);if(h[0]===0)if(128&h[1])h=h.slice(1);else return!1;if(R[0]===0)if(128&R[1])R=R.slice(1);else return!1;return this.r=new m(h),this.s=new m(R),this.recoveryParam=null,!0},g.prototype.toDER=function(s){var n=this.r.toArray(),d=this.s.toArray();for(128&n[0]&&(n=[0].concat(n)),128&d[0]&&(d=[0].concat(d)),n=v(n),d=v(d);!d[0]&&!(128&d[1]);)d=d.slice(1);var c=[2];r(c,n.length),c=c.concat(n),c.push(2),r(c,d.length);var f=c.concat(d),h=[48];return r(h,f.length),h=h.concat(f),o.encode(h,s)}},{"../utils":117,"bn.js":118}],113:[function(S,V,O){function g(l){return r(l==="ed25519","only tested with ed25519 so far"),this instanceof g?(l=E[l].curve,this.curve=l,this.g=l.g,this.g.precompute(l.n.bitLength()+1),this.pointClass=l.point().constructor,this.encodingLength=Ee(l.n.bitLength()/8),void(this.hash=k.sha512)):new g(l)}var k=S("hash.js"),E=S("../curves"),v=S("../utils"),r=v.assert,m=v.parseBytes,o=S("./key"),a=S("./signature");V.exports=g,g.prototype.sign=function(s,n){s=m(s);var d=this.keyFromSecret(n),c=this.hashInt(d.messagePrefix(),s),f=this.g.mul(c),h=this.encodePoint(f),x=this.hashInt(h,d.pubBytes(),s).mul(d.priv()),R=c.add(x).umod(this.curve.n);return this.makeSignature({R:f,S:R,Rencoded:h})},g.prototype.verify=function(s,n,d){s=m(s),n=this.makeSignature(n);var c=this.keyFromPublic(d),f=this.hashInt(n.Rencoded(),c.pubBytes(),s),h=this.g.mul(n.S()),x=n.R().add(c.pub().mul(f));return x.eq(h)},g.prototype.hashInt=function(){for(var s=this.hash(),n=0;n<arguments.length;n++)s.update(arguments[n]);return v.intFromLE(s.digest()).umod(this.curve.n)},g.prototype.keyFromPublic=function(s){return o.fromPublic(this,s)},g.prototype.keyFromSecret=function(s){return o.fromSecret(this,s)},g.prototype.makeSignature=function(s){return s instanceof a?s:new a(this,s)},g.prototype.encodePoint=function(s){var n=s.getY().toArray("le",this.encodingLength);return n[this.encodingLength-1]|=s.getX().isOdd()?128:0,n},g.prototype.decodePoint=function(s){s=v.parseBytes(s);var n=s.length-1,d=s.slice(0,n).concat(-129&s[n]),c=(128&s[n])!=0,f=v.intFromLE(d);return this.curve.pointFromY(f,c)},g.prototype.encodeInt=function(s){return s.toArray("le",this.encodingLength)},g.prototype.decodeInt=function(s){return v.intFromLE(s)},g.prototype.isPoint=function(s){return s instanceof this.pointClass}},{"../curves":109,"../utils":117,"./key":114,"./signature":115,"hash.js":130}],114:[function(S,V,O){function g(m,o){this.eddsa=m,this._secret=v(o.secret),m.isPoint(o.pub)?this._pub=o.pub:this._pubBytes=v(o.pub)}var k=S("../utils"),E=k.assert,v=k.parseBytes,r=k.cachedProperty;g.fromPublic=function(o,a){return a instanceof g?a:new g(o,{pub:a})},g.fromSecret=function(o,a){return a instanceof g?a:new g(o,{secret:a})},g.prototype.secret=function(){return this._secret},r(g,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),r(g,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),r(g,"privBytes",function(){var o=this.eddsa,a=this.hash(),l=o.encodingLength-1,s=a.slice(0,o.encodingLength);return s[0]&=248,s[l]&=127,s[l]|=64,s}),r(g,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),r(g,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),r(g,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),g.prototype.sign=function(o){return E(this._secret,"KeyPair can only verify"),this.eddsa.sign(o,this)},g.prototype.verify=function(o,a){return this.eddsa.verify(o,a,this)},g.prototype.getSecret=function(o){return E(this._secret,"KeyPair is public only"),k.encode(this.secret(),o)},g.prototype.getPublic=function(o){return k.encode(this.pubBytes(),o)},V.exports=g},{"../utils":117}],115:[function(S,V,O){function g(o,a){this.eddsa=o,typeof a!="object"&&(a=m(a)),Array.isArray(a)&&(a={R:a.slice(0,o.encodingLength),S:a.slice(o.encodingLength)}),v(a.R&&a.S,"Signature without R or S"),o.isPoint(a.R)&&(this._R=a.R),a.S instanceof k&&(this._S=a.S),this._Rencoded=Array.isArray(a.R)?a.R:a.Rencoded,this._Sencoded=Array.isArray(a.S)?a.S:a.Sencoded}var k=S("bn.js"),E=S("../utils"),v=E.assert,r=E.cachedProperty,m=E.parseBytes;r(g,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),r(g,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),r(g,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),r(g,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),g.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},g.prototype.toHex=function(){return E.encode(this.toBytes(),"hex").toUpperCase()},V.exports=g},{"../utils":117,"bn.js":118}],116:[function(S,V,O){V.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],117:[function(S,V,O){function g(s,n,d){var c=Array(ve(s.bitLength(),d)+1);c.fill(0);for(var f=1<<n+1,h=s.clone(),x=0;x<c.length;x++){var R=h.andln(f-1),A;h.isOdd()?(A=R>(f>>1)-1?(f>>1)-R:R,h.isubn(A)):A=0,c[x]=A,h.iushrn(1)}return c}function k(s,n){var d=[[],[]];s=s.clone(),n=n.clone();for(var c=0,f=0,h;0<s.cmpn(-c)||0<n.cmpn(-f);){var x=3&s.andln(3)+c,R=3&n.andln(3)+f;x==3&&(x=-1),R===3&&(R=-1);var A;(1&x)==0?A=0:(h=7&s.andln(7)+c,A=(h===3||h===5)&&R===2?-x:x),d[0].push(A);var w;(1&R)==0?w=0:(h=7&n.andln(7)+f,w=(h===3||h===5)&&x===2?-R:R),d[1].push(w),2*c===A+1&&(c=1-c),2*f===w+1&&(f=1-f),s.iushrn(1),n.iushrn(1)}return d}function E(s,n,d){var c="_"+n;s.prototype[n]=function(){return this[c]===void 0?this[c]=d.call(this):this[c]}}function v(s){return typeof s=="string"?m.toArray(s,"hex"):s}function r(s){return new o(s,"hex","le")}var m=O,o=S("bn.js"),a=S("minimalistic-assert"),l=S("minimalistic-crypto-utils");m.assert=a,m.toArray=l.toArray,m.zero2=l.zero2,m.toHex=l.toHex,m.encode=l.encode,m.getNAF=g,m.getJSF=k,m.cachedProperty=E,m.parseBytes=v,m.intFromLE=r},{"bn.js":118,"minimalistic-assert":167,"minimalistic-crypto-utils":168}],118:[function(S,V,O){arguments[4][22][0].apply(O,arguments)},{buffer:41,dup:22}],119:[function(S,V,O){V.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],120:[function(S,V,O){(function(g){(function(){var k=S("once"),E=function(){},v=function(o){return o.setHeader&&typeof o.abort=="function"},r=function(o){return o.stdio&&Array.isArray(o.stdio)&&o.stdio.length===3},m=function(o,a,l){if(typeof a=="function")return m(o,null,a);a||(a={}),l=k(l||E);var s=o._writableState,n=o._readableState,d=a.readable||a.readable!==!1&&o.readable,c=a.writable||a.writable!==!1&&o.writable,f=!1,h=function(){o.writable||x()},x=function(){c=!1,d||l.call(o)},R=function(){d=!1,c||l.call(o)},A=function(G){l.call(o,G?new Error("exited with error code: "+G):null)},w=function(G){l.call(o,G)},I=function(){g.nextTick(M)},M=function(){return f?void 0:d&&!(n&&n.ended&&!n.destroyed)?l.call(o,new Error("premature close")):c&&!(s&&s.ended&&!s.destroyed)?l.call(o,new Error("premature close")):void 0},L=function(){o.req.on("finish",x)};return v(o)?(o.on("complete",x),o.on("abort",I),o.req?L():o.on("request",L)):c&&!s&&(o.on("end",h),o.on("close",h)),r(o)&&o.on("exit",A),o.on("end",R),o.on("finish",x),a.error!==!1&&o.on("error",w),o.on("close",I),function(){f=!0,o.removeListener("complete",x),o.removeListener("abort",I),o.removeListener("request",L),o.req&&o.req.removeListener("finish",x),o.removeListener("end",h),o.removeListener("close",h),o.removeListener("finish",x),o.removeListener("exit",A),o.removeListener("end",R),o.removeListener("error",w),o.removeListener("close",I)}};V.exports=m}).call(this)}).call(this,S("_process"))},{_process:192,once:177}],121:[function(S,V,O){function g(E,v){for(const r in v)Object.defineProperty(E,r,{value:v[r],enumerable:!0,configurable:!0});return E}function k(E,v,r){if(!E||typeof E=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof v=="object"&&(r=v,v=""),v&&(r.code=v);try{return g(E,r)}catch{r.message=E.message,r.stack=E.stack;const o=function(){};return o.prototype=Object.create(Object.getPrototypeOf(E)),g(new o,r)}}V.exports=k},{}],122:[function(S,V,O){function g(M){console&&console.warn&&console.warn(M)}function k(){k.init.call(this)}function E(M){if(typeof M!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof M)}function v(M){return M._maxListeners===void 0?k.defaultMaxListeners:M._maxListeners}function r(M,L,G,Y){var ie,ae,J;if(E(G),ae=M._events,ae===void 0?(ae=M._events=Object.create(null),M._eventsCount=0):(ae.newListener!==void 0&&(M.emit("newListener",L,G.listener?G.listener:G),ae=M._events),J=ae[L]),J===void 0)J=ae[L]=G,++M._eventsCount;else if(typeof J=="function"?J=ae[L]=Y?[G,J]:[J,G]:Y?J.unshift(G):J.push(G),ie=v(M),0<ie&&J.length>ie&&!J.warned){J.warned=!0;var B=new Error("Possible EventEmitter memory leak detected. "+J.length+" "+(L+" listeners added. Use emitter.setMaxListeners() to increase limit"));B.name="MaxListenersExceededWarning",B.emitter=M,B.type=L,B.count=J.length,g(B)}return M}function m(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function o(M,L,G){var Y={fired:!1,wrapFn:void 0,target:M,type:L,listener:G},ie=m.bind(Y);return ie.listener=G,Y.wrapFn=ie,ie}function a(M,L,G){var Y=M._events;if(Y===void 0)return[];var ie=Y[L];return ie===void 0?[]:typeof ie=="function"?G?[ie.listener||ie]:[ie]:G?d(ie):s(ie,ie.length)}function l(M){var L=this._events;if(L!==void 0){var G=L[M];if(typeof G=="function")return 1;if(G!==void 0)return G.length}return 0}function s(M,L){for(var G=Array(L),Y=0;Y<L;++Y)G[Y]=M[Y];return G}function n(M,L){for(;L+1<M.length;L++)M[L]=M[L+1];M.pop()}function d(M){for(var L=Array(M.length),G=0;G<L.length;++G)L[G]=M[G].listener||M[G];return L}function c(M,L){return new Promise(function(G,Y){function ie(J){M.removeListener(L,ae),Y(J)}function ae(){typeof M.removeListener=="function"&&M.removeListener("error",ie),G([].slice.call(arguments))}h(M,L,ae,{once:!0}),L!=="error"&&f(M,ie,{once:!0})})}function f(M,L,G){typeof M.on=="function"&&h(M,"error",L,G)}function h(M,L,G,Y){if(typeof M.on=="function")Y.once?M.once(L,G):M.on(L,G);else if(typeof M.addEventListener=="function")M.addEventListener(L,function ie(ae){Y.once&&M.removeEventListener(L,ie),G(ae)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof M)}var x=typeof Reflect=="object"?Reflect:null,R=x&&typeof x.apply=="function"?x.apply:function(L,G,Y){return Function.prototype.apply.call(L,G,Y)},A;A=x&&typeof x.ownKeys=="function"?x.ownKeys:Object.getOwnPropertySymbols?function(L){return Object.getOwnPropertyNames(L).concat(Object.getOwnPropertySymbols(L))}:function(L){return Object.getOwnPropertyNames(L)};var w=Number.isNaN||function(L){return L!==L};V.exports=k,V.exports.once=c,k.EventEmitter=k,k.prototype._events=void 0,k.prototype._eventsCount=0,k.prototype._maxListeners=void 0;var I=10;Object.defineProperty(k,"defaultMaxListeners",{enumerable:!0,get:function(){return I},set:function(M){if(typeof M!="number"||0>M||w(M))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+M+".");I=M}}),k.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},k.prototype.setMaxListeners=function(L){if(typeof L!="number"||0>L||w(L))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+L+".");return this._maxListeners=L,this},k.prototype.getMaxListeners=function(){return v(this)},k.prototype.emit=function(L){for(var G=[],Y=1;Y<arguments.length;Y++)G.push(arguments[Y]);var ie=L==="error",ae=this._events;if(ae!==void 0)ie=ie&&ae.error===void 0;else if(!ie)return!1;if(ie){var J;if(0<G.length&&(J=G[0]),J instanceof Error)throw J;var B=new Error("Unhandled error."+(J?" ("+J.message+")":""));throw B.context=J,B}var y=ae[L];if(y===void 0)return!1;if(typeof y=="function")R(y,this,G);else for(var p=y.length,T=s(y,p),Y=0;Y<p;++Y)R(T[Y],this,G);return!0},k.prototype.addListener=function(L,G){return r(this,L,G,!1)},k.prototype.on=k.prototype.addListener,k.prototype.prependListener=function(L,G){return r(this,L,G,!0)},k.prototype.once=function(L,G){return E(G),this.on(L,o(this,L,G)),this},k.prototype.prependOnceListener=function(L,G){return E(G),this.prependListener(L,o(this,L,G)),this},k.prototype.removeListener=function(L,G){var Y,ie,ae,J,B;if(E(G),ie=this._events,ie===void 0)return this;if(Y=ie[L],Y===void 0)return this;if(Y===G||Y.listener===G)--this._eventsCount==0?this._events=Object.create(null):(delete ie[L],ie.removeListener&&this.emit("removeListener",L,Y.listener||G));else if(typeof Y!="function"){for(ae=-1,J=Y.length-1;0<=J;J--)if(Y[J]===G||Y[J].listener===G){B=Y[J].listener,ae=J;break}if(0>ae)return this;ae===0?Y.shift():n(Y,ae),Y.length===1&&(ie[L]=Y[0]),ie.removeListener!==void 0&&this.emit("removeListener",L,B||G)}return this},k.prototype.off=k.prototype.removeListener,k.prototype.removeAllListeners=function(L){var G,Y,ie;if(Y=this._events,Y===void 0)return this;if(Y.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):Y[L]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete Y[L]),this;if(arguments.length===0){var ae=Object.keys(Y),J;for(ie=0;ie<ae.length;++ie)J=ae[ie],J!=="removeListener"&&this.removeAllListeners(J);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(G=Y[L],typeof G=="function")this.removeListener(L,G);else if(G!==void 0)for(ie=G.length-1;0<=ie;ie--)this.removeListener(L,G[ie]);return this},k.prototype.listeners=function(L){return a(this,L,!0)},k.prototype.rawListeners=function(L){return a(this,L,!1)},k.listenerCount=function(M,L){return typeof M.listenerCount=="function"?M.listenerCount(L):l.call(M,L)},k.prototype.listenerCount=l,k.prototype.eventNames=function(){return 0<this._eventsCount?A(this._events):[]}},{}],123:[function(S,V,O){function g(v,r,m,o){if(k.isBuffer(v)||(v=k.from(v,"binary")),r&&(k.isBuffer(r)||(r=k.from(r,"binary")),r.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var a=m/8,l=k.alloc(a),s=k.alloc(o||0),n=k.alloc(0),d;0<a||0<o;){d=new E,d.update(n),d.update(v),r&&d.update(r),n=d.digest();var c=0;if(0<a){var f=l.length-a;c=ke(a,n.length),n.copy(l,f,0,c),a-=c}if(c<n.length&&0<o){var h=s.length-o,x=ke(o,n.length-c);n.copy(s,h,c,c+x),o-=x}}return n.fill(0),{key:l,iv:s}}var k=S("safe-buffer").Buffer,E=S("md5.js");V.exports=g},{"md5.js":158,"safe-buffer":234}],124:[function(S,V,O){function g(r,m={}){return k.from(r.stream(),m)}const{Readable:k,Writable:E}=S("streamx");S("fast-readable-async-iterator");class v extends E{constructor(m,o={}){super(Object.assign({decodeStrings:!1},o)),this.chunks=[];const a=o.mimeType;this.once("close",()=>{const l=a==null?new Blob(this.chunks):new Blob(this.chunks,{type:a});m(l),this.emit("blob",l)})}_write(m,o){this.chunks.push(m),o()}}V.exports={BlobWriteStream:v,BlobReadStream:g}},{"fast-readable-async-iterator":127,streamx:263}],125:[function(S,V,O){V.exports=class{constructor(k){if(!(0<k)||(k-1&k)!=0)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=Array(k),this.mask=k-1,this.top=0,this.btm=0,this.next=null}push(k){return this.buffer[this.top]===void 0&&(this.buffer[this.top]=k,this.top=this.top+1&this.mask,!0)}shift(){const k=this.buffer[this.btm];if(k!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,k}peek(){return this.buffer[this.btm]}isEmpty(){return this.buffer[this.btm]===void 0}}},{}],126:[function(S,V,O){const g=S("./fixed-size");V.exports=class{constructor(E){this.hwm=E||16,this.head=new g(this.hwm),this.tail=this.head}push(E){if(!this.head.push(E)){const v=this.head;this.head=v.next=new g(2*this.head.buffer.length),this.head.push(E)}}shift(){const E=this.tail.shift();if(E===void 0&&this.tail.next){const v=this.tail.next;return this.tail.next=null,this.tail=v,this.tail.shift()}return E}peek(){return this.tail.peek()}isEmpty(){return this.head.isEmpty()}}},{"./fixed-size":125}],127:[function(S,V,O){typeof ReadableStream>"u"||ReadableStream.prototype[Symbol.asyncIterator]||(ReadableStream.prototype[Symbol.asyncIterator]=function(){const g=this.getReader();let k=g.read();return{next(){const E=k;return k=g.read(),E},return(){k.then(()=>g.releaseLock())},throw(E){throw this.return(),E},[Symbol.asyncIterator](){return this}}})},{}],128:[function(S,V,O){V.exports=function(){if(typeof globalThis>"u")return null;var k={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return k.RTCPeerConnection?k:null}},{}],129:[function(S,V,O){function g(m,o){if(!E.isBuffer(m)&&typeof m!="string")throw new TypeError(o+" must be a string or a buffer")}function k(m){v.call(this),this._block=E.allocUnsafe(m),this._blockSize=m,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}var E=S("safe-buffer").Buffer,v=S("readable-stream").Transform,r=S("inherits");r(k,v),k.prototype._transform=function(m,o,a){var l=null;try{this.update(m,o)}catch(s){l=s}a(l)},k.prototype._flush=function(m){var o=null;try{this.push(this.digest())}catch(a){o=a}m(o)},k.prototype.update=function(m,o){if(g(m,"Data"),this._finalized)throw new Error("Digest already called");E.isBuffer(m)||(m=E.from(m,o));for(var a=this._block,l=0;this._blockOffset+m.length-l>=this._blockSize;){for(var s=this._blockOffset;s<this._blockSize;)a[s++]=m[l++];this._update(),this._blockOffset=0}for(;l<m.length;)a[this._blockOffset++]=m[l++];for(var n=0,d=8*m.length;0<d;++n)this._length[n]+=d,d=0|this._length[n]/4294967296,0<d&&(this._length[n]-=4294967296*d);return this},k.prototype._update=function(){throw new Error("_update is not implemented")},k.prototype.digest=function(m){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var o=this._digest();m!==void 0&&(o=o.toString(m)),this._block.fill(0),this._blockOffset=0;for(var a=0;4>a;++a)this._length[a]=0;return o},k.prototype._digest=function(){throw new Error("_digest is not implemented")},V.exports=k},{inherits:146,"readable-stream":227,"safe-buffer":234}],130:[function(S,V,O){var g=O;g.utils=S("./hash/utils"),g.common=S("./hash/common"),g.sha=S("./hash/sha"),g.ripemd=S("./hash/ripemd"),g.hmac=S("./hash/hmac"),g.sha1=g.sha.sha1,g.sha256=g.sha.sha256,g.sha224=g.sha.sha224,g.sha384=g.sha.sha384,g.sha512=g.sha.sha512,g.ripemd160=g.ripemd.ripemd160},{"./hash/common":131,"./hash/hmac":132,"./hash/ripemd":133,"./hash/sha":134,"./hash/utils":141}],131:[function(S,V,O){function g(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var k=S("./utils"),E=S("minimalistic-assert");O.BlockHash=g,g.prototype.update=function(r,m){if(r=k.toArray(r,m),this.pending=this.pending?this.pending.concat(r):r,this.pendingTotal+=r.length,this.pending.length>=this._delta8){r=this.pending;var o=r.length%this._delta8;this.pending=r.slice(r.length-o,r.length),this.pending.length===0&&(this.pending=null),r=k.join32(r,0,r.length-o,this.endian);for(var a=0;a<r.length;a+=this._delta32)this._update(r,a,a+this._delta32)}return this},g.prototype.digest=function(r){return this.update(this._pad()),E(this.pending===null),this._digest(r)},g.prototype._pad=function(){var r=this.pendingTotal,m=this._delta8,o=m-(r+this.padLength)%m,a=Array(o+this.padLength);a[0]=128;for(var l=1;l<o;l++)a[l]=0;if(r<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)a[l++]=0;a[l++]=0,a[l++]=0,a[l++]=0,a[l++]=0,a[l++]=255&r>>>24,a[l++]=255&r>>>16,a[l++]=255&r>>>8,a[l++]=255&r}else for(a[l++]=255&r,a[l++]=255&r>>>8,a[l++]=255&r>>>16,a[l++]=255&r>>>24,a[l++]=0,a[l++]=0,a[l++]=0,a[l++]=0,s=8;s<this.padLength;s++)a[l++]=0;return a}},{"./utils":141,"minimalistic-assert":167}],132:[function(S,V,O){function g(v,r,m){return this instanceof g?(this.Hash=v,this.blockSize=v.blockSize/8,this.outSize=v.outSize/8,this.inner=null,this.outer=null,void this._init(k.toArray(r,m))):new g(v,r,m)}var k=S("./utils"),E=S("minimalistic-assert");V.exports=g,g.prototype._init=function(r){r.length>this.blockSize&&(r=new this.Hash().update(r).digest()),E(r.length<=this.blockSize);for(var m=r.length;m<this.blockSize;m++)r.push(0);for(m=0;m<r.length;m++)r[m]^=54;for(this.inner=new this.Hash().update(r),m=0;m<r.length;m++)r[m]^=106;this.outer=new this.Hash().update(r)},g.prototype.update=function(r,m){return this.inner.update(r,m),this},g.prototype.digest=function(r){return this.outer.update(this.inner.digest()),this.outer.digest(r)}},{"./utils":141,"minimalistic-assert":167}],133:[function(S,V,O){function g(){return this instanceof g?(n.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],void(this.endian="little")):new g}function k(x,R,A,w){return 15>=x?R^A^w:31>=x?R&A|~R&w:47>=x?(R|~A)^w:63>=x?R&w|A&~w:R^(A|~w)}function E(x){return 15>=x?0:31>=x?1518500249:47>=x?1859775393:63>=x?2400959708:2840853838}function v(x){return 15>=x?1352829926:31>=x?1548603684:47>=x?1836072691:63>=x?2053994217:0}var r=S("./utils"),m=S("./common"),o=r.rotl32,a=r.sum32,l=r.sum32_3,s=r.sum32_4,n=m.BlockHash;r.inherits(g,n),O.ripemd160=g,g.blockSize=512,g.outSize=160,g.hmacStrength=192,g.padLength=64,g.prototype._update=function(R,A){for(var w=this.h[0],I=this.h[1],M=this.h[2],L=this.h[3],G=this.h[4],Y=w,ie=I,ae=M,J=L,B=G,y=0,p;80>y;y++)p=a(o(s(w,k(y,I,M,L),R[d[y]+A],E(y)),f[y]),G),w=G,G=L,L=o(M,10),M=I,I=p,p=a(o(s(Y,k(79-y,ie,ae,J),R[c[y]+A],v(y)),h[y]),B),Y=B,B=J,J=o(ae,10),ae=ie,ie=p;p=l(this.h[1],M,J),this.h[1]=l(this.h[2],L,B),this.h[2]=l(this.h[3],G,Y),this.h[3]=l(this.h[4],w,ie),this.h[4]=l(this.h[0],I,ae),this.h[0]=p},g.prototype._digest=function(R){return R==="hex"?r.toHex32(this.h,"little"):r.split32(this.h,"little")};var d=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],f=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],h=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":131,"./utils":141}],134:[function(S,V,O){O.sha1=S("./sha/1"),O.sha224=S("./sha/224"),O.sha256=S("./sha/256"),O.sha384=S("./sha/384"),O.sha512=S("./sha/512")},{"./sha/1":135,"./sha/224":136,"./sha/256":137,"./sha/384":138,"./sha/512":139}],135:[function(S,V,O){function g(){return this instanceof g?(l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],void(this.W=Array(80))):new g}var k=S("../utils"),E=S("../common"),v=S("./common"),r=k.rotl32,m=k.sum32,o=k.sum32_5,a=v.ft_1,l=E.BlockHash,s=[1518500249,1859775393,2400959708,3395469782];k.inherits(g,l),V.exports=g,g.blockSize=512,g.outSize=160,g.hmacStrength=80,g.padLength=64,g.prototype._update=function(d,c){for(var f=this.W,h=0;16>h;h++)f[h]=d[c+h];for(;h<f.length;h++)f[h]=r(f[h-3]^f[h-8]^f[h-14]^f[h-16],1);var x=this.h[0],R=this.h[1],A=this.h[2],w=this.h[3],I=this.h[4];for(h=0;h<f.length;h++){var M=~~(h/20),L=o(r(x,5),a(M,R,A,w),I,f[h],s[M]);I=w,w=A,A=r(R,30),R=x,x=L}this.h[0]=m(this.h[0],x),this.h[1]=m(this.h[1],R),this.h[2]=m(this.h[2],A),this.h[3]=m(this.h[3],w),this.h[4]=m(this.h[4],I)},g.prototype._digest=function(d){return d==="hex"?k.toHex32(this.h,"big"):k.split32(this.h,"big")}},{"../common":131,"../utils":141,"./common":140}],136:[function(S,V,O){function g(){return this instanceof g?(E.call(this),void(this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])):new g}var k=S("../utils"),E=S("./256");k.inherits(g,E),V.exports=g,g.blockSize=512,g.outSize=224,g.hmacStrength=192,g.padLength=64,g.prototype._digest=function(r){return r==="hex"?k.toHex32(this.h.slice(0,7),"big"):k.split32(this.h.slice(0,7),"big")}},{"../utils":141,"./256":137}],137:[function(S,V,O){function g(){return this instanceof g?(h.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=x,void(this.W=Array(64))):new g}var k=S("../utils"),E=S("../common"),v=S("./common"),r=S("minimalistic-assert"),m=k.sum32,o=k.sum32_4,a=k.sum32_5,l=v.ch32,s=v.maj32,n=v.s0_256,d=v.s1_256,c=v.g0_256,f=v.g1_256,h=E.BlockHash,x=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];k.inherits(g,h),V.exports=g,g.blockSize=512,g.outSize=256,g.hmacStrength=192,g.padLength=64,g.prototype._update=function(A,w){for(var I=this.W,M=0;16>M;M++)I[M]=A[w+M];for(;M<I.length;M++)I[M]=o(f(I[M-2]),I[M-7],c(I[M-15]),I[M-16]);var L=this.h[0],G=this.h[1],Y=this.h[2],ie=this.h[3],ae=this.h[4],J=this.h[5],B=this.h[6],y=this.h[7];for(r(this.k.length===I.length),M=0;M<I.length;M++){var p=a(y,d(ae),l(ae,J,B),this.k[M],I[M]),T=m(n(L),s(L,G,Y));y=B,B=J,J=ae,ae=m(ie,p),ie=Y,Y=G,G=L,L=m(p,T)}this.h[0]=m(this.h[0],L),this.h[1]=m(this.h[1],G),this.h[2]=m(this.h[2],Y),this.h[3]=m(this.h[3],ie),this.h[4]=m(this.h[4],ae),this.h[5]=m(this.h[5],J),this.h[6]=m(this.h[6],B),this.h[7]=m(this.h[7],y)},g.prototype._digest=function(A){return A==="hex"?k.toHex32(this.h,"big"):k.split32(this.h,"big")}},{"../common":131,"../utils":141,"./common":140,"minimalistic-assert":167}],138:[function(S,V,O){function g(){return this instanceof g?(E.call(this),void(this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428])):new g}var k=S("../utils"),E=S("./512");k.inherits(g,E),V.exports=g,g.blockSize=1024,g.outSize=384,g.hmacStrength=192,g.padLength=128,g.prototype._digest=function(r){return r==="hex"?k.toHex32(this.h.slice(0,12),"big"):k.split32(this.h.slice(0,12),"big")}},{"../utils":141,"./512":139}],139:[function(S,V,O){function g(){return this instanceof g?(B.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=y,void(this.W=Array(160))):new g}function k(p,T,D,j,U){var N=p&D^~p&U;return 0>N&&(N+=4294967296),N}function E(p,T,D,j,U,N){var W=T&j^~T&N;return 0>W&&(W+=4294967296),W}function v(p,T,D,j,U){var N=p&D^p&U^D&U;return 0>N&&(N+=4294967296),N}function r(p,T,D,j,U,N){var W=T&j^T&N^j&N;return 0>W&&(W+=4294967296),W}function m(p,T){var D=R(p,T,28),j=R(T,p,2),U=R(T,p,7),N=D^j^U;return 0>N&&(N+=4294967296),N}function o(p,T){var D=A(p,T,28),j=A(T,p,2),U=A(T,p,7),N=D^j^U;return 0>N&&(N+=4294967296),N}function a(p,T){var D=R(p,T,14),j=R(p,T,18),U=R(T,p,9),N=D^j^U;return 0>N&&(N+=4294967296),N}function l(p,T){var D=A(p,T,14),j=A(p,T,18),U=A(T,p,9),N=D^j^U;return 0>N&&(N+=4294967296),N}function s(p,T){var D=R(p,T,1),j=R(p,T,8),U=w(p,T,7),N=D^j^U;return 0>N&&(N+=4294967296),N}function n(p,T){var D=A(p,T,1),j=A(p,T,8),U=I(p,T,7),N=D^j^U;return 0>N&&(N+=4294967296),N}function d(p,T){var D=R(p,T,19),j=R(T,p,29),U=w(p,T,6),N=D^j^U;return 0>N&&(N+=4294967296),N}function c(p,T){var D=A(p,T,19),j=A(T,p,29),U=I(p,T,6),N=D^j^U;return 0>N&&(N+=4294967296),N}var f=S("../utils"),h=S("../common"),x=S("minimalistic-assert"),R=f.rotr64_hi,A=f.rotr64_lo,w=f.shr64_hi,I=f.shr64_lo,M=f.sum64,L=f.sum64_hi,G=f.sum64_lo,Y=f.sum64_4_hi,ie=f.sum64_4_lo,ae=f.sum64_5_hi,J=f.sum64_5_lo,B=h.BlockHash,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];f.inherits(g,B),V.exports=g,g.blockSize=1024,g.outSize=512,g.hmacStrength=192,g.padLength=128,g.prototype._prepareBlock=function(T,D){for(var j=this.W,U=0;32>U;U++)j[U]=T[D+U];for(;U<j.length;U+=2){var N=d(j[U-4],j[U-3]),W=c(j[U-4],j[U-3]),Q=j[U-14],ee=j[U-13],fe=s(j[U-30],j[U-29]),oe=n(j[U-30],j[U-29]),me=j[U-32],he=j[U-31];j[U]=Y(N,W,Q,ee,fe,oe,me,he),j[U+1]=ie(N,W,Q,ee,fe,oe,me,he)}},g.prototype._update=function(T,D){this._prepareBlock(T,D);var j=this.W,U=this.h[0],N=this.h[1],W=this.h[2],Q=this.h[3],ee=this.h[4],fe=this.h[5],oe=this.h[6],me=this.h[7],he=this.h[8],Se=this.h[9],Ae=this.h[10],pe=this.h[11],ge=this.h[12],xe=this.h[13],Ce=this.h[14],de=this.h[15];x(this.k.length===j.length);for(var q=0;q<j.length;q+=2){var P=Ce,H=de,Z=a(he,Se),se=l(he,Se),ue=k(he,Se,Ae,pe,ge),be=E(he,Se,Ae,pe,ge,xe),Re=this.k[q],Pe=this.k[q+1],Ie=j[q],Be=j[q+1],Oe=ae(P,H,Z,se,ue,be,Re,Pe,Ie,Be),Ne=J(P,H,Z,se,ue,be,Re,Pe,Ie,Be);P=m(U,N),H=o(U,N),Z=v(U,N,W,Q,ee),se=r(U,N,W,Q,ee,fe);var De=L(P,H,Z,se),We=G(P,H,Z,se);Ce=ge,de=xe,ge=Ae,xe=pe,Ae=he,pe=Se,he=L(oe,me,Oe,Ne),Se=G(me,me,Oe,Ne),oe=ee,me=fe,ee=W,fe=Q,W=U,Q=N,U=L(Oe,Ne,De,We),N=G(Oe,Ne,De,We)}M(this.h,0,U,N),M(this.h,2,W,Q),M(this.h,4,ee,fe),M(this.h,6,oe,me),M(this.h,8,he,Se),M(this.h,10,Ae,pe),M(this.h,12,ge,xe),M(this.h,14,Ce,de)},g.prototype._digest=function(T){return T==="hex"?f.toHex32(this.h,"big"):f.split32(this.h,"big")}},{"../common":131,"../utils":141,"minimalistic-assert":167}],140:[function(S,V,O){function g(n,d,c,f){return n===0?k(d,c,f):n===1||n===3?v(d,c,f):n===2?E(d,c,f):void 0}function k(n,d,c){return n&d^~n&c}function E(n,d,c){return n&d^n&c^d&c}function v(n,d,c){return n^d^c}function r(n){return s(n,2)^s(n,13)^s(n,22)}function m(n){return s(n,6)^s(n,11)^s(n,25)}function o(n){return s(n,7)^s(n,18)^n>>>3}function a(n){return s(n,17)^s(n,19)^n>>>10}var l=S("../utils"),s=l.rotr32;O.ft_1=g,O.ch32=k,O.maj32=E,O.p32=v,O.s0_256=r,O.s1_256=m,O.g0_256=o,O.g1_256=a},{"../utils":141}],141:[function(S,V,O){function g(y,p){return(64512&y.charCodeAt(p))==55296&&!(0>p||p+1>=y.length)&&(64512&y.charCodeAt(p+1))==56320}function k(y,p){if(Array.isArray(y))return y.slice();if(!y)return[];var T=[];if(typeof y!="string")for(j=0;j<y.length;j++)T[j]=0|y[j];else if(p){if(p==="hex")for(y=y.replace(/[^a-z0-9]+/ig,""),y.length%2!=0&&(y="0"+y),j=0;j<y.length;j+=2)T.push(parseInt(y[j]+y[j+1],16))}else for(var D=0,j=0,U;j<y.length;j++)U=y.charCodeAt(j),128>U?T[D++]=U:2048>U?(T[D++]=192|U>>6,T[D++]=128|63&U):g(y,j)?(U=65536+((1023&U)<<10)+(1023&y.charCodeAt(++j)),T[D++]=240|U>>18,T[D++]=128|63&U>>12,T[D++]=128|63&U>>6,T[D++]=128|63&U):(T[D++]=224|U>>12,T[D++]=128|63&U>>6,T[D++]=128|63&U);return T}function E(y){for(var p="",T=0;T<y.length;T++)p+=m(y[T].toString(16));return p}function v(y){var p=y>>>24|65280&y>>>8|16711680&y<<8|(255&y)<<24;return p>>>0}function r(y,p){for(var T="",D=0,j;D<y.length;D++)j=y[D],p==="little"&&(j=v(j)),T+=o(j.toString(16));return T}function m(y){return y.length===1?"0"+y:y}function o(y){return y.length===7?"0"+y:y.length===6?"00"+y:y.length===5?"000"+y:y.length===4?"0000"+y:y.length===3?"00000"+y:y.length===2?"000000"+y:y.length===1?"0000000"+y:y}function a(y,p,T,D){var j=T-p;J(j%4==0);for(var U=Array(j/4),N=0,W=p;N<U.length;N++,W+=4){var Q;Q=D==="big"?y[W]<<24|y[W+1]<<16|y[W+2]<<8|y[W+3]:y[W+3]<<24|y[W+2]<<16|y[W+1]<<8|y[W],U[N]=Q>>>0}return U}function l(y,p){for(var T=Array(4*y.length),D=0,j=0,U;D<y.length;D++,j+=4)U=y[D],p==="big"?(T[j]=U>>>24,T[j+1]=255&U>>>16,T[j+2]=255&U>>>8,T[j+3]=255&U):(T[j+3]=U>>>24,T[j+2]=255&U>>>16,T[j+1]=255&U>>>8,T[j]=255&U);return T}function s(y,p){return y>>>p|y<<32-p}function n(y,p){return y<<p|y>>>32-p}function d(y,p){return y+p>>>0}function c(y,p,T){return y+p+T>>>0}function f(y,p,T,D){return y+p+T+D>>>0}function h(y,p,T,D,j){return y+p+T+D+j>>>0}function x(y,p,T,D){var j=y[p],U=y[p+1],N=D+U>>>0,W=(N<D?1:0)+T+j;y[p]=W>>>0,y[p+1]=N}function R(y,p,T,D){var j=p+D>>>0,U=(j<p?1:0)+y+T;return U>>>0}function A(y,p,T,D){var j=p+D;return j>>>0}function w(y,p,T,D,j,U,N,W){var Q=0,ee=p;ee=ee+D>>>0,Q+=ee<p?1:0,ee=ee+U>>>0,Q+=ee<U?1:0,ee=ee+W>>>0,Q+=ee<W?1:0;var fe=y+T+j+N+Q;return fe>>>0}function I(y,p,T,D,j,U,N,W){var Q=p+D+U+W;return Q>>>0}function M(y,p,T,D,j,U,N,W,Q,ee){var fe=0,oe=p;oe=oe+D>>>0,fe+=oe<p?1:0,oe=oe+U>>>0,fe+=oe<U?1:0,oe=oe+W>>>0,fe+=oe<W?1:0,oe=oe+ee>>>0,fe+=oe<ee?1:0;var me=y+T+j+N+Q+fe;return me>>>0}function L(y,p,T,D,j,U,N,W,Q,ee){var fe=p+D+U+W+ee;return fe>>>0}function G(y,p,T){var D=p<<32-T|y>>>T;return D>>>0}function Y(y,p,T){var D=y<<32-T|p>>>T;return D>>>0}function ie(y,p,T){return y>>>T}function ae(y,p,T){var D=y<<32-T|p>>>T;return D>>>0}var J=S("minimalistic-assert"),B=S("inherits");O.inherits=B,O.toArray=k,O.toHex=E,O.htonl=v,O.toHex32=r,O.zero2=m,O.zero8=o,O.join32=a,O.split32=l,O.rotr32=s,O.rotl32=n,O.sum32=d,O.sum32_3=c,O.sum32_4=f,O.sum32_5=h,O.sum64=x,O.sum64_hi=R,O.sum64_lo=A,O.sum64_4_hi=w,O.sum64_4_lo=I,O.sum64_5_hi=M,O.sum64_5_lo=L,O.rotr64_hi=G,O.rotr64_lo=Y,O.shr64_hi=ie,O.shr64_lo=ae},{inherits:146,"minimalistic-assert":167}],142:[function(S,V,O){function g(r){if(!(this instanceof g))return new g(r);this.hash=r.hash,this.predResist=!!r.predResist,this.outLen=this.hash.outSize,this.minEntropy=r.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var m=E.toArray(r.entropy,r.entropyEnc||"hex"),o=E.toArray(r.nonce,r.nonceEnc||"hex"),a=E.toArray(r.pers,r.persEnc||"hex");v(m.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(m,o,a)}var k=S("hash.js"),E=S("minimalistic-crypto-utils"),v=S("minimalistic-assert");V.exports=g,g.prototype._init=function(m,o,a){var l=m.concat(o).concat(a);this.K=Array(this.outLen/8),this.V=Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(l),this._reseed=1,this.reseedInterval=281474976710656},g.prototype._hmac=function(){return new k.hmac(this.hash,this.K)},g.prototype._update=function(m){var o=this._hmac().update(this.V).update([0]);m&&(o=o.update(m)),this.K=o.digest(),this.V=this._hmac().update(this.V).digest(),m&&(this.K=this._hmac().update(this.V).update([1]).update(m).digest(),this.V=this._hmac().update(this.V).digest())},g.prototype.reseed=function(m,o,a,l){typeof o!="string"&&(l=a,a=o,o=null),m=E.toArray(m,o),a=E.toArray(a,l),v(m.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(m.concat(a||[])),this._reseed=1},g.prototype.generate=function(m,o,a,l){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof o!="string"&&(l=a,a=o,o=null),a&&(a=E.toArray(a,l||"hex"),this._update(a));for(var s=[];s.length<m;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var n=s.slice(0,m);return this._update(a),this._reseed++,E.encode(n,o)}},{"hash.js":130,"minimalistic-assert":167,"minimalistic-crypto-utils":168}],143:[function(S,V,O){function g(m){if(typeof m=="string"&&(m=E.parse(m)),m.protocol||(m.protocol="https:"),m.protocol!=="https:")throw new Error('Protocol "'+m.protocol+'" not supported. Expected "https:"');return m}var k=S("http"),E=S("url"),v=V.exports;for(var r in k)k.hasOwnProperty(r)&&(v[r]=k[r]);v.request=function(m,o){return m=g(m),k.request.call(this,m,o)},v.get=function(m,o){return m=g(m),k.get.call(this,m,o)}},{http:256,url:273}],144:[function(S,V,O){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */O.read=function(g,k,E,v,r){var m=8*r-v-1,o=(1<<m)-1,a=o>>1,l=-7,s=E?r-1:0,n=E?-1:1,d=g[k+s],c,f;for(s+=n,c=d&(1<<-l)-1,d>>=-l,l+=m;0<l;c=256*c+g[k+s],s+=n,l-=8);for(f=c&(1<<-l)-1,c>>=-l,l+=v;0<l;f=256*f+g[k+s],s+=n,l-=8);if(c===0)c=1-a;else{if(c===o)return f?NaN:(d?-1:1)*(1/0);f+=_(2,v),c-=a}return(d?-1:1)*f*_(2,c-v)},O.write=function(g,k,E,v,r,m){var o=8*m-r-1,a=(1<<o)-1,l=a>>1,s=r===23?_(2,-24)-_(2,-77):0,n=v?0:m-1,d=v?1:-1,c=0>k||k===0&&0>1/k?1:0,f,h,x;for(k=C(k),isNaN(k)||k===1/0?(h=isNaN(k)?1:0,f=a):(f=F(u(k)/i),1>k*(x=_(2,-f))&&(f--,x*=2),k+=1<=f+l?s/x:s*_(2,1-l),2<=k*x&&(f++,x/=2),f+l>=a?(h=0,f=a):1<=f+l?(h=(k*x-1)*_(2,r),f+=l):(h=k*_(2,l-1)*_(2,r),f=0));8<=r;g[E+n]=255&h,n+=d,h/=256,r-=8);for(f=f<<r|h,o+=r;0<o;g[E+n]=255&f,n+=d,f/=256,o-=8);g[E+n-d]|=128*c}},{}],145:[function(S,V,O){/*! immediate-chunk-store. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */const g=S("queue-microtask");class k{constructor(v){if(this.store=v,this.chunkLength=v.chunkLength,!this.store||!this.store.get||!this.store.put)throw new Error("First argument must be abstract-chunk-store compliant");this.mem=[]}put(v,r,m=()=>{}){this.mem[v]=r,this.store.put(v,r,o=>{this.mem[v]=null,m(o)})}get(v,r,m=()=>{}){if(typeof r=="function")return this.get(v,null,r);let o=this.mem[v];if(!o)return this.store.get(v,r,m);r||(r={});const a=r.offset||0,l=r.length||o.length-a;(a!==0||l!==o.length)&&(o=o.slice(a,l+a)),g(()=>m(null,o))}close(v=()=>{}){this.store.close(v)}destroy(v=()=>{}){this.store.destroy(v)}}V.exports=k},{"queue-microtask":205}],146:[function(S,V,O){V.exports=typeof Object.create=="function"?function(k,E){E&&(k.super_=E,k.prototype=Object.create(E.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}))}:function(k,E){if(E){k.super_=E;var v=function(){};v.prototype=E.prototype,k.prototype=new v,k.prototype.constructor=k}}},{}],147:[function(S,V,O){V.exports=function(k){for(var E=0,v=k.length;E<v;++E)if(k.charCodeAt(E)>127)return!1;return!0}},{}],148:[function(S,V,O){function g(E){return!!E.constructor&&typeof E.constructor.isBuffer=="function"&&E.constructor.isBuffer(E)}function k(E){return typeof E.readFloatLE=="function"&&typeof E.slice=="function"&&g(E.slice(0,0))}/*!
* Determine if an object is a Buffer
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/V.exports=function(E){return E!=null&&(g(E)||k(E)||!!E._isBuffer)}},{}],149:[function(S,V,O){V.exports=async function*(g){for(let k of g)typeof k=="function"&&(k=k()),yield*k}},{}],150:[function(S,V,O){const g=["^npm-debug\\.log$","^\\..*\\.swp$","^\\.DS_Store$","^\\.AppleDouble$","^\\.LSOverride$","^Icon\\r$","^\\._.*","^\\.Spotlight-V100(?:$|\\/)","\\.Trashes","^__MACOSX$","~$","^Thumbs\\.db$","^ehthumbs\\.db$","^Desktop\\.ini$","@eaDir$"];O.re=()=>{throw new Error("`junk.re` was renamed to `junk.regex`")},O.regex=new RegExp(g.join("|")),O.is=k=>O.regex.test(k),O.not=k=>!O.is(k),O.default=V.exports},{}],151:[function(S,V,O){O.RateLimiter=S("./lib/rateLimiter"),O.TokenBucket=S("./lib/tokenBucket")},{"./lib/rateLimiter":153,"./lib/tokenBucket":154}],152:[function(S,V,O){(function(g){(function(){var k=function(){if(typeof g<"u"&&g.hrtime){var E=g.hrtime(),v=E[0],r=E[1];return 1e3*v+F(r/1e6)}return new Date().getTime()};V.exports=k}).call(this)}).call(this,S("_process"))},{_process:192}],153:[function(S,V,O){(function(g){(function(){var k=S("./tokenBucket"),E=S("./clock"),v=function(r,m,o){this.tokenBucket=new k(r,r,m,null),this.tokenBucket.content=r,this.curIntervalStart=E(),this.tokensThisInterval=0,this.fireImmediately=o};v.prototype={tokenBucket:null,curIntervalStart:0,tokensThisInterval:0,fireImmediately:!1,removeTokens:function(r,m){function o(n,d){return n?m(n,null):(a.tokensThisInterval+=r,void m(null,d))}if(r>this.tokenBucket.bucketSize)return g.nextTick(m.bind(null,"Requested tokens "+r+" exceeds maximum tokens per interval "+this.tokenBucket.bucketSize,null)),!1;var a=this,l=E();if((l<this.curIntervalStart||l-this.curIntervalStart>=this.tokenBucket.interval)&&(this.curIntervalStart=l,this.tokensThisInterval=0),r>this.tokenBucket.tokensPerInterval-this.tokensThisInterval){if(this.fireImmediately)g.nextTick(m.bind(null,null,-1));else{var s=Ee(this.curIntervalStart+this.tokenBucket.interval-l);setTimeout(function(){a.tokenBucket.removeTokens(r,o)},s)}return!1}return this.tokenBucket.removeTokens(r,o)},tryRemoveTokens:function(r){if(r>this.tokenBucket.bucketSize)return!1;var m=E();if((m<this.curIntervalStart||m-this.curIntervalStart>=this.tokenBucket.interval)&&(this.curIntervalStart=m,this.tokensThisInterval=0),r>this.tokenBucket.tokensPerInterval-this.tokensThisInterval)return!1;var o=this.tokenBucket.tryRemoveTokens(r);return o&&(this.tokensThisInterval+=r),o},getTokensRemaining:function(){return this.tokenBucket.drip(),this.tokenBucket.content}},V.exports=v}).call(this)}).call(this,S("_process"))},{"./clock":152,"./tokenBucket":154,_process:192}],154:[function(S,V,O){(function(g){(function(){var k=function(E,v,r,m){if(this.bucketSize=E,this.tokensPerInterval=v,typeof r=="string")switch(r){case"sec":case"second":this.interval=1e3;break;case"min":case"minute":this.interval=6e4;break;case"hr":case"hour":this.interval=36e5;break;case"day":this.interval=864e5;break;default:throw new Error("Invaid interval "+r)}else this.interval=r;this.parentBucket=m,this.content=0,this.lastDrip=+new Date};k.prototype={bucketSize:1,tokensPerInterval:1,interval:1e3,parentBucket:null,content:0,lastDrip:0,removeTokens:function(E,v){function r(){var o=Ee((E-m.content)*(m.interval/m.tokensPerInterval));return setTimeout(function(){m.removeTokens(E,v)},o),!1}var m=this;return this.bucketSize?E>this.bucketSize?(g.nextTick(v.bind(null,"Requested tokens "+E+" exceeds bucket size "+this.bucketSize,null)),!1):(this.drip(),E>this.content?r():this.parentBucket?this.parentBucket.removeTokens(E,function(o,a){return o?v(o,null):E>m.content?r():(m.content-=E,void v(null,ke(a,m.content)))}):(this.content-=E,g.nextTick(v.bind(null,null,this.content)),!0)):(g.nextTick(v.bind(null,null,E,Number.POSITIVE_INFINITY)),!0)},tryRemoveTokens:function(E){return!this.bucketSize||!(E>this.bucketSize)&&(this.drip(),!(E>this.content))&&(!this.parentBucket||this.parentBucket.tryRemoveTokens(E))&&(this.content-=E,!0)},drip:function(){if(!this.tokensPerInterval)return void(this.content=this.bucketSize);var E=+new Date,v=ve(E-this.lastDrip,0);this.lastDrip=E;var r=v*(this.tokensPerInterval/this.interval);this.content=ke(this.content+r,this.bucketSize)}},V.exports=k}).call(this)}).call(this,S("_process"))},{_process:192}],155:[function(S,V,O){function g(v){return this instanceof g?(typeof v=="number"&&(v={max:v}),!v&&(v={}),k.EventEmitter.call(this),this.cache={},this.head=this.tail=null,this.length=0,this.max=v.max||1e3,void(this.maxAge=v.maxAge||0)):new g(v)}var k=S("events"),E=S("inherits");V.exports=g,E(g,k.EventEmitter),Object.defineProperty(g.prototype,"keys",{get:function(){return Object.keys(this.cache)}}),g.prototype.clear=function(){this.cache={},this.head=this.tail=null,this.length=0},g.prototype.remove=function(v){if(typeof v!="string"&&(v=""+v),!!this.cache.hasOwnProperty(v)){var r=this.cache[v];return delete this.cache[v],this._unlink(v,r.prev,r.next),r.value}},g.prototype._unlink=function(v,r,m){this.length--,this.length===0?this.head=this.tail=null:this.head===v?(this.head=r,this.cache[this.head].next=null):this.tail===v?(this.tail=m,this.cache[this.tail].prev=null):(this.cache[r].next=m,this.cache[m].prev=r)},g.prototype.peek=function(v){if(this.cache.hasOwnProperty(v)){var r=this.cache[v];return this._checkAge(v,r)?r.value:void 0}},g.prototype.set=function(v,r){typeof v!="string"&&(v=""+v);var m;if(this.cache.hasOwnProperty(v)){if(m=this.cache[v],m.value=r,this.maxAge&&(m.modified=Date.now()),v===this.head)return r;this._unlink(v,m.prev,m.next)}else m={value:r,modified:0,next:null,prev:null},this.maxAge&&(m.modified=Date.now()),this.cache[v]=m,this.length===this.max&&this.evict();return this.length++,m.next=null,m.prev=this.head,this.head&&(this.cache[this.head].next=v),this.head=v,this.tail||(this.tail=v),r},g.prototype._checkAge=function(v,r){return!(this.maxAge&&Date.now()-r.modified>this.maxAge)||(this.remove(v),this.emit("evict",{key:v,value:r.value}),!1)},g.prototype.get=function(v){if(typeof v!="string"&&(v=""+v),!!this.cache.hasOwnProperty(v)){var r=this.cache[v];if(this._checkAge(v,r))return this.head!==v&&(v===this.tail?(this.tail=r.next,this.cache[this.tail].prev=null):this.cache[r.prev].next=r.next,this.cache[r.next].prev=r.prev,this.cache[this.head].next=v,r.prev=this.head,r.next=null,this.head=v),r.value}},g.prototype.evict=function(){if(this.tail){var v=this.tail,r=this.remove(this.tail);this.emit("evict",{key:v,value:r})}}},{events:122,inherits:146}],156:[function(S,V,O){(function(g){(function(){/*! lt_donthave. MIT License. WebTorrent LLC <https://webtorrent.io/opensource> */const k=S("unordered-array-remove"),{EventEmitter:E}=S("events"),v=S("debug")("lt_donthave");V.exports=()=>{class r extends E{constructor(o){super(),this._peerSupports=!1,this._wire=o}onExtendedHandshake(){this._peerSupports=!0}onMessage(o){let a;try{a=o.readUInt32BE()}catch{return}this._wire.peerPieces.get(a)&&(v("got donthave %d",a),this._wire.peerPieces.set(a,!1),this.emit("donthave",a),this._failRequests(a))}donthave(o){if(this._peerSupports){v("donthave %d",o);const a=g.alloc(4);a.writeUInt32BE(o),this._wire.extended("lt_donthave",a)}}_failRequests(o){const a=this._wire.requests;for(let l=0;l<a.length;l++){const s=a[l];s.piece===o&&(k(a,l),l-=1,this._wire._callback(s,new Error("peer sent donthave"),null))}}}return r.prototype.name="lt_donthave",r}}).call(this)}).call(this,S("buffer").Buffer)},{buffer:75,debug:90,events:122,"unordered-array-remove":272}],157:[function(S,V,O){(function(g){(function(){function k(m){const o={},a=m.split("magnet:?")[1];(a&&0<=a.length?a.split("&"):[]).forEach(n=>{const d=n.split("=");if(d.length!==2)return;const c=d[0];let f=d[1];c==="dn"&&(f=decodeURIComponent(f).replace(/\+/g," ")),(c==="tr"||c==="xs"||c==="as"||c==="ws")&&(f=decodeURIComponent(f)),c==="kt"&&(f=decodeURIComponent(f).split("+")),c==="ix"&&(f=+f),c==="so"&&(f=r.parse(decodeURIComponent(f).split(","))),o[c]?(!Array.isArray(o[c])&&(o[c]=[o[c]]),o[c].push(f)):o[c]=f});let s;return o.xt&&(Array.isArray(o.xt)?o.xt:[o.xt]).forEach(d=>{if(s=d.match(/^urn:btih:(.{40})/))o.infoHash=s[1].toLowerCase();else if(s=d.match(/^urn:btih:(.{32})/)){const c=v.decode(s[1]);o.infoHash=g.from(c,"binary").toString("hex")}else(s=d.match(/^urn:btmh:1220(.{64})/))&&(o.infoHashV2=s[1].toLowerCase())}),o.xs&&(Array.isArray(o.xs)?o.xs:[o.xs]).forEach(d=>{(s=d.match(/^urn:btpk:(.{64})/))&&(o.publicKey=s[1].toLowerCase())}),o.infoHash&&(o.infoHashBuffer=g.from(o.infoHash,"hex")),o.infoHashV2&&(o.infoHashV2Buffer=g.from(o.infoHashV2,"hex")),o.publicKey&&(o.publicKeyBuffer=g.from(o.publicKey,"hex")),o.dn&&(o.name=o.dn),o.kt&&(o.keywords=o.kt),o.announce=[],(typeof o.tr=="string"||Array.isArray(o.tr))&&(o.announce=o.announce.concat(o.tr)),o.urlList=[],(typeof o.as=="string"||Array.isArray(o.as))&&(o.urlList=o.urlList.concat(o.as)),(typeof o.ws=="string"||Array.isArray(o.ws))&&(o.urlList=o.urlList.concat(o.ws)),o.peerAddresses=[],(typeof o["x.pe"]=="string"||Array.isArray(o["x.pe"]))&&(o.peerAddresses=o.peerAddresses.concat(o["x.pe"])),o.announce=Array.from(new Set(o.announce)),o.urlList=Array.from(new Set(o.urlList)),o.peerAddresses=Array.from(new Set(o.peerAddresses)),o}function E(m){m=Object.assign({},m);let o=new Set;m.xt&&typeof m.xt=="string"&&o.add(m.xt),m.xt&&Array.isArray(m.xt)&&(o=new Set(m.xt)),m.infoHashBuffer&&o.add(`urn:btih:${m.infoHashBuffer.toString("hex")}`),m.infoHash&&o.add(`urn:btih:${m.infoHash}`),m.infoHashV2Buffer&&o.add(m.xt=`urn:btmh:1220${m.infoHashV2Buffer.toString("hex")}`),m.infoHashV2&&o.add(`urn:btmh:1220${m.infoHashV2}`);const a=Array.from(o);a.length===1&&(m.xt=a[0]),1<a.length&&(m.xt=a),m.publicKeyBuffer&&(m.xs=`urn:btpk:${m.publicKeyBuffer.toString("hex")}`),m.publicKey&&(m.xs=`urn:btpk:${m.publicKey}`),m.name&&(m.dn=m.name),m.keywords&&(m.kt=m.keywords),m.announce&&(m.tr=m.announce),m.urlList&&(m.ws=m.urlList,delete m.as),m.peerAddresses&&(m["x.pe"]=m.peerAddresses);let l="magnet:?";return Object.keys(m).filter(s=>s.length===2||s==="x.pe").forEach((s,n)=>{const d=Array.isArray(m[s])?m[s]:[m[s]];d.forEach((c,f)=>{(0<n||0<f)&&(s!=="kt"&&s!=="so"||f===0)&&(l+="&"),s==="dn"&&(c=encodeURIComponent(c).replace(/%20/g,"+")),(s==="tr"||s==="as"||s==="ws")&&(c=encodeURIComponent(c)),s!=="xs"||c.startsWith("urn:btpk:")||(c=encodeURIComponent(c)),s==="kt"&&(c=encodeURIComponent(c)),s==="so"||(s==="kt"&&0<f?l+=`+${c}`:l+=`${s}=${c}`)}),s==="so"&&(l+=`${s}=${r.compose(d)}`)}),l}V.exports=k,V.exports.decode=k,V.exports.encode=E;const v=S("thirty-two"),r=S("bep53-range")}).call(this)}).call(this,S("buffer").Buffer)},{"bep53-range":29,buffer:75,"thirty-two":265}],158:[function(S,V,O){function g(){a.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function k(n,d){return n<<d|n>>>32-d}function E(n,d,c,f,h,x,R){return 0|k(0|n+(d&c|~d&f)+h+x,R)+d}function v(n,d,c,f,h,x,R){return 0|k(0|n+(d&f|c&~f)+h+x,R)+d}function r(n,d,c,f,h,x,R){return 0|k(0|n+(d^c^f)+h+x,R)+d}function m(n,d,c,f,h,x,R){return 0|k(0|n+(c^(d|~f))+h+x,R)+d}var o=S("inherits"),a=S("hash-base"),l=S("safe-buffer").Buffer,s=Array(16);o(g,a),g.prototype._update=function(){for(var n=s,d=0;16>d;++d)n[d]=this._block.readInt32LE(4*d);var c=this._a,f=this._b,h=this._c,x=this._d;c=E(c,f,h,x,n[0],3614090360,7),x=E(x,c,f,h,n[1],3905402710,12),h=E(h,x,c,f,n[2],606105819,17),f=E(f,h,x,c,n[3],3250441966,22),c=E(c,f,h,x,n[4],4118548399,7),x=E(x,c,f,h,n[5],1200080426,12),h=E(h,x,c,f,n[6],2821735955,17),f=E(f,h,x,c,n[7],4249261313,22),c=E(c,f,h,x,n[8],1770035416,7),x=E(x,c,f,h,n[9],2336552879,12),h=E(h,x,c,f,n[10],4294925233,17),f=E(f,h,x,c,n[11],2304563134,22),c=E(c,f,h,x,n[12],1804603682,7),x=E(x,c,f,h,n[13],4254626195,12),h=E(h,x,c,f,n[14],2792965006,17),f=E(f,h,x,c,n[15],1236535329,22),c=v(c,f,h,x,n[1],4129170786,5),x=v(x,c,f,h,n[6],3225465664,9),h=v(h,x,c,f,n[11],643717713,14),f=v(f,h,x,c,n[0],3921069994,20),c=v(c,f,h,x,n[5],3593408605,5),x=v(x,c,f,h,n[10],38016083,9),h=v(h,x,c,f,n[15],3634488961,14),f=v(f,h,x,c,n[4],3889429448,20),c=v(c,f,h,x,n[9],568446438,5),x=v(x,c,f,h,n[14],3275163606,9),h=v(h,x,c,f,n[3],4107603335,14),f=v(f,h,x,c,n[8],1163531501,20),c=v(c,f,h,x,n[13],2850285829,5),x=v(x,c,f,h,n[2],4243563512,9),h=v(h,x,c,f,n[7],1735328473,14),f=v(f,h,x,c,n[12],2368359562,20),c=r(c,f,h,x,n[5],4294588738,4),x=r(x,c,f,h,n[8],2272392833,11),h=r(h,x,c,f,n[11],1839030562,16),f=r(f,h,x,c,n[14],4259657740,23),c=r(c,f,h,x,n[1],2763975236,4),x=r(x,c,f,h,n[4],1272893353,11),h=r(h,x,c,f,n[7],4139469664,16),f=r(f,h,x,c,n[10],3200236656,23),c=r(c,f,h,x,n[13],681279174,4),x=r(x,c,f,h,n[0],3936430074,11),h=r(h,x,c,f,n[3],3572445317,16),f=r(f,h,x,c,n[6],76029189,23),c=r(c,f,h,x,n[9],3654602809,4),x=r(x,c,f,h,n[12],3873151461,11),h=r(h,x,c,f,n[15],530742520,16),f=r(f,h,x,c,n[2],3299628645,23),c=m(c,f,h,x,n[0],4096336452,6),x=m(x,c,f,h,n[7],1126891415,10),h=m(h,x,c,f,n[14],2878612391,15),f=m(f,h,x,c,n[5],4237533241,21),c=m(c,f,h,x,n[12],1700485571,6),x=m(x,c,f,h,n[3],2399980690,10),h=m(h,x,c,f,n[10],4293915773,15),f=m(f,h,x,c,n[1],2240044497,21),c=m(c,f,h,x,n[8],1873313359,6),x=m(x,c,f,h,n[15],4264355552,10),h=m(h,x,c,f,n[6],2734768916,15),f=m(f,h,x,c,n[13],1309151649,21),c=m(c,f,h,x,n[4],4149444226,6),x=m(x,c,f,h,n[11],3174756917,10),h=m(h,x,c,f,n[2],718787259,15),f=m(f,h,x,c,n[9],3951481745,21),this._a=0|this._a+c,this._b=0|this._b+f,this._c=0|this._c+h,this._d=0|this._d+x},g.prototype._digest=function(){this._block[this._blockOffset++]=128,56<this._blockOffset&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var n=l.allocUnsafe(16);return n.writeInt32LE(this._a,0),n.writeInt32LE(this._b,4),n.writeInt32LE(this._c,8),n.writeInt32LE(this._d,12),n},V.exports=g},{"hash-base":129,inherits:146,"safe-buffer":234}],159:[function(S,V,O){function g(a,l){var s=this;if(!(s instanceof g))return new g(a,l);if(!o)throw new Error("web browser lacks MediaSource support");l||(l={}),s._debug=l.debug,s._bufferDuration=l.bufferDuration||60,s._elem=a,s._mediaSource=new o,s._streams=[],s.detailedError=null,s._errorHandler=function(){s._elem.removeEventListener("error",s._errorHandler);var n=s._streams.slice();n.forEach(function(d){d.destroy(s._elem.error)})},s._elem.addEventListener("error",s._errorHandler),s._elem.src=window.URL.createObjectURL(s._mediaSource)}function k(a,l){var s=this;if(r.Writable.call(s),s._wrapper=a,s._elem=a._elem,s._mediaSource=a._mediaSource,s._allStreams=a._streams,s._allStreams.push(s),s._bufferDuration=a._bufferDuration,s._sourceBuffer=null,s._debugBuffers=[],s._openHandler=function(){s._onSourceOpen()},s._flowHandler=function(){s._flow()},s._errorHandler=function(n){s.destroyed||s.emit("error",n)},typeof l=="string")s._type=l,s._mediaSource.readyState==="open"?s._createSourceBuffer():s._mediaSource.addEventListener("sourceopen",s._openHandler);else if(l._sourceBuffer===null)l.destroy(),s._type=l._type,s._mediaSource.addEventListener("sourceopen",s._openHandler);else if(l._sourceBuffer)l.destroy(),s._type=l._type,s._sourceBuffer=l._sourceBuffer,s._debugBuffers=l._debugBuffers,s._sourceBuffer.addEventListener("updateend",s._flowHandler),s._sourceBuffer.addEventListener("error",s._errorHandler);else throw new Error("The argument to MediaElementWrapper.createWriteStream must be a string or a previous stream returned from that function");s._elem.addEventListener("timeupdate",s._flowHandler),s.on("error",function(n){s._wrapper.error(n)}),s.on("finish",function(){if(!s.destroyed&&(s._finished=!0,s._allStreams.every(function(n){return n._finished}))){s._wrapper._dumpDebugData();try{s._mediaSource.endOfStream()}catch{}}})}function E(a,l){var s=document.createElement("a");s.href=window.URL.createObjectURL(new window.Blob(a)),s.download=l,s.click()}V.exports=g;var v=S("inherits"),r=S("readable-stream"),m=S("to-arraybuffer"),o=typeof window<"u"&&window.MediaSource;g.prototype.createWriteStream=function(a){var l=this;return new k(l,a)},g.prototype.error=function(a){var l=this;l.detailedError||(l.detailedError=a),l._dumpDebugData();try{l._mediaSource.endOfStream("decode")}catch{}try{window.URL.revokeObjectURL(l._elem.src)}catch{}},g.prototype._dumpDebugData=function(){var a=this;a._debug&&(a._debug=!1,a._streams.forEach(function(l,s){E(l._debugBuffers,"mediasource-stream-"+s)}))},v(k,r.Writable),k.prototype._onSourceOpen=function(){var a=this;a.destroyed||(a._mediaSource.removeEventListener("sourceopen",a._openHandler),a._createSourceBuffer())},k.prototype.destroy=function(a){var l=this;l.destroyed||(l.destroyed=!0,l._allStreams.splice(l._allStreams.indexOf(l),1),l._mediaSource.removeEventListener("sourceopen",l._openHandler),l._elem.removeEventListener("timeupdate",l._flowHandler),l._sourceBuffer&&(l._sourceBuffer.removeEventListener("updateend",l._flowHandler),l._sourceBuffer.removeEventListener("error",l._errorHandler),l._mediaSource.readyState==="open"&&l._sourceBuffer.abort()),a&&l.emit("error",a),l.emit("close"))},k.prototype._createSourceBuffer=function(){var a=this;if(!a.destroyed){if(!o.isTypeSupported(a._type))a.destroy(new Error("The provided type is not supported"));else if(a._sourceBuffer=a._mediaSource.addSourceBuffer(a._type),a._sourceBuffer.addEventListener("updateend",a._flowHandler),a._sourceBuffer.addEventListener("error",a._errorHandler),a._cb){var l=a._cb;a._cb=null,l()}}},k.prototype._write=function(a,l,s){var n=this;if(!n.destroyed){if(!n._sourceBuffer)return void(n._cb=function(c){return c?s(c):void n._write(a,l,s)});if(n._sourceBuffer.updating)return s(new Error("Cannot append buffer while source buffer updating"));var d=m(a);n._wrapper._debug&&n._debugBuffers.push(d);try{n._sourceBuffer.appendBuffer(d)}catch(c){return void n.destroy(c)}n._cb=s}},k.prototype._flow=function(){var a=this;if(!(a.destroyed||!a._sourceBuffer||a._sourceBuffer.updating)&&!(a._mediaSource.readyState==="open"&&a._getBufferDuration()>a._bufferDuration)&&a._cb){var l=a._cb;a._cb=null,l()}},k.prototype._getBufferDuration=function(){for(var a=this,l=a._sourceBuffer.buffered,s=a._elem.currentTime,n=-1,d=0;d<l.length;d++){var c=l.start(d),f=l.end(d)+0;if(c>s)break;(0<=n||s<=f)&&(n=f)}var h=n-s;return 0>h&&(h=0),h}},{inherits:146,"readable-stream":227,"to-arraybuffer":268}],160:[function(S,V,O){function g(E,v){if(!(this instanceof g))return new g(E,v);if(v||(v={}),this.chunkLength=+E,!this.chunkLength)throw new Error("First argument must be a chunk length");this.chunks=[],this.closed=!1,this.length=+v.length||1/0,this.length!==1/0&&(this.lastChunkLength=this.length%this.chunkLength||this.chunkLength,this.lastChunkIndex=Ee(this.length/this.chunkLength)-1)}V.exports=g;const k=S("queue-microtask");g.prototype.put=function(E,v,r=()=>{}){if(this.closed)return k(()=>r(new Error("Storage is closed")));const m=E===this.lastChunkIndex;return m&&v.length!==this.lastChunkLength?k(()=>r(new Error("Last chunk length must be "+this.lastChunkLength))):m||v.length===this.chunkLength?(this.chunks[E]=v,void k(()=>r(null))):k(()=>r(new Error("Chunk length must be "+this.chunkLength)))},g.prototype.get=function(E,v,r=()=>{}){if(typeof v=="function")return this.get(E,null,v);if(this.closed)return k(()=>r(new Error("Storage is closed")));let m=this.chunks[E];if(!m){const l=new Error("Chunk not found");return l.notFound=!0,k(()=>r(l))}v||(v={});const o=v.offset||0,a=v.length||m.length-o;(o!==0||a!==m.length)&&(m=m.slice(o,a+o)),k(()=>r(null,m))},g.prototype.close=g.prototype.destroy=function(E=()=>{}){return this.closed?k(()=>E(new Error("Storage is closed"))):(this.closed=!0,this.chunks=null,void k(()=>E(null)))}},{"queue-microtask":205}],161:[function(S,V,O){function g(v){this.rand=v||new E.Rand}var k=S("bn.js"),E=S("brorand");V.exports=g,g.create=function(r){return new g(r)},g.prototype._randbelow=function(r){var m=r.bitLength(),o=Ee(m/8);do var a=new k(this.rand.generate(o));while(0<=a.cmp(r));return a},g.prototype._randrange=function(r,m){var o=m.sub(r);return r.add(this._randbelow(o))},g.prototype.test=function(r,m,o){var a=r.bitLength(),l=k.mont(r),s=new k(1).toRed(l);m||(m=ve(1,0|a/48));for(var n=r.subn(1),d=0;!n.testn(d);d++);for(var c=r.shrn(d),f=n.toRed(l),h=!0;0<m;m--){var x=this._randrange(new k(2),n);o&&o(x);var R=x.toRed(l).redPow(c);if(R.cmp(s)!==0&&R.cmp(f)!==0){for(var A=1;A<d;A++){if(R=R.redSqr(),R.cmp(s)===0)return!1;if(R.cmp(f)===0)break}if(A===d)return!1}}return h},g.prototype.getDivisor=function(r,m){var o=r.bitLength(),a=k.mont(r),l=new k(1).toRed(a);m||(m=ve(1,0|o/48));for(var s=r.subn(1),n=0;!s.testn(n);n++);for(var d=r.shrn(n),c=s.toRed(a);0<m;m--){var f=this._randrange(new k(2),s),h=r.gcd(f);if(h.cmpn(1)!==0)return h;var x=f.toRed(a).redPow(d);if(x.cmp(l)!==0&&x.cmp(c)!==0){for(var R=1;R<n;R++){if(x=x.redSqr(),x.cmp(l)===0)return x.fromRed().subn(1).gcd(r);if(x.cmp(c)===0)break}if(R===n)return x=x.redSqr(),x.fromRed().subn(1).gcd(r)}}return!1}},{"bn.js":162,brorand:40}],162:[function(S,V,O){arguments[4][22][0].apply(O,arguments)},{buffer:41,dup:22}],163:[function(S,V,O){function g(){this._types=Object.create(null),this._extensions=Object.create(null);for(let k=0;k<arguments.length;k++)this.define(arguments[k]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}g.prototype.define=function(k,E){for(let v in k){let r=k[v].map(function(m){return m.toLowerCase()});v=v.toLowerCase();for(let m=0;m<r.length;m++){const o=r[m];if(o[0]!=="*"){if(!E&&o in this._types)throw new Error('Attempt to change mapping for "'+o+'" extension from "'+this._types[o]+'" to "'+v+'". Pass `force=true` to allow this, otherwise remove "'+o+'" from the list of extensions for "'+v+'".');this._types[o]=v}}if(E||!this._extensions[v]){const m=r[0];this._extensions[v]=m[0]==="*"?m.substr(1):m}}},g.prototype.getType=function(k){k=k+"";let E=k.replace(/^.*[/\\]/,"").toLowerCase(),v=E.replace(/^.*\./,"").toLowerCase(),r=E.length<k.length;return(v.length<E.length-1||!r)&&this._types[v]||null},g.prototype.getExtension=function(k){return k=/^\s*([^;\s]*)/.test(k)&&RegExp.$1,k&&this._extensions[k.toLowerCase()]||null},V.exports=g},{}],164:[function(S,V,O){let g=S("./Mime");V.exports=new g(S("./types/standard"),S("./types/other"))},{"./Mime":163,"./types/other":165,"./types/standard":166}],165:[function(S,V,O){V.exports={"application/prs.cww":["cww"],"application/vnd.1000minds.decision-model+xml":["1km"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.keynote":["key"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.numbers":["numbers"],"application/vnd.apple.pages":["pages"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.balsamiq.bmml+xml":["bmml"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.citationstyles.style+xml":["csl"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dbf":["dbf"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mapbox-vector-tile":["mvt"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["*stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.ac+xml":["*ac"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openblox.game+xml":["obgx"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openstreetmap.data+xml":["osm"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.rar":["rar"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.software602.filler.form+xml":["fo"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.syncml.dmddf+xml":["ddf"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":["*dmg"],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":["*bdoc"],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["*deb","udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":["*iso"],"application/x-iwork-keynote-sffkey":["*key"],"application/x-iwork-numbers-sffnumbers":["*numbers"],"application/x-iwork-pages-sffpages":["*pages"],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-keepass2":["kdbx"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":["*exe"],"application/x-msdownload":["*exe","*dll","com","bat","*msi"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["*wmf","*wmz","*emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":["*prc","*pdb"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["*rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["*obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["*xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":["*m4a"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":["*ra"],"audio/x-wav":["*wav"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/prs.btif":["btif"],"image/prs.pti":["pti"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.airzip.accelerator.azv":["azv"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["*sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.microsoft.icon":["ico"],"image/vnd.ms-dds":["dds"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.pco.b16":["b16"],"image/vnd.tencent.tap":["tap"],"image/vnd.valve.source.texture":["vtf"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/vnd.zbrush.pcx":["pcx"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["*ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":["*bmp"],"image/x-pcx":["*pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/vnd.wfa.wsc":["wsc"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.opengex":["ogex"],"model/vnd.parasolid.transmit.binary":["x_b"],"model/vnd.parasolid.transmit.text":["x_t"],"model/vnd.sap.vds":["vds"],"model/vnd.usdz+zip":["usdz"],"model/vnd.valve.source.compiled-map":["bsp"],"model/vnd.vtu":["vtu"],"text/prs.lines.tag":["dsc"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":["*org"],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]}},{}],166:[function(S,V,O){V.exports={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]}},{}],167:[function(S,V,O){function g(k,E){if(!k)throw new Error(E||"Assertion failed")}V.exports=g,g.equal=function(E,v,r){if(E!=v)throw new Error(r||"Assertion failed: "+E+" != "+v)}},{}],168:[function(S,V,O){function g(r,m){if(Array.isArray(r))return r.slice();if(!r)return[];var o=[];if(typeof r!="string"){for(var a=0;a<r.length;a++)o[a]=0|r[a];return o}if(m==="hex"){r=r.replace(/[^a-z0-9]+/ig,""),r.length%2!=0&&(r="0"+r);for(var a=0;a<r.length;a+=2)o.push(parseInt(r[a]+r[a+1],16))}else for(var a=0;a<r.length;a++){var l=r.charCodeAt(a),s=l>>8,n=255&l;s?o.push(s,n):o.push(n)}return o}function k(r){return r.length===1?"0"+r:r}function E(r){for(var m="",o=0;o<r.length;o++)m+=k(r[o].toString(16));return m}var v=O;v.toArray=g,v.zero2=k,v.toHex=E,v.encode=function(m,o){return o==="hex"?E(m):m}},{}],169:[function(S,V,O){(function(g){(function(){function k(w,I,M){for(var L=I;L<M;L++)w[L]=0}function E(w,I,M){I.writeUInt32BE(F((w.getTime()+20828448e5)/1e3),M)}function v(w,I,M){I.writeUIntBE(F((w.getTime()+20828448e5)/1e3),M,6)}function r(w,I,M){I.writeUInt16BE(F(w)%65536,M),I.writeUInt16BE(F(256*(256*w))%65536,M+2)}function m(w,I,M){I[M]=F(w)%256,I[M+1]=F(256*w)%256}function o(w,I,M){w||(w=[0,0,0,0,0,0,0,0,0]);for(var L=0;L<w.length;L++)r(w[L],I,M+4*L)}function a(w,I,M){var L=g.from(w,"utf8");L.copy(I,M),I[M+L.length]=0}function l(w){for(var I=Array(w.length/4),M=0;M<I.length;M++)I[M]=d(w,4*M);return I}function s(w,I){return new Date(1e3*w.readUIntBE(I,6)-20828448e5)}function n(w,I){return new Date(1e3*w.readUInt32BE(I)-20828448e5)}function d(w,I){return w.readUInt16BE(I)+w.readUInt16BE(I+2)/65536}function c(w,I){return w[I]+w[I+1]/256}function f(w,I,M){var L;for(L=0;L<M&&w[I+L]!==0;L++);return w.toString("utf8",I,I+L)}var h=S("./index"),x=S("./descriptor"),R=S("uint64be");O.fullBoxes={};var A=["mvhd","tkhd","mdhd","vmhd","smhd","stsd","esds","stsz","stco","co64","stss","stts","ctts","stsc","dref","elst","hdlr","mehd","trex","mfhd","tfhd","tfdt","trun"];A.forEach(function(w){O.fullBoxes[w]=!0}),O.ftyp={},O.ftyp.encode=function(w,I,M){I=I?I.slice(M):g.alloc(O.ftyp.encodingLength(w));var L=w.compatibleBrands||[];I.write(w.brand,0,4,"ascii"),I.writeUInt32BE(w.brandVersion,4);for(var G=0;G<L.length;G++)I.write(L[G],8+4*G,4,"ascii");return O.ftyp.encode.bytes=8+4*L.length,I},O.ftyp.decode=function(w,I){w=w.slice(I);for(var M=w.toString("ascii",0,4),L=w.readUInt32BE(4),G=[],Y=8;Y<w.length;Y+=4)G.push(w.toString("ascii",Y,Y+4));return{brand:M,brandVersion:L,compatibleBrands:G}},O.ftyp.encodingLength=function(w){return 8+4*(w.compatibleBrands||[]).length},O.mvhd={},O.mvhd.encode=function(w,I,M){return I=I?I.slice(M):g.alloc(96),E(w.ctime||new Date,I,0),E(w.mtime||new Date,I,4),I.writeUInt32BE(w.timeScale||0,8),I.writeUInt32BE(w.duration||0,12),r(w.preferredRate||0,I,16),m(w.preferredVolume||0,I,20),k(I,22,32),o(w.matrix,I,32),I.writeUInt32BE(w.previewTime||0,68),I.writeUInt32BE(w.previewDuration||0,72),I.writeUInt32BE(w.posterTime||0,76),I.writeUInt32BE(w.selectionTime||0,80),I.writeUInt32BE(w.selectionDuration||0,84),I.writeUInt32BE(w.currentTime||0,88),I.writeUInt32BE(w.nextTrackId||0,92),O.mvhd.encode.bytes=96,I},O.mvhd.decode=function(w,I){return w=w.slice(I),{ctime:n(w,0),mtime:n(w,4),timeScale:w.readUInt32BE(8),duration:w.readUInt32BE(12),preferredRate:d(w,16),preferredVolume:c(w,20),matrix:l(w.slice(32,68)),previewTime:w.readUInt32BE(68),previewDuration:w.readUInt32BE(72),posterTime:w.readUInt32BE(76),selectionTime:w.readUInt32BE(80),selectionDuration:w.readUInt32BE(84),currentTime:w.readUInt32BE(88),nextTrackId:w.readUInt32BE(92)}},O.mvhd.encodingLength=function(w){return 96},O.tkhd={},O.tkhd.encode=function(w,I,M){return I=I?I.slice(M):g.alloc(80),E(w.ctime||new Date,I,0),E(w.mtime||new Date,I,4),I.writeUInt32BE(w.trackId||0,8),k(I,12,16),I.writeUInt32BE(w.duration||0,16),k(I,20,28),I.writeUInt16BE(w.layer||0,28),I.writeUInt16BE(w.alternateGroup||0,30),I.writeUInt16BE(w.volume||0,32),o(w.matrix,I,36),I.writeUInt32BE(w.trackWidth||0,72),I.writeUInt32BE(w.trackHeight||0,76),O.tkhd.encode.bytes=80,I},O.tkhd.decode=function(w,I){return w=w.slice(I),{ctime:n(w,0),mtime:n(w,4),trackId:w.readUInt32BE(8),duration:w.readUInt32BE(16),layer:w.readUInt16BE(28),alternateGroup:w.readUInt16BE(30),volume:w.readUInt16BE(32),matrix:l(w.slice(36,72)),trackWidth:w.readUInt32BE(72),trackHeight:w.readUInt32BE(76)}},O.tkhd.encodingLength=function(w){return 80},O.mdhd={},O.mdhd.encode=function(w,I,M){return w.version===1?(I=I?I.slice(M):g.alloc(32),v(w.ctime||new Date,I,0),v(w.mtime||new Date,I,8),I.writeUInt32BE(w.timeScale||0,16),I.writeUIntBE(w.duration||0,20,6),I.writeUInt16BE(w.language||0,28),I.writeUInt16BE(w.quality||0,30),O.mdhd.encode.bytes=32,I):(I=I?I.slice(M):g.alloc(20),E(w.ctime||new Date,I,0),E(w.mtime||new Date,I,4),I.writeUInt32BE(w.timeScale||0,8),I.writeUInt32BE(w.duration||0,12),I.writeUInt16BE(w.language||0,16),I.writeUInt16BE(w.quality||0,18),O.mdhd.encode.bytes=20,I)},O.mdhd.decode=function(w,I,M){w=w.slice(I);var L=M-I!=20;return L?{ctime:s(w,0),mtime:s(w,8),timeScale:w.readUInt32BE(16),duration:w.readUIntBE(20,6),language:w.readUInt16BE(28),quality:w.readUInt16BE(30)}:{ctime:n(w,0),mtime:n(w,4),timeScale:w.readUInt32BE(8),duration:w.readUInt32BE(12),language:w.readUInt16BE(16),quality:w.readUInt16BE(18)}},O.mdhd.encodingLength=function(w){return w.version===1?32:20},O.vmhd={},O.vmhd.encode=function(w,I,M){I=I?I.slice(M):g.alloc(8),I.writeUInt16BE(w.graphicsMode||0,0);var L=w.opcolor||[0,0,0];return I.writeUInt16BE(L[0],2),I.writeUInt16BE(L[1],4),I.writeUInt16BE(L[2],6),O.vmhd.encode.bytes=8,I},O.vmhd.decode=function(w,I){return w=w.slice(I),{graphicsMode:w.readUInt16BE(0),opcolor:[w.readUInt16BE(2),w.readUInt16BE(4),w.readUInt16BE(6)]}},O.vmhd.encodingLength=function(w){return 8},O.smhd={},O.smhd.encode=function(w,I,M){return I=I?I.slice(M):g.alloc(4),I.writeUInt16BE(w.balance||0,0),k(I,2,4),O.smhd.encode.bytes=4,I},O.smhd.decode=function(w,I){return w=w.slice(I),{balance:w.readUInt16BE(0)}},O.smhd.encodingLength=function(w){return 4},O.stsd={},O.stsd.encode=function(w,I,M){I=I?I.slice(M):g.alloc(O.stsd.encodingLength(w));var L=w.entries||[];I.writeUInt32BE(L.length,0);for(var G=4,Y=0,ie;Y<L.length;Y++)ie=L[Y],h.encode(ie,I,G),G+=h.encode.bytes;return O.stsd.encode.bytes=G,I},O.stsd.decode=function(w,I,M){w=w.slice(I);for(var L=w.readUInt32BE(0),G=Array(L),Y=4,ie=0,ae;ie<L;ie++)ae=h.decode(w,Y,M),G[ie]=ae,Y+=ae.length;return{entries:G}},O.stsd.encodingLength=function(w){var I=4;if(!w.entries)return I;for(var M=0;M<w.entries.length;M++)I+=h.encodingLength(w.entries[M]);return I},O.avc1=O.VisualSampleEntry={},O.VisualSampleEntry.encode=function(w,I,M){I=I?I.slice(M):g.alloc(O.VisualSampleEntry.encodingLength(w)),k(I,0,6),I.writeUInt16BE(w.dataReferenceIndex||0,6),k(I,8,24),I.writeUInt16BE(w.width||0,24),I.writeUInt16BE(w.height||0,26),I.writeUInt32BE(w.hResolution||4718592,28),I.writeUInt32BE(w.vResolution||4718592,32),k(I,36,40),I.writeUInt16BE(w.frameCount||1,40);var L=w.compressorName||"",G=ke(L.length,31);I.writeUInt8(G,42),I.write(L,43,G,"utf8"),I.writeUInt16BE(w.depth||24,74),I.writeInt16BE(-1,76);var Y=78,ie=w.children||[];ie.forEach(function(ae){h.encode(ae,I,Y),Y+=h.encode.bytes}),O.VisualSampleEntry.encode.bytes=Y},O.VisualSampleEntry.decode=function(w,I,M){w=w.slice(I);for(var L=M-I,G=ke(w.readUInt8(42),31),Y={dataReferenceIndex:w.readUInt16BE(6),width:w.readUInt16BE(24),height:w.readUInt16BE(26),hResolution:w.readUInt32BE(28),vResolution:w.readUInt32BE(32),frameCount:w.readUInt16BE(40),compressorName:w.toString("utf8",43,43+G),depth:w.readUInt16BE(74),children:[]},ie=78;8<=L-ie;){var ae=h.decode(w,ie,L);Y.children.push(ae),Y[ae.type]=ae,ie+=ae.length}return Y},O.VisualSampleEntry.encodingLength=function(w){var I=78,M=w.children||[];return M.forEach(function(L){I+=h.encodingLength(L)}),I},O.avcC={},O.avcC.encode=function(w,I,M){I=I?I.slice(M):g.alloc(w.buffer.length),w.buffer.copy(I),O.avcC.encode.bytes=w.buffer.length},O.avcC.decode=function(w,I,M){return w=w.slice(I,M),{mimeCodec:w.toString("hex",1,4),buffer:g.from(w)}},O.avcC.encodingLength=function(w){return w.buffer.length},O.mp4a=O.AudioSampleEntry={},O.AudioSampleEntry.encode=function(w,I,M){I=I?I.slice(M):g.alloc(O.AudioSampleEntry.encodingLength(w)),k(I,0,6),I.writeUInt16BE(w.dataReferenceIndex||0,6),k(I,8,16),I.writeUInt16BE(w.channelCount||2,16),I.writeUInt16BE(w.sampleSize||16,18),k(I,20,24),I.writeUInt32BE(w.sampleRate||0,24);var L=28,G=w.children||[];G.forEach(function(Y){h.encode(Y,I,L),L+=h.encode.bytes}),O.AudioSampleEntry.encode.bytes=L},O.AudioSampleEntry.decode=function(w,I,M){w=w.slice(I,M);for(var L=M-I,G={dataReferenceIndex:w.readUInt16BE(6),channelCount:w.readUInt16BE(16),sampleSize:w.readUInt16BE(18),sampleRate:w.readUInt32BE(24),children:[]},Y=28;8<=L-Y;){var ie=h.decode(w,Y,L);G.children.push(ie),G[ie.type]=ie,Y+=ie.length}return G},O.AudioSampleEntry.encodingLength=function(w){var I=28,M=w.children||[];return M.forEach(function(L){I+=h.encodingLength(L)}),I},O.esds={},O.esds.encode=function(w,I,M){I=I?I.slice(M):g.alloc(w.buffer.length),w.buffer.copy(I,0),O.esds.encode.bytes=w.buffer.length},O.esds.decode=function(w,I,M){w=w.slice(I,M);var L=x.Descriptor.decode(w,0,w.length),G=L.tagName==="ESDescriptor"?L:{},Y=G.DecoderConfigDescriptor||{},ie=Y.oti||0,ae=Y.DecoderSpecificInfo,J=ae?(248&ae.buffer.readUInt8(0))>>3:0,B=null;return ie&&(B=ie.toString(16),J&&(B+="."+J)),{mimeCodec:B,buffer:g.from(w.slice(0))}},O.esds.encodingLength=function(w){return w.buffer.length},O.stsz={},O.stsz.encode=function(w,I,M){var L=w.entries||[];I=I?I.slice(M):g.alloc(O.stsz.encodingLength(w)),I.writeUInt32BE(0,0),I.writeUInt32BE(L.length,4);for(var G=0;G<L.length;G++)I.writeUInt32BE(L[G],4*G+8);return O.stsz.encode.bytes=8+4*L.length,I},O.stsz.decode=function(w,I){w=w.slice(I);for(var M=w.readUInt32BE(0),L=w.readUInt32BE(4),G=Array(L),Y=0;Y<L;Y++)G[Y]=M===0?w.readUInt32BE(4*Y+8):M;return{entries:G}},O.stsz.encodingLength=function(w){return 8+4*w.entries.length},O.stss=O.stco={},O.stco.encode=function(w,I,M){var L=w.entries||[];I=I?I.slice(M):g.alloc(O.stco.encodingLength(w)),I.writeUInt32BE(L.length,0);for(var G=0;G<L.length;G++)I.writeUInt32BE(L[G],4*G+4);return O.stco.encode.bytes=4+4*L.length,I},O.stco.decode=function(w,I){w=w.slice(I);for(var M=w.readUInt32BE(0),L=Array(M),G=0;G<M;G++)L[G]=w.readUInt32BE(4*G+4);return{entries:L}},O.stco.encodingLength=function(w){return 4+4*w.entries.length},O.co64={},O.co64.encode=function(w,I,M){var L=w.entries||[];I=I?I.slice(M):g.alloc(O.co64.encodingLength(w)),I.writeUInt32BE(L.length,0);for(var G=0;G<L.length;G++)R.encode(L[G],I,8*G+4);return O.co64.encode.bytes=4+8*L.length,I},O.co64.decode=function(w,I){w=w.slice(I);for(var M=w.readUInt32BE(0),L=Array(M),G=0;G<M;G++)L[G]=R.decode(w,8*G+4);return{entries:L}},O.co64.encodingLength=function(w){return 4+8*w.entries.length},O.stts={},O.stts.encode=function(w,I,M){var L=w.entries||[];I=I?I.slice(M):g.alloc(O.stts.encodingLength(w)),I.writeUInt32BE(L.length,0);for(var G=0,Y;G<L.length;G++)Y=8*G+4,I.writeUInt32BE(L[G].count||0,Y),I.writeUInt32BE(L[G].duration||0,Y+4);return O.stts.encode.bytes=4+8*w.entries.length,I},O.stts.decode=function(w,I){w=w.slice(I);for(var M=w.readUInt32BE(0),L=Array(M),G=0,Y;G<M;G++)Y=8*G+4,L[G]={count:w.readUInt32BE(Y),duration:w.readUInt32BE(Y+4)};return{entries:L}},O.stts.encodingLength=function(w){return 4+8*w.entries.length},O.ctts={},O.ctts.encode=function(w,I,M){var L=w.entries||[];I=I?I.slice(M):g.alloc(O.ctts.encodingLength(w)),I.writeUInt32BE(L.length,0);for(var G=0,Y;G<L.length;G++)Y=8*G+4,I.writeUInt32BE(L[G].count||0,Y),I.writeUInt32BE(L[G].compositionOffset||0,Y+4);return O.ctts.encode.bytes=4+8*L.length,I},O.ctts.decode=function(w,I){w=w.slice(I);for(var M=w.readUInt32BE(0),L=Array(M),G=0,Y;G<M;G++)Y=8*G+4,L[G]={count:w.readUInt32BE(Y),compositionOffset:w.readInt32BE(Y+4)};return{entries:L}},O.ctts.encodingLength=function(w){return 4+8*w.entries.length},O.stsc={},O.stsc.encode=function(w,I,M){var L=w.entries||[];I=I?I.slice(M):g.alloc(O.stsc.encodingLength(w)),I.writeUInt32BE(L.length,0);for(var G=0,Y;G<L.length;G++)Y=12*G+4,I.writeUInt32BE(L[G].firstChunk||0,Y),I.writeUInt32BE(L[G].samplesPerChunk||0,Y+4),I.writeUInt32BE(L[G].sampleDescriptionId||0,Y+8);return O.stsc.encode.bytes=4+12*L.length,I},O.stsc.decode=function(w,I){w=w.slice(I);for(var M=w.readUInt32BE(0),L=Array(M),G=0,Y;G<M;G++)Y=12*G+4,L[G]={firstChunk:w.readUInt32BE(Y),samplesPerChunk:w.readUInt32BE(Y+4),sampleDescriptionId:w.readUInt32BE(Y+8)};return{entries:L}},O.stsc.encodingLength=function(w){return 4+12*w.entries.length},O.dref={},O.dref.encode=function(w,I,M){I=I?I.slice(M):g.alloc(O.dref.encodingLength(w));var L=w.entries||[];I.writeUInt32BE(L.length,0);for(var G=4,Y=0;Y<L.length;Y++){var ie=L[Y],ae=(ie.buf?ie.buf.length:0)+4+4;I.writeUInt32BE(ae,G),G+=4,I.write(ie.type,G,4,"ascii"),G+=4,ie.buf&&(ie.buf.copy(I,G),G+=ie.buf.length)}return O.dref.encode.bytes=G,I},O.dref.decode=function(w,I){w=w.slice(I);for(var M=w.readUInt32BE(0),L=Array(M),G=4,Y=0;Y<M;Y++){var ie=w.readUInt32BE(G),ae=w.toString("ascii",G+4,G+8),J=w.slice(G+8,G+ie);G+=ie,L[Y]={type:ae,buf:J}}return{entries:L}},O.dref.encodingLength=function(w){var I=4;if(!w.entries)return I;for(var M=0,L;M<w.entries.length;M++)L=w.entries[M].buf,I+=(L?L.length:0)+4+4;return I},O.elst={},O.elst.encode=function(w,I,M){var L=w.entries||[];I=I?I.slice(M):g.alloc(O.elst.encodingLength(w)),I.writeUInt32BE(L.length,0);for(var G=0,Y;G<L.length;G++)Y=12*G+4,I.writeUInt32BE(L[G].trackDuration||0,Y),I.writeUInt32BE(L[G].mediaTime||0,Y+4),r(L[G].mediaRate||0,I,Y+8);return O.elst.encode.bytes=4+12*L.length,I},O.elst.decode=function(w,I){w=w.slice(I);for(var M=w.readUInt32BE(0),L=Array(M),G=0,Y;G<M;G++)Y=12*G+4,L[G]={trackDuration:w.readUInt32BE(Y),mediaTime:w.readInt32BE(Y+4),mediaRate:d(w,Y+8)};return{entries:L}},O.elst.encodingLength=function(w){return 4+12*w.entries.length},O.hdlr={},O.hdlr.encode=function(w,I,M){I=I?I.slice(M):g.alloc(O.hdlr.encodingLength(w));var L=21+(w.name||"").length;return I.fill(0,0,L),I.write(w.handlerType||"",4,4,"ascii"),a(w.name||"",I,20),O.hdlr.encode.bytes=L,I},O.hdlr.decode=function(w,I,M){return w=w.slice(I),{handlerType:w.toString("ascii",4,8),name:f(w,20,M)}},O.hdlr.encodingLength=function(w){return 21+(w.name||"").length},O.mehd={},O.mehd.encode=function(w,I,M){return I=I?I.slice(M):g.alloc(4),I.writeUInt32BE(w.fragmentDuration||0,0),O.mehd.encode.bytes=4,I},O.mehd.decode=function(w,I){return w=w.slice(I),{fragmentDuration:w.readUInt32BE(0)}},O.mehd.encodingLength=function(w){return 4},O.trex={},O.trex.encode=function(w,I,M){return I=I?I.slice(M):g.alloc(20),I.writeUInt32BE(w.trackId||0,0),I.writeUInt32BE(w.defaultSampleDescriptionIndex||0,4),I.writeUInt32BE(w.defaultSampleDuration||0,8),I.writeUInt32BE(w.defaultSampleSize||0,12),I.writeUInt32BE(w.defaultSampleFlags||0,16),O.trex.encode.bytes=20,I},O.trex.decode=function(w,I){return w=w.slice(I),{trackId:w.readUInt32BE(0),defaultSampleDescriptionIndex:w.readUInt32BE(4),defaultSampleDuration:w.readUInt32BE(8),defaultSampleSize:w.readUInt32BE(12),defaultSampleFlags:w.readUInt32BE(16)}},O.trex.encodingLength=function(w){return 20},O.mfhd={},O.mfhd.encode=function(w,I,M){return I=I?I.slice(M):g.alloc(4),I.writeUInt32BE(w.sequenceNumber||0,0),O.mfhd.encode.bytes=4,I},O.mfhd.decode=function(w,I){return{sequenceNumber:w.readUInt32BE(0)}},O.mfhd.encodingLength=function(w){return 4},O.tfhd={},O.tfhd.encode=function(w,I,M){return I=I?I.slice(M):g.alloc(4),I.writeUInt32BE(w.trackId,0),O.tfhd.encode.bytes=4,I},O.tfhd.decode=function(w,I){},O.tfhd.encodingLength=function(w){return 4},O.tfdt={},O.tfdt.encode=function(w,I,M){return I=I?I.slice(M):g.alloc(4),I.writeUInt32BE(w.baseMediaDecodeTime||0,0),O.tfdt.encode.bytes=4,I},O.tfdt.decode=function(w,I){},O.tfdt.encodingLength=function(w){return 4},O.trun={},O.trun.encode=function(w,I,M){I=I?I.slice(M):g.alloc(8+16*w.entries.length),I.writeUInt32BE(w.entries.length,0),I.writeInt32BE(w.dataOffset,4);for(var L=8,G=0,Y;G<w.entries.length;G++)Y=w.entries[G],I.writeUInt32BE(Y.sampleDuration,L),L+=4,I.writeUInt32BE(Y.sampleSize,L),L+=4,I.writeUInt32BE(Y.sampleFlags,L),L+=4,(w.version||0)===0?I.writeUInt32BE(Y.sampleCompositionTimeOffset,L):I.writeInt32BE(Y.sampleCompositionTimeOffset,L),L+=4;O.trun.encode.bytes=L},O.trun.decode=function(w,I){},O.trun.encodingLength=function(w){return 8+16*w.entries.length},O.mdat={},O.mdat.encode=function(w,I,M){w.buffer?(w.buffer.copy(I,M),O.mdat.encode.bytes=w.buffer.length):O.mdat.encode.bytes=O.mdat.encodingLength(w)},O.mdat.decode=function(w,I,M){return{buffer:g.from(w.slice(I,M))}},O.mdat.encodingLength=function(w){return w.buffer?w.buffer.length:w.contentLength}}).call(this)}).call(this,S("buffer").Buffer)},{"./descriptor":170,"./index":171,buffer:75,uint64be:271}],170:[function(S,V,O){(function(g){(function(){var k={3:"ESDescriptor",4:"DecoderConfigDescriptor",5:"DecoderSpecificInfo",6:"SLConfigDescriptor"};O.Descriptor={},O.Descriptor.decode=function(E,v,r){var m=E.readUInt8(v),o=v+1,a=0,l;do l=E.readUInt8(o++),a=a<<7|127&l;while(128&l);var s=k[m],n;return n=O[s]?O[s].decode(E,o,r):{buffer:g.from(E.slice(o,o+a))},n.tag=m,n.tagName=s,n.length=o-v+a,n.contentsLen=a,n},O.DescriptorArray={},O.DescriptorArray.decode=function(E,v,r){for(var m=v,o={};m+2<=r;){var a=O.Descriptor.decode(E,m,r);m+=a.length;var l=k[a.tag]||"Descriptor"+a.tag;o[l]=a}return o},O.ESDescriptor={},O.ESDescriptor.decode=function(E,v,r){var m=E.readUInt8(v+2),o=v+3;if(128&m&&(o+=2),64&m){var a=E.readUInt8(o);o+=a+1}return 32&m&&(o+=2),O.DescriptorArray.decode(E,o,r)},O.DecoderConfigDescriptor={},O.DecoderConfigDescriptor.decode=function(E,v,r){var m=E.readUInt8(v),o=O.DescriptorArray.decode(E,v+13,r);return o.oti=m,o}}).call(this)}).call(this,S("buffer").Buffer)},{buffer:75}],171:[function(S,V,O){(function(g){(function(){var k=S("uint64be"),E=S("./boxes"),v=4294967295,r=O,m=O.containers={moov:["mvhd","meta","traks","mvex"],trak:["tkhd","tref","trgr","edts","meta","mdia","udta"],edts:["elst"],mdia:["mdhd","hdlr","elng","minf"],minf:["vmhd","smhd","hmhd","sthd","nmhd","dinf","stbl"],dinf:["dref"],stbl:["stsd","stts","ctts","cslg","stsc","stsz","stz2","stco","co64","stss","stsh","padb","stdp","sdtp","sbgps","sgpds","subss","saizs","saios"],mvex:["mehd","trexs","leva"],moof:["mfhd","meta","trafs"],traf:["tfhd","tfdt","trun","sbgps","sgpds","subss","saizs","saios","meta"]};r.encode=function(o,a,l){return r.encodingLength(o),l=l||0,a=a||g.alloc(o.length),r._encode(o,a,l)},r._encode=function(o,a,l){var s=o.type,n=o.length;n>v&&(n=1),a.writeUInt32BE(n,l),a.write(o.type,l+4,4,"ascii");var d=l+8;if(n===1&&(k.encode(o.length,a,d),d+=8),E.fullBoxes[s]&&(a.writeUInt32BE(o.flags||0,d),a.writeUInt8(o.version||0,d),d+=4),m[s]){var c=m[s];c.forEach(function(x){if(x.length===5){var R=o[x]||[];x=x.substr(0,4),R.forEach(function(A){r._encode(A,a,d),d+=r.encode.bytes})}else o[x]&&(r._encode(o[x],a,d),d+=r.encode.bytes)}),o.otherBoxes&&o.otherBoxes.forEach(function(x){r._encode(x,a,d),d+=r.encode.bytes})}else if(E[s]){var f=E[s].encode;f(o,a,d),d+=f.bytes}else if(o.buffer){var h=o.buffer;h.copy(a,d),d+=o.buffer.length}else throw new Error("Either `type` must be set to a known type (not'"+s+"') or `buffer` must be set");return r.encode.bytes=d-l,a},r.readHeaders=function(o,a,l){if(a=a||0,l=l||o.length,8>l-a)return 8;var s=o.readUInt32BE(a),n=o.toString("ascii",a+4,a+8),d=a+8;if(s===1){if(16>l-a)return 16;s=k.decode(o,d),d+=8}var c,f;return E.fullBoxes[n]&&(c=o.readUInt8(d),f=16777215&o.readUInt32BE(d),d+=4),{length:s,headersLen:d-a,contentLen:s-(d-a),type:n,version:c,flags:f}},r.decode=function(o,a,l){a=a||0,l=l||o.length;var s=r.readHeaders(o,a,l);if(!s||s.length>l-a)throw new Error("Data too short");return r.decodeWithoutHeaders(s,o,a+s.headersLen,a+s.length)},r.decodeWithoutHeaders=function(o,a,l,s){l=l||0,s=s||a.length;var n=o.type,d={};if(m[n]){d.otherBoxes=[];for(var c=m[n],f=l,h;8<=s-f;)if(h=r.decode(a,f,s),f+=h.length,0<=c.indexOf(h.type))d[h.type]=h;else if(0<=c.indexOf(h.type+"s")){var x=h.type+"s",R=d[x]=d[x]||[];R.push(h)}else d.otherBoxes.push(h)}else if(E[n]){var A=E[n].decode;d=A(a,l,s)}else d.buffer=g.from(a.slice(l,s));return d.length=o.length,d.contentLen=o.contentLen,d.type=o.type,d.version=o.version,d.flags=o.flags,d},r.encodingLength=function(o){var a=o.type,l=8;if(E.fullBoxes[a]&&(l+=4),m[a]){var s=m[a];s.forEach(function(n){if(n.length===5){var d=o[n]||[];n=n.substr(0,4),d.forEach(function(f){f.type=n,l+=r.encodingLength(f)})}else if(o[n]){var c=o[n];c.type=n,l+=r.encodingLength(c)}}),o.otherBoxes&&o.otherBoxes.forEach(function(n){l+=r.encodingLength(n)})}else if(E[a])l+=E[a].encodingLength(o);else if(o.buffer)l+=o.buffer.length;else throw new Error("Either `type` must be set to a known type (not'"+a+"') or `buffer` must be set");return l>v&&(l+=8),o.length=l,l}}).call(this)}).call(this,S("buffer").Buffer)},{"./boxes":169,buffer:75,uint64be:271}],172:[function(S,V,O){(function(g){(function(){var k=S("readable-stream"),E=S("next-event"),v=S("mp4-box-encoding"),r=g.alloc(0);class m extends k.Writable{constructor(l){super(l),this.destroyed=!1,this._pending=0,this._missing=0,this._ignoreEmpty=!1,this._buf=null,this._str=null,this._cb=null,this._ondrain=null,this._writeBuffer=null,this._writeCb=null,this._ondrain=null,this._kick()}destroy(l){this.destroyed||(this.destroyed=!0,l&&this.emit("error",l),this.emit("close"))}_write(l,s,n){if(!this.destroyed){for(var d=!this._str||!this._str._writableState.needDrain;l.length&&!this.destroyed;){if(!this._missing&&!this._ignoreEmpty)return this._writeBuffer=l,void(this._writeCb=n);var c=l.length<this._missing?l.length:this._missing;if(this._buf?l.copy(this._buf,this._buf.length-this._missing):this._str&&(d=this._str.write(c===l.length?l:l.slice(0,c))),this._missing-=c,!this._missing){var f=this._buf,h=this._cb,x=this._str;this._buf=this._cb=this._str=this._ondrain=null,d=!0,this._ignoreEmpty=!1,x&&x.end(),h&&h(f)}l=c===l.length?r:l.slice(c)}return this._pending&&!this._missing?(this._writeBuffer=l,void(this._writeCb=n)):void(d?n():this._ondrain(n))}}_buffer(l,s){this._missing=l,this._buf=g.alloc(l),this._cb=s}_stream(l,s){return this._missing=l,this._str=new o(this),this._ondrain=E(this._str,"drain"),this._pending++,this._str.on("end",()=>{this._pending--,this._kick()}),this._cb=s,this._str}_readBox(){const l=(s,n)=>{this._buffer(s,d=>{n=n?g.concat([n,d]):d;var c=v.readHeaders(n);typeof c=="number"?l(c-n.length,n):(this._pending++,this._headers=c,this.emit("box",c))})};l(8)}stream(){if(!this._headers)throw new Error("this function can only be called once after 'box' is emitted");var l=this._headers;return this._headers=null,this._stream(l.contentLen,()=>{this._pending--,this._kick()})}decode(l){if(!this._headers)throw new Error("this function can only be called once after 'box' is emitted");var s=this._headers;this._headers=null,this._buffer(s.contentLen,n=>{var d=v.decodeWithoutHeaders(s,n);l(d),this._pending--,this._kick()})}ignore(){if(!this._headers)throw new Error("this function can only be called once after 'box' is emitted");var l=this._headers;this._headers=null,this._missing=l.contentLen,this._missing===0&&(this._ignoreEmpty=!0),this._cb=()=>{this._pending--,this._kick()}}_kick(){if(!this._pending&&(this._buf||this._str||this._readBox(),this._writeBuffer)){var l=this._writeCb,s=this._writeBuffer;this._writeBuffer=null,this._writeCb=null,this._write(s,null,l)}}}class o extends k.PassThrough{constructor(l){super(),this._parent=l,this.destroyed=!1}destroy(l){this.destroyed||(this.destroyed=!0,this._parent.destroy(l),l&&this.emit("error",l),this.emit("close"))}}V.exports=m}).call(this)}).call(this,S("buffer").Buffer)},{buffer:75,"mp4-box-encoding":171,"next-event":176,"readable-stream":227}],173:[function(S,V,O){(function(g){(function(){function k(){}var E=S("readable-stream"),v=S("mp4-box-encoding"),r=S("queue-microtask");class m extends E.Readable{constructor(l){super(l),this.destroyed=!1,this._finalized=!1,this._reading=!1,this._stream=null,this._drain=null,this._want=!1,this._onreadable=()=>{this._want&&(this._want=!1,this._read())},this._onend=()=>{this._stream=null}}mdat(l,s){this.mediaData(l,s)}mediaData(l,s){var n=new o(this);return this.box({type:"mdat",contentLength:l,encodeBufferLen:8,stream:n},s),n}box(l,s){if(s||(s=k),this.destroyed)return s(new Error("Encoder is destroyed"));var n;if(l.encodeBufferLen&&(n=g.alloc(l.encodeBufferLen)),l.stream)l.buffer=null,n=v.encode(l,n),this.push(n),this._stream=l.stream,this._stream.on("readable",this._onreadable),this._stream.on("end",this._onend),this._stream.on("end",s),this._forward();else{n=v.encode(l,n);var d=this.push(n);if(d)return r(s);this._drain=s}}destroy(l){if(!this.destroyed){if(this.destroyed=!0,this._stream&&this._stream.destroy&&this._stream.destroy(),this._stream=null,this._drain){var s=this._drain;this._drain=null,s(l)}l&&this.emit("error",l),this.emit("close")}}finalize(){this._finalized=!0,this._stream||this._drain||this.push(null)}_forward(){if(this._stream)for(;!this.destroyed;){var l=this._stream.read();if(!l)return void(this._want=!!this._stream);if(!this.push(l))return}}_read(){if(!(this._reading||this.destroyed)){if(this._reading=!0,this._stream&&this._forward(),this._drain){var l=this._drain;this._drain=null,l()}this._reading=!1,this._finalized&&this.push(null)}}}class o extends E.PassThrough{constructor(l){super(),this._parent=l,this.destroyed=!1}destroy(l){this.destroyed||(this.destroyed=!0,this._parent.destroy(l),l&&this.emit("error",l),this.emit("close"))}}V.exports=m}).call(this)}).call(this,S("buffer").Buffer)},{buffer:75,"mp4-box-encoding":171,"queue-microtask":205,"readable-stream":227}],174:[function(S,V,O){const g=S("./decode"),k=S("./encode");O.decode=E=>new g(E),O.encode=E=>new k(E)},{"./decode":172,"./encode":173}],175:[function(S,V,O){function g(r){if(r+="",!(100<r.length)){var m=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(r);if(m){var o=parseFloat(m[1]),a=(m[2]||"ms").toLowerCase();return a==="years"||a==="year"||a==="yrs"||a==="yr"||a==="y"?315576e5*o:a==="weeks"||a==="week"||a==="w"?6048e5*o:a==="days"||a==="day"||a==="d"?864e5*o:a==="hours"||a==="hour"||a==="hrs"||a==="hr"||a==="h"?36e5*o:a==="minutes"||a==="minute"||a==="mins"||a==="min"||a==="m"?6e4*o:a==="seconds"||a==="second"||a==="secs"||a==="sec"||a==="s"?1e3*o:a==="milliseconds"||a==="millisecond"||a==="msecs"||a==="msec"||a==="ms"?o:void 0}}}function k(r){var m=C(r);return 864e5<=m?K(r/864e5)+"d":36e5<=m?K(r/36e5)+"h":6e4<=m?K(r/6e4)+"m":1e3<=m?K(r/1e3)+"s":r+"ms"}function E(r){var m=C(r);return 864e5<=m?v(r,m,864e5,"day"):36e5<=m?v(r,m,36e5,"hour"):6e4<=m?v(r,m,6e4,"minute"):1e3<=m?v(r,m,1e3,"second"):r+" ms"}function v(r,m,o,a){var l=m>=1.5*o;return K(r/o)+" "+a+(l?"s":"")}V.exports=function(r,m){m=m||{};var o=typeof r;if(o=="string"&&0<r.length)return g(r);if(o==="number"&&isFinite(r))return m.long?E(r):k(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))}},{}],176:[function(S,V,O){function g(k,E){var v=null;return k.on(E,function(r){if(v){var m=v;v=null,m(r)}}),function(r){v=r}}V.exports=g},{}],177:[function(S,V,O){function g(v){var r=function(){return r.called?r.value:(r.called=!0,r.value=v.apply(this,arguments))};return r.called=!1,r}function k(v){var r=function(){if(r.called)throw new Error(r.onceError);return r.called=!0,r.value=v.apply(this,arguments)},m=v.name||"Function wrapped with `once`";return r.onceError=m+" shouldn't be called more than once",r.called=!1,r}var E=S("wrappy");V.exports=E(g),V.exports.strict=E(k),g.proto=g(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return g(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return k(this)},configurable:!0})})},{wrappy:279}],178:[function(S,V,O){V.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],179:[function(S,V,O){var g=S("asn1.js");O.certificate=S("./certificate");var k=g.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});O.RSAPrivateKey=k;var E=g.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});O.RSAPublicKey=E;var v=g.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(r),this.key("subjectPublicKey").bitstr())});O.PublicKey=v;var r=g.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),m=g.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(r),this.key("subjectPrivateKey").octstr())});O.PrivateKey=m;var o=g.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});O.EncryptedPrivateKey=o;var a=g.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});O.DSAPrivateKey=a,O.DSAparam=g.define("DSAparam",function(){this.int()});var l=g.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(s),this.key("publicKey").optional().explicit(1).bitstr())});O.ECPrivateKey=l;var s=g.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});O.signature=g.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":180,"asn1.js":8}],180:[function(S,V,O){var g=S("asn1.js"),k=g.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),E=g.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),v=g.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),r=g.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(v),this.key("subjectPublicKey").bitstr())}),m=g.define("RelativeDistinguishedName",function(){this.setof(E)}),o=g.define("RDNSequence",function(){this.seqof(m)}),a=g.define("Name",function(){this.choice({rdnSequence:this.use(o)})}),l=g.define("Validity",function(){this.seq().obj(this.key("notBefore").use(k),this.key("notAfter").use(k))}),s=g.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),n=g.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(v),this.key("issuer").use(a),this.key("validity").use(l),this.key("subject").use(a),this.key("subjectPublicKeyInfo").use(r),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(s).optional())}),d=g.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(n),this.key("signatureAlgorithm").use(v),this.key("signatureValue").bitstr())});V.exports=d},{"asn1.js":8}],181:[function(S,V,O){var g=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,k=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,E=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,v=S("evp_bytestokey"),r=S("browserify-aes"),m=S("safe-buffer").Buffer;V.exports=function(o,a){var l=o.toString(),s=l.match(g),n;if(s){var c="aes"+s[1],f=m.from(s[2],"hex"),h=m.from(s[3].replace(/[\r\n]/g,""),"base64"),x=v(a,f.slice(0,8),parseInt(s[1],10)).key,R=[],A=r.createDecipheriv(c,x,f);R.push(A.update(h)),R.push(A.final()),n=m.concat(R)}else{var d=l.match(E);n=m.from(d[2].replace(/[\r\n]/g,""),"base64")}var w=l.match(k)[1];return{tag:w,data:n}}},{"browserify-aes":44,evp_bytestokey:123,"safe-buffer":234}],182:[function(S,V,O){function g(l){var s;typeof l!="object"||a.isBuffer(l)||(s=l.passphrase,l=l.key),typeof l=="string"&&(l=a.from(l));var n=r(l,s),d=n.tag,c=n.data,f,h;switch(d){case"CERTIFICATE":h=E.certificate.decode(c,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(h||(h=E.PublicKey.decode(c,"der")),f=h.algorithm.algorithm.join("."),f){case"1.2.840.113549.1.1.1":return E.RSAPublicKey.decode(h.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return h.subjectPrivateKey=h.subjectPublicKey,{type:"ec",data:h};case"1.2.840.10040.4.1":return h.algorithm.params.pub_key=E.DSAparam.decode(h.subjectPublicKey.data,"der"),{type:"dsa",data:h.algorithm.params};default:throw new Error("unknown key id "+f)}case"ENCRYPTED PRIVATE KEY":c=E.EncryptedPrivateKey.decode(c,"der"),c=k(c,s);case"PRIVATE KEY":switch(h=E.PrivateKey.decode(c,"der"),f=h.algorithm.algorithm.join("."),f){case"1.2.840.113549.1.1.1":return E.RSAPrivateKey.decode(h.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:h.algorithm.curve,privateKey:E.ECPrivateKey.decode(h.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return h.algorithm.params.priv_key=E.DSAparam.decode(h.subjectPrivateKey,"der"),{type:"dsa",params:h.algorithm.params};default:throw new Error("unknown key id "+f)}case"RSA PUBLIC KEY":return E.RSAPublicKey.decode(c,"der");case"RSA PRIVATE KEY":return E.RSAPrivateKey.decode(c,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:E.DSAPrivateKey.decode(c,"der")};case"EC PRIVATE KEY":return c=E.ECPrivateKey.decode(c,"der"),{curve:c.parameters.value,privateKey:c.privateKey};default:throw new Error("unknown key type "+d)}}function k(l,s){var n=l.algorithm.decrypt.kde.kdeparams.salt,d=parseInt(l.algorithm.decrypt.kde.kdeparams.iters.toString(),10),c=v[l.algorithm.decrypt.cipher.algo.join(".")],f=l.algorithm.decrypt.cipher.iv,h=l.subjectPrivateKey,x=parseInt(c.split("-")[1],10)/8,R=o.pbkdf2Sync(s,n,d,x,"sha1"),A=m.createDecipheriv(c,R,f),w=[];return w.push(A.update(h)),w.push(A.final()),a.concat(w)}var E=S("./asn1"),v=S("./aesid.json"),r=S("./fixProc"),m=S("browserify-aes"),o=S("pbkdf2"),a=S("safe-buffer").Buffer;V.exports=g,g.signature=E.signature},{"./aesid.json":178,"./asn1":179,"./fixProc":181,"browserify-aes":44,pbkdf2:185,"safe-buffer":234}],183:[function(S,V,O){(function(g){(function(){function k(A){if(typeof A=="string"&&/^(stream-)?magnet:/.test(A)){const w=f(A);if(!w.infoHash)throw new Error("Invalid torrent identifier");return w}if(typeof A=="string"&&(/^[a-f0-9]{40}$/i.test(A)||/^[a-z2-7]{32}$/i.test(A)))return f(`magnet:?xt=urn:btih:${A}`);if(g.isBuffer(A)&&A.length===20)return f(`magnet:?xt=urn:btih:${A.toString("hex")}`);if(g.isBuffer(A))return v(A);if(A&&A.infoHash)return A.infoHash=A.infoHash.toLowerCase(),A.announce||(A.announce=[]),typeof A.announce=="string"&&(A.announce=[A.announce]),A.urlList||(A.urlList=[]),A;throw new Error("Invalid torrent identifier")}function E(A,w,I){function M(G){try{L=k(G)}catch(Y){return I(Y)}L&&L.infoHash?I(null,L):I(new Error("Invalid torrent identifier"))}if(typeof w=="function")return E(A,{},w);if(typeof I!="function")throw new Error("second argument must be a Function");let L;try{L=k(A)}catch{}L&&L.infoHash?R(()=>{I(null,L)}):m(A)?n(A,(G,Y)=>G?I(new Error(`Error converting Blob: ${G.message}`)):void M(Y)):typeof c=="function"&&/^https?:/.test(A)?(w=Object.assign({url:A,timeout:3e4,headers:{"user-agent":"WebTorrent (https://webtorrent.io)"}},w),c.concat(w,(G,Y,ie)=>G?I(new Error(`Error downloading torrent: ${G.message}`)):void M(ie))):typeof d.readFile=="function"&&typeof A=="string"?d.readFile(A,(G,Y)=>G?I(new Error("Invalid torrent identifier")):void M(Y)):R(()=>{I(new Error("Invalid torrent identifier"))})}function v(A){g.isBuffer(A)&&(A=s.decode(A)),l(A.info,"info"),l(A.info["name.utf-8"]||A.info.name,"info.name"),l(A.info["piece length"],"info['piece length']"),l(A.info.pieces,"info.pieces"),A.info.files?A.info.files.forEach(L=>{l(typeof L.length=="number","info.files[0].length"),l(L["path.utf-8"]||L.path,"info.files[0].path")}):l(typeof A.info.length=="number","info.length");const w={info:A.info,infoBuffer:s.encode(A.info),name:(A.info["name.utf-8"]||A.info.name).toString(),announce:[]};w.infoHash=x.sync(w.infoBuffer),w.infoHashBuffer=g.from(w.infoHash,"hex"),A.info.private!==void 0&&(w.private=!!A.info.private),A["creation date"]&&(w.created=new Date(1e3*A["creation date"])),A["created by"]&&(w.createdBy=A["created by"].toString()),g.isBuffer(A.comment)&&(w.comment=A.comment.toString()),Array.isArray(A["announce-list"])&&0<A["announce-list"].length?A["announce-list"].forEach(L=>{L.forEach(G=>{w.announce.push(G.toString())})}):A.announce&&w.announce.push(A.announce.toString()),g.isBuffer(A["url-list"])&&(A["url-list"]=0<A["url-list"].length?[A["url-list"]]:[]),w.urlList=(A["url-list"]||[]).map(L=>L.toString()),w.announce=Array.from(new Set(w.announce)),w.urlList=Array.from(new Set(w.urlList));const I=A.info.files||[A.info];w.files=I.map((L,G)=>{const Y=[].concat(w.name,L["path.utf-8"]||L.path||[]).map(ie=>ie.toString());return{path:h.join.apply(null,[h.sep].concat(Y)).slice(1),name:Y[Y.length-1],length:L.length,offset:I.slice(0,G).reduce(o,0)}}),w.length=I.reduce(o,0);const M=w.files[w.files.length-1];return w.pieceLength=A.info["piece length"],w.lastPieceLength=(M.offset+M.length)%w.pieceLength||w.pieceLength,w.pieces=a(A.info.pieces),w}function r(A){const w={info:A.info};return w["announce-list"]=(A.announce||[]).map(I=>(w.announce||(w.announce=I),I=g.from(I,"utf8"),[I])),w["url-list"]=A.urlList||[],A.private!==void 0&&(w.private=+A.private),A.created&&(w["creation date"]=0|A.created.getTime()/1e3),A.createdBy&&(w["created by"]=A.createdBy),A.comment&&(w.comment=A.comment),s.encode(w)}function m(A){return typeof Blob<"u"&&A instanceof Blob}function o(A,w){return A+w.length}function a(A){const w=[];for(let I=0;I<A.length;I+=20)w.push(A.slice(I,I+20).toString("hex"));return w}function l(A,w){if(!A)throw new Error(`Torrent is missing required field: ${w}`)}/*! parse-torrent. MIT License. WebTorrent LLC <https://webtorrent.io/opensource> */const s=S("bencode"),n=S("blob-to-buffer"),d=S("fs"),c=S("simple-get"),f=S("magnet-uri"),h=S("path"),x=S("simple-sha1"),R=S("queue-microtask");V.exports=k,V.exports.remote=E,V.exports.toMagnetURI=f.encode,V.exports.toTorrentFile=r,g.alloc(0)}).call(this)}).call(this,S("buffer").Buffer)},{bencode:27,"blob-to-buffer":37,buffer:75,fs:41,"magnet-uri":157,path:184,"queue-microtask":205,"simple-get":245,"simple-sha1":247}],184:[function(S,V,O){(function(g){(function(){function k(m){if(typeof m!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(m))}function E(m,o){for(var a="",l=0,s=-1,n=0,d=0,c;d<=m.length;++d){if(d<m.length)c=m.charCodeAt(d);else{if(c===47)break;c=47}if(c===47){if(!(s===d-1||n===1))if(s!==d-1&&n===2){if(2>a.length||l!==2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(2<a.length){var f=a.lastIndexOf("/");if(f!==a.length-1){f===-1?(a="",l=0):(a=a.slice(0,f),l=a.length-1-a.lastIndexOf("/")),s=d,n=0;continue}}else if(a.length===2||a.length===1){a="",l=0,s=d,n=0;continue}}o&&(0<a.length?a+="/..":a="..",l=2)}else 0<a.length?a+="/"+m.slice(s+1,d):a=m.slice(s+1,d),l=d-s-1;s=d,n=0}else c===46&&n!==-1?++n:n=-1}return a}function v(m,o){var a=o.dir||o.root,l=o.base||(o.name||"")+(o.ext||"");return a?a===o.root?a+l:a+m+l:l}var r={resolve:function(){for(var o="",a=!1,l=arguments.length-1,s;-1<=l&&!a;l--){var n;0<=l?n=arguments[l]:(s===void 0&&(s=g.cwd()),n=s),k(n),n.length!==0&&(o=n+"/"+o,a=n.charCodeAt(0)===47)}return o=E(o,!a),a?0<o.length?"/"+o:"/":0<o.length?o:"."},normalize:function(o){if(k(o),o.length===0)return".";var a=o.charCodeAt(0)===47,l=o.charCodeAt(o.length-1)===47;return o=E(o,!a),o.length!==0||a||(o="."),0<o.length&&l&&(o+="/"),a?"/"+o:o},isAbsolute:function(o){return k(o),0<o.length&&o.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var o=0,a,l;o<arguments.length;++o)l=arguments[o],k(l),0<l.length&&(a===void 0?a=l:a+="/"+l);return a===void 0?".":r.normalize(a)},relative:function(o,a){if(k(o),k(a),o===a||(o=r.resolve(o),a=r.resolve(a),o===a))return"";for(var l=1;l<o.length&&o.charCodeAt(l)===47;++l);for(var s=o.length,n=s-l,d=1;d<a.length&&a.charCodeAt(d)===47;++d);for(var c=a.length,f=c-d,h=n<f?n:f,x=-1,R=0;R<=h;++R){if(R===h){if(f>h){if(a.charCodeAt(d+R)===47)return a.slice(d+R+1);if(R===0)return a.slice(d+R)}else n>h&&(o.charCodeAt(l+R)===47?x=R:R===0&&(x=0));break}var A=o.charCodeAt(l+R),w=a.charCodeAt(d+R);if(A!==w)break;A===47&&(x=R)}var I="";for(R=l+x+1;R<=s;++R)(R===s||o.charCodeAt(R)===47)&&(I+=I.length===0?"..":"/..");return 0<I.length?I+a.slice(d+x):(d+=x,a.charCodeAt(d)===47&&++d,a.slice(d))},_makeLong:function(o){return o},dirname:function(o){if(k(o),o.length===0)return".";for(var a=o.charCodeAt(0),l=a===47,s=-1,n=!0,d=o.length-1;1<=d;--d)if(a=o.charCodeAt(d),a!==47)n=!1;else if(!n){s=d;break}return s===-1?l?"/":".":l&&s===1?"//":o.slice(0,s)},basename:function(o,a){if(a!==void 0&&typeof a!="string")throw new TypeError('"ext" argument must be a string');k(o);var l=0,s=-1,n=!0,d;if(a!==void 0&&0<a.length&&a.length<=o.length){if(a.length===o.length&&a===o)return"";var c=a.length-1,f=-1;for(d=o.length-1;0<=d;--d){var h=o.charCodeAt(d);if(h!==47)f===-1&&(n=!1,f=d+1),0<=c&&(h===a.charCodeAt(c)?--c==-1&&(s=d):(c=-1,s=f));else if(!n){l=d+1;break}}return l===s?s=f:s===-1&&(s=o.length),o.slice(l,s)}for(d=o.length-1;0<=d;--d)if(o.charCodeAt(d)!==47)s===-1&&(n=!1,s=d+1);else if(!n){l=d+1;break}return s===-1?"":o.slice(l,s)},extname:function(o){k(o);for(var a=-1,l=0,s=-1,n=!0,d=0,c=o.length-1,f;0<=c;--c){if(f=o.charCodeAt(c),f===47){if(!n){l=c+1;break}continue}s===-1&&(n=!1,s=c+1),f===46?a===-1?a=c:d!==1&&(d=1):a!==-1&&(d=-1)}return a===-1||s===-1||d===0||d===1&&a===s-1&&a===l+1?"":o.slice(a,s)},format:function(o){if(o===null||typeof o!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof o);return v("/",o)},parse:function(o){k(o);var a={root:"",dir:"",base:"",ext:"",name:""};if(o.length===0)return a;var l=o.charCodeAt(0),s=l===47,n;s?(a.root="/",n=1):n=0;for(var d=-1,c=0,f=-1,h=!0,x=o.length-1,R=0;x>=n;--x){if(l=o.charCodeAt(x),l===47){if(!h){c=x+1;break}continue}f===-1&&(h=!1,f=x+1),l===46?d===-1?d=x:R!==1&&(R=1):d!==-1&&(R=-1)}return d===-1||f===-1||R===0||R===1&&d===f-1&&d===c+1?f!==-1&&(c===0&&s?a.base=a.name=o.slice(1,f):a.base=a.name=o.slice(c,f)):(c===0&&s?(a.name=o.slice(1,d),a.base=o.slice(1,f)):(a.name=o.slice(c,d),a.base=o.slice(c,f)),a.ext=o.slice(d,f)),0<c?a.dir=o.slice(0,c-1):s&&(a.dir="/"),a},sep:"/",delimiter:":",win32:null,posix:null};r.posix=r,V.exports=r}).call(this)}).call(this,S("_process"))},{_process:192}],185:[function(S,V,O){O.pbkdf2=S("./lib/async"),O.pbkdf2Sync=S("./lib/sync")},{"./lib/async":186,"./lib/sync":189}],186:[function(S,V,O){(function(g){(function(){function k(x){if(g.process&&!g.process.browser||!n||!n.importKey||!n.deriveBits)return Promise.resolve(!1);if(c[x]!==void 0)return c[x];f=f||m.alloc(8);var R=v(f,f,10,128,x).then(function(){return!0}).catch(function(){return!1});return c[x]=R,R}function E(){return h||(h=g.process&&g.process.nextTick?g.process.nextTick:g.queueMicrotask?g.queueMicrotask:g.setImmediate?g.setImmediate:g.setTimeout,h)}function v(x,R,A,w,I){return n.importKey("raw",x,{name:"PBKDF2"},!1,["deriveBits"]).then(function(M){return n.deriveBits({name:"PBKDF2",salt:R,iterations:A,hash:{name:I}},M,w<<3)}).then(function(M){return m.from(M)})}function r(x,R){x.then(function(A){E()(function(){R(null,A)})},function(A){E()(function(){R(A)})})}var m=S("safe-buffer").Buffer,o=S("./precondition"),a=S("./default-encoding"),l=S("./sync"),s=S("./to-buffer"),n=g.crypto&&g.crypto.subtle,d={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},c=[],f,h;V.exports=function(x,R,A,w,I,M){typeof I=="function"&&(M=I,I=void 0),I=I||"sha1";var L=d[I.toLowerCase()];if(!L||typeof g.Promise!="function")return void E()(function(){var G;try{G=l(x,R,A,w,I)}catch(Y){return M(Y)}M(null,G)});if(o(A,w),x=s(x,a,"Password"),R=s(R,a,"Salt"),typeof M!="function")throw new Error("No callback provided to pbkdf2");r(k(L).then(function(G){return G?v(x,R,A,w,L):l(x,R,A,w,I)}),M)}}).call(this)}).call(this,typeof ut>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:ut)},{"./default-encoding":187,"./precondition":188,"./sync":189,"./to-buffer":190,"safe-buffer":234}],187:[function(S,V,O){(function(g,k){(function(){var E;if(k.process&&k.process.browser)E="utf-8";else if(k.process&&k.process.version){var v=parseInt(g.version.split(".")[0].slice(1),10);E=6<=v?"utf-8":"binary"}else E="utf-8";V.exports=E}).call(this)}).call(this,S("_process"),typeof ut>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:ut)},{_process:192}],188:[function(S,V,O){V.exports=function(g,k){if(typeof g!="number")throw new TypeError("Iterations not a number");if(0>g)throw new TypeError("Bad iterations");if(typeof k!="number")throw new TypeError("Key length not a number");if(0>k||1073741823<k||k!==k)throw new TypeError("Bad key length")}},{}],189:[function(S,V,O){function g(c,f,h){var x=k(c),R=c==="sha512"||c==="sha384"?128:64;f.length>R?f=x(f):f.length<R&&(f=o.concat([f,n],R));for(var A=o.allocUnsafe(R+d[c]),w=o.allocUnsafe(R+d[c]),I=0;I<R;I++)A[I]=54^f[I],w[I]=92^f[I];var M=o.allocUnsafe(R+h+4);A.copy(M,0,0,R),this.ipad1=M,this.ipad2=A,this.opad=w,this.alg=c,this.blocksize=R,this.hash=x,this.size=d[c]}function k(c){function f(x){return m(c).update(x).digest()}function h(x){return new r().update(x).digest()}return c==="rmd160"||c==="ripemd160"?h:c==="md5"?v:f}function E(c,f,h,x,R){a(h,x),c=s(c,l,"Password"),f=s(f,l,"Salt"),R=R||"sha1";var A=new g(R,c,f.length),w=o.allocUnsafe(x),I=o.allocUnsafe(f.length+4);f.copy(I,0,0,f.length);for(var M=0,L=d[R],G=Ee(x/L),Y=1;Y<=G;Y++){I.writeUInt32BE(Y,f.length);for(var ie=A.run(I,A.ipad1),ae=ie,J=1;J<h;J++){ae=A.run(ae,A.ipad2);for(var B=0;B<L;B++)ie[B]^=ae[B]}ie.copy(w,M),M+=L}return w}var v=S("create-hash/md5"),r=S("ripemd160"),m=S("sha.js"),o=S("safe-buffer").Buffer,a=S("./precondition"),l=S("./default-encoding"),s=S("./to-buffer"),n=o.alloc(128),d={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};g.prototype.run=function(c,f){c.copy(f,this.blocksize);var h=this.hash(f);return h.copy(this.opad,this.blocksize),this.hash(this.opad)},V.exports=E},{"./default-encoding":187,"./precondition":188,"./to-buffer":190,"create-hash/md5":85,ripemd160:230,"safe-buffer":234,"sha.js":237}],190:[function(S,V,O){var g=S("safe-buffer").Buffer;V.exports=function(k,E,v){if(g.isBuffer(k))return k;if(typeof k=="string")return g.from(k,E);if(ArrayBuffer.isView(k))return g.from(k.buffer);throw new TypeError(v+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":234}],191:[function(S,V,O){function g(k){return ve(16384,0|1<<Math.log2(1024>k?1:k/1024)+.5)}V.exports=g},{}],192:[function(S,V,O){function g(){throw new Error("setTimeout has not been defined")}function k(){throw new Error("clearTimeout has not been defined")}function E(x){if(s===setTimeout)return setTimeout(x,0);if((s===g||!s)&&setTimeout)return s=setTimeout,setTimeout(x,0);try{return s(x,0)}catch{try{return s.call(null,x,0)}catch{return s.call(this,x,0)}}}function v(x){if(n===clearTimeout)return clearTimeout(x);if((n===k||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(x);try{return n(x)}catch{try{return n.call(null,x)}catch{return n.call(this,x)}}}function r(){c&&h&&(c=!1,h.length?d=h.concat(d):f=-1,d.length&&m())}function m(){if(!c){var x=E(r);c=!0;for(var R=d.length;R;){for(h=d,d=[];++f<R;)h&&h[f].run();f=-1,R=d.length}h=null,c=!1,v(x)}}function o(x,R){this.fun=x,this.array=R}function a(){}var l=V.exports={},s,n;(function(){try{s=typeof setTimeout=="function"?setTimeout:g}catch{s=g}try{n=typeof clearTimeout=="function"?clearTimeout:k}catch{n=k}})();var d=[],c=!1,f=-1,h;l.nextTick=function(x){var R=Array(arguments.length-1);if(1<arguments.length)for(var A=1;A<arguments.length;A++)R[A-1]=arguments[A];d.push(new o(x,R)),d.length!==1||c||E(m)},o.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=a,l.addListener=a,l.once=a,l.off=a,l.removeListener=a,l.removeAllListeners=a,l.emit=a,l.prependListener=a,l.prependOnceListener=a,l.listeners=function(x){return[]},l.binding=function(x){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(x){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}],193:[function(S,V,O){O.publicEncrypt=S("./publicEncrypt"),O.privateDecrypt=S("./privateDecrypt"),O.privateEncrypt=function(k,E){return O.publicEncrypt(k,E,!0)},O.publicDecrypt=function(k,E){return O.privateDecrypt(k,E,!0)}},{"./privateDecrypt":196,"./publicEncrypt":197}],194:[function(S,V,O){function g(v){var r=E.allocUnsafe(4);return r.writeUInt32BE(v,0),r}var k=S("create-hash"),E=S("safe-buffer").Buffer;V.exports=function(v,r){for(var m=E.alloc(0),o=0,a;m.length<r;)a=g(o++),m=E.concat([m,k("sha1").update(v).update(a).digest()]);return m.slice(0,r)}},{"create-hash":84,"safe-buffer":234}],195:[function(S,V,O){arguments[4][22][0].apply(O,arguments)},{buffer:41,dup:22}],196:[function(S,V,O){function g(d,c){var f=d.modulus.byteLength(),h=l("sha1").update(n.alloc(0)).digest(),x=h.length;if(c[0]!==0)throw new Error("decryption error");var R=c.slice(1,x+1),A=c.slice(x+1),w=m(R,r(A,x)),I=m(A,r(w,f-x-1));if(E(h,I.slice(0,x)))throw new Error("decryption error");for(var M=x;I[M]===0;)M++;if(I[M++]!==1)throw new Error("decryption error");return I.slice(M)}function k(d,c,f){for(var h=c.slice(0,2),x=2,R=0;c[x++]!==0;)if(x>=c.length){R++;break}var A=c.slice(2,x-1);if((h.toString("hex")!=="0002"&&!f||h.toString("hex")!=="0001"&&f)&&R++,8>A.length&&R++,R)throw new Error("decryption error");return c.slice(x)}function E(d,c){d=n.from(d),c=n.from(c);var f=0,h=d.length;d.length!==c.length&&(f++,h=ke(d.length,c.length));for(var x=-1;++x<h;)f+=d[x]^c[x];return f}var v=S("parse-asn1"),r=S("./mgf"),m=S("./xor"),o=S("bn.js"),a=S("browserify-rsa"),l=S("create-hash"),s=S("./withPublic"),n=S("safe-buffer").Buffer;V.exports=function(c,f,h){var x;x=c.padding?c.padding:h?1:4;var R=v(c),A=R.modulus.byteLength();if(f.length>A||0<=new o(f).cmp(R.modulus))throw new Error("decryption error");var w;w=h?s(new o(f),R):a(f,R);var I=n.alloc(A-w.length);if(w=n.concat([I,w],A),x===4)return g(R,w);if(x===1)return k(R,w,h);if(x===3)return w;throw new Error("unknown padding")}},{"./mgf":194,"./withPublic":198,"./xor":199,"bn.js":195,"browserify-rsa":62,"create-hash":84,"parse-asn1":182,"safe-buffer":234}],197:[function(S,V,O){function g(c,f){var h=c.modulus.byteLength(),x=f.length,R=m("sha1").update(d.alloc(0)).digest(),A=R.length,w=2*A;if(x>h-w-2)throw new Error("message too long");var I=d.alloc(h-x-w-2),M=h-A-1,L=r(A),G=a(d.concat([R,I,d.alloc(1,1),f],M),o(L,M)),Y=a(L,o(G,A));return new l(d.concat([d.alloc(1),Y,G],h))}function k(c,f,h){var x=f.length,R=c.modulus.byteLength();if(x>R-11)throw new Error("message too long");var A;return A=h?d.alloc(R-x-3,255):E(R-x-3),new l(d.concat([d.from([0,h?1:2]),A,d.alloc(1),f],R))}function E(c){for(var f=d.allocUnsafe(c),h=0,x=r(2*c),R=0,A;h<c;)R===x.length&&(x=r(2*c),R=0),A=x[R++],A&&(f[h++]=A);return f}var v=S("parse-asn1"),r=S("randombytes"),m=S("create-hash"),o=S("./mgf"),a=S("./xor"),l=S("bn.js"),s=S("./withPublic"),n=S("browserify-rsa"),d=S("safe-buffer").Buffer;V.exports=function(f,h,x){var R;R=f.padding?f.padding:x?1:4;var A=v(f),w;if(R===4)w=g(A,h);else if(R===1)w=k(A,h,x);else{if(R!==3)throw new Error("unknown padding");if(w=new l(h),0<=w.cmp(A.modulus))throw new Error("data too long for modulus")}return x?n(w,A):s(w,A)}},{"./mgf":194,"./withPublic":198,"./xor":199,"bn.js":195,"browserify-rsa":62,"create-hash":84,"parse-asn1":182,randombytes:208,"safe-buffer":234}],198:[function(S,V,O){function g(v,r){return E.from(v.toRed(k.mont(r.modulus)).redPow(new k(r.publicExponent)).fromRed().toArray())}var k=S("bn.js"),E=S("safe-buffer").Buffer;V.exports=g},{"bn.js":195,"safe-buffer":234}],199:[function(S,V,O){V.exports=function(k,E){for(var v=k.length,r=-1;++r<v;)k[r]^=E[r];return k}},{}],200:[function(S,V,O){(function(g){(function(){var k=S("once"),E=S("end-of-stream"),v=S("fs"),r=function(){},m=/^v?\.0/.test(g.version),o=function(f){return typeof f=="function"},a=function(f){return!!m&&!!v&&(f instanceof(v.ReadStream||r)||f instanceof(v.WriteStream||r))&&o(f.close)},l=function(f){return f.setHeader&&o(f.abort)},s=function(f,h,x,R){R=k(R);var A=!1;f.on("close",function(){A=!0}),E(f,{readable:h,writable:x},function(I){return I?R(I):(A=!0,void R())});var w=!1;return function(I){if(!A)return w?void 0:(w=!0,a(f)?f.close(r):l(f)?f.abort():o(f.destroy)?f.destroy():void R(I||new Error("stream was destroyed")))}},n=function(f){f()},d=function(f,h){return f.pipe(h)},c=function(){var f=Array.prototype.slice.call(arguments),h=o(f[f.length-1]||r)&&f.pop()||r;if(Array.isArray(f[0])&&(f=f[0]),2>f.length)throw new Error("pump requires two streams per minimum");var x=f.map(function(A,w){var I=w<f.length-1,M=0<w;return s(A,I,M,function(L){R||(R=L),L&&x.forEach(n),I||(x.forEach(n),h(R))})}),R;return f.reduce(d)};V.exports=c}).call(this)}).call(this,S("_process"))},{_process:192,"end-of-stream":120,fs:41,once:177}],201:[function(S,V,O){(function(g){(function(){/*! https://mths.be/punycode v1.4.1 by @mathias */(function(k){function E(ae){throw new RangeError(M[ae])}function v(ae,J){for(var B=ae.length,y=[];B--;)y[B]=J(ae[B]);return y}function r(ae,J){var B=ae.split("@"),y="";1<B.length&&(y=B[0]+"@",ae=B[1]),ae=ae.replace(I,".");var p=ae.split("."),T=v(p,J).join(".");return y+T}function m(ae){for(var J=[],B=0,y=ae.length,p,T;B<y;)p=ae.charCodeAt(B++),55296<=p&&56319>=p&&B<y?(T=ae.charCodeAt(B++),(64512&T)==56320?J.push(((1023&p)<<10)+(1023&T)+65536):(J.push(p),B--)):J.push(p);return J}function o(ae){return v(ae,function(J){var B="";return 65535<J&&(J-=65536,B+=G(55296|1023&J>>>10),J=56320|1023&J),B+=G(J),B}).join("")}function a(ae){return 10>ae-48?ae-22:26>ae-65?ae-65:26>ae-97?ae-97:36}function l(ae,J){return ae+22+75*(26>ae)-((J!=0)<<5)}function s(ae,J,B){var y=0;for(ae=B?L(ae/700):ae>>1,ae+=L(ae/J);455<ae;y+=36)ae=L(ae/35);return L(y+36*ae/(ae+38))}function n(ae){var J=[],B=ae.length,y=0,p=128,T=72,D,j,U,N,W,Q,ee,fe,oe,me;for(j=ae.lastIndexOf("-"),0>j&&(j=0),U=0;U<j;++U)128<=ae.charCodeAt(U)&&E("not-basic"),J.push(ae.charCodeAt(U));for(N=0<j?j+1:0;N<B;){for(W=y,Q=1,ee=36;N>=B&&E("invalid-input"),fe=a(ae.charCodeAt(N++)),(36<=fe||fe>L((2147483647-y)/Q))&&E("overflow"),y+=fe*Q,oe=ee<=T?1:ee>=T+26?26:ee-T,!(fe<oe);ee+=36)me=36-oe,Q>L(2147483647/me)&&E("overflow"),Q*=me;D=J.length+1,T=s(y-W,D,W==0),L(y/D)>2147483647-p&&E("overflow"),p+=L(y/D),y%=D,J.splice(y++,0,p)}return o(J)}function d(ae){var J=[],B,y,p,T,D,j,U,N,W,Q,ee,fe,oe,me,he;for(ae=m(ae),fe=ae.length,B=128,y=0,D=72,j=0;j<fe;++j)ee=ae[j],128>ee&&J.push(G(ee));for(p=T=J.length,T&&J.push("-");p<fe;){for(U=2147483647,j=0;j<fe;++j)ee=ae[j],ee>=B&&ee<U&&(U=ee);for(oe=p+1,U-B>L((2147483647-y)/oe)&&E("overflow"),y+=(U-B)*oe,B=U,j=0;j<fe;++j)if(ee=ae[j],ee<B&&2147483647<++y&&E("overflow"),ee==B){for(N=y,W=36;Q=W<=D?1:W>=D+26?26:W-D,!(N<Q);W+=36)he=N-Q,me=36-Q,J.push(G(l(Q+he%me,0))),N=L(he/me);J.push(G(l(N,0))),D=s(y,oe,p==T),y=0,++p}++y,++B}return J.join("")}function c(ae){return r(ae,function(J){return A.test(J)?n(J.slice(4).toLowerCase()):J})}function f(ae){return r(ae,function(J){return w.test(J)?"xn--"+d(J):J})}var h=typeof O=="object"&&O&&!O.nodeType&&O,x=typeof V=="object"&&V&&!V.nodeType&&V,R=typeof g=="object"&&g;(R.global===R||R.window===R||R.self===R)&&(k=R);var A=/^xn--/,w=/[^\x20-\x7E]/,I=/[\x2E\u3002\uFF0E\uFF61]/g,M={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},L=F,G=we,Y,ie;if(Y={version:"1.4.1",ucs2:{decode:m,encode:o},decode:n,encode:d,toASCII:f,toUnicode:c},typeof Te!="function")if(!(h&&x))k.punycode=Y;else if(V.exports==h)x.exports=Y;else for(ie in Y)Y.hasOwnProperty(ie)&&(h[ie]=Y[ie])})(this)}).call(this)}).call(this,typeof ut>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:ut)},{}],202:[function(S,V,O){function g(E,v){return Object.prototype.hasOwnProperty.call(E,v)}V.exports=function(E,v,r,m){v=v||"&",r=r||"=";var o={};if(typeof E!="string"||E.length===0)return o;var a=/\+/g;E=E.split(v);var l=1e3;m&&typeof m.maxKeys=="number"&&(l=m.maxKeys);var s=E.length;0<l&&s>l&&(s=l);for(var n=0;n<s;++n){var d=E[n].replace(a,"%20"),c=d.indexOf(r),f,h,x,R;0<=c?(f=d.substr(0,c),h=d.substr(c+1)):(f=d,h=""),x=decodeURIComponent(f),R=decodeURIComponent(h),g(o,x)?k(o[x])?o[x].push(R):o[x]=[o[x],R]:o[x]=R}return o};var k=Array.isArray||function(E){return Object.prototype.toString.call(E)==="[object Array]"}},{}],203:[function(S,V,O){function g(r,m){if(r.map)return r.map(m);for(var o=[],a=0;a<r.length;a++)o.push(m(r[a],a));return o}var k=function(r){switch(typeof r){case"string":return r;case"boolean":return r?"true":"false";case"number":return isFinite(r)?r:"";default:return""}};V.exports=function(r,m,o,a){return m=m||"&",o=o||"=",r===null&&(r=void 0),typeof r=="object"?g(v(r),function(l){var s=encodeURIComponent(k(l))+o;return E(r[l])?g(r[l],function(n){return s+encodeURIComponent(k(n))}).join(m):s+encodeURIComponent(k(r[l]))}).join(m):a?encodeURIComponent(k(a))+o+encodeURIComponent(k(r)):""};var E=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"},v=Object.keys||function(r){var m=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&m.push(o);return m}},{}],204:[function(S,V,O){O.decode=O.parse=S("./decode"),O.encode=O.stringify=S("./encode")},{"./decode":202,"./encode":203}],205:[function(S,V,O){(function(g){(function(){/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let k;V.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window>"u"?g:window):E=>(k||(k=Promise.resolve())).then(E).catch(v=>setTimeout(()=>{throw v},0))}).call(this)}).call(this,typeof ut>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:ut)},{}],206:[function(S,V,O){V.exports=typeof queueMicrotask=="function"?queueMicrotask:g=>Promise.resolve().then(g)},{}],207:[function(S,V,O){var g=function(k){var E=0;return function(){if(E===k.length)return null;var v=k.length-E,r=0|Math.random()*v,m=k[E+r],o=k[E];return k[E]=m,k[E+r]=o,E++,m}};V.exports=g},{}],208:[function(S,V,O){(function(g,k){(function(){function E(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}function v(o,a){if(o>4294967295)throw new RangeError("requested too many random bytes");var l=r.allocUnsafe(o);if(0<o)if(65536<o)for(var s=0;s<o;s+=65536)m.getRandomValues(l.slice(s,s+65536));else m.getRandomValues(l);return typeof a=="function"?g.nextTick(function(){a(null,l)}):l}var r=S("safe-buffer").Buffer,m=k.crypto||k.msCrypto;V.exports=m&&m.getRandomValues?v:E}).call(this)}).call(this,S("_process"),typeof ut>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:ut)},{_process:192,"safe-buffer":234}],209:[function(S,V,O){(function(g,k){(function(){function E(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}function v(f,h){if(typeof f!="number"||f!==f)throw new TypeError("offset must be a number");if(4294967295<f||0>f)throw new TypeError("offset must be a uint32");if(f>d||f>h)throw new RangeError("offset out of range")}function r(f,h,x){if(typeof f!="number"||f!==f)throw new TypeError("size must be a number");if(4294967295<f||0>f)throw new TypeError("size must be a uint32");if(f+h>x||f>d)throw new RangeError("buffer too small")}function m(f,h,x,R){if(!n.isBuffer(f)&&!(f instanceof k.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof h=="function")R=h,h=0,x=f.length;else if(typeof x=="function")R=x,x=f.length-h;else if(typeof R!="function")throw new TypeError('"cb" argument must be a function');return v(h,f.length),r(x,h,f.length),o(f,h,x,R)}function o(f,h,x,R){if(g.browser){var A=f.buffer,w=new Uint8Array(A,h,x);return c.getRandomValues(w),R?void g.nextTick(function(){R(null,f)}):f}if(R)return void s(x,function(M,L){return M?R(M):(L.copy(f,h),void R(null,f))});var I=s(x);return I.copy(f,h),f}function a(f,h,x){if(typeof h>"u"&&(h=0),!n.isBuffer(f)&&!(f instanceof k.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return v(h,f.length),x===void 0&&(x=f.length-h),r(x,h,f.length),o(f,h,x)}var l=S("safe-buffer"),s=S("randombytes"),n=l.Buffer,d=l.kMaxLength,c=k.crypto||k.msCrypto;c&&c.getRandomValues||!g.browser?(O.randomFill=m,O.randomFillSync=a):(O.randomFill=E,O.randomFillSync=E)}).call(this)}).call(this,S("_process"),typeof ut>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:ut)},{_process:192,randombytes:208,"safe-buffer":234}],210:[function(S,V,O){function g(o,a,l){if(typeof a!="string")throw new TypeError("argument str must be a string");var s=a.indexOf("=");if(s===-1)return-2;var n=a.slice(s+1).split(","),d=[];d.type=a.slice(0,s);for(var c=0;c<n.length;c++){var f=n[c].split("-"),h=parseInt(f[0],10),x=parseInt(f[1],10);isNaN(h)?(h=o-x,x=o-1):isNaN(x)&&(x=o-1),x>o-1&&(x=o-1),!(isNaN(h)||isNaN(x)||h>x||0>h)&&d.push({start:h,end:x})}return 1>d.length?-1:l&&l.combine?k(d):d}function k(o){for(var a=o.map(E).sort(m),l=0,s=1;s<a.length;s++){var n=a[s],d=a[l];n.start>d.end+1?a[++l]=n:n.end>d.end&&(d.end=n.end,d.index=ke(d.index,n.index))}a.length=l+1;var c=a.sort(r).map(v);return c.type=o.type,c}function E(o,a){return{start:o.start,end:o.end,index:a}}function v(o){return{start:o.start,end:o.end}}function r(o,a){return o.index-a.index}function m(o,a){return o.start-a.start}V.exports=g},{}],211:[function(S,V,O){const{Writable:g,PassThrough:k}=S("readable-stream");class E extends g{constructor(r,m={}){super(m),this.destroyed=!1,this._queue=[],this._position=r||0,this._cb=null,this._buffer=null,this._out=null}_write(r,m,o){let a=!0;for(;;){if(this.destroyed)return;if(this._queue.length===0)return this._buffer=r,void(this._cb=o);this._buffer=null;var l=this._queue[0];const s=ve(l.start-this._position,0),n=l.end-this._position;if(s>=r.length)return this._position+=r.length,o(null);let d;if(n>r.length){this._position+=r.length,d=s===0?r:r.slice(s),a=l.stream.write(d)&&a;break}this._position+=n,d=s===0&&n===r.length?r:r.slice(s,n),a=l.stream.write(d)&&a,l.last&&l.stream.end(),r=r.slice(n),this._queue.shift()}a?o(null):l.stream.once("drain",o.bind(null,null))}slice(r){if(this.destroyed)return null;Array.isArray(r)||(r=[r]);const m=new k;return r.forEach((o,a)=>{this._queue.push({start:o.start,end:o.end,stream:m,last:a===r.length-1})}),this._buffer&&this._write(this._buffer,null,this._cb),m}destroy(r){this.destroyed||(this.destroyed=!0,r&&this.emit("error",r))}}V.exports=E},{"readable-stream":227}],212:[function(S,V,O){function g(o){return parseInt(o,10)===o}function k(o){function a(){for(var n=Array(o),d=0;d<o;d++)n[d]=d;return n}function l(n){if(n===void 0){n=Array(o);for(var d=0;d<o;d++)n[d]=F(Math.random()*o)}else if(typeof n=="string")n=""+n,n=n.split("").map(function(A){return A.charCodeAt(0)%o});else if(Array.isArray(n)){if(!n.every(function(A){return typeof A=="number"&&A===(0|A)}))throw new TypeError("invalid seed key specified: not array of integers")}else throw new TypeError("invalid seed key specified");for(var c=n.length,f=a(),h=0,x=0;x<o;x++){h=(h+f[x]+n[x%c])%o;var R=f[x];f[x]=f[h],f[h]=R}return f}function s(n){this.s=l(n),this.i=0,this.j=0}return s.prototype.randomNative=function(){this.i=(this.i+1)%o,this.j=(this.j+this.s[this.i])%o;var n=this.s[this.i];this.s[this.i]=this.s[this.j],this.s[this.j]=n;var d=this.s[(this.s[this.i]+this.s[this.j])%o];return d},s.prototype.randomUInt32=function(){var n=this.randomByte(),d=this.randomByte(),c=this.randomByte(),f=this.randomByte();return 256*(256*(256*n+d)+c)+f},s.prototype.randomFloat=function(){return this.randomUInt32()/4294967296},s.prototype.random=function(){var n,d;if(arguments.length===1)n=0,d=arguments[0];else if(arguments.length===2)n=arguments[0],d=arguments[1];else throw new TypeError("random takes one or two integer arguments");if(!g(n)||!g(d))throw new TypeError("random takes one or two integer arguments");return n+this.randomUInt32()%(d-n+1)},s.prototype.currentState=function(){return{i:this.i,j:this.j,s:this.s.slice()}},s.prototype.setState=function(n){var d=n.s,c=n.i,f=n.j;if(!(c===(0|c)&&0<=c&&c<o))throw new Error("state.i should be integer [0, "+(o-1)+"]");if(!(f===(0|f)&&0<=f&&f<o))throw new Error("state.j should be integer [0, "+(o-1)+"]");if(!Array.isArray(d)||d.length!==o)throw new Error("state should be array of length "+o);for(var h=0;h<o;h++)if(d.indexOf(h)===-1)throw new Error("state should be permutation of 0.."+(o-1)+": "+h+" is missing");this.i=c,this.j=f,this.s=d.slice()},s}function E(o){return 10>o?we(48+o):we(97+o-10)}function v(o){return parseInt(o,16)}var r=k(256);r.prototype.randomByte=r.prototype.randomNative;var m=k(16);m.prototype.randomByte=function(){var o=this.randomNative(),a=this.randomNative();return 16*o+a},m.prototype.currentStateString=function(){var o=this.currentState(),a=E(o.i),l=E(o.j),s=a+l+o.s.map(E).join("");return s},m.prototype.setStateString=function(o){if(!o.match(/^[0-9a-f]{18}$/))throw new TypeError("RC4small stateString should be 18 hex character string");var a=v(o[0]),l=v(o[1]),s=o.split("").slice(2).map(v);this.setState({i:a,j:l,s})},r.RC4small=m,V.exports=r},{}],213:[function(S,V,O){function g(a,l){a.prototype=Object.create(l.prototype),a.prototype.constructor=a,a.__proto__=l}function k(a,l,s){function n(c,f,h){return typeof l=="string"?l:l(c,f,h)}s||(s=Error);var d=function(c){function f(h,x,R){return c.call(this,n(h,x,R))||this}return g(f,c),f}(s);d.prototype.name=s.name,d.prototype.code=a,o[a]=d}function E(a,l){if(Array.isArray(a)){var s=a.length;return a=a.map(function(n){return n+""}),2<s?"one of ".concat(l," ").concat(a.slice(0,s-1).join(", "),", or ")+a[s-1]:s===2?"one of ".concat(l," ").concat(a[0]," or ").concat(a[1]):"of ".concat(l," ").concat(a[0])}return"of ".concat(l," ").concat(a+"")}function v(a,l,s){return a.substr(!s||0>s?0:+s,l.length)===l}function r(a,l,s){return(s===void 0||s>a.length)&&(s=a.length),a.substring(s-l.length,s)===l}function m(a,l,s){return typeof s!="number"&&(s=0),!(s+l.length>a.length)&&a.indexOf(l,s)!==-1}var o={};k("ERR_INVALID_OPT_VALUE",function(a,l){return'The value "'+l+'" is invalid for option "'+a+'"'},TypeError),k("ERR_INVALID_ARG_TYPE",function(a,l,s){var n;typeof l=="string"&&v(l,"not ")?(n="must not be",l=l.replace(/^not /,"")):n="must be";var d;if(r(a," argument"))d="The ".concat(a," ").concat(n," ").concat(E(l,"type"));else{var c=m(a,".")?"property":"argument";d='The "'.concat(a,'" ').concat(c," ").concat(n," ").concat(E(l,"type"))}return d+=". Received type ".concat(typeof s),d},TypeError),k("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),k("ERR_METHOD_NOT_IMPLEMENTED",function(a){return"The "+a+" method is not implemented"}),k("ERR_STREAM_PREMATURE_CLOSE","Premature close"),k("ERR_STREAM_DESTROYED",function(a){return"Cannot call "+a+" after a stream was destroyed"}),k("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),k("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),k("ERR_STREAM_WRITE_AFTER_END","write after end"),k("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),k("ERR_UNKNOWN_ENCODING",function(a){return"Unknown encoding: "+a},TypeError),k("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),V.exports.codes=o},{}],214:[function(S,V,O){(function(g){(function(){function k(n){return this instanceof k?(m.call(this,n),o.call(this,n),this.allowHalfOpen=!0,void(n&&(n.readable===!1&&(this.readable=!1),n.writable===!1&&(this.writable=!1),n.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",E))))):new k(n)}function E(){this._writableState.ended||g.nextTick(v,this)}function v(n){n.end()}var r=Object.keys||function(n){var d=[];for(var c in n)d.push(c);return d};V.exports=k;var m=S("./_stream_readable"),o=S("./_stream_writable");S("inherits")(k,m);for(var a=r(o.prototype),l=0,s;l<a.length;l++)s=a[l],k.prototype[s]||(k.prototype[s]=o.prototype[s]);Object.defineProperty(k.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(k.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(k.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(d){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=d,this._writableState.destroyed=d)}})}).call(this)}).call(this,S("_process"))},{"./_stream_readable":216,"./_stream_writable":218,_process:192,inherits:146}],215:[function(S,V,O){function g(E){return this instanceof g?void k.call(this,E):new g(E)}V.exports=g;var k=S("./_stream_transform");S("inherits")(g,k),g.prototype._transform=function(E,v,r){r(null,E)}},{"./_stream_transform":217,inherits:146}],216:[function(S,V,O){(function(g,k){(function(){function E(de){return T.from(de)}function v(de){return T.isBuffer(de)||de instanceof D}function r(de,q,P){return typeof de.prependListener=="function"?de.prependListener(q,P):void(de._events&&de._events[q]?Array.isArray(de._events[q])?de._events[q].unshift(P):de._events[q]=[P,de._events[q]]:de.on(q,P))}function m(de,q,P){B=B||S("./_stream_duplex"),de=de||{},typeof P!="boolean"&&(P=q instanceof B),this.objectMode=!!de.objectMode,P&&(this.objectMode=this.objectMode||!!de.readableObjectMode),this.highWaterMark=ee(this,de,"readableHighWaterMark",P),this.buffer=new N,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=de.emitClose!==!1,this.autoDestroy=!!de.autoDestroy,this.destroyed=!1,this.defaultEncoding=de.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,de.encoding&&(!Ae&&(Ae=S("string_decoder/").StringDecoder),this.decoder=new Ae(de.encoding),this.encoding=de.encoding)}function o(de){if(B=B||S("./_stream_duplex"),!(this instanceof o))return new o(de);var q=this instanceof B;this._readableState=new m(de,this,q),this.readable=!0,de&&(typeof de.read=="function"&&(this._read=de.read),typeof de.destroy=="function"&&(this._destroy=de.destroy)),p.call(this)}function a(de,q,P,H,Z){U("readableAddChunk",q);var se=de._readableState;if(q===null)se.reading=!1,c(de,se);else{var ue;if(Z||(ue=s(se,q)),ue)xe(de,ue);else if(!(se.objectMode||q&&0<q.length))H||(se.reading=!1,x(de,se));else if(typeof q=="string"||se.objectMode||Object.getPrototypeOf(q)===T.prototype||(q=E(q)),H)se.endEmitted?xe(de,new Se):l(de,se,q,!0);else if(se.ended)xe(de,new me);else{if(se.destroyed)return!1;se.reading=!1,se.decoder&&!P?(q=se.decoder.write(q),se.objectMode||q.length!==0?l(de,se,q,!1):x(de,se)):l(de,se,q,!1)}}return!se.ended&&(se.length<se.highWaterMark||se.length===0)}function l(de,q,P,H){q.flowing&&q.length===0&&!q.sync?(q.awaitDrain=0,de.emit("data",P)):(q.length+=q.objectMode?1:P.length,H?q.buffer.unshift(P):q.buffer.push(P),q.needReadable&&f(de)),x(de,q)}function s(de,q){var P;return v(q)||typeof q=="string"||q===void 0||de.objectMode||(P=new oe("chunk",["string","Buffer","Uint8Array"],q)),P}function n(de){return 1073741824<=de?de=1073741824:(de--,de|=de>>>1,de|=de>>>2,de|=de>>>4,de|=de>>>8,de|=de>>>16,de++),de}function d(de,q){return 0>=de||q.length===0&&q.ended?0:q.objectMode?1:de===de?(de>q.highWaterMark&&(q.highWaterMark=n(de)),de<=q.length?de:q.ended?q.length:(q.needReadable=!0,0)):q.flowing&&q.length?q.buffer.head.data.length:q.length}function c(de,q){if(U("onEofChunk"),!q.ended){if(q.decoder){var P=q.decoder.end();P&&P.length&&(q.buffer.push(P),q.length+=q.objectMode?1:P.length)}q.ended=!0,q.sync?f(de):(q.needReadable=!1,!q.emittedReadable&&(q.emittedReadable=!0,h(de)))}}function f(de){var q=de._readableState;U("emitReadable",q.needReadable,q.emittedReadable),q.needReadable=!1,q.emittedReadable||(U("emitReadable",q.flowing),q.emittedReadable=!0,g.nextTick(h,de))}function h(de){var q=de._readableState;U("emitReadable_",q.destroyed,q.length,q.ended),!q.destroyed&&(q.length||q.ended)&&(de.emit("readable"),q.emittedReadable=!1),q.needReadable=!q.flowing&&!q.ended&&q.length<=q.highWaterMark,G(de)}function x(de,q){q.readingMore||(q.readingMore=!0,g.nextTick(R,de,q))}function R(de,q){for(;!q.reading&&!q.ended&&(q.length<q.highWaterMark||q.flowing&&q.length===0);){var P=q.length;if(U("maybeReadMore read 0"),de.read(0),P===q.length)break}q.readingMore=!1}function A(de){return function(){var P=de._readableState;U("pipeOnDrain",P.awaitDrain),P.awaitDrain&&P.awaitDrain--,P.awaitDrain===0&&y(de,"data")&&(P.flowing=!0,G(de))}}function w(de){var q=de._readableState;q.readableListening=0<de.listenerCount("readable"),q.resumeScheduled&&!q.paused?q.flowing=!0:0<de.listenerCount("data")&&de.resume()}function I(de){U("readable nexttick read 0"),de.read(0)}function M(de,q){q.resumeScheduled||(q.resumeScheduled=!0,g.nextTick(L,de,q))}function L(de,q){U("resume",q.reading),q.reading||de.read(0),q.resumeScheduled=!1,de.emit("resume"),G(de),q.flowing&&!q.reading&&de.read(0)}function G(de){var q=de._readableState;for(U("flow",q.flowing);q.flowing&&de.read()!==null;);}function Y(de,q){if(q.length===0)return null;var P;return q.objectMode?P=q.buffer.shift():!de||de>=q.length?(P=q.decoder?q.buffer.join(""):q.buffer.length===1?q.buffer.first():q.buffer.concat(q.length),q.buffer.clear()):P=q.buffer.consume(de,q.decoder),P}function ie(de){var q=de._readableState;U("endReadable",q.endEmitted),q.endEmitted||(q.ended=!0,g.nextTick(ae,q,de))}function ae(de,q){if(U("endReadableNT",de.endEmitted,de.length),!de.endEmitted&&de.length===0&&(de.endEmitted=!0,q.readable=!1,q.emit("end"),de.autoDestroy)){var P=q._writableState;(!P||P.autoDestroy&&P.finished)&&q.destroy()}}function J(de,q){for(var P=0,H=de.length;P<H;P++)if(de[P]===q)return P;return-1}V.exports=o;var B;o.ReadableState=m,S("events").EventEmitter;var y=function(q,P){return q.listeners(P).length},p=S("./internal/streams/stream"),T=S("buffer").Buffer,D=k.Uint8Array||function(){},j=S("util"),U;U=j&&j.debuglog?j.debuglog("stream"):function(){};var N=S("./internal/streams/buffer_list"),W=S("./internal/streams/destroy"),Q=S("./internal/streams/state"),ee=Q.getHighWaterMark,fe=S("../errors").codes,oe=fe.ERR_INVALID_ARG_TYPE,me=fe.ERR_STREAM_PUSH_AFTER_EOF,he=fe.ERR_METHOD_NOT_IMPLEMENTED,Se=fe.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Ae,pe,ge;S("inherits")(o,p);var xe=W.errorOrDestroy,Ce=["error","close","destroy","pause","resume"];Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(q){this._readableState&&(this._readableState.destroyed=q)}}),o.prototype.destroy=W.destroy,o.prototype._undestroy=W.undestroy,o.prototype._destroy=function(de,q){q(de)},o.prototype.push=function(de,q){var P=this._readableState,H;return P.objectMode?H=!0:typeof de=="string"&&(q=q||P.defaultEncoding,q!==P.encoding&&(de=T.from(de,q),q=""),H=!0),a(this,de,q,!1,H)},o.prototype.unshift=function(de){return a(this,de,null,!0,!1)},o.prototype.isPaused=function(){return this._readableState.flowing===!1},o.prototype.setEncoding=function(de){Ae||(Ae=S("string_decoder/").StringDecoder);var q=new Ae(de);this._readableState.decoder=q,this._readableState.encoding=this._readableState.decoder.encoding;for(var P=this._readableState.buffer.head,H="";P!==null;)H+=q.write(P.data),P=P.next;return this._readableState.buffer.clear(),H!==""&&this._readableState.buffer.push(H),this._readableState.length=H.length,this},o.prototype.read=function(de){U("read",de),de=parseInt(de,10);var q=this._readableState,P=de;if(de!==0&&(q.emittedReadable=!1),de===0&&q.needReadable&&((q.highWaterMark===0?0<q.length:q.length>=q.highWaterMark)||q.ended))return U("read: emitReadable",q.length,q.ended),q.length===0&&q.ended?ie(this):f(this),null;if(de=d(de,q),de===0&&q.ended)return q.length===0&&ie(this),null;var H=q.needReadable;U("need readable",H),(q.length===0||q.length-de<q.highWaterMark)&&(H=!0,U("length less than watermark",H)),q.ended||q.reading?(H=!1,U("reading or ended",H)):H&&(U("do read"),q.reading=!0,q.sync=!0,q.length===0&&(q.needReadable=!0),this._read(q.highWaterMark),q.sync=!1,!q.reading&&(de=d(P,q)));var Z;return Z=0<de?Y(de,q):null,Z===null?(q.needReadable=q.length<=q.highWaterMark,de=0):(q.length-=de,q.awaitDrain=0),q.length===0&&(!q.ended&&(q.needReadable=!0),P!==de&&q.ended&&ie(this)),Z!==null&&this.emit("data",Z),Z},o.prototype._read=function(de){xe(this,new he("_read()"))},o.prototype.pipe=function(de,q){function P(Ge,je){U("onunpipe"),Ge===Ie&&je&&je.hasUnpiped===!1&&(je.hasUnpiped=!0,Z())}function H(){U("onend"),de.end()}function Z(){U("cleanup"),de.removeListener("close",be),de.removeListener("finish",Re),de.removeListener("drain",De),de.removeListener("error",ue),de.removeListener("unpipe",P),Ie.removeListener("end",H),Ie.removeListener("end",Pe),Ie.removeListener("data",se),We=!0,Be.awaitDrain&&(!de._writableState||de._writableState.needDrain)&&De()}function se(Ge){U("ondata");var je=de.write(Ge);U("dest.write",je),je===!1&&((Be.pipesCount===1&&Be.pipes===de||1<Be.pipesCount&&J(Be.pipes,de)!==-1)&&!We&&(U("false write response, pause",Be.awaitDrain),Be.awaitDrain++),Ie.pause())}function ue(Ge){U("onerror",Ge),Pe(),de.removeListener("error",ue),y(de,"error")===0&&xe(de,Ge)}function be(){de.removeListener("finish",Re),Pe()}function Re(){U("onfinish"),de.removeListener("close",be),Pe()}function Pe(){U("unpipe"),Ie.unpipe(de)}var Ie=this,Be=this._readableState;switch(Be.pipesCount){case 0:Be.pipes=de;break;case 1:Be.pipes=[Be.pipes,de];break;default:Be.pipes.push(de)}Be.pipesCount+=1,U("pipe count=%d opts=%j",Be.pipesCount,q);var Oe=(!q||q.end!==!1)&&de!==g.stdout&&de!==g.stderr,Ne=Oe?H:Pe;Be.endEmitted?g.nextTick(Ne):Ie.once("end",Ne),de.on("unpipe",P);var De=A(Ie);de.on("drain",De);var We=!1;return Ie.on("data",se),r(de,"error",ue),de.once("close",be),de.once("finish",Re),de.emit("pipe",Ie),Be.flowing||(U("pipe resume"),Ie.resume()),de},o.prototype.unpipe=function(de){var q=this._readableState,P={hasUnpiped:!1};if(q.pipesCount===0)return this;if(q.pipesCount===1)return de&&de!==q.pipes?this:(de||(de=q.pipes),q.pipes=null,q.pipesCount=0,q.flowing=!1,de&&de.emit("unpipe",this,P),this);if(!de){var H=q.pipes,Z=q.pipesCount;q.pipes=null,q.pipesCount=0,q.flowing=!1;for(var se=0;se<Z;se++)H[se].emit("unpipe",this,{hasUnpiped:!1});return this}var ue=J(q.pipes,de);return ue===-1?this:(q.pipes.splice(ue,1),q.pipesCount-=1,q.pipesCount===1&&(q.pipes=q.pipes[0]),de.emit("unpipe",this,P),this)},o.prototype.on=function(de,q){var P=p.prototype.on.call(this,de,q),H=this._readableState;return de==="data"?(H.readableListening=0<this.listenerCount("readable"),H.flowing!==!1&&this.resume()):de=="readable"&&!H.endEmitted&&!H.readableListening&&(H.readableListening=H.needReadable=!0,H.flowing=!1,H.emittedReadable=!1,U("on readable",H.length,H.reading),H.length?f(this):!H.reading&&g.nextTick(I,this)),P},o.prototype.addListener=o.prototype.on,o.prototype.removeListener=function(de,q){var P=p.prototype.removeListener.call(this,de,q);return de==="readable"&&g.nextTick(w,this),P},o.prototype.removeAllListeners=function(de){var q=p.prototype.removeAllListeners.apply(this,arguments);return(de==="readable"||de===void 0)&&g.nextTick(w,this),q},o.prototype.resume=function(){var de=this._readableState;return de.flowing||(U("resume"),de.flowing=!de.readableListening,M(this,de)),de.paused=!1,this},o.prototype.pause=function(){return U("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(U("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},o.prototype.wrap=function(de){var q=this,P=this._readableState,H=!1;for(var Z in de.on("end",function(){if(U("wrapped end"),P.decoder&&!P.ended){var ue=P.decoder.end();ue&&ue.length&&q.push(ue)}q.push(null)}),de.on("data",function(ue){if(U("wrapped data"),P.decoder&&(ue=P.decoder.write(ue)),!(P.objectMode&&ue==null)&&(P.objectMode||ue&&ue.length)){var be=q.push(ue);be||(H=!0,de.pause())}}),de)this[Z]===void 0&&typeof de[Z]=="function"&&(this[Z]=function(be){return function(){return de[be].apply(de,arguments)}}(Z));for(var se=0;se<Ce.length;se++)de.on(Ce[se],this.emit.bind(this,Ce[se]));return this._read=function(ue){U("wrapped _read",ue),H&&(H=!1,de.resume())},this},typeof Symbol=="function"&&(o.prototype[Symbol.asyncIterator]=function(){return pe===void 0&&(pe=S("./internal/streams/async_iterator")),pe(this)}),Object.defineProperty(o.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(o.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(o.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(q){this._readableState&&(this._readableState.flowing=q)}}),o._fromList=Y,Object.defineProperty(o.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(o.from=function(de,q){return ge===void 0&&(ge=S("./internal/streams/from")),ge(o,de,q)})}).call(this)}).call(this,S("_process"),typeof ut>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:ut)},{"../errors":213,"./_stream_duplex":214,"./internal/streams/async_iterator":219,"./internal/streams/buffer_list":220,"./internal/streams/destroy":221,"./internal/streams/from":223,"./internal/streams/state":225,"./internal/streams/stream":226,_process:192,buffer:75,events:122,inherits:146,"string_decoder/":264,util:41}],217:[function(S,V,O){function g(n,d){var c=this._transformState;c.transforming=!1;var f=c.writecb;if(f===null)return this.emit("error",new o);c.writechunk=null,c.writecb=null,d!=null&&this.push(d),f(n);var h=this._readableState;h.reading=!1,(h.needReadable||h.length<h.highWaterMark)&&this._read(h.highWaterMark)}function k(n){return this instanceof k?(s.call(this,n),this._transformState={afterTransform:g.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,n&&(typeof n.transform=="function"&&(this._transform=n.transform),typeof n.flush=="function"&&(this._flush=n.flush)),void this.on("prefinish",E)):new k(n)}function E(){var n=this;typeof this._flush!="function"||this._readableState.destroyed?v(this,null,null):this._flush(function(d,c){v(n,d,c)})}function v(n,d,c){if(d)return n.emit("error",d);if(c!=null&&n.push(c),n._writableState.length)throw new l;if(n._transformState.transforming)throw new a;return n.push(null)}V.exports=k;var r=S("../errors").codes,m=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,a=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,l=r.ERR_TRANSFORM_WITH_LENGTH_0,s=S("./_stream_duplex");S("inherits")(k,s),k.prototype.push=function(n,d){return this._transformState.needTransform=!1,s.prototype.push.call(this,n,d)},k.prototype._transform=function(n,d,c){c(new m("_transform()"))},k.prototype._write=function(n,d,c){var f=this._transformState;if(f.writecb=c,f.writechunk=n,f.writeencoding=d,!f.transforming){var h=this._readableState;(f.needTransform||h.needReadable||h.length<h.highWaterMark)&&this._read(h.highWaterMark)}},k.prototype._read=function(n){var d=this._transformState;d.writechunk===null||d.transforming?d.needTransform=!0:(d.transforming=!0,this._transform(d.writechunk,d.writeencoding,d.afterTransform))},k.prototype._destroy=function(n,d){s.prototype._destroy.call(this,n,function(c){d(c)})}},{"../errors":213,"./_stream_duplex":214,inherits:146}],218:[function(S,V,O){(function(g,k){(function(){function E(pe){var ge=this;this.next=null,this.entry=null,this.finish=function(){ie(ge,pe)}}function v(pe){return y.from(pe)}function r(pe){return y.isBuffer(pe)||pe instanceof p}function m(){}function o(pe,ge,xe){ae=ae||S("./_stream_duplex"),pe=pe||{},typeof xe!="boolean"&&(xe=ge instanceof ae),this.objectMode=!!pe.objectMode,xe&&(this.objectMode=this.objectMode||!!pe.writableObjectMode),this.highWaterMark=j(this,pe,"writableHighWaterMark",xe),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Ce=pe.decodeStrings===!1;this.decodeStrings=!Ce,this.defaultEncoding=pe.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(de){x(ge,de)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=pe.emitClose!==!1,this.autoDestroy=!!pe.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new E(this)}function a(pe){ae=ae||S("./_stream_duplex");var ge=this instanceof ae;return ge||Ae.call(a,this)?(this._writableState=new o(pe,this,ge),this.writable=!0,pe&&(typeof pe.write=="function"&&(this._write=pe.write),typeof pe.writev=="function"&&(this._writev=pe.writev),typeof pe.destroy=="function"&&(this._destroy=pe.destroy),typeof pe.final=="function"&&(this._final=pe.final)),void B.call(this)):new a(pe)}function l(pe,ge){var xe=new me;Se(pe,xe),g.nextTick(ge,xe)}function s(pe,ge,xe,Ce){var de;return xe===null?de=new oe:typeof xe!="string"&&!ge.objectMode&&(de=new N("chunk",["string","Buffer"],xe)),!de||(Se(pe,de),g.nextTick(Ce,de),!1)}function n(pe,ge,xe){return pe.objectMode||pe.decodeStrings===!1||typeof ge!="string"||(ge=y.from(ge,xe)),ge}function d(pe,ge,xe,Ce,de,q){if(!xe){var P=n(ge,Ce,de);Ce!==P&&(xe=!0,de="buffer",Ce=P)}var H=ge.objectMode?1:Ce.length;ge.length+=H;var Z=ge.length<ge.highWaterMark;if(Z||(ge.needDrain=!0),ge.writing||ge.corked){var se=ge.lastBufferedRequest;ge.lastBufferedRequest={chunk:Ce,encoding:de,isBuf:xe,callback:q,next:null},se?se.next=ge.lastBufferedRequest:ge.bufferedRequest=ge.lastBufferedRequest,ge.bufferedRequestCount+=1}else c(pe,ge,!1,H,Ce,de,q);return Z}function c(pe,ge,xe,Ce,de,q,P){ge.writelen=Ce,ge.writecb=P,ge.writing=!0,ge.sync=!0,ge.destroyed?ge.onwrite(new fe("write")):xe?pe._writev(de,ge.onwrite):pe._write(de,q,ge.onwrite),ge.sync=!1}function f(pe,ge,xe,Ce,de){--ge.pendingcb,xe?(g.nextTick(de,Ce),g.nextTick(G,pe,ge),pe._writableState.errorEmitted=!0,Se(pe,Ce)):(de(Ce),pe._writableState.errorEmitted=!0,Se(pe,Ce),G(pe,ge))}function h(pe){pe.writing=!1,pe.writecb=null,pe.length-=pe.writelen,pe.writelen=0}function x(pe,ge){var xe=pe._writableState,Ce=xe.sync,de=xe.writecb;if(typeof de!="function")throw new Q;if(h(xe),ge)f(pe,xe,Ce,ge,de);else{var q=I(xe)||pe.destroyed;q||xe.corked||xe.bufferProcessing||!xe.bufferedRequest||w(pe,xe),Ce?g.nextTick(R,pe,xe,q,de):R(pe,xe,q,de)}}function R(pe,ge,xe,Ce){xe||A(pe,ge),ge.pendingcb--,Ce(),G(pe,ge)}function A(pe,ge){ge.length===0&&ge.needDrain&&(ge.needDrain=!1,pe.emit("drain"))}function w(pe,ge){ge.bufferProcessing=!0;var xe=ge.bufferedRequest;if(pe._writev&&xe&&xe.next){var Ce=ge.bufferedRequestCount,de=Array(Ce),q=ge.corkedRequestsFree;q.entry=xe;for(var P=0,H=!0;xe;)de[P]=xe,xe.isBuf||(H=!1),xe=xe.next,P+=1;de.allBuffers=H,c(pe,ge,!0,ge.length,de,"",q.finish),ge.pendingcb++,ge.lastBufferedRequest=null,q.next?(ge.corkedRequestsFree=q.next,q.next=null):ge.corkedRequestsFree=new E(ge),ge.bufferedRequestCount=0}else{for(;xe;){var Z=xe.chunk,se=xe.encoding,ue=xe.callback,be=ge.objectMode?1:Z.length;if(c(pe,ge,!1,be,Z,se,ue),xe=xe.next,ge.bufferedRequestCount--,ge.writing)break}xe===null&&(ge.lastBufferedRequest=null)}ge.bufferedRequest=xe,ge.bufferProcessing=!1}function I(pe){return pe.ending&&pe.length===0&&pe.bufferedRequest===null&&!pe.finished&&!pe.writing}function M(pe,ge){pe._final(function(xe){ge.pendingcb--,xe&&Se(pe,xe),ge.prefinished=!0,pe.emit("prefinish"),G(pe,ge)})}function L(pe,ge){ge.prefinished||ge.finalCalled||(typeof pe._final!="function"||ge.destroyed?(ge.prefinished=!0,pe.emit("prefinish")):(ge.pendingcb++,ge.finalCalled=!0,g.nextTick(M,pe,ge)))}function G(pe,ge){var xe=I(ge);if(xe&&(L(pe,ge),ge.pendingcb===0&&(ge.finished=!0,pe.emit("finish"),ge.autoDestroy))){var Ce=pe._readableState;(!Ce||Ce.autoDestroy&&Ce.endEmitted)&&pe.destroy()}return xe}function Y(pe,ge,xe){ge.ending=!0,G(pe,ge),xe&&(ge.finished?g.nextTick(xe):pe.once("finish",xe)),ge.ended=!0,pe.writable=!1}function ie(pe,ge,xe){var Ce=pe.entry;for(pe.entry=null;Ce;){var de=Ce.callback;ge.pendingcb--,de(xe),Ce=Ce.next}ge.corkedRequestsFree.next=pe}V.exports=a;var ae;a.WritableState=o;var J={deprecate:S("util-deprecate")},B=S("./internal/streams/stream"),y=S("buffer").Buffer,p=k.Uint8Array||function(){},T=S("./internal/streams/destroy"),D=S("./internal/streams/state"),j=D.getHighWaterMark,U=S("../errors").codes,N=U.ERR_INVALID_ARG_TYPE,W=U.ERR_METHOD_NOT_IMPLEMENTED,Q=U.ERR_MULTIPLE_CALLBACK,ee=U.ERR_STREAM_CANNOT_PIPE,fe=U.ERR_STREAM_DESTROYED,oe=U.ERR_STREAM_NULL_VALUES,me=U.ERR_STREAM_WRITE_AFTER_END,he=U.ERR_UNKNOWN_ENCODING,Se=T.errorOrDestroy;S("inherits")(a,B),o.prototype.getBuffer=function(){for(var ge=this.bufferedRequest,xe=[];ge;)xe.push(ge),ge=ge.next;return xe},function(){try{Object.defineProperty(o.prototype,"buffer",{get:J.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var Ae;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Ae=Function.prototype[Symbol.hasInstance],Object.defineProperty(a,Symbol.hasInstance,{value:function(ge){return!!Ae.call(this,ge)||this===a&&ge&&ge._writableState instanceof o}})):Ae=function(ge){return ge instanceof this},a.prototype.pipe=function(){Se(this,new ee)},a.prototype.write=function(pe,ge,xe){var Ce=this._writableState,de=!1,q=!Ce.objectMode&&r(pe);return q&&!y.isBuffer(pe)&&(pe=v(pe)),typeof ge=="function"&&(xe=ge,ge=null),q?ge="buffer":!ge&&(ge=Ce.defaultEncoding),typeof xe!="function"&&(xe=m),Ce.ending?l(this,xe):(q||s(this,Ce,pe,xe))&&(Ce.pendingcb++,de=d(this,Ce,q,pe,ge,xe)),de},a.prototype.cork=function(){this._writableState.corked++},a.prototype.uncork=function(){var pe=this._writableState;pe.corked&&(pe.corked--,!pe.writing&&!pe.corked&&!pe.bufferProcessing&&pe.bufferedRequest&&w(this,pe))},a.prototype.setDefaultEncoding=function(ge){if(typeof ge=="string"&&(ge=ge.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ge+"").toLowerCase())))throw new he(ge);return this._writableState.defaultEncoding=ge,this},Object.defineProperty(a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),a.prototype._write=function(pe,ge,xe){xe(new W("_write()"))},a.prototype._writev=null,a.prototype.end=function(pe,ge,xe){var Ce=this._writableState;return typeof pe=="function"?(xe=pe,pe=null,ge=null):typeof ge=="function"&&(xe=ge,ge=null),pe!=null&&this.write(pe,ge),Ce.corked&&(Ce.corked=1,this.uncork()),Ce.ending||Y(this,Ce,xe),this},Object.defineProperty(a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(ge){this._writableState&&(this._writableState.destroyed=ge)}}),a.prototype.destroy=T.destroy,a.prototype._undestroy=T.undestroy,a.prototype._destroy=function(pe,ge){ge(pe)}}).call(this)}).call(this,S("_process"),typeof ut>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:ut)},{"../errors":213,"./_stream_duplex":214,"./internal/streams/destroy":221,"./internal/streams/state":225,"./internal/streams/stream":226,_process:192,buffer:75,inherits:146,"util-deprecate":276}],219:[function(S,V,O){(function(g){(function(){function k(w,I,M){return I in w?Object.defineProperty(w,I,{value:M,enumerable:!0,configurable:!0,writable:!0}):w[I]=M,w}function E(w,I){return{value:w,done:I}}function v(w){var I=w[a];if(I!==null){var M=w[f].read();M!==null&&(w[d]=null,w[a]=null,w[l]=null,I(E(M,!1)))}}function r(w){g.nextTick(v,w)}function m(w,I){return function(M,L){w.then(function(){return I[n]?void M(E(void 0,!0)):void I[c](M,L)},L)}}var o=S("./end-of-stream"),a=Symbol("lastResolve"),l=Symbol("lastReject"),s=Symbol("error"),n=Symbol("ended"),d=Symbol("lastPromise"),c=Symbol("handlePromise"),f=Symbol("stream"),h=Object.getPrototypeOf(function(){}),x=Object.setPrototypeOf((A={get stream(){return this[f]},next:function(){var I=this,M=this[s];if(M!==null)return Promise.reject(M);if(this[n])return Promise.resolve(E(void 0,!0));if(this[f].destroyed)return new Promise(function(ie,ae){g.nextTick(function(){I[s]?ae(I[s]):ie(E(void 0,!0))})});var L=this[d],G;if(L)G=new Promise(m(L,this));else{var Y=this[f].read();if(Y!==null)return Promise.resolve(E(Y,!1));G=new Promise(this[c])}return this[d]=G,G}},k(A,Symbol.asyncIterator,function(){return this}),k(A,"return",function(){var I=this;return new Promise(function(M,L){I[f].destroy(null,function(G){return G?void L(G):void M(E(void 0,!0))})})}),A),h),R=function(I){var M=Object.create(x,(L={},k(L,f,{value:I,writable:!0}),k(L,a,{value:null,writable:!0}),k(L,l,{value:null,writable:!0}),k(L,s,{value:null,writable:!0}),k(L,n,{value:I._readableState.endEmitted,writable:!0}),k(L,c,{value:function(Y,ie){var ae=M[f].read();ae?(M[d]=null,M[a]=null,M[l]=null,Y(E(ae,!1))):(M[a]=Y,M[l]=ie)},writable:!0}),L)),L;return M[d]=null,o(I,function(G){if(G&&G.code!=="ERR_STREAM_PREMATURE_CLOSE"){var Y=M[l];return Y!==null&&(M[d]=null,M[a]=null,M[l]=null,Y(G)),void(M[s]=G)}var ie=M[a];ie!==null&&(M[d]=null,M[a]=null,M[l]=null,ie(E(void 0,!0))),M[n]=!0}),I.on("readable",r.bind(null,M)),M},A;V.exports=R}).call(this)}).call(this,S("_process"))},{"./end-of-stream":222,_process:192}],220:[function(S,V,O){function g(c,f){var h=Object.keys(c);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(c);f&&(x=x.filter(function(R){return Object.getOwnPropertyDescriptor(c,R).enumerable})),h.push.apply(h,x)}return h}function k(c){for(var f=1,h;f<arguments.length;f++)h=arguments[f]==null?{}:arguments[f],f%2?g(Object(h),!0).forEach(function(x){E(c,x,h[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(h)):g(Object(h)).forEach(function(x){Object.defineProperty(c,x,Object.getOwnPropertyDescriptor(h,x))});return c}function E(c,f,h){return f in c?Object.defineProperty(c,f,{value:h,enumerable:!0,configurable:!0,writable:!0}):c[f]=h,c}function v(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}function r(c,f){for(var h=0,x;h<f.length;h++)x=f[h],x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(c,x.key,x)}function m(c,f,h){return f&&r(c.prototype,f),h&&r(c,h),c}function o(c,f,h){l.prototype.copy.call(c,f,h)}var a=S("buffer"),l=a.Buffer,s=S("util"),n=s.inspect,d=n&&n.custom||"inspect";V.exports=function(){function c(){v(this,c),this.head=null,this.tail=null,this.length=0}return m(c,[{key:"push",value:function(h){var x={data:h,next:null};0<this.length?this.tail.next=x:this.head=x,this.tail=x,++this.length}},{key:"unshift",value:function(h){var x={data:h,next:this.head};this.length===0&&(this.tail=x),this.head=x,++this.length}},{key:"shift",value:function(){if(this.length!==0){var h=this.head.data;return this.head=this.length===1?this.tail=null:this.head.next,--this.length,h}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(h){if(this.length===0)return"";for(var x=this.head,R=""+x.data;x=x.next;)R+=h+x.data;return R}},{key:"concat",value:function(h){if(this.length===0)return l.alloc(0);for(var x=l.allocUnsafe(h>>>0),R=this.head,A=0;R;)o(R.data,x,A),A+=R.data.length,R=R.next;return x}},{key:"consume",value:function(h,x){var R;return h<this.head.data.length?(R=this.head.data.slice(0,h),this.head.data=this.head.data.slice(h)):h===this.head.data.length?R=this.shift():R=x?this._getString(h):this._getBuffer(h),R}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(h){var x=this.head,R=1,A=x.data;for(h-=A.length;x=x.next;){var w=x.data,I=h>w.length?w.length:h;if(A+=I===w.length?w:w.slice(0,h),h-=I,h===0){I===w.length?(++R,this.head=x.next?x.next:this.tail=null):(this.head=x,x.data=w.slice(I));break}++R}return this.length-=R,A}},{key:"_getBuffer",value:function(h){var x=l.allocUnsafe(h),R=this.head,A=1;for(R.data.copy(x),h-=R.data.length;R=R.next;){var w=R.data,I=h>w.length?w.length:h;if(w.copy(x,x.length-h,0,I),h-=I,h===0){I===w.length?(++A,this.head=R.next?R.next:this.tail=null):(this.head=R,R.data=w.slice(I));break}++A}return this.length-=A,x}},{key:d,value:function(h,x){return n(this,k({},x,{depth:0,customInspect:!1}))}}]),c}()},{buffer:75,util:41}],221:[function(S,V,O){(function(g){(function(){function k(a,l){var s=this,n=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return n||d?(l?l(a):a&&(this._writableState?!this._writableState.errorEmitted&&(this._writableState.errorEmitted=!0,g.nextTick(m,this,a)):g.nextTick(m,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(c){!l&&c?s._writableState?s._writableState.errorEmitted?g.nextTick(v,s):(s._writableState.errorEmitted=!0,g.nextTick(E,s,c)):g.nextTick(E,s,c):l?(g.nextTick(v,s),l(c)):g.nextTick(v,s)}),this)}function E(a,l){m(a,l),v(a)}function v(a){a._writableState&&!a._writableState.emitClose||a._readableState&&!a._readableState.emitClose||a.emit("close")}function r(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function m(a,l){a.emit("error",l)}function o(a,l){var s=a._readableState,n=a._writableState;s&&s.autoDestroy||n&&n.autoDestroy?a.destroy(l):a.emit("error",l)}V.exports={destroy:k,undestroy:r,errorOrDestroy:o}}).call(this)}).call(this,S("_process"))},{_process:192}],222:[function(S,V,O){function g(m){var o=!1;return function(){if(!o){o=!0;for(var a=arguments.length,l=Array(a),s=0;s<a;s++)l[s]=arguments[s];m.apply(this,l)}}}function k(){}function E(m){return m.setHeader&&typeof m.abort=="function"}function v(m,o,a){if(typeof o=="function")return v(m,null,o);o||(o={}),a=g(a||k);var l=o.readable||o.readable!==!1&&m.readable,s=o.writable||o.writable!==!1&&m.writable,n=function(){m.writable||c()},d=m._writableState&&m._writableState.finished,c=function(){s=!1,d=!0,l||a.call(m)},f=m._readableState&&m._readableState.endEmitted,h=function(){l=!1,f=!0,s||a.call(m)},x=function(I){a.call(m,I)},R=function(){var I;return l&&!f?(m._readableState&&m._readableState.ended||(I=new r),a.call(m,I)):s&&!d?(m._writableState&&m._writableState.ended||(I=new r),a.call(m,I)):void 0},A=function(){m.req.on("finish",c)};return E(m)?(m.on("complete",c),m.on("abort",R),m.req?A():m.on("request",A)):s&&!m._writableState&&(m.on("end",n),m.on("close",n)),m.on("end",h),m.on("finish",c),o.error!==!1&&m.on("error",x),m.on("close",R),function(){m.removeListener("complete",c),m.removeListener("abort",R),m.removeListener("request",A),m.req&&m.req.removeListener("finish",c),m.removeListener("end",n),m.removeListener("close",n),m.removeListener("finish",c),m.removeListener("end",h),m.removeListener("error",x),m.removeListener("close",R)}}var r=S("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;V.exports=v},{"../../../errors":213}],223:[function(S,V,O){V.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],224:[function(S,V,O){function g(c){var f=!1;return function(){f||(f=!0,c.apply(void 0,arguments))}}function k(c){if(c)throw c}function E(c){return c.setHeader&&typeof c.abort=="function"}function v(c,f,h,x){x=g(x);var R=!1;c.on("close",function(){R=!0}),d===void 0&&(d=S("./end-of-stream")),d(c,{readable:f,writable:h},function(w){return w?x(w):(R=!0,void x())});var A=!1;return function(w){if(!R)return A?void 0:(A=!0,E(c)?c.abort():typeof c.destroy=="function"?c.destroy():void x(w||new n("pipe")))}}function r(c){c()}function m(c,f){return c.pipe(f)}function o(c){return c.length&&typeof c[c.length-1]=="function"?c.pop():k}function a(){for(var c=arguments.length,f=Array(c),h=0;h<c;h++)f[h]=arguments[h];var x=o(f);if(Array.isArray(f[0])&&(f=f[0]),2>f.length)throw new s("streams");var R=f.map(function(w,I){var M=I<f.length-1,L=0<I;return v(w,M,L,function(G){A||(A=G),G&&R.forEach(r),M||(R.forEach(r),x(A))})}),A;return f.reduce(m)}var l=S("../../../errors").codes,s=l.ERR_MISSING_ARGS,n=l.ERR_STREAM_DESTROYED,d;V.exports=a},{"../../../errors":213,"./end-of-stream":222}],225:[function(S,V,O){function g(v,r,m){return v.highWaterMark==null?r?v[m]:null:v.highWaterMark}function k(v,r,m,o){var a=g(r,o,m);if(a!=null){if(!(isFinite(a)&&F(a)===a)||0>a){var l=o?m:"highWaterMark";throw new E(l,a)}return F(a)}return v.objectMode?16:16384}var E=S("../../../errors").codes.ERR_INVALID_OPT_VALUE;V.exports={getHighWaterMark:k}},{"../../../errors":213}],226:[function(S,V,O){V.exports=S("events").EventEmitter},{events:122}],227:[function(S,V,O){O=V.exports=S("./lib/_stream_readable.js"),O.Stream=O,O.Readable=O,O.Writable=S("./lib/_stream_writable.js"),O.Duplex=S("./lib/_stream_duplex.js"),O.Transform=S("./lib/_stream_transform.js"),O.PassThrough=S("./lib/_stream_passthrough.js"),O.finished=S("./lib/internal/streams/end-of-stream.js"),O.pipeline=S("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":214,"./lib/_stream_passthrough.js":215,"./lib/_stream_readable.js":216,"./lib/_stream_transform.js":217,"./lib/_stream_writable.js":218,"./lib/internal/streams/end-of-stream.js":222,"./lib/internal/streams/pipeline.js":224}],228:[function(S,V,O){function g(ie,ae,J,B){typeof J=="function"&&(B=J,J={}),J||(J={}),B||(B=()=>{}),r(ie),o(J),typeof ae=="string"&&(ae=document.querySelector(ae)),E(ie,y=>{if(ae.nodeName!==y.toUpperCase()){const p=d.extname(ie.name).toLowerCase();throw new Error(`Cannot render "${p}" inside a "${ae.nodeName.toLowerCase()}" element, expected "${y}"`)}return(y==="video"||y==="audio")&&a(ae,J),ae},J,B)}function k(ie,ae,J,B){function y(j){return j==="video"||j==="audio"?p(j):T(j)}function p(j){const U=T(j);return a(U,J),ae.appendChild(U),U}function T(j){const U=document.createElement(j);return ae.appendChild(U),U}function D(j,U){j&&U&&U.remove(),B(j,U)}if(typeof J=="function"&&(B=J,J={}),J||(J={}),B||(B=()=>{}),r(ie),o(J),typeof ae=="string"&&(ae=document.querySelector(ae)),ae&&(ae.nodeName==="VIDEO"||ae.nodeName==="AUDIO"))throw new Error("Invalid video/audio node argument. Argument must be root element that video/audio tag will be appended to.");E(ie,y,J,D)}function E(ie,ae,J,B){function y(){function me(){l(`Use \`videostream\` package for ${ie.name}`),ge(),oe.addEventListener("error",Ae),oe.addEventListener("loadstart",D),oe.addEventListener("loadedmetadata",j),new f(ie,oe)}function he(){l(`Use MediaSource API for ${ie.name}`),ge(),oe.addEventListener("error",pe),oe.addEventListener("loadstart",D),oe.addEventListener("loadedmetadata",j);const Ce=new n(oe),de=Ce.createWriteStream(m(ie.name));ie.createReadStream().pipe(de),fe&&(oe.currentTime=fe)}function Se(){l(`Use Blob URL for ${ie.name}`),ge(),oe.addEventListener("error",Q),oe.addEventListener("loadstart",D),oe.addEventListener("loadedmetadata",j),v(ie,(Ce,de)=>Ce?Q(Ce):(oe.src=de,void(fe&&(oe.currentTime=fe))))}function Ae(Ce){l("videostream error: fallback to MediaSource API: %o",Ce.message||Ce),oe.removeEventListener("error",Ae),oe.removeEventListener("loadedmetadata",j),he()}function pe(Ce){l("MediaSource API error: fallback to Blob URL: %o",Ce.message||Ce),p()&&(oe.removeEventListener("error",pe),oe.removeEventListener("loadedmetadata",j),Se())}function ge(){oe||(oe=ae(xe),oe.addEventListener("progress",()=>{fe=oe.currentTime}))}const xe=x.includes(ee)?"video":"audio";Y?h.includes(ee)?me():he():Se()}function p(){return!(typeof ie.length=="number"&&ie.length>J.maxBlobLength)||(l("File length too large for Blob URL approach: %d (max: %d)",ie.length,J.maxBlobLength),Q(new Error(`File length too large for Blob URL approach: ${ie.length} (max: ${J.maxBlobLength})`)),!1)}function T(me){p()&&(oe=ae(me),v(ie,(he,Se)=>he?Q(he):(oe.addEventListener("error",Q),oe.addEventListener("loadstart",D),oe.addEventListener("loadedmetadata",j),void(oe.src=Se))))}function D(){if(oe.removeEventListener("loadstart",D),J.autoplay){const me=oe.play();typeof me<"u"&&me.catch(Q)}}function j(){oe.removeEventListener("loadedmetadata",j),B(null,oe)}function U(){oe=ae("img"),v(ie,(me,he)=>me?Q(me):(oe.src=he,oe.alt=ie.name,void B(null,oe)))}function N(){v(ie,(me,he)=>me?Q(me):(ee===".pdf"?(oe=ae("object"),oe.setAttribute("typemustmatch",!0),oe.setAttribute("type","application/pdf"),oe.setAttribute("data",he)):(oe=ae("iframe"),oe.sandbox="allow-forms allow-scripts",oe.src=he),void B(null,oe)))}function W(){function me(){s(he)?(l('File extension "%s" appears ascii, so will render.',ee),N()):(l('File extension "%s" appears non-ascii, will not render.',ee),B(new Error(`Unsupported file type "${ee}": Cannot append to DOM`)))}l('Unknown file extension "%s" - will attempt to render into iframe',ee);let he="";ie.createReadStream({start:0,end:1e3}).setEncoding("utf8").on("data",Se=>{he+=Se}).on("end",me).on("error",B)}function Q(me){me.message=`Error rendering file "${ie.name}": ${me.message}`,l(me.message),B(me)}const ee=d.extname(ie.name).toLowerCase();let fe=0,oe;A.includes(ee)?y():w.includes(ee)?T("video"):I.includes(ee)?T("audio"):M.includes(ee)?U():L.includes(ee)?N():W()}function v(ie,ae){const J=d.extname(ie.name).toLowerCase();c(ie.createReadStream(),O.mime[J]).then(B=>ae(null,B),B=>ae(B))}function r(ie){if(ie==null)throw new Error("file cannot be null or undefined");if(typeof ie.name!="string")throw new Error("missing or invalid file.name property");if(typeof ie.createReadStream!="function")throw new Error("missing or invalid file.createReadStream property")}function m(ie){const ae=d.extname(ie).toLowerCase();return{".m4a":'audio/mp4; codecs="mp4a.40.5"',".m4b":'audio/mp4; codecs="mp4a.40.5"',".m4p":'audio/mp4; codecs="mp4a.40.5"',".m4v":'video/mp4; codecs="avc1.640029, mp4a.40.5"',".mkv":'video/webm; codecs="avc1.640029, mp4a.40.5"',".mp3":"audio/mpeg",".mp4":'video/mp4; codecs="avc1.640029, mp4a.40.5"',".webm":'video/webm; codecs="vorbis, vp8"'}[ae]}function o(ie){ie.autoplay==null&&(ie.autoplay=!1),ie.muted==null&&(ie.muted=!1),ie.controls==null&&(ie.controls=!0),ie.maxBlobLength==null&&(ie.maxBlobLength=G)}function a(ie,ae){ie.autoplay=!!ae.autoplay,ie.muted=!!ae.muted,ie.controls=!!ae.controls}O.render=g,O.append=k,O.mime=S("./lib/mime.json");const l=S("debug")("render-media"),s=S("is-ascii"),n=S("mediasource"),d=S("path"),c=S("stream-to-blob-url"),f=S("videostream"),h=[".m4a",".m4b",".m4p",".m4v",".mp4"],x=[".m4v",".mkv",".mp4",".webm"],R=[".m4a",".m4b",".m4p",".mp3"],A=[].concat(x,R),w=[".mov",".ogv"],I=[".aac",".oga",".ogg",".wav",".flac"],M=[".bmp",".gif",".jpeg",".jpg",".png",".svg"],L=[".css",".html",".js",".md",".pdf",".srt",".txt"],G=2e8,Y=typeof window<"u"&&window.MediaSource},{"./lib/mime.json":229,debug:90,"is-ascii":147,mediasource:159,path:184,"stream-to-blob-url":260,videostream:278}],229:[function(S,V,O){V.exports={".3gp":"video/3gpp",".aac":"audio/aac",".aif":"audio/x-aiff",".aiff":"audio/x-aiff",".atom":"application/atom+xml",".avi":"video/x-msvideo",".bmp":"image/bmp",".bz2":"application/x-bzip2",".conf":"text/plain",".css":"text/css",".csv":"text/plain",".diff":"text/x-diff",".doc":"application/msword",".flv":"video/x-flv",".gif":"image/gif",".gz":"application/x-gzip",".htm":"text/html",".html":"text/html",".ico":"image/vnd.microsoft.icon",".ics":"text/calendar",".iso":"application/octet-stream",".jar":"application/java-archive",".jpeg":"image/jpeg",".jpg":"image/jpeg",".js":"application/javascript",".json":"application/json",".less":"text/css",".log":"text/plain",".m3u":"audio/x-mpegurl",".m4a":"audio/x-m4a",".m4b":"audio/mp4",".m4p":"audio/mp4",".m4v":"video/x-m4v",".manifest":"text/cache-manifest",".markdown":"text/x-markdown",".mathml":"application/mathml+xml",".md":"text/x-markdown",".mid":"audio/midi",".midi":"audio/midi",".mov":"video/quicktime",".mp3":"audio/mpeg",".mp4":"video/mp4",".mp4v":"video/mp4",".mpeg":"video/mpeg",".mpg":"video/mpeg",".odp":"application/vnd.oasis.opendocument.presentation",".ods":"application/vnd.oasis.opendocument.spreadsheet",".odt":"application/vnd.oasis.opendocument.text",".oga":"audio/ogg",".ogg":"application/ogg",".pdf":"application/pdf",".png":"image/png",".pps":"application/vnd.ms-powerpoint",".ppt":"application/vnd.ms-powerpoint",".ps":"application/postscript",".psd":"image/vnd.adobe.photoshop",".qt":"video/quicktime",".rar":"application/x-rar-compressed",".rdf":"application/rdf+xml",".rss":"application/rss+xml",".rtf":"application/rtf",".svg":"image/svg+xml",".svgz":"image/svg+xml",".swf":"application/x-shockwave-flash",".tar":"application/x-tar",".tbz":"application/x-bzip-compressed-tar",".text":"text/plain",".tif":"image/tiff",".tiff":"image/tiff",".torrent":"application/x-bittorrent",".ttf":"application/x-font-ttf",".txt":"text/plain",".wav":"audio/wav",".webm":"video/webm",".wma":"audio/x-ms-wma",".wmv":"video/x-ms-wmv",".xls":"application/vnd.ms-excel",".xml":"application/xml",".yaml":"text/yaml",".yml":"text/yaml",".zip":"application/zip"}},{}],230:[function(S,V,O){function g(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function k(A,w){return A<<w|A>>>32-w}function E(A,w,I,M,L,G,Y,ie){return 0|k(0|A+(w^I^M)+G+Y,ie)+L}function v(A,w,I,M,L,G,Y,ie){return 0|k(0|A+(w&I|~w&M)+G+Y,ie)+L}function r(A,w,I,M,L,G,Y,ie){return 0|k(0|A+((w|~I)^M)+G+Y,ie)+L}function m(A,w,I,M,L,G,Y,ie){return 0|k(0|A+(w&M|I&~M)+G+Y,ie)+L}function o(A,w,I,M,L,G,Y,ie){return 0|k(0|A+(w^(I|~M))+G+Y,ie)+L}var a=S("buffer").Buffer,l=S("inherits"),s=S("hash-base"),n=Array(16),d=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],f=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],h=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],x=[0,1518500249,1859775393,2400959708,2840853838],R=[1352829926,1548603684,1836072691,2053994217,0];l(g,s),g.prototype._update=function(){for(var A=n,w=0;16>w;++w)A[w]=this._block.readInt32LE(4*w);for(var I=0|this._a,M=0|this._b,L=0|this._c,G=0|this._d,Y=0|this._e,ie=0|this._a,ae=0|this._b,J=0|this._c,B=0|this._d,y=0|this._e,p=0;80>p;p+=1){var T,D;16>p?(T=E(I,M,L,G,Y,A[d[p]],x[0],f[p]),D=o(ie,ae,J,B,y,A[c[p]],R[0],h[p])):32>p?(T=v(I,M,L,G,Y,A[d[p]],x[1],f[p]),D=m(ie,ae,J,B,y,A[c[p]],R[1],h[p])):48>p?(T=r(I,M,L,G,Y,A[d[p]],x[2],f[p]),D=r(ie,ae,J,B,y,A[c[p]],R[2],h[p])):64>p?(T=m(I,M,L,G,Y,A[d[p]],x[3],f[p]),D=v(ie,ae,J,B,y,A[c[p]],R[3],h[p])):(T=o(I,M,L,G,Y,A[d[p]],x[4],f[p]),D=E(ie,ae,J,B,y,A[c[p]],R[4],h[p])),I=Y,Y=G,G=k(L,10),L=M,M=T,ie=y,y=B,B=k(J,10),J=ae,ae=D}var j=0|this._b+L+B;this._b=0|this._c+G+y,this._c=0|this._d+Y+ie,this._d=0|this._e+I+ae,this._e=0|this._a+M+J,this._a=j},g.prototype._digest=function(){this._block[this._blockOffset++]=128,56<this._blockOffset&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var A=a.alloc?a.alloc(20):new a(20);return A.writeInt32LE(this._a,0),A.writeInt32LE(this._b,4),A.writeInt32LE(this._c,8),A.writeInt32LE(this._d,12),A.writeInt32LE(this._e,16),A},V.exports=g},{buffer:75,"hash-base":129,inherits:146}],231:[function(S,V,O){function g(E,v,r){function m(h){function x(){r&&r(h,l),r=null}a?k(x):x()}function o(h,x,R){if(l[h]=R,x&&(c=!0),--n==0||x)m(x);else if(!c&&f<s){let A;d?(A=d[f],f+=1,E[A](function(w,I){o(A,w,I)})):(A=f,f+=1,E[A](function(w,I){o(A,w,I)}))}}if(typeof v!="number")throw new Error("second argument must be a Number");let a=!0,l,s,n,d,c,f;Array.isArray(E)?(l=[],n=s=E.length):(d=Object.keys(E),l={},n=s=d.length),f=v,n?d?d.some(function(h,x){return E[h](function(R,A){o(h,R,A)}),x===v-1}):E.some(function(h,x){return h(function(R,A){o(x,R,A)}),x===v-1}):m(null),a=!1}V.exports=g;const k=S("queue-microtask")},{"queue-microtask":205}],232:[function(S,V,O){function g(E,v){function r(n){function d(){v&&v(n,a),v=null}o?k(d):d()}function m(n,d,c){a[n]=c,(--l==0||d)&&r(d)}let o=!0,a,l,s;Array.isArray(E)?(a=[],l=E.length):(s=Object.keys(E),a={},l=s.length),l?s?s.forEach(function(n){E[n](function(d,c){m(n,d,c)})}):E.forEach(function(n,d){n(function(c,f){m(d,c,f)})}):r(null),o=!1}V.exports=g;const k=S("queue-microtask")},{"queue-microtask":205}],233:[function(S,V,O){(function(k,E){typeof O=="object"&&typeof V=="object"?V.exports=E():typeof O=="object"?O.Rusha=E():k.Rusha=E()})(typeof self>"u"?this:self,function(){return function(g){function k(v){if(E[v])return E[v].exports;var r=E[v]={i:v,l:!1,exports:{}};return g[v].call(r.exports,r,r.exports,k),r.l=!0,r.exports}var E={};return k.m=g,k.c=E,k.d=function(v,r,m){k.o(v,r)||Object.defineProperty(v,r,{configurable:!1,enumerable:!0,get:m})},k.n=function(v){var r=v&&v.__esModule?function(){return v.default}:function(){return v};return k.d(r,"a",r),r},k.o=function(v,r){return Object.prototype.hasOwnProperty.call(v,r)},k.p="",k(k.s=3)}([function(g,k,E){function v(h,x){if(!(h instanceof x))throw new TypeError("Cannot call a class as a function")}var r=E(5),m=E(1),o=m.toHex,a=m.ceilHeapSize,l=E(6),s=function(h){for(h+=9;0<h%64;h+=1);return h},n=function(h,x){var R=new Uint8Array(h.buffer),A=x%4,w=x-A;switch(A){case 0:R[w+3]=0;case 1:R[w+2]=0;case 2:R[w+1]=0;case 3:R[w+0]=0}for(var I=(x>>2)+1;I<h.length;I++)h[I]=0},d=function(h,x,R){h[x>>2]|=128<<24-(x%4<<3),h[(-16&(x>>2)+2)+14]=0|R/536870912,h[(-16&(x>>2)+2)+15]=R<<3},c=function(h,x){var R=new Int32Array(h,x+320,5),A=new Int32Array(5),w=new DataView(A.buffer);return w.setInt32(0,R[0],!1),w.setInt32(4,R[1],!1),w.setInt32(8,R[2],!1),w.setInt32(12,R[3],!1),w.setInt32(16,R[4],!1),A},f=function(){function h(x){if(v(this,h),x=x||65536,0<x%64)throw new Error("Chunk size must be a multiple of 128 bit");this._offset=0,this._maxChunkLen=x,this._padMaxChunkLen=s(x),this._heap=new ArrayBuffer(a(this._padMaxChunkLen+320+20)),this._h32=new Int32Array(this._heap),this._h8=new Int8Array(this._heap),this._core=new r({Int32Array},{},this._heap)}return h.prototype._initState=function(R,A){this._offset=0;var w=new Int32Array(R,A+320,5);w[0]=1732584193,w[1]=-271733879,w[2]=-1732584194,w[3]=271733878,w[4]=-1009589776},h.prototype._padChunk=function(R,A){var w=s(R),I=new Int32Array(this._heap,0,w>>2);return n(I,R),d(I,R,A),w},h.prototype._write=function(R,A,w,I){l(R,this._h8,this._h32,A,w,I||0)},h.prototype._coreCall=function(R,A,w,I,M){var L=w;this._write(R,A,w),M&&(L=this._padChunk(w,I)),this._core.hash(L,this._padMaxChunkLen)},h.prototype.rawDigest=function(R){var A=R.byteLength||R.length||R.size||0;this._initState(this._heap,this._padMaxChunkLen);var w=0,I=this._maxChunkLen;for(w=0;A>w+I;w+=I)this._coreCall(R,w,I,A,!1);return this._coreCall(R,w,A-w,A,!0),c(this._heap,this._padMaxChunkLen)},h.prototype.digest=function(R){return o(this.rawDigest(R).buffer)},h.prototype.digestFromString=function(R){return this.digest(R)},h.prototype.digestFromBuffer=function(R){return this.digest(R)},h.prototype.digestFromArrayBuffer=function(R){return this.digest(R)},h.prototype.resetState=function(){return this._initState(this._heap,this._padMaxChunkLen),this},h.prototype.append=function(R){var A=0,w=R.byteLength||R.length||R.size||0,I=this._offset%this._maxChunkLen,M=void 0;for(this._offset+=w;A<w;)M=ke(w-A,this._maxChunkLen-I),this._write(R,A,M,I),I+=M,A+=M,I===this._maxChunkLen&&(this._core.hash(this._maxChunkLen,this._padMaxChunkLen),I=0);return this},h.prototype.getState=function(){var R=this._offset%this._maxChunkLen,A=void 0;if(R)A=this._heap.slice(0);else{var w=new Int32Array(this._heap,this._padMaxChunkLen+320,5);A=w.buffer.slice(w.byteOffset,w.byteOffset+w.byteLength)}return{offset:this._offset,heap:A}},h.prototype.setState=function(R){if(this._offset=R.offset,R.heap.byteLength===20){var A=new Int32Array(this._heap,this._padMaxChunkLen+320,5);A.set(new Int32Array(R.heap))}else this._h32.set(new Int32Array(R.heap));return this},h.prototype.rawEnd=function(){var R=this._offset,A=R%this._maxChunkLen,w=this._padChunk(A,R);this._core.hash(w,this._padMaxChunkLen);var I=c(this._heap,this._padMaxChunkLen);return this._initState(this._heap,this._padMaxChunkLen),I},h.prototype.end=function(){return o(this.rawEnd().buffer)},h}();g.exports=f,g.exports._core=r},function(g,k){for(var E=Array(256),v=0;256>v;v++)E[v]=(16>v?"0":"")+v.toString(16);g.exports.toHex=function(r){for(var m=new Uint8Array(r),o=Array(r.byteLength),a=0;a<o.length;a++)o[a]=E[m[a]];return o.join("")},g.exports.ceilHeapSize=function(r){var m=0;if(65536>=r)return 65536;if(16777216>r)for(m=1;m<r;m<<=1);else for(m=16777216;m<r;m+=16777216);return m},g.exports.isDedicatedWorkerScope=function(r){var m="WorkerGlobalScope"in r&&r instanceof r.WorkerGlobalScope,o="SharedWorkerGlobalScope"in r&&r instanceof r.SharedWorkerGlobalScope,a="ServiceWorkerGlobalScope"in r&&r instanceof r.ServiceWorkerGlobalScope;return m&&!o&&!a}},function(g,k,E){g.exports=function(){var v=E(0),r=function(a,l,s){try{return s(null,a.digest(l))}catch(n){return s(n)}},m=function(a,l,s,n,d){var c=new self.FileReader;c.onloadend=function(){if(c.error)return d(c.error);var h=c.result;l+=c.result.byteLength;try{a.append(h)}catch(x){return void d(x)}l<n.size?m(a,l,s,n,d):d(null,a.end())},c.readAsArrayBuffer(n.slice(l,l+s))},o=!0;return self.onmessage=function(a){if(o){var l=a.data.data,s=a.data.file,n=a.data.id;if(typeof n<"u"&&(s||l)){var d=a.data.blockSize||4194304,c=new v(d);c.resetState();var f=function(h,x){h?self.postMessage({id:n,error:h.name}):self.postMessage({id:n,hash:x})};l&&r(c,l,f),s&&m(c,0,d,s,f)}}},function(){o=!1}}},function(g,k,E){var v=E(4),r=E(0),m=E(7),o=E(2),a=E(1),l=a.isDedicatedWorkerScope,s=typeof self<"u"&&l(self);r.disableWorkerBehaviour=s?o():function(){},r.createWorker=function(){var n=v(2),d=n.terminate;return n.terminate=function(){URL.revokeObjectURL(n.objectURL),d.call(n)},n},r.createHash=m,g.exports=r},function(g,k,E){function v(l){function s(c){if(n[c])return n[c].exports;var f=n[c]={i:c,l:!1,exports:{}};return l[c].call(f.exports,f,f.exports,s),f.l=!0,f.exports}var n={};s.m=l,s.c=n,s.i=function(c){return c},s.d=function(c,f,h){s.o(c,f)||Object.defineProperty(c,f,{configurable:!1,enumerable:!0,get:h})},s.r=function(c){Object.defineProperty(c,"__esModule",{value:!0})},s.n=function(c){var f=c&&c.__esModule?function(){return c.default}:function(){return c};return s.d(f,"a",f),f},s.o=function(c,f){return Object.prototype.hasOwnProperty.call(c,f)},s.p="/",s.oe=function(c){throw console.error(c),c};var d=s(s.s=ENTRY_MODULE);return d.default||d}function r(l){return(l+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function m(l,s,n){var d={};d[n]=[];var c=s.toString(),f=c.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!f)return d;for(var h=f[1],x=new RegExp("(\\\\n|\\W)"+r(h)+"\\((/\\*.*?\\*/)?s?.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)","g"),R;R=x.exec(c);)R[3]!=="dll-reference"&&d[n].push(R[3]);for(x=new RegExp("\\("+r(h)+'\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)\\((/\\*.*?\\*/)?s?.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)',"g");R=x.exec(c);)l[R[2]]||(d[n].push(R[1]),l[R[2]]=E(R[1]).m),d[R[2]]=d[R[2]]||[],d[R[2]].push(R[4]);return d}function o(l){var s=Object.keys(l);return s.reduce(function(n,d){return n||0<l[d].length},!1)}function a(l,s){for(var n={main:[s]},d={main:[]},c={main:{}};o(n);)for(var f=Object.keys(n),h=0;h<f.length;h++){var x=f[h],R=n[x],A=R.pop();if(c[x]=c[x]||{},!c[x][A]&&l[x][A]){c[x][A]=!0,d[x]=d[x]||[],d[x].push(A);for(var w=m(l,l[x][A],x),I=Object.keys(w),M=0;M<I.length;M++)n[I[M]]=n[I[M]]||[],n[I[M]]=n[I[M]].concat(w[I[M]])}}return d}g.exports=function(l,s){s=s||{};var n={main:E.m},d=s.all?{main:Object.keys(n)}:a(n,l),c="";Object.keys(d).filter(function(A){return A!=="main"}).forEach(function(A){for(var w=0;d[A][w];)w++;d[A].push(w),n[A][w]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",c=c+"var "+A+" = ("+v.toString().replace("ENTRY_MODULE",JSON.stringify(w))+")({"+d[A].map(function(I){return""+JSON.stringify(I)+": "+n[A][I].toString()}).join(",")+`});
`}),c=c+"("+v.toString().replace("ENTRY_MODULE",JSON.stringify(l))+")({"+d.main.map(function(A){return""+JSON.stringify(A)+": "+n.main[A].toString()}).join(",")+"})(self);";var f=new window.Blob([c],{type:"text/javascript"});if(s.bare)return f;var h=window.URL||window.webkitURL||window.mozURL||window.msURL,x=h.createObjectURL(f),R=new window.Worker(x);return R.objectURL=x,R}},function(g,k){g.exports=function(v,r,m){function o(l,s){l|=0,s|=0;var n=0,d=0,c=0,f=0,h=0,x=0,R=0,A=0,w=0,I=0,M=0,L=0,G=0,Y=0;for(c=0|a[s+320>>2],h=0|a[s+324>>2],R=0|a[s+328>>2],w=0|a[s+332>>2],M=0|a[s+336>>2],n=0;(0|n)<(0|l);n=0|n+64){for(f=c,x=h,A=R,I=w,L=M,d=0;64>(0|d);d=0|d+4)Y=0|a[n+d>>2],G=0|(0|(c<<5|c>>>27)+(h&R|~h&w))+(0|(0|Y+M)+1518500249),M=w,w=R,R=h<<30|h>>>2,h=c,c=G,a[l+d>>2]=Y;for(d=0|l+64;(0|d)<(0|l+80);d=0|d+4)Y=(a[d-12>>2]^a[d-32>>2]^a[d-56>>2]^a[d-64>>2])<<1|(a[d-12>>2]^a[d-32>>2]^a[d-56>>2]^a[d-64>>2])>>>31,G=0|(0|(c<<5|c>>>27)+(h&R|~h&w))+(0|(0|Y+M)+1518500249),M=w,w=R,R=h<<30|h>>>2,h=c,c=G,a[d>>2]=Y;for(d=0|l+80;(0|d)<(0|l+160);d=0|d+4)Y=(a[d-12>>2]^a[d-32>>2]^a[d-56>>2]^a[d-64>>2])<<1|(a[d-12>>2]^a[d-32>>2]^a[d-56>>2]^a[d-64>>2])>>>31,G=0|(0|(c<<5|c>>>27)+(h^R^w))+(0|(0|Y+M)+1859775393),M=w,w=R,R=h<<30|h>>>2,h=c,c=G,a[d>>2]=Y;for(d=0|l+160;(0|d)<(0|l+240);d=0|d+4)Y=(a[d-12>>2]^a[d-32>>2]^a[d-56>>2]^a[d-64>>2])<<1|(a[d-12>>2]^a[d-32>>2]^a[d-56>>2]^a[d-64>>2])>>>31,G=0|(0|(c<<5|c>>>27)+(h&R|h&w|R&w))+(0|(0|Y+M)-1894007588),M=w,w=R,R=h<<30|h>>>2,h=c,c=G,a[d>>2]=Y;for(d=0|l+240;(0|d)<(0|l+320);d=0|d+4)Y=(a[d-12>>2]^a[d-32>>2]^a[d-56>>2]^a[d-64>>2])<<1|(a[d-12>>2]^a[d-32>>2]^a[d-56>>2]^a[d-64>>2])>>>31,G=0|(0|(c<<5|c>>>27)+(h^R^w))+(0|(0|Y+M)-899497514),M=w,w=R,R=h<<30|h>>>2,h=c,c=G,a[d>>2]=Y;c=0|c+f,h=0|h+x,R=0|R+A,w=0|w+I,M=0|M+L}a[s+320>>2]=c,a[s+324>>2]=h,a[s+328>>2]=R,a[s+332>>2]=w,a[s+336>>2]=M}var a=new v.Int32Array(m);return{hash:o}}},function(g,k){var E=this,v=void 0;typeof self<"u"&&typeof self.FileReaderSync<"u"&&(v=new self.FileReaderSync);var r=function(a,l,s,n,d,c){var f=c%4,h=(d+f)%4,x=d-h,R;switch(f){case 0:l[c]=a.charCodeAt(n+3);case 1:l[0|c+1-(f<<1)]=a.charCodeAt(n+2);case 2:l[0|c+2-(f<<1)]=a.charCodeAt(n+1);case 3:l[0|c+3-(f<<1)]=a.charCodeAt(n)}if(!(d<h+(4-f))){for(R=4-f;R<x;R=0|R+4)s[c+R>>2]=a.charCodeAt(n+R)<<24|a.charCodeAt(n+R+1)<<16|a.charCodeAt(n+R+2)<<8|a.charCodeAt(n+R+3);switch(h){case 3:l[0|c+x+1]=a.charCodeAt(n+x+2);case 2:l[0|c+x+2]=a.charCodeAt(n+x+1);case 1:l[0|c+x+3]=a.charCodeAt(n+x)}}},m=function(a,l,s,n,d,c){var f=c%4,h=(d+f)%4,x=d-h,R;switch(f){case 0:l[c]=a[n+3];case 1:l[0|c+1-(f<<1)]=a[n+2];case 2:l[0|c+2-(f<<1)]=a[n+1];case 3:l[0|c+3-(f<<1)]=a[n]}if(!(d<h+(4-f))){for(R=4-f;R<x;R=0|R+4)s[0|c+R>>2]=a[n+R]<<24|a[n+R+1]<<16|a[n+R+2]<<8|a[n+R+3];switch(h){case 3:l[0|c+x+1]=a[n+x+2];case 2:l[0|c+x+2]=a[n+x+1];case 1:l[0|c+x+3]=a[n+x]}}},o=function(a,l,s,n,d,c){var f=void 0,h=c%4,x=(d+h)%4,R=d-x,A=new Uint8Array(v.readAsArrayBuffer(a.slice(n,n+d)));switch(h){case 0:l[c]=A[3];case 1:l[0|c+1-(h<<1)]=A[2];case 2:l[0|c+2-(h<<1)]=A[1];case 3:l[0|c+3-(h<<1)]=A[0]}if(!(d<x+(4-h))){for(f=4-h;f<R;f=0|f+4)s[0|c+f>>2]=A[f]<<24|A[f+1]<<16|A[f+2]<<8|A[f+3];switch(x){case 3:l[0|c+R+1]=A[R+2];case 2:l[0|c+R+2]=A[R+1];case 1:l[0|c+R+3]=A[R]}}};g.exports=function(a,l,s,n,d,c){if(typeof a=="string")return r(a,l,s,n,d,c);if(a instanceof Array||E&&E.Buffer&&E.Buffer.isBuffer(a))return m(a,l,s,n,d,c);if(a instanceof ArrayBuffer)return m(new Uint8Array(a),l,s,n,d,c);if(a.buffer instanceof ArrayBuffer)return m(new Uint8Array(a.buffer,a.byteOffset,a.byteLength),l,s,n,d,c);if(a instanceof Blob)return o(a,l,s,n,d,c);throw new Error("Unsupported data type.")}},function(g,k,E){function v(s,n){if(!(s instanceof n))throw new TypeError("Cannot call a class as a function")}var r=function(){function s(n,d){for(var c=0,f;c<d.length;c++)f=d[c],f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(n,f.key,f)}return function(n,d,c){return d&&s(n.prototype,d),c&&s(n,c),n}}(),m=E(0),o=E(1),a=o.toHex,l=function(){function s(){v(this,s),this._rusha=new m,this._rusha.resetState()}return s.prototype.update=function(d){return this._rusha.append(d),this},s.prototype.digest=function(d){var c=this._rusha.rawEnd().buffer;if(!d)return c;if(d==="hex")return a(c);throw new Error("unsupported digest encoding")},r(s,[{key:"state",get:function(){return this._rusha.getState()},set:function(n){this._rusha.setState(n)}}]),s}();g.exports=function(){return new l}}])})},{}],234:[function(S,V,O){function g(r,m){for(var o in r)m[o]=r[o]}function k(r,m,o){return v(r,m,o)}/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var E=S("buffer"),v=E.Buffer;v.from&&v.alloc&&v.allocUnsafe&&v.allocUnsafeSlow?V.exports=E:(g(E,O),O.Buffer=k),k.prototype=Object.create(v.prototype),g(v,k),k.from=function(r,m,o){if(typeof r=="number")throw new TypeError("Argument must not be a number");return v(r,m,o)},k.alloc=function(r,m,o){if(typeof r!="number")throw new TypeError("Argument must be a number");var a=v(r);return m===void 0?a.fill(0):typeof o=="string"?a.fill(m,o):a.fill(m),a},k.allocUnsafe=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return v(r)},k.allocUnsafeSlow=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return E.SlowBuffer(r)}},{buffer:75}],235:[function(S,V,O){(function(g){(function(){var k=S("buffer"),E=k.Buffer,v={},r;for(r in k)k.hasOwnProperty(r)&&r!=="SlowBuffer"&&r!=="Buffer"&&(v[r]=k[r]);var m=v.Buffer={};for(r in E)E.hasOwnProperty(r)&&r!=="allocUnsafe"&&r!=="allocUnsafeSlow"&&(m[r]=E[r]);if(v.Buffer.prototype=E.prototype,m.from&&m.from!==Uint8Array.from||(m.from=function(o,a,l){if(typeof o=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof o);if(o&&typeof o.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof o);return E(o,a,l)}),m.alloc||(m.alloc=function(o,a,l){if(typeof o!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof o);if(0>o||2147483648<=o)throw new RangeError('The value "'+o+'" is invalid for option "size"');var s=E(o);return a&&a.length!==0?typeof l=="string"?s.fill(a,l):s.fill(a):s.fill(0),s}),!v.kStringMaxLength)try{v.kStringMaxLength=g.binding("buffer").kStringMaxLength}catch{}v.constants||(v.constants={MAX_LENGTH:v.kMaxLength},v.kStringMaxLength&&(v.constants.MAX_STRING_LENGTH=v.kStringMaxLength)),V.exports=v}).call(this)}).call(this,S("_process"))},{_process:192,buffer:75}],236:[function(S,V,O){function g(E,v){this._block=k.alloc(E),this._finalSize=v,this._blockSize=E,this._len=0}var k=S("safe-buffer").Buffer;g.prototype.update=function(E,v){typeof E=="string"&&(v=v||"utf8",E=k.from(E,v));for(var r=this._block,m=this._blockSize,o=E.length,a=this._len,l=0;l<o;){for(var s=a%m,n=ke(o-l,m-s),d=0;d<n;d++)r[s+d]=E[l+d];a+=n,l+=n,a%m==0&&this._update(r)}return this._len+=o,this},g.prototype.digest=function(E){var v=this._len%this._blockSize;this._block[v]=128,this._block.fill(0,v+1),v>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(4294967295>=r)this._block.writeUInt32BE(r,this._blockSize-4);else{var m=(4294967295&r)>>>0,o=(r-m)/4294967296;this._block.writeUInt32BE(o,this._blockSize-8),this._block.writeUInt32BE(m,this._blockSize-4)}this._update(this._block);var a=this._hash();return E?a.toString(E):a},g.prototype._update=function(){throw new Error("_update must be implemented by subclass")},V.exports=g},{"safe-buffer":234}],237:[function(S,V,g){var g=V.exports=function(E){E=E.toLowerCase();var v=g[E];if(!v)throw new Error(E+" is not supported (we accept pull requests)");return new v};g.sha=S("./sha"),g.sha1=S("./sha1"),g.sha224=S("./sha224"),g.sha256=S("./sha256"),g.sha384=S("./sha384"),g.sha512=S("./sha512")},{"./sha":238,"./sha1":239,"./sha224":240,"./sha256":241,"./sha384":242,"./sha512":243}],238:[function(S,V,O){function g(){this.init(),this._w=l,m.call(this,64,56)}function k(s){return s<<5|s>>>27}function E(s){return s<<30|s>>>2}function v(s,n,d,c){return s===0?n&d|~n&c:s===2?n&d|n&c|d&c:n^d^c}var r=S("inherits"),m=S("./hash"),o=S("safe-buffer").Buffer,a=[1518500249,1859775393,-1894007588,-899497514],l=Array(80);r(g,m),g.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},g.prototype._update=function(s){for(var n=this._w,d=0|this._a,c=0|this._b,f=0|this._c,h=0|this._d,x=0|this._e,R=0;16>R;++R)n[R]=s.readInt32BE(4*R);for(;80>R;++R)n[R]=n[R-3]^n[R-8]^n[R-14]^n[R-16];for(var A=0;80>A;++A){var w=~~(A/20),I=0|k(d)+v(w,c,f,h)+x+n[A]+a[w];x=h,h=f,f=E(c),c=d,d=I}this._a=0|d+this._a,this._b=0|c+this._b,this._c=0|f+this._c,this._d=0|h+this._d,this._e=0|x+this._e},g.prototype._hash=function(){var s=o.allocUnsafe(20);return s.writeInt32BE(0|this._a,0),s.writeInt32BE(0|this._b,4),s.writeInt32BE(0|this._c,8),s.writeInt32BE(0|this._d,12),s.writeInt32BE(0|this._e,16),s},V.exports=g},{"./hash":236,inherits:146,"safe-buffer":234}],239:[function(S,V,O){function g(){this.init(),this._w=s,o.call(this,64,56)}function k(n){return n<<1|n>>>31}function E(n){return n<<5|n>>>27}function v(n){return n<<30|n>>>2}function r(n,d,c,f){return n===0?d&c|~d&f:n===2?d&c|d&f|c&f:d^c^f}var m=S("inherits"),o=S("./hash"),a=S("safe-buffer").Buffer,l=[1518500249,1859775393,-1894007588,-899497514],s=Array(80);m(g,o),g.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},g.prototype._update=function(n){for(var d=this._w,c=0|this._a,f=0|this._b,h=0|this._c,x=0|this._d,R=0|this._e,A=0;16>A;++A)d[A]=n.readInt32BE(4*A);for(;80>A;++A)d[A]=k(d[A-3]^d[A-8]^d[A-14]^d[A-16]);for(var w=0;80>w;++w){var I=~~(w/20),M=0|E(c)+r(I,f,h,x)+R+d[w]+l[I];R=x,x=h,h=v(f),f=c,c=M}this._a=0|c+this._a,this._b=0|f+this._b,this._c=0|h+this._c,this._d=0|x+this._d,this._e=0|R+this._e},g.prototype._hash=function(){var n=a.allocUnsafe(20);return n.writeInt32BE(0|this._a,0),n.writeInt32BE(0|this._b,4),n.writeInt32BE(0|this._c,8),n.writeInt32BE(0|this._d,12),n.writeInt32BE(0|this._e,16),n},V.exports=g},{"./hash":236,inherits:146,"safe-buffer":234}],240:[function(S,V,O){function g(){this.init(),this._w=m,v.call(this,64,56)}var k=S("inherits"),E=S("./sha256"),v=S("./hash"),r=S("safe-buffer").Buffer,m=Array(64);k(g,E),g.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},g.prototype._hash=function(){var o=r.allocUnsafe(28);return o.writeInt32BE(this._a,0),o.writeInt32BE(this._b,4),o.writeInt32BE(this._c,8),o.writeInt32BE(this._d,12),o.writeInt32BE(this._e,16),o.writeInt32BE(this._f,20),o.writeInt32BE(this._g,24),o},V.exports=g},{"./hash":236,"./sha256":241,inherits:146,"safe-buffer":234}],241:[function(S,V,O){function g(){this.init(),this._w=d,l.call(this,64,56)}function k(c,f,h){return h^c&(f^h)}function E(c,f,h){return c&f|h&(c|f)}function v(c){return(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10)}function r(c){return(c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7)}function m(c){return(c>>>7|c<<25)^(c>>>18|c<<14)^c>>>3}function o(c){return(c>>>17|c<<15)^(c>>>19|c<<13)^c>>>10}var a=S("inherits"),l=S("./hash"),s=S("safe-buffer").Buffer,n=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],d=Array(64);a(g,l),g.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},g.prototype._update=function(c){for(var f=this._w,h=0|this._a,x=0|this._b,R=0|this._c,A=0|this._d,w=0|this._e,I=0|this._f,M=0|this._g,L=0|this._h,G=0;16>G;++G)f[G]=c.readInt32BE(4*G);for(;64>G;++G)f[G]=0|o(f[G-2])+f[G-7]+m(f[G-15])+f[G-16];for(var Y=0;64>Y;++Y){var ie=0|L+r(w)+k(w,I,M)+n[Y]+f[Y],ae=0|v(h)+E(h,x,R);L=M,M=I,I=w,w=0|A+ie,A=R,R=x,x=h,h=0|ie+ae}this._a=0|h+this._a,this._b=0|x+this._b,this._c=0|R+this._c,this._d=0|A+this._d,this._e=0|w+this._e,this._f=0|I+this._f,this._g=0|M+this._g,this._h=0|L+this._h},g.prototype._hash=function(){var c=s.allocUnsafe(32);return c.writeInt32BE(this._a,0),c.writeInt32BE(this._b,4),c.writeInt32BE(this._c,8),c.writeInt32BE(this._d,12),c.writeInt32BE(this._e,16),c.writeInt32BE(this._f,20),c.writeInt32BE(this._g,24),c.writeInt32BE(this._h,28),c},V.exports=g},{"./hash":236,inherits:146,"safe-buffer":234}],242:[function(S,V,O){function g(){this.init(),this._w=m,v.call(this,128,112)}var k=S("inherits"),E=S("./sha512"),v=S("./hash"),r=S("safe-buffer").Buffer,m=Array(160);k(g,E),g.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},g.prototype._hash=function(){function o(l,s,n){a.writeInt32BE(l,n),a.writeInt32BE(s,n+4)}var a=r.allocUnsafe(48);return o(this._ah,this._al,0),o(this._bh,this._bl,8),o(this._ch,this._cl,16),o(this._dh,this._dl,24),o(this._eh,this._el,32),o(this._fh,this._fl,40),a},V.exports=g},{"./hash":236,"./sha512":243,inherits:146,"safe-buffer":234}],243:[function(S,V,O){function g(){this.init(),this._w=h,d.call(this,128,112)}function k(x,R,A){return A^x&(R^A)}function E(x,R,A){return x&R|A&(x|R)}function v(x,R){return(x>>>28|R<<4)^(R>>>2|x<<30)^(R>>>7|x<<25)}function r(x,R){return(x>>>14|R<<18)^(x>>>18|R<<14)^(R>>>9|x<<23)}function m(x,R){return(x>>>1|R<<31)^(x>>>8|R<<24)^x>>>7}function o(x,R){return(x>>>1|R<<31)^(x>>>8|R<<24)^(x>>>7|R<<25)}function a(x,R){return(x>>>19|R<<13)^(R>>>29|x<<3)^x>>>6}function l(x,R){return(x>>>19|R<<13)^(R>>>29|x<<3)^(x>>>6|R<<26)}function s(x,R){return x>>>0<R>>>0?1:0}var n=S("inherits"),d=S("./hash"),c=S("safe-buffer").Buffer,f=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],h=Array(160);n(g,d),g.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},g.prototype._update=function(x){for(var R=this._w,A=0|this._ah,w=0|this._bh,I=0|this._ch,M=0|this._dh,L=0|this._eh,G=0|this._fh,Y=0|this._gh,ie=0|this._hh,ae=0|this._al,J=0|this._bl,B=0|this._cl,y=0|this._dl,p=0|this._el,T=0|this._fl,D=0|this._gl,j=0|this._hl,U=0;32>U;U+=2)R[U]=x.readInt32BE(4*U),R[U+1]=x.readInt32BE(4*U+4);for(;160>U;U+=2){var N=R[U-30],W=R[U-30+1],Q=m(N,W),ee=o(W,N);N=R[U-4],W=R[U-4+1];var fe=a(N,W),oe=l(W,N),me=R[U-14],he=R[U-14+1],Se=R[U-32],Ae=R[U-32+1],pe=0|ee+he,ge=0|Q+me+s(pe,ee);pe=0|pe+oe,ge=0|ge+fe+s(pe,oe),pe=0|pe+Ae,ge=0|ge+Se+s(pe,Ae),R[U]=ge,R[U+1]=pe}for(var xe=0;160>xe;xe+=2){ge=R[xe],pe=R[xe+1];var Ce=E(A,w,I),de=E(ae,J,B),q=v(A,ae),P=v(ae,A),H=r(L,p),Z=r(p,L),se=f[xe],ue=f[xe+1],be=k(L,G,Y),Re=k(p,T,D),Pe=0|j+Z,Ie=0|ie+H+s(Pe,j);Pe=0|Pe+Re,Ie=0|Ie+be+s(Pe,Re),Pe=0|Pe+ue,Ie=0|Ie+se+s(Pe,ue),Pe=0|Pe+pe,Ie=0|Ie+ge+s(Pe,pe);var Be=0|P+de,Oe=0|q+Ce+s(Be,P);ie=Y,j=D,Y=G,D=T,G=L,T=p,p=0|y+Pe,L=0|M+Ie+s(p,y),M=I,y=B,I=w,B=J,w=A,J=ae,ae=0|Pe+Be,A=0|Ie+Oe+s(ae,Pe)}this._al=0|this._al+ae,this._bl=0|this._bl+J,this._cl=0|this._cl+B,this._dl=0|this._dl+y,this._el=0|this._el+p,this._fl=0|this._fl+T,this._gl=0|this._gl+D,this._hl=0|this._hl+j,this._ah=0|this._ah+A+s(this._al,ae),this._bh=0|this._bh+w+s(this._bl,J),this._ch=0|this._ch+I+s(this._cl,B),this._dh=0|this._dh+M+s(this._dl,y),this._eh=0|this._eh+L+s(this._el,p),this._fh=0|this._fh+G+s(this._fl,T),this._gh=0|this._gh+Y+s(this._gl,D),this._hh=0|this._hh+ie+s(this._hl,j)},g.prototype._hash=function(){function x(A,w,I){R.writeInt32BE(A,I),R.writeInt32BE(w,I+4)}var R=c.allocUnsafe(64);return x(this._ah,this._al,0),x(this._bh,this._bl,8),x(this._ch,this._cl,16),x(this._dh,this._dl,24),x(this._eh,this._el,32),x(this._fh,this._fl,40),x(this._gh,this._gl,48),x(this._hh,this._hl,56),R},V.exports=g},{"./hash":236,inherits:146,"safe-buffer":234}],244:[function(S,V,O){(function(g){(function(){/*! simple-concat. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */V.exports=function(k,E){var v=[];k.on("data",function(r){v.push(r)}),k.once("end",function(){E&&E(null,g.concat(v)),E=null}),k.once("error",function(r){E&&E(r),E=null})}}).call(this)}).call(this,S("buffer").Buffer)},{buffer:75}],245:[function(S,V,O){(function(g){(function(){function k(n,d){if(n=Object.assign({maxRedirects:10},typeof n=="string"?{url:n}:n),d=o(d),n.url){const{hostname:A,port:w,protocol:I,auth:M,path:L}=l.parse(n.url);delete n.url,A||w||I||M?Object.assign(n,{hostname:A,port:w,protocol:I,auth:M,path:L}):n.path=L}const c={"accept-encoding":"gzip, deflate"};n.headers&&Object.keys(n.headers).forEach(A=>c[A.toLowerCase()]=n.headers[A]),n.headers=c;let f;n.body?f=n.json&&!s(n.body)?JSON.stringify(n.body):n.body:n.form&&(f=typeof n.form=="string"?n.form:a.stringify(n.form),n.headers["content-type"]="application/x-www-form-urlencoded"),f&&(!n.method&&(n.method="POST"),!s(f)&&(n.headers["content-length"]=g.byteLength(f)),n.json&&!n.form&&(n.headers["content-type"]="application/json")),delete n.body,delete n.form,n.json&&(n.headers.accept="application/json"),n.method&&(n.method=n.method.toUpperCase());const h=n.hostname,x=n.protocol==="https:"?m:r,R=x.request(n,A=>{if(n.followRedirects!==!1&&300<=A.statusCode&&400>A.statusCode&&A.headers.location){n.url=A.headers.location,delete n.headers.host,A.resume();const I=l.parse(n.url).hostname;return I!==null&&I!==h&&(delete n.headers.cookie,delete n.headers.authorization),n.method==="POST"&&[301,302].includes(A.statusCode)&&(n.method="GET",delete n.headers["content-length"],delete n.headers["content-type"]),n.maxRedirects--==0?d(new Error("too many redirects")):k(n,d)}const w=typeof v=="function"&&n.method!=="HEAD";d(null,w?v(A):A)});return R.on("timeout",()=>{R.abort(),d(new Error("Request timed out"))}),R.on("error",d),s(f)?f.on("error",d).pipe(R):R.end(f),R}V.exports=k;const E=S("simple-concat"),v=S("decompress-response"),r=S("http"),m=S("https"),o=S("once"),a=S("querystring"),l=S("url"),s=n=>n!==null&&typeof n=="object"&&typeof n.pipe=="function";k.concat=(n,d)=>k(n,(c,f)=>c?d(c):void E(f,(h,x)=>{if(h)return d(h);if(n.json)try{x=JSON.parse(x.toString())}catch(R){return d(R,f,x)}d(null,f,x)})),["get","post","put","patch","head","delete"].forEach(n=>{k[n]=(d,c)=>(typeof d=="string"&&(d={url:d}),k(Object.assign({method:n.toUpperCase()},d),c))})}).call(this)}).call(this,S("buffer").Buffer)},{buffer:75,"decompress-response":41,http:256,https:143,once:177,querystring:204,"simple-concat":244,url:273}],246:[function(S,V,O){function g(f){return f.replace(/a=ice-options:trickle\s\n/g,"")}function k(f){console.warn(f)}/*! simple-peer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */const E=S("debug")("simple-peer"),v=S("get-browser-rtc"),r=S("randombytes"),m=S("readable-stream"),o=S("queue-microtask"),a=S("err-code"),{Buffer:l}=S("buffer"),s=65536,n=5e3,d=5e3;class c extends m.Duplex{constructor(h){if(h=Object.assign({allowHalfOpen:!1},h),super(h),this._id=r(4).toString("hex").slice(0,7),this._debug("new peer %o",h),this.channelName=h.initiator?h.channelName||r(20).toString("hex"):null,this.initiator=h.initiator||!1,this.channelConfig=h.channelConfig||c.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},c.config,h.config),this.offerOptions=h.offerOptions||{},this.answerOptions=h.answerOptions||{},this.sdpTransform=h.sdpTransform||(x=>x),this.streams=h.streams||(h.stream?[h.stream]:[]),this.trickle=h.trickle===void 0||h.trickle,this.allowHalfTrickle=h.allowHalfTrickle!==void 0&&h.allowHalfTrickle,this.iceCompleteTimeout=h.iceCompleteTimeout||n,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=h.wrtc&&typeof h.wrtc=="object"?h.wrtc:v(),!this._wrtc)throw a(typeof window>"u"?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(x){return void this.destroy(a(x,"ERR_PC_CONSTRUCTOR"))}this._isReactNativeWebrtc=typeof this._pc._peerConnectionId=="number",this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=x=>{this._onIceCandidate(x)},typeof this._pc.peerIdentity=="object"&&this._pc.peerIdentity.catch(x=>{this.destroy(a(x,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=x=>{this._setupData(x)},this.streams&&this.streams.forEach(x=>{this.addStream(x)}),this._pc.ontrack=x=>{this._onTrack(x)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&this._channel.readyState==="open"}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(h){if(!this.destroying){if(this.destroyed)throw a(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if(typeof h=="string")try{h=JSON.parse(h)}catch{h={}}this._debug("signal()"),h.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),h.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(h.transceiverRequest.kind,h.transceiverRequest.init)),h.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(h.candidate):this._pendingCandidates.push(h.candidate)),h.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(h)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(x=>{this._addIceCandidate(x)}),this._pendingCandidates=[],this._pc.remoteDescription.type==="offer"&&this._createAnswer())}).catch(x=>{this.destroy(a(x,"ERR_SET_REMOTE_DESCRIPTION"))}),h.sdp||h.candidate||h.renegotiate||h.transceiverRequest||this.destroy(a(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(h){const x=new this._wrtc.RTCIceCandidate(h);this._pc.addIceCandidate(x).catch(R=>{!x.address||x.address.endsWith(".local")?k("Ignoring unsupported ICE candidate."):this.destroy(a(R,"ERR_ADD_ICE_CANDIDATE"))})}send(h){if(!this.destroying){if(this.destroyed)throw a(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(h)}}addTransceiver(h,x){if(!this.destroying){if(this.destroyed)throw a(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(h,x),this._needsNegotiation()}catch(R){this.destroy(a(R,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:h,init:x}})}}addStream(h){if(!this.destroying){if(this.destroyed)throw a(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),h.getTracks().forEach(x=>{this.addTrack(x,h)})}}addTrack(h,x){if(this.destroying)return;if(this.destroyed)throw a(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const R=this._senderMap.get(h)||new Map;let A=R.get(x);if(!A)A=this._pc.addTrack(h,x),R.set(x,A),this._senderMap.set(h,R),this._needsNegotiation();else throw A.removed?a(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):a(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED")}replaceTrack(h,x,R){if(this.destroying)return;if(this.destroyed)throw a(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const A=this._senderMap.get(h),w=A?A.get(R):null;if(!w)throw a(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");x&&this._senderMap.set(x,A),w.replaceTrack==null?this.destroy(a(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK")):w.replaceTrack(x)}removeTrack(h,x){if(this.destroying)return;if(this.destroyed)throw a(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const R=this._senderMap.get(h),A=R?R.get(x):null;if(!A)throw a(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{A.removed=!0,this._pc.removeTrack(A)}catch(w){w.name==="NS_ERROR_UNEXPECTED"?this._sendersAwaitingStable.push(A):this.destroy(a(w,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(h){if(!this.destroying){if(this.destroyed)throw a(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),h.getTracks().forEach(x=>{this.removeTrack(x,h)})}}_needsNegotiation(){this._debug("_needsNegotiation"),this._batchedNegotiation||(this._batchedNegotiation=!0,o(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this.destroying){if(this.destroyed)throw a(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(h){this._destroy(h,()=>{})}_destroy(h,x){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",h&&(h.message||h)),o(()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",h&&(h.message||h)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch{}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch{}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,h&&this.emit("error",h),this.emit("close"),x()}))}_setupData(h){if(!h.channel)return this.destroy(a(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=h.channel,this._channel.binaryType="arraybuffer",typeof this._channel.bufferedAmountLowThreshold=="number"&&(this._channel.bufferedAmountLowThreshold=s),this.channelName=this._channel.label,this._channel.onmessage=R=>{this._onChannelMessage(R)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=R=>{const A=R.error instanceof Error?R.error:new Error(`Datachannel error: ${R.message} ${R.filename}:${R.lineno}:${R.colno}`);this.destroy(a(A,"ERR_DATA_CHANNEL"))};let x=!1;this._closingInterval=setInterval(()=>{this._channel&&this._channel.readyState==="closing"?(x&&this._onChannelClose(),x=!0):x=!1},d)}_read(){}_write(h,x,R){if(this.destroyed)return R(a(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(h)}catch(A){return this.destroy(a(A,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>s?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=R):R(null)}else this._debug("write before connect"),this._chunk=h,this._cb=R}_onFinish(){if(!this.destroyed){const h=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?h():this.once("connect",h)}}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(h=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(h.sdp=g(h.sdp)),h.sdp=this.sdpTransform(h.sdp);const x=()=>{if(!this.destroyed){const w=this._pc.localDescription||h;this._debug("signal"),this.emit("signal",{type:w.type,sdp:w.sdp})}},R=()=>{this._debug("createOffer success"),this.destroyed||(this.trickle||this._iceComplete?x():this.once("_iceComplete",x))},A=w=>{this.destroy(a(w,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(h).then(R).catch(A)}).catch(h=>{this.destroy(a(h,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(h=>{h.mid||!h.sender.track||h.requested||(h.requested=!0,this.addTransceiver(h.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(h=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(h.sdp=g(h.sdp)),h.sdp=this.sdpTransform(h.sdp);const x=()=>{if(!this.destroyed){const w=this._pc.localDescription||h;this._debug("signal"),this.emit("signal",{type:w.type,sdp:w.sdp}),this.initiator||this._requestMissingTransceivers()}},R=()=>{this.destroyed||(this.trickle||this._iceComplete?x():this.once("_iceComplete",x))},A=w=>{this.destroy(a(w,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(h).then(R).catch(A)}).catch(h=>{this.destroy(a(h,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||this._pc.connectionState==="failed"&&this.destroy(a(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const h=this._pc.iceConnectionState,x=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",h,x),this.emit("iceStateChange",h,x),(h==="connected"||h==="completed")&&(this._pcReady=!0,this._maybeReady()),h==="failed"&&this.destroy(a(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),h==="closed"&&this.destroy(a(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(h){const x=R=>(Object.prototype.toString.call(R.values)==="[object Array]"&&R.values.forEach(A=>{Object.assign(R,A)}),R);this._pc.getStats.length===0||this._isReactNativeWebrtc?this._pc.getStats().then(R=>{const A=[];R.forEach(w=>{A.push(x(w))}),h(null,A)},R=>h(R)):0<this._pc.getStats.length?this._pc.getStats(R=>{if(this.destroyed)return;const A=[];R.result().forEach(w=>{const I={};w.names().forEach(M=>{I[M]=w.stat(M)}),I.id=w.id,I.type=w.type,I.timestamp=w.timestamp,A.push(x(I))}),h(null,A)},R=>h(R)):h(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const h=()=>{this.destroyed||this.getStats((x,R)=>{if(this.destroyed)return;x&&(R=[]);const A={},w={},I={};let M=!1;R.forEach(G=>{(G.type==="remotecandidate"||G.type==="remote-candidate")&&(A[G.id]=G),(G.type==="localcandidate"||G.type==="local-candidate")&&(w[G.id]=G),(G.type==="candidatepair"||G.type==="candidate-pair")&&(I[G.id]=G)});const L=G=>{M=!0;let Y=w[G.localCandidateId];Y&&(Y.ip||Y.address)?(this.localAddress=Y.ip||Y.address,this.localPort=+Y.port):Y&&Y.ipAddress?(this.localAddress=Y.ipAddress,this.localPort=+Y.portNumber):typeof G.googLocalAddress=="string"&&(Y=G.googLocalAddress.split(":"),this.localAddress=Y[0],this.localPort=+Y[1]),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let ie=A[G.remoteCandidateId];ie&&(ie.ip||ie.address)?(this.remoteAddress=ie.ip||ie.address,this.remotePort=+ie.port):ie&&ie.ipAddress?(this.remoteAddress=ie.ipAddress,this.remotePort=+ie.portNumber):typeof G.googRemoteAddress=="string"&&(ie=G.googRemoteAddress.split(":"),this.remoteAddress=ie[0],this.remotePort=+ie[1]),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(R.forEach(G=>{G.type==="transport"&&G.selectedCandidatePairId&&L(I[G.selectedCandidatePairId]),(G.type==="googCandidatePair"&&G.googActiveConnection==="true"||(G.type==="candidatepair"||G.type==="candidate-pair")&&G.selected)&&L(G)}),!M&&(!Object.keys(I).length||Object.keys(w).length))return void setTimeout(h,100);if(this._connecting=!1,this._connected=!0,this._chunk){try{this.send(this._chunk)}catch(Y){return this.destroy(a(Y,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const G=this._cb;this._cb=null,G(null)}typeof this._channel.bufferedAmountLowThreshold!="number"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")})};h()}_onInterval(){this._cb&&this._channel&&!(this._channel.bufferedAmount>s)&&this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||(this._pc.signalingState==="stable"&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(h=>{this._pc.removeTrack(h),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(h){this.destroyed||(h.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:h.candidate.candidate,sdpMLineIndex:h.candidate.sdpMLineIndex,sdpMid:h.candidate.sdpMid}}):!h.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),h.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(h){if(this.destroyed)return;let x=h.data;x instanceof ArrayBuffer&&(x=l.from(x)),this.push(x)}_onChannelBufferedAmountLow(){if(!this.destroyed&&this._cb){this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const h=this._cb;this._cb=null,h(null)}}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(h){this.destroyed||h.streams.forEach(x=>{this._debug("on track"),this.emit("track",h.track,x),this._remoteTracks.push({track:h.track,stream:x}),this._remoteStreams.some(R=>R.id===x.id)||(this._remoteStreams.push(x),o(()=>{this._debug("on stream"),this.emit("stream",x)}))})}_debug(){const h=[].slice.call(arguments);h[0]="["+this._id+"] "+h[0],E.apply(null,h)}}c.WEBRTC_SUPPORT=!!v(),c.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},c.channelConfig={},V.exports=c},{buffer:75,debug:90,"err-code":121,"get-browser-rtc":128,"queue-microtask":205,randombytes:208,"readable-stream":227}],247:[function(S,V,O){function g(n){return o.digest(n)}function k(n,d){return s?(typeof n=="string"&&(n=E(n)),void s.digest({name:"sha-1"},n).then(function(f){d(v(new Uint8Array(f)))},function(){d(g(n))})):void(typeof window>"u"?queueMicrotask(()=>d(g(n))):m(n,function(f,h){return f?void d(g(n)):void d(h)}))}function E(n){const d=n.length,c=new Uint8Array(d);for(let f=0;f<d;f++)c[f]=n.charCodeAt(f);return c}function v(n){const d=n.length,c=[];for(let f=0;f<d;f++){const h=n[f];c.push((h>>>4).toString(16)),c.push((15&h).toString(16))}return c.join("")}const r=S("rusha"),m=S("./rusha-worker-sha1"),o=new r,a=typeof window>"u"?self:window,l=a.crypto||a.msCrypto||{};let s=l.subtle||l.webkitSubtle;try{s.digest({name:"sha-1"},new Uint8Array).catch(function(){s=!1})}catch{s=!1}V.exports=k,V.exports.sync=g},{"./rusha-worker-sha1":248,rusha:233}],248:[function(S,V,O){function g(){v=E.createWorker(),r=1,m={},v.onmessage=function(a){const l=a.data.id,s=m[l];delete m[l],a.data.error==null?s(null,a.data.hash):s(new Error("Rusha worker error: "+a.data.error))}}function k(o,a){v||g(),m[r]=a,v.postMessage({id:r,data:o}),r+=1}const E=S("rusha");let v,r,m;V.exports=k},{rusha:233}],249:[function(S,V,O){(function(g){(function(){/*! simple-websocket. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */const k=S("debug")("simple-websocket"),E=S("randombytes"),v=S("readable-stream"),r=S("queue-microtask"),m=S("ws"),o=typeof m=="function"?m:WebSocket,a=65536;class l extends v.Duplex{constructor(n={}){if(typeof n=="string"&&(n={url:n}),n=Object.assign({allowHalfOpen:!1},n),super(n),n.url==null&&n.socket==null)throw new Error("Missing required `url` or `socket` option");if(n.url!=null&&n.socket!=null)throw new Error("Must specify either `url` or `socket` option, not both");if(this._id=E(4).toString("hex").slice(0,7),this._debug("new websocket: %o",n),this.connected=!1,this.destroyed=!1,this._chunk=null,this._cb=null,this._interval=null,n.socket)this.url=n.socket.url,this._ws=n.socket,this.connected=n.socket.readyState===o.OPEN;else{this.url=n.url;try{this._ws=typeof m=="function"?new o(n.url,null,{...n,encoding:void 0}):new o(n.url)}catch(d){return void r(()=>this.destroy(d))}}this._ws.binaryType="arraybuffer",n.socket&&this.connected?r(()=>this._handleOpen()):this._ws.onopen=()=>this._handleOpen(),this._ws.onmessage=d=>this._handleMessage(d),this._ws.onclose=()=>this._handleClose(),this._ws.onerror=d=>this._handleError(d),this._handleFinishBound=()=>this._handleFinish(),this.once("finish",this._handleFinishBound)}send(n){this._ws.send(n)}destroy(n){this._destroy(n,()=>{})}_destroy(n,d){if(!this.destroyed){if(this._debug("destroy (error: %s)",n&&(n.message||n)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this.connected=!1,this.destroyed=!0,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._handleFinishBound&&this.removeListener("finish",this._handleFinishBound),this._handleFinishBound=null,this._ws){const c=this._ws,f=()=>{c.onclose=null};if(c.readyState===o.CLOSED)f();else try{c.onclose=f,c.close()}catch{f()}c.onopen=null,c.onmessage=null,c.onerror=()=>{}}this._ws=null,n&&this.emit("error",n),this.emit("close"),d()}}_read(){}_write(n,d,c){if(this.destroyed)return c(new Error("cannot write after socket is destroyed"));if(this.connected){try{this.send(n)}catch(f){return this.destroy(f)}typeof m!="function"&&this._ws.bufferedAmount>a?(this._debug("start backpressure: bufferedAmount %d",this._ws.bufferedAmount),this._cb=c):c(null)}else this._debug("write before connect"),this._chunk=n,this._cb=c}_handleOpen(){if(!(this.connected||this.destroyed)){if(this.connected=!0,this._chunk){try{this.send(this._chunk)}catch(d){return this.destroy(d)}this._chunk=null,this._debug('sent chunk from "write before connect"');const n=this._cb;this._cb=null,n(null)}typeof m!="function"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")}}_handleMessage(n){if(this.destroyed)return;let d=n.data;d instanceof ArrayBuffer&&(d=g.from(d)),this.push(d)}_handleClose(){this.destroyed||(this._debug("on close"),this.destroy())}_handleError(n){this.destroy(new Error(`Error connecting to ${this.url}`))}_handleFinish(){if(!this.destroyed){const n=()=>{setTimeout(()=>this.destroy(),1e3)};this.connected?n():this.once("connect",n)}}_onInterval(){if(this._cb&&this._ws&&!(this._ws.bufferedAmount>a)){this._debug("ending backpressure: bufferedAmount %d",this._ws.bufferedAmount);const n=this._cb;this._cb=null,n(null)}}_debug(){const n=[].slice.call(arguments);n[0]="["+this._id+"] "+n[0],k.apply(null,n)}}l.WEBSOCKET_SUPPORT=!!o,V.exports=l}).call(this)}).call(this,S("buffer").Buffer)},{buffer:75,debug:90,"queue-microtask":205,randombytes:208,"readable-stream":227,ws:41}],250:[function(S,V,O){const g=S("./lib/throttle"),k=S("./lib/throttle-group");V.exports={Throttle:g,ThrottleGroup:k}},{"./lib/throttle":252,"./lib/throttle-group":251}],251:[function(S,V,O){var g=Number.isInteger;const{TokenBucket:k}=S("limiter"),E=S("./throttle");class v{constructor(m={}){if(typeof m!="object")throw new Error("Options must be an object");this.throttles=[],this.setEnabled(m.enabled),this.setRate(m.rate,m.chunksize)}getEnabled(){return this._enabled}getRate(){return this.bucket.tokensPerInterval}getChunksize(){return this.chunksize}setEnabled(m=!0){if(typeof m!="boolean")throw new Error("Enabled must be a boolean");this._enabled=m;for(const o of this.throttles)o.setEnabled(m)}setRate(m,o=null){if(!g(m)||0>m)throw new Error("Rate must be an integer bigger than zero");if(m=parseInt(m),o&&(typeof o!="number"||0>=o))throw new Error("Chunksize must be bigger than zero");if(o=o||ve(parseInt(m/10),1),o=parseInt(o),0<m&&o>m)throw new Error("Chunk size must be smaller than rate");this.bucket||(this.bucket=new k(m,m,"second",null)),this.bucket.bucketSize=m,this.bucket.tokensPerInterval=m,this.chunksize=o}setChunksize(m){if(!g(m)||0>=m)throw new Error("Chunk size must be an integer bigger than zero");const o=this.getRate();if(m=parseInt(m),0<o&&m>o)throw new Error("Chunk size must be smaller than rate");this.chunksize=m}throttle(m={}){if(typeof m!="object")throw new Error("Options must be an object");return new E({...m,group:this})}destroy(){for(const m of this.throttles)m.destroy();this.throttles=[]}_addThrottle(m){if(!(m instanceof E))throw new Error("Throttle must be an instance of Throttle");this.throttles.push(m)}_removeThrottle(m){const o=this.throttles.indexOf(m);-1<o&&this.throttles.splice(o,1)}}V.exports=v},{"./throttle":252,limiter:151}],252:[function(S,V,O){const{EventEmitter:g}=S("events"),{Transform:k}=S("streamx"),{wait:E}=S("./utils");class v extends k{constructor(o={}){if(super(),typeof o!="object")throw new Error("Options must be an object");const a=Object.assign({},o);if(a.group&&!(a.group instanceof r))throw new Error("Group must be an instanece of ThrottleGroup");a.group||(a.group=new r(a)),this._setEnabled(a.enabled||a.group.enabled),this._group=a.group,this._emitter=new g,this._destroyed=!1,this._group._addThrottle(this)}getEnabled(){return this._enabled}getGroup(){return this._group}_setEnabled(o=!0){if(typeof o!="boolean")throw new Error("Enabled must be a boolean");this._enabled=o}setEnabled(o){this._setEnabled(o),this._enabled?this._emitter.emit("enabled"):this._emitter.emit("disabled")}_transform(o,a){this._processChunk(o,a)}async _waitForTokens(o){return new Promise((a,l)=>{function s(c){if(d._emitter.removeListener("disabled",s),d._emitter.removeListener("destroyed",s),!n)return n=!0,c?l(c):void a()}let n=!1;const d=this;this._emitter.once("disabled",s),this._emitter.once("destroyed",s),this._group.bucket.removeTokens(o,s)})}_areBothEnabled(){return this._enabled&&this._group.getEnabled()}async _processChunk(o,a){if(!this._areBothEnabled())return a(null,o);let l=0,s=this._group.getChunksize(),n=o.slice(l,l+s);for(;0<n.length;){if(this._areBothEnabled())try{for(;this._group.getRate()===0&&!this._destroyed&&this._areBothEnabled();)if(await E(1e3),this._destroyed)return;if(this._areBothEnabled()&&!this._group.bucket.tryRemoveTokens(n.length)&&(await this._waitForTokens(n.length),this._destroyed))return}catch(d){return a(d)}this.push(n),l+=s,s=this._areBothEnabled()?this._group.getChunksize():o.length-l,n=o.slice(l,l+s)}return a()}destroy(...o){this._group._removeThrottle(this),this._destroyed=!0,this._emitter.emit("destroyed"),super.destroy(...o)}}V.exports=v;const r=S("./throttle-group")},{"./throttle-group":251,"./utils":253,events:122,streamx:263}],253:[function(S,V,O){function g(k){return new Promise(E=>setTimeout(E,k))}V.exports={wait:g}},{}],254:[function(S,V,O){var g=1,k=65535,E=4,v=function(){g=g+1&k},r;V.exports=function(m){r||(r=setInterval(v,0|1e3/E),r.unref&&r.unref());var o=E*(m||5),a=[0],l=1,s=g-1&k;return function(n){var d=g-s&k;for(d>o&&(d=o),s=g;d--;)l===o&&(l=0),a[l]=a[l===0?o-1:l-1],l++;n&&(a[l-1]+=n);var c=a[l-1],f=a.length<o?0:a[l===o?0:l];return a.length<E?c:(c-f)*E/a.length}}},{}],255:[function(S,V,O){function g(){k.call(this)}V.exports=g;var k=S("events").EventEmitter,E=S("inherits");E(g,k),g.Readable=S("readable-stream/lib/_stream_readable.js"),g.Writable=S("readable-stream/lib/_stream_writable.js"),g.Duplex=S("readable-stream/lib/_stream_duplex.js"),g.Transform=S("readable-stream/lib/_stream_transform.js"),g.PassThrough=S("readable-stream/lib/_stream_passthrough.js"),g.finished=S("readable-stream/lib/internal/streams/end-of-stream.js"),g.pipeline=S("readable-stream/lib/internal/streams/pipeline.js"),g.Stream=g,g.prototype.pipe=function(v,r){function m(f){v.writable&&v.write(f)===!1&&d.pause&&d.pause()}function o(){d.readable&&d.resume&&d.resume()}function a(){c||(c=!0,v.end())}function l(){c||(c=!0,typeof v.destroy=="function"&&v.destroy())}function s(f){if(n(),k.listenerCount(this,"error")===0)throw f}function n(){d.removeListener("data",m),v.removeListener("drain",o),d.removeListener("end",a),d.removeListener("close",l),d.removeListener("error",s),v.removeListener("error",s),d.removeListener("end",n),d.removeListener("close",n),v.removeListener("close",n)}var d=this;d.on("data",m),v.on("drain",o),v._isStdio||r&&r.end===!1||(d.on("end",a),d.on("close",l));var c=!1;return d.on("error",s),v.on("error",s),d.on("end",n),d.on("close",n),v.on("close",n),v.emit("pipe",d),v}},{events:122,inherits:146,"readable-stream/lib/_stream_duplex.js":214,"readable-stream/lib/_stream_passthrough.js":215,"readable-stream/lib/_stream_readable.js":216,"readable-stream/lib/_stream_transform.js":217,"readable-stream/lib/_stream_writable.js":218,"readable-stream/lib/internal/streams/end-of-stream.js":222,"readable-stream/lib/internal/streams/pipeline.js":224}],256:[function(S,V,O){(function(g){(function(){var k=S("./lib/request"),E=S("./lib/response"),v=S("xtend"),r=S("builtin-status-codes"),m=S("url"),o=O;o.request=function(a,l){a=typeof a=="string"?m.parse(a):v(a);var s=g.location.protocol.search(/^https?:$/)===-1?"http:":"",n=a.protocol||s,d=a.hostname||a.host,c=a.port,f=a.path||"/";d&&d.indexOf(":")!==-1&&(d="["+d+"]"),a.url=(d?n+"//"+d:"")+(c?":"+c:"")+f,a.method=(a.method||"GET").toUpperCase(),a.headers=a.headers||{};var h=new k(a);return l&&h.on("response",l),h},o.get=function(l,s){var n=o.request(l,s);return n.end(),n},o.ClientRequest=k,o.IncomingMessage=E.IncomingMessage,o.Agent=function(){},o.Agent.defaultMaxSockets=4,o.globalAgent=new o.Agent,o.STATUS_CODES=r,o.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this)}).call(this,typeof ut>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:ut)},{"./lib/request":258,"./lib/response":259,"builtin-status-codes":76,url:273,xtend:280}],257:[function(S,V,O){(function(g){(function(){function k(){if(r!==void 0)return r;if(g.XMLHttpRequest){r=new g.XMLHttpRequest;try{r.open("GET",g.XDomainRequest?"/":"https://example.com")}catch{r=null}}else r=null;return r}function E(m){var o=k();if(!o)return!1;try{return o.responseType=m,o.responseType===m}catch{}return!1}function v(m){return typeof m=="function"}O.fetch=v(g.fetch)&&v(g.ReadableStream),O.writableStream=v(g.WritableStream),O.abortController=v(g.AbortController);var r;O.arraybuffer=O.fetch||E("arraybuffer"),O.msstream=!O.fetch&&E("ms-stream"),O.mozchunkedarraybuffer=!O.fetch&&E("moz-chunked-arraybuffer"),O.overrideMimeType=O.fetch||!!k()&&v(k().overrideMimeType),r=null}).call(this)}).call(this,typeof ut>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:ut)},{}],258:[function(S,V,O){(function(g,k,E){(function(){function v(f,h){return m.fetch&&h?"fetch":m.mozchunkedarraybuffer?"moz-chunked-arraybuffer":m.msstream?"ms-stream":m.arraybuffer&&f?"arraybuffer":"text"}function r(f){try{var h=f.status;return h!==null&&h!==0}catch{return!1}}var m=S("./capability"),o=S("inherits"),a=S("./response"),l=S("readable-stream"),s=a.IncomingMessage,n=a.readyStates,d=V.exports=function(f){var h=this;l.Writable.call(h),h._opts=f,h._body=[],h._headers={},f.auth&&h.setHeader("Authorization","Basic "+E.from(f.auth).toString("base64")),Object.keys(f.headers).forEach(function(A){h.setHeader(A,f.headers[A])});var x=!0,R;if(f.mode==="disable-fetch"||"requestTimeout"in f&&!m.abortController)x=!1,R=!0;else if(f.mode==="prefer-streaming")R=!1;else if(f.mode==="allow-wrong-content-type")R=!m.overrideMimeType;else if(!f.mode||f.mode==="default"||f.mode==="prefer-fast")R=!0;else throw new Error("Invalid value for opts.mode");h._mode=v(R,x),h._fetchTimer=null,h._socketTimeout=null,h._socketTimer=null,h.on("finish",function(){h._onFinish()})};o(d,l.Writable),d.prototype.setHeader=function(f,h){var x=this,R=f.toLowerCase();c.indexOf(R)!==-1||(x._headers[R]={name:f,value:h})},d.prototype.getHeader=function(f){var h=this._headers[f.toLowerCase()];return h?h.value:null},d.prototype.removeHeader=function(f){var h=this;delete h._headers[f.toLowerCase()]},d.prototype._onFinish=function(){var f=this;if(!f._destroyed){var h=f._opts;"timeout"in h&&h.timeout!==0&&f.setTimeout(h.timeout);var x=f._headers,R=null;h.method!=="GET"&&h.method!=="HEAD"&&(R=new Blob(f._body,{type:(x["content-type"]||{}).value||""}));var A=[];if(Object.keys(x).forEach(function(L){var G=x[L].name,Y=x[L].value;Array.isArray(Y)?Y.forEach(function(ie){A.push([G,ie])}):A.push([G,Y])}),f._mode==="fetch"){var w=null;if(m.abortController){var I=new AbortController;w=I.signal,f._fetchAbortController=I,"requestTimeout"in h&&h.requestTimeout!==0&&(f._fetchTimer=k.setTimeout(function(){f.emit("requestTimeout"),f._fetchAbortController&&f._fetchAbortController.abort()},h.requestTimeout))}k.fetch(f._opts.url,{method:f._opts.method,headers:A,body:R||void 0,mode:"cors",credentials:h.withCredentials?"include":"same-origin",signal:w}).then(function(L){f._fetchResponse=L,f._resetTimers(!1),f._connect()},function(L){f._resetTimers(!0),f._destroyed||f.emit("error",L)})}else{var M=f._xhr=new k.XMLHttpRequest;try{M.open(f._opts.method,f._opts.url,!0)}catch(L){return void g.nextTick(function(){f.emit("error",L)})}"responseType"in M&&(M.responseType=f._mode),"withCredentials"in M&&(M.withCredentials=!!h.withCredentials),f._mode==="text"&&"overrideMimeType"in M&&M.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in h&&(M.timeout=h.requestTimeout,M.ontimeout=function(){f.emit("requestTimeout")}),A.forEach(function(L){M.setRequestHeader(L[0],L[1])}),f._response=null,M.onreadystatechange=function(){switch(M.readyState){case n.LOADING:case n.DONE:f._onXHRProgress()}},f._mode==="moz-chunked-arraybuffer"&&(M.onprogress=function(){f._onXHRProgress()}),M.onerror=function(){f._destroyed||(f._resetTimers(!0),f.emit("error",new Error("XHR error")))};try{M.send(R)}catch(L){return void g.nextTick(function(){f.emit("error",L)})}}}},d.prototype._onXHRProgress=function(){var f=this;f._resetTimers(!1),!r(f._xhr)||f._destroyed||(!f._response&&f._connect(),f._response._onXHRProgress(f._resetTimers.bind(f)))},d.prototype._connect=function(){var f=this;f._destroyed||(f._response=new s(f._xhr,f._fetchResponse,f._mode,f._resetTimers.bind(f)),f._response.on("error",function(h){f.emit("error",h)}),f.emit("response",f._response))},d.prototype._write=function(f,h,x){var R=this;R._body.push(f),x()},d.prototype._resetTimers=function(f){var h=this;k.clearTimeout(h._socketTimer),h._socketTimer=null,f?(k.clearTimeout(h._fetchTimer),h._fetchTimer=null):h._socketTimeout&&(h._socketTimer=k.setTimeout(function(){h.emit("timeout")},h._socketTimeout))},d.prototype.abort=d.prototype.destroy=function(f){var h=this;h._destroyed=!0,h._resetTimers(!0),h._response&&(h._response._destroyed=!0),h._xhr?h._xhr.abort():h._fetchAbortController&&h._fetchAbortController.abort(),f&&h.emit("error",f)},d.prototype.end=function(f,h,x){var R=this;typeof f=="function"&&(x=f,f=void 0),l.Writable.prototype.end.call(R,f,h,x)},d.prototype.setTimeout=function(f,h){var x=this;h&&x.once("timeout",h),x._socketTimeout=f,x._resetTimers(!1)},d.prototype.flushHeaders=function(){},d.prototype.setNoDelay=function(){},d.prototype.setSocketKeepAlive=function(){};var c=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this)}).call(this,S("_process"),typeof ut>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:ut,S("buffer").Buffer)},{"./capability":257,"./response":259,_process:192,buffer:75,inherits:146,"readable-stream":227}],259:[function(S,V,O){(function(g,k,E){(function(){var v=S("./capability"),r=S("inherits"),m=S("readable-stream"),o=O.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},a=O.IncomingMessage=function(l,s,n,d){var c=this;if(m.Readable.call(c),c._mode=n,c.headers={},c.rawHeaders=[],c.trailers={},c.rawTrailers=[],c.on("end",function(){g.nextTick(function(){c.emit("close")})}),n==="fetch"){let I=function(){h.read().then(function(M){if(!c._destroyed)return d(M.done),M.done?void c.push(null):(c.push(E.from(M.value)),void I())}).catch(function(M){d(!0),c._destroyed||c.emit("error",M)})};var w=I;if(c._fetchResponse=s,c.url=s.url,c.statusCode=s.status,c.statusMessage=s.statusText,s.headers.forEach(function(M,L){c.headers[L.toLowerCase()]=M,c.rawHeaders.push(L,M)}),v.writableStream){var f=new WritableStream({write:function(M){return d(!1),new Promise(function(L,G){c._destroyed?G():c.push(E.from(M))?L():c._resumeFetch=L})},close:function(){d(!0),c._destroyed||c.push(null)},abort:function(M){d(!0),c._destroyed||c.emit("error",M)}});try{return void s.body.pipeTo(f).catch(function(M){d(!0),c._destroyed||c.emit("error",M)})}catch{}}var h=s.body.getReader();I()}else{c._xhr=l,c._pos=0,c.url=l.responseURL,c.statusCode=l.status,c.statusMessage=l.statusText;var x=l.getAllResponseHeaders().split(/\r?\n/);if(x.forEach(function(I){var M=I.match(/^([^:]+):\s*(.*)/);if(M){var L=M[1].toLowerCase();L==="set-cookie"?(c.headers[L]===void 0&&(c.headers[L]=[]),c.headers[L].push(M[2])):c.headers[L]===void 0?c.headers[L]=M[2]:c.headers[L]+=", "+M[2],c.rawHeaders.push(M[1],M[2])}}),c._charset="x-user-defined",!v.overrideMimeType){var R=c.rawHeaders["mime-type"];if(R){var A=R.match(/;\s*charset=([^;])(;|$)/);A&&(c._charset=A[1].toLowerCase())}c._charset||(c._charset="utf-8")}}};r(a,m.Readable),a.prototype._read=function(){var l=this,s=l._resumeFetch;s&&(l._resumeFetch=null,s())},a.prototype._onXHRProgress=function(l){var s=this,n=s._xhr,d=null;switch(s._mode){case"text":if(d=n.responseText,d.length>s._pos){var c=d.substr(s._pos);if(s._charset==="x-user-defined"){for(var f=E.alloc(c.length),h=0;h<c.length;h++)f[h]=255&c.charCodeAt(h);s.push(f)}else s.push(c,s._charset);s._pos=d.length}break;case"arraybuffer":if(n.readyState!==o.DONE||!n.response)break;d=n.response,s.push(E.from(new Uint8Array(d)));break;case"moz-chunked-arraybuffer":if(d=n.response,n.readyState!==o.LOADING||!d)break;s.push(E.from(new Uint8Array(d)));break;case"ms-stream":if(d=n.response,n.readyState!==o.LOADING)break;var x=new k.MSStreamReader;x.onprogress=function(){x.result.byteLength>s._pos&&(s.push(E.from(new Uint8Array(x.result.slice(s._pos)))),s._pos=x.result.byteLength)},x.onload=function(){l(!0),s.push(null)},x.readAsArrayBuffer(d)}s._xhr.readyState===o.DONE&&s._mode!=="ms-stream"&&(l(!0),s.push(null))}}).call(this)}).call(this,S("_process"),typeof ut>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:ut,S("buffer").Buffer)},{"./capability":257,_process:192,buffer:75,inherits:146,"readable-stream":227}],260:[function(S,V,O){async function g(E,v){const r=await k(E,v);return URL.createObjectURL(r)}V.exports=g;const k=S("stream-to-blob")},{"stream-to-blob":261}],261:[function(S,V,O){function g(k,E){if(E!=null&&typeof E!="string")throw new Error("Invalid mimetype, expected string.");return new Promise((v,r)=>{const m=[];k.on("data",o=>m.push(o)).once("end",()=>{const o=E==null?new Blob(m):new Blob(m,{type:E});v(o)}).once("error",r)})}/*! stream-to-blob. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */V.exports=g},{}],262:[function(S,V,O){(function(g){(function(){/*! stream-with-known-length-to-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var k=S("once");V.exports=function(v,r,m){m=k(m);var o=g.alloc(r),a=0;v.on("data",function(l){l.copy(o,a),a+=l.length}).on("end",function(){m(null,o)}).on("error",m)}}).call(this)}).call(this,S("buffer").Buffer)},{buffer:75,once:177}],263:[function(S,V,O){function g(){this.stream._duplexState|=N,(this.stream._duplexState&xt)==0?this.updateNextTick():this.drain()}function k(Fe){const le=this.stream;Fe&&le.destroy(Fe),(le._duplexState&He)==0&&(le._duplexState|=Pe,le.emit("finish")),(le._duplexState&mt)===ht&&(le._duplexState|=J),le._duplexState&=Ne,this.update()}function E(Fe){const le=this.stream;Fe||this.error===M||(Fe=this.error),Fe&&le.emit("error",Fe),le._duplexState|=B,le.emit("close");const Me=le._readableState,Qe=le._writableState;Me!==null&&Me.pipeline!==null&&Me.pipeline.done(le,Fe),Qe!==null&&Qe.pipeline!==null&&Qe.pipeline.done(le,Fe)}function v(Fe){const le=this.stream;Fe&&le.destroy(Fe),le._duplexState&=Ne,(le._duplexState&Ze)===Re&&(le._duplexState&=je,(le._duplexState&Ie)===Ie&&le.emit("drain")),(le._duplexState&ue)==0&&this.update()}function r(Fe){Fe&&this.stream.destroy(Fe),this.stream._duplexState&=Se,(this.stream._duplexState&D)==0&&this.update()}function m(){this.stream._duplexState&=H,this.update()}function o(){this.stream._duplexState&=dt,this.update()}function a(Fe){const le=this.stream;Fe&&le.destroy(Fe),(le._duplexState&J)==0&&((le._duplexState&St)==0&&(le._duplexState|=T),(le._duplexState&Xe)==0&&(le._duplexState|=se),le.emit("open")),le._duplexState&=lt,le._writableState!==null&&le._writableState.update(),le._readableState!==null&&le._readableState.update()}function l(Fe,le){le!=null&&this.push(le),this._writableState.afterWrite(Fe)}function s(Fe,le){const Me=this._transformState.afterFinal;return Fe?Me(Fe):(le!=null&&this.push(le),this.push(null),void Me(null))}function n(...Fe){return new Promise((le,Me)=>d(...Fe,Qe=>Qe?Me(Qe):void le()))}function d(Fe,...le){function Me(st,un,tr,Ui){function md(){return un&&st._readableState&&!st._readableState.ended||tr&&st._writableState&&!st._writableState.ended?Ui(L):void 0}st.on("error",Ui),st.on("close",md)}function Qe(st){if(st&&!Kt){Kt=st;for(const un of et)un.destroy(st)}}const et=Array.isArray(Fe)?[...Fe,...le]:[Fe,...le],wt=et.length&&typeof et[et.length-1]=="function"?et.pop():null;if(2>et.length)throw new Error("Pipeline requires at least 2 streams");let at=et[0],Ot=null,Kt=null;for(let st=1;st<et.length;st++)Ot=et[st],f(at)?at.pipe(Ot,Qe):(Me(at,!0,1<st,Qe),at.pipe(Ot)),at=Ot;if(wt){let st=!1;Ot.on("finish",()=>{st=!0}),Ot.on("error",un=>{Kt=Kt||un}),Ot.on("close",()=>wt(Kt||(st?null:L)))}return Ot}function c(Fe){return!!Fe._readableState||!!Fe._writableState}function f(Fe){return typeof Fe._duplexState=="number"&&c(Fe)}function h(Fe){return f(Fe)&&Fe.readable}function x(Fe){return typeof Fe=="object"&&Fe!==null&&typeof Fe.byteLength=="number"}function R(Fe){return x(Fe)?Fe.byteLength:1024}function A(){}function w(){this.destroy(new Error("Stream aborted."))}const{EventEmitter:I}=S("events"),M=new Error("Stream was destroyed"),L=new Error("Premature close"),G=S("queue-tick"),Y=S("fast-fifo"),ie=33554431,ae=1,J=2,B=4,y=ie^ae,p=8,T=16,D=32,j=64,U=128,N=256,W=512,Q=1024,ee=2048,fe=4096,oe=8192,me=16392,he=32768,Se=ie^p,Ae=ie^T,pe=ie^(T|he),ge=ie^D,xe=ie^he,Ce=ie^U,de=ie^(j|fe),q=ie^W,P=ie^(U|N),H=ie^me,Z=65536,se=131072,ue=262144,be=524288,Re=1048576,Pe=2097152,Ie=4194304,Be=8454144,Oe=16777216,Ne=ie^Z,De=ie^ue,We=ie^se,Ge=ie^Oe,je=ie^Re,ot=ie^be,dt=ie^Be,ze=p|Z,lt=ie^ze,ht=oe|Pe,He=J|B,rt=He|ae,mt=He|ht,Ve=We&Ae,gt=(Be|me)&lt,vt=ze|gt,Ke=rt|gt,St=rt|W|oe,bt=rt|oe|j,qe=U|N,xt=p|D,kt=p|D|he,Ye=T|p,Ct=rt|W|j,Tt=ee|j,Je=rt|ee|j|fe,Rt=rt|p|W|oe|he,At=He|W|oe,Xe=rt|Oe|Pe,It=be|Re,yt=be|Z,Ze=be|Re|rt|Z,_t=rt|Z|be,ye=se|Z,te=Z|ue,re=rt|Oe|yt|Pe,ne=Re|He|Oe|Pe,_e=Symbol.asyncIterator||Symbol("asyncIterator");class fn{constructor(le,{highWaterMark:Me=16384,map:Qe=null,mapWritable:et,byteLength:wt,byteLengthWritable:at}={}){this.stream=le,this.queue=new Y,this.highWaterMark=Me,this.buffered=0,this.error=null,this.pipeline=null,this.byteLength=at||wt||R,this.map=et||Qe,this.afterWrite=v.bind(this),this.afterUpdateNextTick=o.bind(this)}get ended(){return(this.stream._duplexState&Pe)!=0}push(le){return this.map!==null&&(le=this.map(le)),this.buffered+=this.byteLength(le),this.queue.push(le),this.buffered<this.highWaterMark?(this.stream._duplexState|=be,!0):(this.stream._duplexState|=It,!1)}shift(){const le=this.queue.shift(),Me=this.stream;return this.buffered-=this.byteLength(le),this.buffered===0&&(Me._duplexState&=ot),le}end(le){typeof le=="function"?this.stream.once("finish",le):le!=null&&this.push(le),this.stream._duplexState=(this.stream._duplexState|Oe)&We}autoBatch(le,Me){const Qe=[],et=this.stream;for(Qe.push(le);(et._duplexState&_t)===yt;)Qe.push(et._writableState.shift());return(et._duplexState&rt)==0?void et._writev(Qe,Me):Me(null)}update(){const le=this.stream;for(;(le._duplexState&_t)===be;){const Me=this.shift();le._duplexState|=te,le._write(Me,this.afterWrite),le._duplexState&=De}(le._duplexState&ye)==0&&this.updateNonPrimary()}updateNonPrimary(){const le=this.stream;return(le._duplexState&re)===Oe?(le._duplexState=(le._duplexState|Z)&Ge,void le._final(k.bind(this))):(le._duplexState&He)===J?void((le._duplexState&vt)==0&&(le._duplexState|=ze,le._destroy(E.bind(this)))):void((le._duplexState&Ke)===ae&&(le._duplexState=(le._duplexState|ze)&y,le._open(a.bind(this))))}updateNextTick(){(this.stream._duplexState&Be)!=0||(this.stream._duplexState|=Be,G(this.afterUpdateNextTick))}}class _n{constructor(le,{highWaterMark:Me=16384,map:Qe=null,mapReadable:et,byteLength:wt,byteLengthReadable:at}={}){this.stream=le,this.queue=new Y,this.highWaterMark=Me,this.buffered=0,this.error=null,this.pipeline=null,this.byteLength=at||wt||R,this.map=et||Qe,this.pipeTo=null,this.afterRead=r.bind(this),this.afterUpdateNextTick=m.bind(this)}get ended(){return(this.stream._duplexState&oe)!=0}pipe(le,Me){if(this.pipeTo!==null)throw new Error("Can only pipe to one destination");if(typeof Me!="function"&&(Me=null),this.stream._duplexState|=N,this.pipeTo=le,this.pipeline=new En(this.stream,le,Me),Me&&this.stream.on("error",A),f(le))le._writableState.pipeline=this.pipeline,Me&&le.on("error",A),le.on("finish",this.pipeline.finished.bind(this.pipeline));else{const Qe=this.pipeline.done.bind(this.pipeline,le),et=this.pipeline.done.bind(this.pipeline,le,null);le.on("error",Qe),le.on("close",et),le.on("finish",this.pipeline.finished.bind(this.pipeline))}le.on("drain",g.bind(this)),this.stream.emit("piping",le),le.emit("pipe",this.stream)}push(le){const Me=this.stream;return le===null?(this.highWaterMark=0,Me._duplexState=(Me._duplexState|W)&pe,!1):(this.map!==null&&(le=this.map(le)),this.buffered+=this.byteLength(le),this.queue.push(le),Me._duplexState=(Me._duplexState|j)&xe,this.buffered<this.highWaterMark)}shift(){const le=this.queue.shift();return this.buffered-=this.byteLength(le),this.buffered===0&&(this.stream._duplexState&=de),le}unshift(le){let Me;const Qe=[];for(;(Me=this.queue.shift())!==void 0;)Qe.push(Me);this.push(le);for(let et=0;et<Qe.length;et++)this.queue.push(Qe[et])}read(){const le=this.stream;if((le._duplexState&bt)===j){const Me=this.shift();return this.pipeTo!==null&&this.pipeTo.write(Me)===!1&&(le._duplexState&=P),(le._duplexState&Q)!=0&&le.emit("data",Me),Me}return null}drain(){for(const le=this.stream;(le._duplexState&bt)===j&&(le._duplexState&qe)!=0;){const Me=this.shift();this.pipeTo!==null&&this.pipeTo.write(Me)===!1&&(le._duplexState&=P),(le._duplexState&Q)!=0&&le.emit("data",Me)}}update(){const le=this.stream;for(this.drain();this.buffered<this.highWaterMark&&(le._duplexState&Rt)==0;)le._duplexState|=kt,le._read(this.afterRead),le._duplexState&=ge,(le._duplexState&p)==0&&this.drain();(le._duplexState&Je)===Tt&&(le._duplexState|=fe,le.emit("readable")),(le._duplexState&Ye)==0&&this.updateNonPrimary()}updateNonPrimary(){const le=this.stream;return(le._duplexState&Ct)===W&&(le._duplexState=(le._duplexState|oe)&q,le.emit("end"),(le._duplexState&mt)===ht&&(le._duplexState|=J),this.pipeTo!==null&&this.pipeTo.end()),(le._duplexState&He)===J?void((le._duplexState&vt)==0&&(le._duplexState|=ze,le._destroy(E.bind(this)))):void((le._duplexState&Ke)===ae&&(le._duplexState=(le._duplexState|ze)&y,le._open(a.bind(this))))}updateNextTick(){(this.stream._duplexState&me)!=0||(this.stream._duplexState|=me,G(this.afterUpdateNextTick))}}class wn{constructor(le){this.data=null,this.afterTransform=l.bind(le),this.afterFinal=null}}class En{constructor(le,Me,Qe){this.from=le,this.to=Me,this.afterPipe=Qe,this.error=null,this.pipeToFinished=!1}finished(){this.pipeToFinished=!0}done(le,Me){return Me&&(this.error=Me),le===this.to&&(this.to=null,this.from!==null)?void((this.from._duplexState&oe)!=0&&this.pipeToFinished||this.from.destroy(this.error||new Error("Writable stream closed prematurely"))):le===this.from&&(this.from=null,this.to!==null)?void((le._duplexState&oe)==0&&this.to.destroy(this.error||new Error("Readable stream closed before ending"))):(this.afterPipe!==null&&this.afterPipe(this.error),void(this.to=this.from=this.afterPipe=null))}}class tn extends I{constructor(le){super(),this._duplexState=0,this._readableState=null,this._writableState=null,le&&(le.open&&(this._open=le.open),le.destroy&&(this._destroy=le.destroy),le.predestroy&&(this._predestroy=le.predestroy),le.signal&&le.signal.addEventListener("abort",w.bind(this)))}_open(le){le(null)}_destroy(le){le(null)}_predestroy(){}get readable(){return this._readableState!==null||void 0}get writable(){return this._writableState!==null||void 0}get destroyed(){return(this._duplexState&B)!=0}get destroying(){return(this._duplexState&He)!=0}destroy(le){(this._duplexState&He)==0&&(!le&&(le=M),this._duplexState=(this._duplexState|J)&Ve,this._readableState!==null&&(this._readableState.error=le,this._readableState.updateNextTick()),this._writableState!==null&&(this._writableState.error=le,this._writableState.updateNextTick()),this._predestroy())}on(le,Me){return this._readableState!==null&&(le==="data"&&(this._duplexState|=Q|U,this._readableState.updateNextTick()),le==="readable"&&(this._duplexState|=ee,this._readableState.updateNextTick())),this._writableState!==null&&le==="drain"&&(this._duplexState|=Ie,this._writableState.updateNextTick()),super.on(le,Me)}}class Jt extends tn{constructor(le){super(le),this._duplexState|=ae|Pe,this._readableState=new _n(this,le),le&&(le.read&&(this._read=le.read),le.eagerOpen&&this.resume().pause())}_read(le){le(null)}pipe(le,Me){return this._readableState.pipe(le,Me),this._readableState.updateNextTick(),le}read(){return this._readableState.updateNextTick(),this._readableState.read()}push(le){return this._readableState.updateNextTick(),this._readableState.push(le)}unshift(le){return this._readableState.updateNextTick(),this._readableState.unshift(le)}resume(){return this._duplexState|=U,this._readableState.updateNextTick(),this}pause(){return this._duplexState&=Ce,this}static _fromAsyncIterator(le,Me){function Qe(at){at.done?wt.push(null):wt.push(at.value)}let et;const wt=new Jt({...Me,read(at){le.next().then(Qe).then(at.bind(null,null)).catch(at)},predestroy(){et=le.return()},destroy(at){return et?void et.then(at.bind(null,null)).catch(at):at(null)}});return wt}static from(le,Me){if(h(le))return le;if(le[_e])return this._fromAsyncIterator(le[_e](),Me);Array.isArray(le)||(le=le===void 0?[]:[le]);let Qe=0;return new Jt({...Me,read(et){this.push(Qe===le.length?null:le[Qe++]),et(null)}})}static isBackpressured(le){return(le._duplexState&At)!=0||le._readableState.buffered>=le._readableState.highWaterMark}static isPaused(le){return(le._duplexState&U)==0}[_e](){function le(){Ot!==null&&Qe(wt.read())}function Me(){Ot!==null&&Qe(null)}function Qe(st){Kt===null||(at?Kt(at):st===null&&(wt._duplexState&oe)==0?Kt(M):Ot({value:st,done:st==null}),Kt=Ot=null)}function et(st){return wt.destroy(st),new Promise((un,tr)=>wt._duplexState&B?un({value:void 0,done:!0}):void wt.once("close",function(){st?tr(st):un({value:void 0,done:!0})}))}const wt=this;let at=null,Ot=null,Kt=null;return this.on("error",st=>{at=st}),this.on("readable",le),this.on("close",Me),{[_e](){return this},next(){return new Promise(function(st,un){Ot=st,Kt=un;const tr=wt.read();tr===null?(wt._duplexState&B)!=0&&Qe(null):Qe(tr)})},return(){return et(null)},throw(st){return et(st)}}}}class Sn extends tn{constructor(le){super(le),this._duplexState|=ae|oe,this._writableState=new fn(this,le),le&&(le.writev&&(this._writev=le.writev),le.write&&(this._write=le.write),le.final&&(this._final=le.final))}_writev(le,Me){Me(null)}_write(le,Me){this._writableState.autoBatch(le,Me)}_final(le){le(null)}static isBackpressured(le){return(le._duplexState&ne)!=0}write(le){return this._writableState.updateNextTick(),this._writableState.push(le)}end(le){return this._writableState.updateNextTick(),this._writableState.end(le),this}}class ln extends Jt{constructor(le){super(le),this._duplexState=ae,this._writableState=new fn(this,le),le&&(le.writev&&(this._writev=le.writev),le.write&&(this._write=le.write),le.final&&(this._final=le.final))}_writev(le,Me){Me(null)}_write(le,Me){this._writableState.autoBatch(le,Me)}_final(le){le(null)}write(le){return this._writableState.updateNextTick(),this._writableState.push(le)}end(le){return this._writableState.updateNextTick(),this._writableState.end(le),this}}class hn extends ln{constructor(le){super(le),this._transformState=new wn(this),le&&(le.transform&&(this._transform=le.transform),le.flush&&(this._flush=le.flush))}_write(le,Me){this._readableState.buffered>=this._readableState.highWaterMark?this._transformState.data=le:this._transform(le,this._transformState.afterTransform)}_read(le){if(this._transformState.data!==null){const Me=this._transformState.data;this._transformState.data=null,le(null),this._transform(Me,this._transformState.afterTransform)}else le(null)}_transform(le,Me){Me(null,le)}_flush(le){le(null)}_final(le){this._transformState.afterFinal=le,this._flush(s.bind(this))}}class xn extends hn{}V.exports={pipeline:d,pipelinePromise:n,isStream:c,isStreamx:f,Stream:tn,Writable:Sn,Readable:Jt,Duplex:ln,Transform:hn,PassThrough:xn}},{events:122,"fast-fifo":126,"queue-tick":206}],264:[function(S,V,O){arguments[4][70][0].apply(O,arguments)},{dup:70,"safe-buffer":234}],265:[function(S,V,O){var g=S("./thirty-two");O.encode=g.encode,O.decode=g.decode},{"./thirty-two":266}],266:[function(S,V,O){(function(g){(function(){function k(v){var r=F(v.length/5);return v.length%5==0?r:r+1}var E=[255,255,26,27,28,29,30,31,255,255,255,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255];O.encode=function(v){g.isBuffer(v)||(v=new g(v));for(var r=0,m=0,o=0,a=0,l=new g(8*k(v));r<v.length;){var s=v[r];3<o?(a=s&255>>o,o=(o+5)%8,a=a<<o|(r+1<v.length?v[r+1]:0)>>8-o,r++):(a=31&s>>8-(o+5),o=(o+5)%8,o===0&&r++),l[m]="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567".charCodeAt(a),m++}for(r=m;r<l.length;r++)l[r]=61;return l},O.decode=function(v){var r=0,m=0,o=0,a;g.isBuffer(v)||(v=new g(v));for(var l=new g(Ee(5*v.length/8)),s=0;s<v.length&&v[s]!==61;s++){var n=v[s]-48;if(n<E.length)m=E[n],3>=r?(r=(r+5)%8,r===0?(a|=m,l[o]=a,o++,a=0):a|=255&m<<8-r):(r=(r+5)%8,a|=255&m>>>r,l[o]=a,o++,a=255&m<<8-r);else throw new Error("Invalid input - it is not base32 encoded string")}return l.slice(0,o)}}).call(this)}).call(this,S("buffer").Buffer)},{buffer:75}],267:[function(S,V,O){function g(r){return 65535&(+Date.now()-r)/v}const k=65535,E=10,v=1e3/E;V.exports=function(r){const m=+Date.now(),o=E*(r||5),a=[0];let l=1,s=g(m)-1&k;return function(n){const d=g(m);let c=d-s&k;for(c>o&&(c=o),s=d;c--;)l===o&&(l=0),a[l]=a[l===0?o-1:l-1],l++;n&&(a[l-1]+=n);const f=a[l-1],h=a.length<o?0:a[l===o?0:l];return a.length<E?f:(f-h)*E/a.length}}},{}],268:[function(S,V,O){var g=S("buffer").Buffer;V.exports=function(k){if(k instanceof Uint8Array){if(k.byteOffset===0&&k.byteLength===k.buffer.byteLength)return k.buffer;if(typeof k.buffer.slice=="function")return k.buffer.slice(k.byteOffset,k.byteOffset+k.byteLength)}if(g.isBuffer(k)){for(var E=new Uint8Array(k.length),v=k.length,r=0;r<v;r++)E[r]=k[r];return E.buffer}throw new Error("Argument must be a Buffer")}},{buffer:75}],269:[function(S,V,O){(function(g){(function(){/*! torrent-discovery. MIT License. WebTorrent LLC <https://webtorrent.io/opensource> */const k=S("debug")("torrent-discovery"),E=S("bittorrent-dht/client"),v=S("events").EventEmitter,r=S("run-parallel"),m=S("bittorrent-tracker/client"),o=S("bittorrent-lsd");class a extends v{constructor(s){if(super(),!s.peerId)throw new Error("Option `peerId` is required");if(!s.infoHash)throw new Error("Option `infoHash` is required");if(!g.browser&&!s.port)throw new Error("Option `port` is required");this.peerId=typeof s.peerId=="string"?s.peerId:s.peerId.toString("hex"),this.infoHash=typeof s.infoHash=="string"?s.infoHash.toLowerCase():s.infoHash.toString("hex"),this._port=s.port,this._userAgent=s.userAgent,this.destroyed=!1,this._announce=s.announce||[],this._intervalMs=s.intervalMs||9e5,this._trackerOpts=null,this._dhtAnnouncing=!1,this._dhtTimeout=!1,this._internalDHT=!1,this._onWarning=d=>{this.emit("warning",d)},this._onError=d=>{this.emit("error",d)},this._onDHTPeer=(d,c)=>{c.toString("hex")!==this.infoHash||this.emit("peer",`${d.host}:${d.port}`,"dht")},this._onTrackerPeer=d=>{this.emit("peer",d,"tracker")},this._onTrackerAnnounce=()=>{this.emit("trackerAnnounce")},this._onLSDPeer=(d,c)=>{this.emit("peer",d,"lsd")};const n=(d,c)=>{const f=new E(c);return f.on("warning",this._onWarning),f.on("error",this._onError),f.listen(d),this._internalDHT=!0,f};s.tracker===!1?this.tracker=null:s.tracker&&typeof s.tracker=="object"?(this._trackerOpts=Object.assign({},s.tracker),this.tracker=this._createTracker()):this.tracker=this._createTracker(),this.dht=s.dht===!1||typeof E!="function"?null:s.dht&&typeof s.dht.addNode=="function"?s.dht:s.dht&&typeof s.dht=="object"?n(s.dhtPort,s.dht):n(s.dhtPort),this.dht&&(this.dht.on("peer",this._onDHTPeer),this._dhtAnnounce()),this.lsd=s.lsd===!1||typeof o!="function"?null:this._createLSD()}updatePort(s){s===this._port||(this._port=s,this.dht&&this._dhtAnnounce(),this.tracker&&(this.tracker.stop(),this.tracker.destroy(()=>{this.tracker=this._createTracker()})))}complete(s){this.tracker&&this.tracker.complete(s)}destroy(s){if(!this.destroyed){this.destroyed=!0,clearTimeout(this._dhtTimeout);const n=[];this.tracker&&(this.tracker.stop(),this.tracker.removeListener("warning",this._onWarning),this.tracker.removeListener("error",this._onError),this.tracker.removeListener("peer",this._onTrackerPeer),this.tracker.removeListener("update",this._onTrackerAnnounce),n.push(d=>{this.tracker.destroy(d)})),this.dht&&this.dht.removeListener("peer",this._onDHTPeer),this._internalDHT&&(this.dht.removeListener("warning",this._onWarning),this.dht.removeListener("error",this._onError),n.push(d=>{this.dht.destroy(d)})),this.lsd&&(this.lsd.removeListener("warning",this._onWarning),this.lsd.removeListener("error",this._onError),this.lsd.removeListener("peer",this._onLSDPeer),n.push(d=>{this.lsd.destroy(d)})),r(n,s),this.dht=null,this.tracker=null,this.lsd=null,this._announce=null}}_createTracker(){const s=Object.assign({},this._trackerOpts,{infoHash:this.infoHash,announce:this._announce,peerId:this.peerId,port:this._port,userAgent:this._userAgent}),n=new m(s);return n.on("warning",this._onWarning),n.on("error",this._onError),n.on("peer",this._onTrackerPeer),n.on("update",this._onTrackerAnnounce),n.setInterval(this._intervalMs),n.start(),n}_dhtAnnounce(){this._dhtAnnouncing||(k("dht announce"),this._dhtAnnouncing=!0,clearTimeout(this._dhtTimeout),this.dht.announce(this.infoHash,this._port,s=>{this._dhtAnnouncing=!1,k("dht announce complete"),s&&this.emit("warning",s),this.emit("dhtAnnounce"),this.destroyed||(this._dhtTimeout=setTimeout(()=>{this._dhtAnnounce()},this._intervalMs+F(Math.random()*this._intervalMs/5)),this._dhtTimeout.unref&&this._dhtTimeout.unref())}))}_createLSD(){const s=Object.assign({},{infoHash:this.infoHash,peerId:this.peerId,port:this._port}),n=new o(s);return n.on("warning",this._onWarning),n.on("error",this._onError),n.on("peer",this._onLSDPeer),n.start(),n}}V.exports=a}).call(this)}).call(this,S("_process"))},{_process:192,"bittorrent-dht/client":41,"bittorrent-lsd":41,"bittorrent-tracker/client":33,debug:90,events:122,"run-parallel":232}],270:[function(S,V,O){(function(g){(function(){/*! torrent-piece. MIT License. WebTorrent LLC <https://webtorrent.io/opensource> */class E{constructor(r){this.length=r,this.missing=r,this.sources=null,this._chunks=Ee(r/16384),this._remainder=r%16384||16384,this._buffered=0,this._buffer=null,this._cancellations=null,this._reservations=0,this._flushed=!1}chunkLength(r){return r===this._chunks-1?this._remainder:16384}chunkLengthRemaining(r){return this.length-r*16384}chunkOffset(r){return r*16384}reserve(){return this.init()?this._cancellations.length?this._cancellations.pop():this._reservations<this._chunks?this._reservations++:-1:-1}reserveRemaining(){if(!this.init())return-1;if(this._cancellations.length||this._reservations<this._chunks){let r=this._reservations;for(;this._cancellations.length;)r=ke(r,this._cancellations.pop());return this._reservations=this._chunks,r}return-1}cancel(r){this.init()&&this._cancellations.push(r)}cancelRemaining(r){this.init()&&(this._reservations=r)}get(r){return this.init()?this._buffer[r]:null}set(r,m,o){if(!this.init())return!1;const a=m.length,l=Ee(a/16384);for(let s=0;s<l;s++)if(!this._buffer[r+s]){const n=s*16384,d=m.slice(n,n+16384);this._buffered++,this._buffer[r+s]=d,this.missing-=d.length,this.sources.includes(o)||this.sources.push(o)}return this._buffered===this._chunks}flush(){if(!this._buffer||this._chunks!==this._buffered)return null;const r=g.concat(this._buffer,this.length);return this._buffer=null,this._cancellations=null,this.sources=null,this._flushed=!0,r}init(){return!this._flushed&&(!!this._buffer||(this._buffer=Array(this._chunks),this._cancellations=[],this.sources=[],!0))}}Object.defineProperty(E,"BLOCK_LENGTH",{value:16384}),V.exports=E}).call(this)}).call(this,S("buffer").Buffer)},{buffer:75}],271:[function(S,V,O){var g=S("buffer-alloc"),k=_(2,32);O.encodingLength=function(){return 8},O.encode=function(E,v,r){v||(v=g(8)),r||(r=0);var m=F(E/k),o=E-m*k;return v.writeUInt32BE(m,r),v.writeUInt32BE(o,r+4),v},O.decode=function(E,v){v||(v=0);var r=E.readUInt32BE(v),m=E.readUInt32BE(v+4);return r*k+m},O.encode.bytes=8,O.decode.bytes=8},{"buffer-alloc":72}],272:[function(S,V,O){function g(k,E){if(!(E>=k.length||0>E)){var v=k.pop();if(E<k.length){var r=k[E];return k[E]=v,r}return v}}V.exports=g},{}],273:[function(S,V,O){function g(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function k(L,G,Y){if(L&&o.isObject(L)&&L instanceof g)return L;var ie=new g;return ie.parse(L,G,Y),ie}function E(L){return o.isString(L)&&(L=k(L)),L instanceof g?L.format():g.prototype.format.call(L)}function v(L,G){return k(L,!1,!0).resolve(G)}function r(L,G){return L?k(L,!1,!0).resolveObject(G):G}var m=S("punycode"),o=S("./util");O.parse=k,O.resolve=v,O.resolveObject=r,O.format=E,O.Url=g;var a=/^([a-z0-9.+-]+:)/i,l=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,n=["<",">",'"',"`"," ","\r",`
`,"	"],d=["{","}","|","\\","^","`"].concat(n),c=["'"].concat(d),f=["%","/","?",";","#"].concat(c),h=["/","?","#"],x=/^[+a-z0-9A-Z_-]{0,63}$/,R=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,A={javascript:!0,"javascript:":!0},w={javascript:!0,"javascript:":!0},I={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},M=S("querystring");g.prototype.parse=function(L,G,Y){if(!o.isString(L))throw new TypeError("Parameter 'url' must be a string, not "+typeof L);var ie=L.indexOf("?"),ae=ie!==-1&&ie<L.indexOf("#")?"?":"#",J=L.split(ae),B=/\\/g;J[0]=J[0].replace(B,"/"),L=J.join(ae);var y=L;if(y=y.trim(),!Y&&L.split("#").length===1){var p=s.exec(y);if(p)return this.path=y,this.href=y,this.pathname=p[1],p[2]?(this.search=p[2],this.query=G?M.parse(this.search.substr(1)):this.search.substr(1)):G&&(this.search="",this.query={}),this}var T=a.exec(y);if(T){T=T[0];var D=T.toLowerCase();this.protocol=D,y=y.substr(T.length)}if(Y||T||y.match(/^\/\/[^@\/]+@[^@\/]+/)){var j=y.substr(0,2)==="//";j&&!(T&&w[T])&&(y=y.substr(2),this.slashes=!0)}if(!w[T]&&(j||T&&!I[T])){for(var U=-1,N=0,W;N<h.length;N++)W=y.indexOf(h[N]),W!==-1&&(U===-1||W<U)&&(U=W);var Q,ee;ee=U===-1?y.lastIndexOf("@"):y.lastIndexOf("@",U),ee!==-1&&(Q=y.slice(0,ee),y=y.slice(ee+1),this.auth=decodeURIComponent(Q)),U=-1;for(var N=0,W;N<f.length;N++)W=y.indexOf(f[N]),W!==-1&&(U===-1||W<U)&&(U=W);U===-1&&(U=y.length),this.host=y.slice(0,U),y=y.slice(U),this.parseHost(),this.hostname=this.hostname||"";var fe=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!fe){for(var oe=this.hostname.split(/\./),N=0,me=oe.length,he;N<me;N++)if(he=oe[N],he&&!he.match(x)){for(var Se="",Ae=0,pe=he.length;Ae<pe;Ae++)Se+=127<he.charCodeAt(Ae)?"x":he[Ae];if(!Se.match(x)){var ge=oe.slice(0,N),xe=oe.slice(N+1),Ce=he.match(R);Ce&&(ge.push(Ce[1]),xe.unshift(Ce[2])),xe.length&&(y="/"+xe.join(".")+y),this.hostname=ge.join(".");break}}}this.hostname=255<this.hostname.length?"":this.hostname.toLowerCase(),fe||(this.hostname=m.toASCII(this.hostname));var de=this.port?":"+this.port:"",q=this.hostname||"";this.host=q+de,this.href+=this.host,fe&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),y[0]!=="/"&&(y="/"+y))}if(!A[D]){for(var N=0,me=c.length,P;N<me;N++)if(P=c[N],y.indexOf(P)!==-1){var H=encodeURIComponent(P);H===P&&(H=escape(P)),y=y.split(P).join(H)}}var Z=y.indexOf("#");Z!==-1&&(this.hash=y.substr(Z),y=y.slice(0,Z));var se=y.indexOf("?");if(se===-1?G&&(this.search="",this.query={}):(this.search=y.substr(se),this.query=y.substr(se+1),G&&(this.query=M.parse(this.query)),y=y.slice(0,se)),y&&(this.pathname=y),I[D]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var de=this.pathname||"",ue=this.search||"";this.path=de+ue}return this.href=this.format(),this},g.prototype.format=function(){var L=this.auth||"";L&&(L=encodeURIComponent(L),L=L.replace(/%3A/i,":"),L+="@");var G=this.protocol||"",Y=this.pathname||"",ie=this.hash||"",ae=!1,J="";this.host?ae=L+this.host:this.hostname&&(ae=L+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(ae+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(J=M.stringify(this.query));var B=this.search||J&&"?"+J||"";return G&&G.substr(-1)!==":"&&(G+=":"),this.slashes||(!G||I[G])&&ae!==!1?(ae="//"+(ae||""),Y&&Y.charAt(0)!=="/"&&(Y="/"+Y)):!ae&&(ae=""),ie&&ie.charAt(0)!=="#"&&(ie="#"+ie),B&&B.charAt(0)!=="?"&&(B="?"+B),Y=Y.replace(/[?#]/g,function(y){return encodeURIComponent(y)}),B=B.replace("#","%23"),G+ae+Y+B+ie},g.prototype.resolve=function(L){return this.resolveObject(k(L,!1,!0)).format()},g.prototype.resolveObject=function(L){if(o.isString(L)){var G=new g;G.parse(L,!1,!0),L=G}for(var Y=new g,ie=Object.keys(this),ae=0,J;ae<ie.length;ae++)J=ie[ae],Y[J]=this[J];if(Y.hash=L.hash,L.href==="")return Y.href=Y.format(),Y;if(L.slashes&&!L.protocol){for(var B=Object.keys(L),y=0,p;y<B.length;y++)p=B[y],p!=="protocol"&&(Y[p]=L[p]);return I[Y.protocol]&&Y.hostname&&!Y.pathname&&(Y.path=Y.pathname="/"),Y.href=Y.format(),Y}if(L.protocol&&L.protocol!==Y.protocol){if(!I[L.protocol]){for(var T=Object.keys(L),D=0,j;D<T.length;D++)j=T[D],Y[j]=L[j];return Y.href=Y.format(),Y}if(Y.protocol=L.protocol,!L.host&&!w[L.protocol]){for(var me=(L.pathname||"").split("/");me.length&&!(L.host=me.shift()););L.host||(L.host=""),L.hostname||(L.hostname=""),me[0]!==""&&me.unshift(""),2>me.length&&me.unshift(""),Y.pathname=me.join("/")}else Y.pathname=L.pathname;if(Y.search=L.search,Y.query=L.query,Y.host=L.host||"",Y.auth=L.auth,Y.hostname=L.hostname||L.host,Y.port=L.port,Y.pathname||Y.search){var U=Y.pathname||"",N=Y.search||"";Y.path=U+N}return Y.slashes=Y.slashes||L.slashes,Y.href=Y.format(),Y}var W=Y.pathname&&Y.pathname.charAt(0)==="/",Q=L.host||L.pathname&&L.pathname.charAt(0)==="/",ee=Q||W||Y.host&&L.pathname,fe=ee,oe=Y.pathname&&Y.pathname.split("/")||[],me=L.pathname&&L.pathname.split("/")||[],he=Y.protocol&&!I[Y.protocol];if(he&&(Y.hostname="",Y.port=null,Y.host&&(oe[0]===""?oe[0]=Y.host:oe.unshift(Y.host)),Y.host="",L.protocol&&(L.hostname=null,L.port=null,L.host&&(me[0]===""?me[0]=L.host:me.unshift(L.host)),L.host=null),ee=ee&&(me[0]===""||oe[0]==="")),Q)Y.host=L.host||L.host===""?L.host:Y.host,Y.hostname=L.hostname||L.hostname===""?L.hostname:Y.hostname,Y.search=L.search,Y.query=L.query,oe=me;else if(me.length)oe||(oe=[]),oe.pop(),oe=oe.concat(me),Y.search=L.search,Y.query=L.query;else if(!o.isNullOrUndefined(L.search)){if(he){Y.hostname=Y.host=oe.shift();var Se=!!(Y.host&&0<Y.host.indexOf("@"))&&Y.host.split("@");Se&&(Y.auth=Se.shift(),Y.host=Y.hostname=Se.shift())}return Y.search=L.search,Y.query=L.query,o.isNull(Y.pathname)&&o.isNull(Y.search)||(Y.path=(Y.pathname?Y.pathname:"")+(Y.search?Y.search:"")),Y.href=Y.format(),Y}if(!oe.length)return Y.pathname=null,Y.path=Y.search?"/"+Y.search:null,Y.href=Y.format(),Y;for(var Ae=oe.slice(-1)[0],pe=(Y.host||L.host||1<oe.length)&&(Ae==="."||Ae==="..")||Ae==="",ge=0,xe=oe.length;0<=xe;xe--)Ae=oe[xe],Ae==="."?oe.splice(xe,1):Ae===".."?(oe.splice(xe,1),ge++):ge&&(oe.splice(xe,1),ge--);if(!ee&&!fe)for(;ge--;ge)oe.unshift("..");ee&&oe[0]!==""&&(!oe[0]||oe[0].charAt(0)!=="/")&&oe.unshift(""),pe&&oe.join("/").substr(-1)!=="/"&&oe.push("");var Ce=oe[0]===""||oe[0]&&oe[0].charAt(0)==="/";if(he){Y.hostname=Y.host=Ce?"":oe.length?oe.shift():"";var Se=!!(Y.host&&0<Y.host.indexOf("@"))&&Y.host.split("@");Se&&(Y.auth=Se.shift(),Y.host=Y.hostname=Se.shift())}return ee=ee||Y.host&&oe.length,ee&&!Ce&&oe.unshift(""),oe.length?Y.pathname=oe.join("/"):(Y.pathname=null,Y.path=null),o.isNull(Y.pathname)&&o.isNull(Y.search)||(Y.path=(Y.pathname?Y.pathname:"")+(Y.search?Y.search:"")),Y.auth=L.auth||Y.auth,Y.slashes=Y.slashes||L.slashes,Y.href=Y.format(),Y},g.prototype.parseHost=function(){var L=this.host,G=l.exec(L);G&&(G=G[0],G!==":"&&(this.port=G.substr(1)),L=L.substr(0,L.length-G.length)),L&&(this.hostname=L)}},{"./util":274,punycode:201,querystring:204}],274:[function(S,V,O){V.exports={isString:function(g){return typeof g=="string"},isObject:function(g){return typeof g=="object"&&g!==null},isNull:function(g){return g===null},isNullOrUndefined:function(g){return g==null}}},{}],275:[function(S,V,O){(function(g){(function(){/*! ut_metadata. MIT License. WebTorrent LLC <https://webtorrent.io/opensource> */const{EventEmitter:k}=S("events"),E=S("bencode"),v=S("bitfield").default,r=S("debug")("ut_metadata"),m=S("simple-sha1"),o=1e7,a=1e3,l=16384;V.exports=s=>{class n extends k{constructor(c){super(),this._wire=c,this._fetching=!1,this._metadataComplete=!1,this._metadataSize=null,this._remainingRejects=null,this._bitfield=new v(0,{grow:a}),g.isBuffer(s)&&this.setMetadata(s)}onHandshake(c,f,h){this._infoHash=c}onExtendedHandshake(c){return c.m&&c.m.ut_metadata?c.metadata_size?typeof c.metadata_size!="number"||o<c.metadata_size||0>=c.metadata_size?this.emit("warning",new Error("Peer gave invalid metadata size")):(this._metadataSize=c.metadata_size,this._numPieces=Ee(this._metadataSize/l),this._remainingRejects=2*this._numPieces,void this._requestPieces()):this.emit("warning",new Error("Peer does not have metadata")):this.emit("warning",new Error("Peer does not support ut_metadata"))}onMessage(c){let f,h;try{const x=c.toString(),R=x.indexOf("ee")+2;f=E.decode(x.substring(0,R)),h=c.slice(R)}catch{return}switch(f.msg_type){case 0:this._onRequest(f.piece);break;case 1:this._onData(f.piece,h,f.total_size);break;case 2:this._onReject(f.piece)}}fetch(){this._metadataComplete||(this._fetching=!0,this._metadataSize&&this._requestPieces())}cancel(){this._fetching=!1}setMetadata(c){if(this._metadataComplete)return!0;r("set metadata");try{const f=E.decode(c).info;f&&(c=E.encode(f))}catch{}return!(this._infoHash&&this._infoHash!==m.sync(c))&&(this.cancel(),this.metadata=c,this._metadataComplete=!0,this._metadataSize=this.metadata.length,this._wire.extendedHandshake.metadata_size=this._metadataSize,this.emit("metadata",E.encode({info:E.decode(this.metadata)})),!0)}_send(c,f){let h=E.encode(c);g.isBuffer(f)&&(h=g.concat([h,f])),this._wire.extended("ut_metadata",h)}_request(c){this._send({msg_type:0,piece:c})}_data(c,f,h){const x={msg_type:1,piece:c};typeof h=="number"&&(x.total_size=h),this._send(x,f)}_reject(c){this._send({msg_type:2,piece:c})}_onRequest(c){if(!this._metadataComplete)return void this._reject(c);const f=c*l;let h=f+l;h>this._metadataSize&&(h=this._metadataSize);const x=this.metadata.slice(f,h);this._data(c,x,this._metadataSize)}_onData(c,f,h){f.length>l||!this._fetching||(f.copy(this.metadata,c*l),this._bitfield.set(c),this._checkDone())}_onReject(c){0<this._remainingRejects&&this._fetching?(this._request(c),this._remainingRejects-=1):this.emit("warning",new Error('Peer sent "reject" too much'))}_requestPieces(){if(this._fetching){this.metadata=g.alloc(this._metadataSize);for(let c=0;c<this._numPieces;c++)this._request(c)}}_checkDone(){let c=!0;for(let f=0;f<this._numPieces;f++)if(!this._bitfield.get(f)){c=!1;break}c&&(this.setMetadata(this.metadata)||this._failedMetadata())}_failedMetadata(){this._bitfield=new v(0,{grow:a}),this._remainingRejects-=this._numPieces,0<this._remainingRejects?this._requestPieces():this.emit("warning",new Error("Peer sent invalid metadata"))}}return n.prototype.name="ut_metadata",n}}).call(this)}).call(this,S("buffer").Buffer)},{bencode:27,bitfield:31,buffer:75,debug:90,events:122,"simple-sha1":247}],276:[function(S,V,O){(function(g){(function(){function k(v,r){function m(){if(!o){if(E("throwDeprecation"))throw new Error(r);E("traceDeprecation")?console.trace(r):console.warn(r),o=!0}return v.apply(this,arguments)}if(E("noDeprecation"))return v;var o=!1;return m}function E(v){try{if(!g.localStorage)return!1}catch{return!1}var r=g.localStorage[v];return r!=null&&(r+"").toLowerCase()==="true"}V.exports=k}).call(this)}).call(this,typeof ut>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:ut)},{}],277:[function(S,V,O){(function(g){(function(){function k(){return{version:0,flags:0,entries:[]}}const E=S("binary-search"),v=S("events"),r=S("mp4-stream"),m=S("mp4-box-encoding"),o=S("range-slice-stream"),a=4096;class l extends v{constructor(c){super(),this._tracks=[],this._file=c,this._decoder=null,this._findMoov(0)}_findMoov(c){this._decoder&&this._decoder.destroy();let f=0;this._decoder=r.decode();const h=this._file.createReadStream({start:c});h.pipe(this._decoder);const x=R=>{R.type==="moov"?(this._decoder.removeListener("box",x),this._decoder.decode(A=>{h.destroy();try{this._processMoov(A)}catch(w){w.message=`Cannot parse mp4 file: ${w.message}`,this.emit("error",w)}})):R.length<a?(f+=R.length,this._decoder.ignore()):(this._decoder.removeListener("box",x),f+=R.length,h.destroy(),this._decoder.destroy(),this._findMoov(c+f))};this._decoder.on("box",x)}_processMoov(c){const f=c.traks;this._tracks=[],this._hasVideo=!1,this._hasAudio=!1;for(let A=0;A<f.length;A++){const w=f[A],I=w.mdia.minf.stbl,M=I.stsd.entries[0],L=w.mdia.hdlr.handlerType;let G,Y;if(L==="vide"&&M.type==="avc1"){if(this._hasVideo)continue;this._hasVideo=!0,G="avc1",M.avcC&&(G+=`.${M.avcC.mimeCodec}`),Y=`video/mp4; codecs="${G}"`}else if(L==="soun"&&M.type==="mp4a"){if(this._hasAudio)continue;this._hasAudio=!0,G="mp4a",M.esds&&M.esds.mimeCodec&&(G+=`.${M.esds.mimeCodec}`),Y=`audio/mp4; codecs="${G}"`}else continue;const ie=[];let ae=0,J=0,B=0,y=0,p=0,T=0;const D=new s(I.stts.entries);let j=null;I.ctts&&(j=new s(I.ctts.entries));for(let W=0;;){var h=I.stsc.entries[p];const Q=I.stsz.entries[ae],ee=D.value.duration,fe=j?j.value.compositionOffset:0;let oe=!0;I.stss&&(oe=I.stss.entries[W]===ae+1);const me=I.stco||I.co64;if(ie.push({size:Q,duration:ee,dts:T,presentationOffset:fe,sync:oe,offset:y+me.entries[B]}),ae++,ae>=I.stsz.entries.length)break;if(J++,y+=Q,J>=h.samplesPerChunk){J=0,y=0,B++;const he=I.stsc.entries[p+1];he&&B+1>=he.firstChunk&&p++}T+=ee,D.inc(),j&&j.inc(),oe&&W++}w.mdia.mdhd.duration=0,w.tkhd.duration=0;const U=h.sampleDescriptionId,N={type:"moov",mvhd:c.mvhd,traks:[{tkhd:w.tkhd,mdia:{mdhd:w.mdia.mdhd,hdlr:w.mdia.hdlr,elng:w.mdia.elng,minf:{vmhd:w.mdia.minf.vmhd,smhd:w.mdia.minf.smhd,dinf:w.mdia.minf.dinf,stbl:{stsd:I.stsd,stts:k(),ctts:k(),stsc:k(),stsz:k(),stco:k(),stss:k()}}}}],mvex:{mehd:{fragmentDuration:c.mvhd.duration},trexs:[{trackId:w.tkhd.trackId,defaultSampleDescriptionIndex:U,defaultSampleDuration:0,defaultSampleSize:0,defaultSampleFlags:0}]}};this._tracks.push({fragmentSequence:1,trackId:w.tkhd.trackId,timeScale:w.mdia.mdhd.timeScale,samples:ie,currSample:null,currTime:null,moov:N,mime:Y})}if(this._tracks.length===0)return void this.emit("error",new Error("no playable tracks"));c.mvhd.duration=0,this._ftyp={type:"ftyp",brand:"iso5",brandVersion:0,compatibleBrands:["iso5"]};const x=m.encode(this._ftyp),R=this._tracks.map(A=>{const w=m.encode(A.moov);return{mime:A.mime,init:g.concat([x,w])}});this.emit("ready",R)}seek(c){if(!this._tracks)throw new Error("Not ready yet; wait for 'ready' event");this._fileStream&&(this._fileStream.destroy(),this._fileStream=null);let f=-1;if(this._tracks.map((h,x)=>{h.outStream&&h.outStream.destroy(),h.inStream&&(h.inStream.destroy(),h.inStream=null);const R=h.outStream=r.encode(),A=this._generateFragment(x,c);if(!A)return R.finalize();(f===-1||A.ranges[0].start<f)&&(f=A.ranges[0].start);const w=I=>{R.destroyed||R.box(I.moof,M=>{if(M)return this.emit("error",M);R.destroyed||h.inStream.slice(I.ranges).pipe(R.mediaData(I.length,G=>{if(G)return this.emit("error",G);if(!R.destroyed){const Y=this._generateFragment(x);return Y?void w(Y):R.finalize()}}))})};w(A)}),0<=f){const h=this._fileStream=this._file.createReadStream({start:f});this._tracks.forEach(x=>{x.inStream=new o(f,{highWaterMark:1e7}),h.pipe(x.inStream)})}return this._tracks.map(h=>h.outStream)}_findSampleBefore(c,f){const h=this._tracks[c],x=F(h.timeScale*f);let R=E(h.samples,x,(A,w)=>A.dts+A.presentationOffset-w);for(R===-1?R=0:0>R&&(R=-R-2);!h.samples[R].sync;)R--;return R}_generateFragment(c,f){const h=this._tracks[c];let x;if(x=f===void 0?h.currSample:this._findSampleBefore(c,f),x>=h.samples.length)return null;const R=h.samples[x].dts;let A=0;const w=[];for(var I=x;I<h.samples.length;I++){const M=h.samples[I];if(M.sync&&M.dts-R>=h.timeScale*n)break;A+=M.size;const L=w.length-1;0>L||w[L].end!==M.offset?w.push({start:M.offset,end:M.offset+M.size}):w[L].end+=M.size}return h.currSample=I,{moof:this._generateMoof(c,x,I),ranges:w,length:A}}_generateMoof(c,f,h){const x=this._tracks[c],R=[];let A=0;for(let I=f;I<h;I++){const M=x.samples[I];0>M.presentationOffset&&(A=1),R.push({sampleDuration:M.duration,sampleSize:M.size,sampleFlags:M.sync?33554432:16842752,sampleCompositionTimeOffset:M.presentationOffset})}const w={type:"moof",mfhd:{sequenceNumber:x.fragmentSequence++},trafs:[{tfhd:{flags:131072,trackId:x.trackId},tfdt:{baseMediaDecodeTime:x.samples[f].dts},trun:{flags:3841,dataOffset:8,entries:R,version:A}}]};return w.trafs[0].trun.dataOffset+=m.encodingLength(w),w}}class s{constructor(c,f){this._entries=c,this._countName=f||"count",this._index=0,this._offset=0,this.value=this._entries[0]}inc(){this._offset++,this._offset>=this._entries[this._index][this._countName]&&(this._index++,this._offset=0),this.value=this._entries[this._index]}}const n=1;V.exports=l}).call(this)}).call(this,S("buffer").Buffer)},{"binary-search":30,buffer:75,events:122,"mp4-box-encoding":171,"mp4-stream":174,"range-slice-stream":211}],278:[function(S,V,O){function g(r,m,o={}){return this instanceof g?(this.detailedError=null,this._elem=m,this._elemWrapper=new k(m),this._waitingFired=!1,this._trackMeta=null,this._file=r,this._tracks=null,this._elem.preload!=="none"&&this._createMuxer(),this._onError=()=>{this.detailedError=this._elemWrapper.detailedError,this.destroy()},this._onWaiting=()=>{this._waitingFired=!0,this._muxer?this._tracks&&this._pump():this._createMuxer()},m.autoplay&&(m.preload="auto"),m.addEventListener("waiting",this._onWaiting),void m.addEventListener("error",this._onError)):(console.warn("Don't invoke VideoStream without the 'new' keyword."),new g(r,m,o))}const k=S("mediasource"),E=S("pump"),v=S("./mp4-remuxer");g.prototype={_createMuxer(){this._muxer=new v(this._file),this._muxer.on("ready",r=>{this._tracks=r.map(m=>{const o=this._elemWrapper.createWriteStream(m.mime);o.on("error",l=>{this._elemWrapper.error(l)});const a={muxed:null,mediaSource:o,initFlushed:!1,onInitFlushed:null};return o.write(m.init,l=>{a.initFlushed=!0,a.onInitFlushed&&a.onInitFlushed(l)}),a}),(this._waitingFired||this._elem.preload==="auto")&&this._pump()}),this._muxer.on("error",r=>{this._elemWrapper.error(r)})},_pump(){const r=this._muxer.seek(this._elem.currentTime,!this._tracks);this._tracks.forEach((m,o)=>{const a=()=>{m.muxed&&(m.muxed.destroy(),m.mediaSource=this._elemWrapper.createWriteStream(m.mediaSource),m.mediaSource.on("error",l=>{this._elemWrapper.error(l)})),m.muxed=r[o],E(m.muxed,m.mediaSource)};m.initFlushed?a():m.onInitFlushed=l=>l?void this._elemWrapper.error(l):void a()})},destroy(){this.destroyed||(this.destroyed=!0,this._elem.removeEventListener("waiting",this._onWaiting),this._elem.removeEventListener("error",this._onError),this._tracks&&this._tracks.forEach(r=>{r.muxed&&r.muxed.destroy()}),this._elem.src="")}},V.exports=g},{"./mp4-remuxer":277,mediasource:159,pump:200}],279:[function(S,V,O){function g(k,E){function v(){for(var r=Array(arguments.length),m=0;m<r.length;m++)r[m]=arguments[m];var o=k.apply(this,r),a=r[r.length-1];return typeof o=="function"&&o!==a&&Object.keys(a).forEach(function(l){o[l]=a[l]}),o}if(k&&E)return g(k)(E);if(typeof k!="function")throw new TypeError("need wrapper function");return Object.keys(k).forEach(function(r){v[r]=k[r]}),v}V.exports=g},{}],280:[function(S,V,O){function g(){for(var E={},v=0,r;v<arguments.length;v++)for(var m in r=arguments[v],r)k.call(r,m)&&(E[m]=r[m]);return E}V.exports=g;var k=Object.prototype.hasOwnProperty},{}],281:[function(S,V,O){V.exports={version:"1.8.30"}},{}],282:[function(S,V,O){(function(g){(function(){function k(ae){return typeof ae=="object"&&ae!=null&&typeof ae.pipe=="function"}function E(ae){return typeof FileList<"u"&&ae instanceof FileList}/*! webtorrent. MIT License. WebTorrent LLC <https://webtorrent.io/opensource> */const v=S("events"),r=S("path"),m=S("simple-concat"),o=S("create-torrent"),a=S("debug"),l=S("bittorrent-dht/client"),s=S("load-ip-set"),n=S("run-parallel"),d=S("parse-torrent"),c=S("simple-peer"),f=S("queue-microtask"),h=S("randombytes"),x=S("simple-sha1"),R=S("throughput"),{ThrottleGroup:A}=S("speed-limiter"),w=S("./lib/conn-pool.js"),I=S("./lib/torrent.js"),{version:M}=S("./package.json"),L=a("webtorrent"),G=M.replace(/\d*./g,ae=>`0${ae%100}`.slice(-2)).slice(0,4),Y=`-WW${G}-`;class ie extends v{constructor(J={}){super(),this.peerId=typeof J.peerId=="string"?J.peerId:g.isBuffer(J.peerId)?J.peerId.toString("hex"):g.from(Y+h(9).toString("base64")).toString("hex"),this.peerIdBuffer=g.from(this.peerId,"hex"),this.nodeId=typeof J.nodeId=="string"?J.nodeId:g.isBuffer(J.nodeId)?J.nodeId.toString("hex"):h(20).toString("hex"),this.nodeIdBuffer=g.from(this.nodeId,"hex"),this._debugId=this.peerId.toString("hex").substring(0,7),this.destroyed=!1,this.listening=!1,this.torrentPort=J.torrentPort||0,this.dhtPort=J.dhtPort||0,this.tracker=J.tracker===void 0?{}:J.tracker,this.lsd=J.lsd!==!1,this.torrents=[],this.maxConns=+J.maxConns||55,this.utp=ie.UTP_SUPPORT&&J.utp!==!1,this._downloadLimit=ve(typeof J.downloadLimit=="number"?J.downloadLimit:-1,-1),this._uploadLimit=ve(typeof J.uploadLimit=="number"?J.uploadLimit:-1,-1),this.serviceWorker=null,this.workerKeepAliveInterval=null,this.workerPortCount=0,J.secure===!0&&S("./lib/peer").enableSecure(),this._debug("new webtorrent (peerId %s, nodeId %s, port %s)",this.peerId,this.nodeId,this.torrentPort),this.throttleGroups={down:new A({rate:ve(this._downloadLimit,0),enabled:0<=this._downloadLimit}),up:new A({rate:ve(this._uploadLimit,0),enabled:0<=this._uploadLimit})},this.tracker&&(typeof this.tracker!="object"&&(this.tracker={}),globalThis.WRTC&&!this.tracker.wrtc&&(this.tracker.wrtc=globalThis.WRTC)),typeof w=="function"?this._connPool=new w(this):f(()=>{this._onListening()}),this._downloadSpeed=R(),this._uploadSpeed=R(),J.dht!==!1&&typeof l=="function"?(this.dht=new l(Object.assign({},{nodeId:this.nodeId},J.dht)),this.dht.once("error",y=>{this._destroy(y)}),this.dht.once("listening",()=>{const y=this.dht.address();y&&(this.dhtPort=y.port)}),this.dht.setMaxListeners(0),this.dht.listen(this.dhtPort)):this.dht=!1,this.enableWebSeeds=J.webSeeds!==!1;const B=()=>{this.destroyed||(this.ready=!0,this.emit("ready"))};typeof s=="function"&&J.blocklist!=null?s(J.blocklist,{headers:{"user-agent":`WebTorrent/${M} (https://webtorrent.io)`}},(y,p)=>y?console.error(`Failed to load blocklist: ${y.message}`):(this.blocked=p,void B())):f(B)}loadWorker(J,B=()=>{}){if(!(J instanceof ServiceWorker))throw new Error("Invalid worker registration");if(J.state!=="activated")throw new Error("Worker isn't activated");const y=2e4;this.serviceWorker=J,navigator.serviceWorker.addEventListener("message",p=>{const{data:T}=p;if(!T.type||!T.type==="webtorrent"||!T.url)return null;let[D,...j]=T.url.slice(T.url.indexOf(T.scope+"webtorrent/")+11+T.scope.length).split("/");if(j=decodeURI(j.join("/")),!D||!j)return null;const[U]=p.ports,N=this.get(D)&&this.get(D).files.find(me=>me.path===j);if(!N)return null;const[W,Q,ee]=N._serve(T),fe=Q&&Q[Symbol.asyncIterator](),oe=()=>{U.onmessage=null,Q&&Q.destroy(),ee&&ee.destroy(),this.workerPortCount--,this.workerPortCount||(clearInterval(this.workerKeepAliveInterval),this.workerKeepAliveInterval=null)};U.onmessage=async me=>{if(me.data){let he;try{he=(await fe.next()).value}catch{}U.postMessage(he),he||oe(),this.workerKeepAliveInterval||(this.workerKeepAliveInterval=setInterval(()=>fetch(`${this.serviceWorker.scriptURL.slice(0,this.serviceWorker.scriptURL.lastIndexOf("/")+1).slice(window.location.origin.length)}webtorrent/keepalive/`),y))}else oe()},this.workerPortCount++,U.postMessage(W)}),fetch(`${this.serviceWorker.scriptURL.slice(0,this.serviceWorker.scriptURL.lastIndexOf("/")+1).slice(window.location.origin.length)}webtorrent/cancel/`).then(p=>{p.body.cancel()}),B(null,this.serviceWorker)}get downloadSpeed(){return this._downloadSpeed()}get uploadSpeed(){return this._uploadSpeed()}get progress(){const J=this.torrents.filter(p=>p.progress!==1),B=J.reduce((p,T)=>p+T.downloaded,0),y=J.reduce((p,T)=>p+(T.length||0),0)||1;return B/y}get ratio(){const J=this.torrents.reduce((y,p)=>y+p.uploaded,0),B=this.torrents.reduce((y,p)=>y+p.received,0)||1;return J/B}get(J){if(J instanceof I){if(this.torrents.includes(J))return J}else{let B;try{B=d(J)}catch{}if(!B)return null;if(!B.infoHash)throw new Error("Invalid torrent identifier");for(const y of this.torrents)if(y.infoHash===B.infoHash)return y}return null}add(J,B={},y=()=>{}){function p(){j.removeListener("_infoHash",T),j.removeListener("ready",D),j.removeListener("close",p)}if(this.destroyed)throw new Error("client is destroyed");typeof B=="function"&&([B,y]=[{},B]);const T=()=>{if(!this.destroyed){for(const U of this.torrents)if(U.infoHash===j.infoHash&&U!==j)return j._destroy(new Error(`Cannot add duplicate torrent ${j.infoHash}`)),void y(U)}},D=()=>{this.destroyed||(y(j),this.emit("torrent",j))};this._debug("add"),B=B?Object.assign({},B):{};const j=new I(J,this,B);return this.torrents.push(j),j.once("_infoHash",T),j.once("ready",D),j.once("close",p),j}seed(J,B,y){if(this.destroyed)throw new Error("client is destroyed");typeof B=="function"&&([B,y]=[{},B]),this._debug("seed"),B=B?Object.assign({},B):{},B.skipVerify=!0;const p=typeof J=="string";p&&(B.path=r.dirname(J)),B.createdBy||(B.createdBy=`WebTorrent/${G}`);const T=N=>{const W=[Q=>p||B.preloadedStore?Q():void N.load(U,Q)];this.dht&&W.push(Q=>{N.once("dhtAnnounce",Q)}),n(W,Q=>this.destroyed?void 0:Q?N._destroy(Q):void D(N))},D=N=>{this._debug("on seed"),typeof y=="function"&&y(N),N.emit("seed"),this.emit("seed",N)},j=this.add(null,B,T);let U;return E(J)?J=Array.from(J):!Array.isArray(J)&&(J=[J]),n(J.map(N=>W=>{!B.preloadedStore&&k(N)?m(N,(Q,ee)=>Q?W(Q):(ee.name=N.name,void W(null,ee))):W(null,N)}),(N,W)=>this.destroyed?void 0:N?j._destroy(N):void o.parseInput(W,B,(Q,ee)=>this.destroyed?void 0:Q?j._destroy(Q):(U=ee.map(fe=>fe.getStream),void o(W,B,(fe,oe)=>{if(!this.destroyed){if(fe)return j._destroy(fe);const me=this.get(oe);me?(console.warn("A torrent with the same id is already being seeded"),j._destroy(),typeof y=="function"&&y(me)):j._onTorrentId(oe)}})))),j}remove(J,B,y){if(typeof B=="function")return this.remove(J,null,B);if(this._debug("remove"),!this.get(J))throw new Error(`No torrent with id ${J}`);this._remove(J,B,y)}_remove(J,B,y){if(typeof B=="function")return this._remove(J,null,B);const p=this.get(J);p&&(this.torrents.splice(this.torrents.indexOf(p),1),p.destroy(B,y),this.dht&&this.dht._tables.remove(p.infoHash))}address(){return this.listening?this._connPool?this._connPool.tcpServer.address():{address:"0.0.0.0",family:"IPv4",port:0}:null}throttleDownload(J){return J=+J,!(isNaN(J)||!isFinite(J)||-1>J)&&(this._downloadLimit=J,0>this._downloadLimit?this.throttleGroups.down.setEnabled(!1):(this.throttleGroups.down.setEnabled(!0),void this.throttleGroups.down.setRate(this._downloadLimit)))}throttleUpload(J){return J=+J,!(isNaN(J)||!isFinite(J)||-1>J)&&(this._uploadLimit=J,0>this._uploadLimit?this.throttleGroups.up.setEnabled(!1):(this.throttleGroups.up.setEnabled(!0),void this.throttleGroups.up.setRate(this._uploadLimit)))}destroy(J){if(this.destroyed)throw new Error("client already destroyed");this._destroy(null,J)}_destroy(J,B){this._debug("client destroy"),this.destroyed=!0;const y=this.torrents.map(p=>T=>{p.destroy(T)});this._connPool&&y.push(p=>{this._connPool.destroy(p)}),this.dht&&y.push(p=>{this.dht.destroy(p)}),n(y,B),J&&this.emit("error",J),this.torrents=[],this._connPool=null,this.dht=null,this.throttleGroups.down.destroy(),this.throttleGroups.up.destroy()}_onListening(){if(this._debug("listening"),this.listening=!0,this._connPool){const J=this._connPool.tcpServer.address();J&&(this.torrentPort=J.port)}this.emit("listening")}_debug(){const J=[].slice.call(arguments);J[0]=`[${this._debugId}] ${J[0]}`,L(...J)}_getByHash(J){for(const B of this.torrents)if(B.infoHashHash||(B.infoHashHash=x.sync(g.from("72657132"+B.infoHash,"hex"))),J===B.infoHashHash)return B;return null}}ie.WEBRTC_SUPPORT=c.WEBRTC_SUPPORT,ie.UTP_SUPPORT=w.UTP_SUPPORT,ie.VERSION=M,V.exports=ie}).call(this)}).call(this,S("buffer").Buffer)},{"./lib/conn-pool.js":41,"./lib/peer":3,"./lib/torrent.js":5,"./package.json":281,"bittorrent-dht/client":41,buffer:75,"create-torrent":88,debug:90,events:122,"load-ip-set":41,"parse-torrent":183,path:184,"queue-microtask":205,randombytes:208,"run-parallel":232,"simple-concat":244,"simple-peer":246,"simple-sha1":247,"speed-limiter":250,throughput:267}]},{},[282])(282)})})(pd);const ba=Yh(pd.exports);const pp={data(){return{boxStyle:{}}},components:{},mounted(){let e=this;this.lastPeerId=null,this.peer=null,this.conn=null,this.localId=document.getElementById("local-id"),this.recvIdInput=document.getElementById("receiver-id"),this.status=document.getElementById("status"),this.message=document.getElementById("message"),this.sendMessageBox=document.getElementById("sendMessageBox"),this.cueString='<span class="cueMsg">Cue: </span>';let t=window.location.href.split("?id=")[1];t&&(this.recvIdInput.value=t),this.sendMessageBox.addEventListener("keypress",function(i){var u=i||window.event,_=u.which||u.keyCode;_=="13"&&e.send()}),this.initialize(),this.initAll()},created(){this.lastPeerId=null,this.peer=null,this.peerId=null,this.conn=null,this.currentCall=null,this.currentConnection=null},methods:{initAll(){const e=new ba;Zs.exports("#dropTarget",function(t){e.seed(t,function(i){console.log("Client is seeding "+i.magnetURI)})})},initialize(){let e=this;e.peer=new Ni(null,{debug:2}),e.peer.on("open",function(t){e.peer.id===null?(console.log("Received null id from peer open"),e.peer.id=e.lastPeerId):e.lastPeerId=e.peer.id,console.log("ID: "+e.peer.id),e.localId.innerHTML="ID: "+e.peer.id,e.status.innerHTML="Awaiting connection..."}),e.peer.on("connection",function(t){if(e.conn&&e.conn.open){t.on("open",function(){t.send("Already connected to another client"),setTimeout(function(){t.close()},500)});return}e.conn=t,console.log("Connected to: "+e.conn.peer),e.status.innerHTML="Connected",e.ready()}),e.peer.on("disconnected",function(){e.status.innerHTML="Connection lost. Please reconnect",console.log("Connection lost. Please reconnect"),e.peer.id=e.lastPeerId,e.peer._lastServerId=e.lastPeerId,e.peer.reconnect()}),e.peer.on("close",function(){e.conn=null,e.status.innerHTML="Connection destroyed. Please refresh",console.log("Connection destroyed")}),e.peer.on("error",function(t){console.log(t),alert(""+t)})},join(){let e=this;e.conn&&e.conn.close(),e.conn=e.peer.connect(e.recvIdInput.value,{reliable:!0}),e.conn.on("open",function(){e.status.innerHTML="Connected to: "+e.conn.peer,console.log("Connected to: "+e.conn.peer);var t=e.getUrlParam("command");t&&e.conn.send(t)}),e.conn.on("data",function(t){e.dataProcess(t)}),e.conn.on("close",function(){e.status.innerHTML="Connection closed"})},ready(){let e=this;e.conn.on("data",function(t){console.log("Data recieved"),e.dataProcess(t)}),e.conn.on("close",function(){e.status.innerHTML="Connection reset<br>Awaiting connection...",e.conn=null})},dataProcess(e){let t=this,i=JSON.parse(e.toString());typeof i.type<"u"&&i.type=="msg"?t.addMessage('<span class="peerMsg">Peer: </span>'+i.msg):downloadInProgress==!1?t.startDownload(i):downloadInProgress&&t.progressDownload(fd(i.fileContent))},copyId(){let e=this;navigator.clipboard.writeText(""+e.peer.id).then(()=>{console.log("\u590D\u5236\u6210\u529F")})},copyShareUrl(){let e=this,i=window.location.href.split("?")[0]+"?id="+e.peer.id;navigator.clipboard.writeText(""+i).then(()=>{console.log("\u590D\u5236\u6210\u529F")})},send(){let e=this;if(e.conn&&e.conn.open){var t=e.sendMessageBox.value;e.sendMessageBox.value="",e.conn.send(JSON.stringify({type:"msg",msg:t})),console.log("Sent: "+t),e.addMessage('<span class="selfMsg">Self: </span> '+t)}else console.log("Connection is closed")},inputFunc(){},sendFileBtn(){this.downloadFile()},downloadFile(){let e=this;const t=new ba,i=e.sendMessageBox.value;t.add(i,function(u){console.log("Client is downloading:",u.infoHash),u.files.forEach(function(_){_.appendTo("body")})})},getUrlParam(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",i=new RegExp(t),u=i.exec(window.location.href);return u==null?null:u[1]},signal(e){let t=this;t.conn&&t.conn.open?(t.conn.send(e),console.log(e+" signal sent"),t.addMessage(cueString+e)):console.log("Connection is closed")},addMessage(e){var t=new Date,i=t.getHours(),u=C(t.getMinutes()),_=C(t.getSeconds());i>12?i-=12:i===0&&(i=12);function C(F){return F<10&&(F="0"+F),F}this.message.innerHTML='<br><span class="msg-time">'+i+":"+u+":"+_+"</span>  -  "+e+message.innerHTML},clearMessages(){this.message.innerHTML="",this.addMessage("Msgs cleared")}}},er=e=>(Ri("data-v-3e9355af"),e=e(),Ai(),e),mp={class:"control"},gp={class:"title"},vp=Qn("Status: "),bp=er(()=>Le("br",null,null,-1)),yp=er(()=>Le("td",{class:"title"},"Messages:",-1)),_p=er(()=>Le("span",{style:{"font-weight":"bold"}},"ID: ",-1)),wp=er(()=>Le("input",{type:"text",id:"receiver-id",title:"Input the ID from receive.html"},null,-1)),Ep=er(()=>Le("input",{type:"text",id:"sendMessageBox",placeholder:"Enter a message...",autofocus:"true"},null,-1)),Sp=er(()=>Le("tr",null,[Le("td",null,[Le("div",{id:"status",class:"status"})]),Le("td",null,[Le("div",{class:"message",id:"message"})])],-1)),xp=er(()=>Le("div",{id:"dropTarget"},null,-1)),kp={id:"demoImage",ref:"img",style:{width:"50%",border:"1px solid #efefef"}};function Cp(e,t,i,u,_,C){return Bi(),Oi("table",mp,[Le("tr",null,[Le("td",gp,[vp,Le("button",{id:"connect-button",onClick:t[0]||(t[0]=(...F)=>C.copyShareUrl&&C.copyShareUrl(...F))},"\u590D\u5236\u5206\u4EABURL"),bp,Le("div",{id:"local-id",onClick:t[1]||(t[1]=(...F)=>C.copyId&&C.copyId(...F)),style:{"font-weight":"bold"},title:"\u70B9\u51FB\u590D\u5236ID"},"ID: ")]),yp]),Le("tr",null,[Le("td",null,[_p,wp,Le("button",{id:"connect-button",onClick:t[2]||(t[2]=(...F)=>C.join&&C.join(...F))},"Connect")]),Le("td",null,[Ep,Le("button",{type:"button",id:"sendButton",onClick:t[3]||(t[3]=(...F)=>C.send&&C.send(...F))},"Send"),Le("button",{type:"button",id:"clearMsgsButton",onClick:t[4]||(t[4]=(...F)=>C.clearMessages&&C.clearMessages(...F))},"Clear Msgs (Local)")])]),Sp,Le("tr",null,[Le("td",null,[Le("input",{type:"file",accept:"*",id:"inputFile",ref:"file",onInput:t[5]||(t[5]=(...F)=>C.inputFunc&&C.inputFunc(...F))},null,544),xp,Le("button",{type:"button",id:"sendFile",onClick:t[6]||(t[6]=(...F)=>C.sendFileBtn&&C.sendFileBtn(...F))},"\u53D1\u9001\u6587\u4EF6")]),Le("td",null,[Le("img",kp,null,512),Le("button",{type:"button",onClick:t[7]||(t[7]=(...F)=>C.downloadFile&&C.downloadFile(...F))},"\u4E0B\u8F7D\u6587\u4EF6")])])])}const Tp=zr(pp,[["render",Cp],["__scopeId","data-v-3e9355af"]]),Rp=[{path:"/receiver",component:Hu},{path:"/sender",component:Pu},{path:"/exchangeroom",component:ap},{path:"/bigfiledrop",component:Tp}];function Ap(){let e=null;return e=Vh({history:dh(),routes:Rp}),e.beforeEach((t,i,u)=>{u()}),e}const Ip=e=>(Ri("data-v-ea6dc4f1"),e=e(),Ai(),e),Pp=Ip(()=>Le("h1",null,"\u98CE\u6708\u5B9D\u9274",-1)),Bp=Qn("\u53D1\u9001\u7AEF"),Op=Qn("\u63A5\u6536\u7AEF"),Lp=Qn("\u4E8C\u5408\u4E00\u7AEF"),Dp=Qn("\u5927\u6587\u4EF6\u4F20\u8F93"),Mp={__name:"App",setup(e){return(t,i)=>{const u=uo("router-link"),_=uo("router-view");return Bi(),Oi(nn,null,[Pp,Mt(u,{to:"/sender",class:"function_router"},{default:Sr(()=>[Bp]),_:1}),Mt(u,{to:"/receiver",class:"function_router"},{default:Sr(()=>[Op]),_:1}),Mt(u,{to:"/exchangeroom",class:"function_router"},{default:Sr(()=>[Lp]),_:1}),Mt(u,{to:"/bigfiledrop",class:"function_router"},{default:Sr(()=>[Dp]),_:1}),Mt(_)],64)}}},Np=zr(Mp,[["__scopeId","data-v-ea6dc4f1"]]),Qs=$l(Np);Qs.config.errorHandler=(e,t,i)=>{console.log("mainjs:error: "+i),console.log(e)};Qs.config.warnHandler=function(e,t,i){console.log("mainjs:warn: "+e)};Qs.use(Ap()).mount("#app");
