(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Jr(e,t){const n=Object.create(null),r=e.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return t?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const La="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Fa=Jr(La);function Ho(e){return!!e||e===""}function Wr(e){if(W(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=Re(r)?Na(r):Wr(r);if(i)for(const o in i)t[o]=i[o]}return t}else{if(Re(e))return e;if(he(e))return e}}const $a=/;(?![^(]*\))/g,wa=/:(.+)/;function Na(e){const t={};return e.split($a).forEach(n=>{if(n){const r=n.split(wa);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function qr(e){let t="";if(Re(e))t=e;else if(W(e))for(let n=0;n<e.length;n++){const r=qr(e[n]);r&&(t+=r+" ")}else if(he(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const le={},Lt=[],qe=()=>{},Ua=()=>!1,za=/^on[^a-z]/,qn=e=>za.test(e),Yr=e=>e.startsWith("onUpdate:"),xe=Object.assign,Qr=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Ha=Object.prototype.hasOwnProperty,Q=(e,t)=>Ha.call(e,t),W=Array.isArray,rn=e=>Yn(e)==="[object Map]",Ga=e=>Yn(e)==="[object Set]",q=e=>typeof e=="function",Re=e=>typeof e=="string",Xr=e=>typeof e=="symbol",he=e=>e!==null&&typeof e=="object",Go=e=>he(e)&&q(e.then)&&q(e.catch),Va=Object.prototype.toString,Yn=e=>Va.call(e),Ka=e=>Yn(e).slice(8,-1),Ja=e=>Yn(e)==="[object Object]",Zr=e=>Re(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,In=Jr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Qn=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Wa=/-(\w)/g,rt=Qn(e=>e.replace(Wa,(t,n)=>n?n.toUpperCase():"")),qa=/\B([A-Z])/g,Gt=Qn(e=>e.replace(qa,"-$1").toLowerCase()),Xn=Qn(e=>e.charAt(0).toUpperCase()+e.slice(1)),ur=Qn(e=>e?`on${Xn(e)}`:""),un=(e,t)=>!Object.is(e,t),fr=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Un=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Ya=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Ri;const Qa=()=>Ri||(Ri=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let et;class Xa{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&et&&(this.parent=et,this.index=(et.scopes||(et.scopes=[])).push(this)-1)}run(t){if(this.active){const n=et;try{return et=this,t()}finally{et=n}}}on(){et=this}off(){et=this.parent}stop(t){if(this.active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.active=!1}}}function Za(e,t=et){t&&t.active&&t.effects.push(e)}const ei=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Vo=e=>(e.w&bt)>0,Ko=e=>(e.n&bt)>0,ec=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=bt},tc=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const i=t[r];Vo(i)&&!Ko(i)?i.delete(e):t[n++]=i,i.w&=~bt,i.n&=~bt}t.length=n}},br=new WeakMap;let Zt=0,bt=1;const Cr=30;let Ve;const Ot=Symbol(""),Sr=Symbol("");class ti{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Za(this,r)}run(){if(!this.active)return this.fn();let t=Ve,n=vt;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Ve,Ve=this,vt=!0,bt=1<<++Zt,Zt<=Cr?ec(this):ki(this),this.fn()}finally{Zt<=Cr&&tc(this),bt=1<<--Zt,Ve=this.parent,vt=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ve===this?this.deferStop=!0:this.active&&(ki(this),this.onStop&&this.onStop(),this.active=!1)}}function ki(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let vt=!0;const Jo=[];function Vt(){Jo.push(vt),vt=!1}function Kt(){const e=Jo.pop();vt=e===void 0?!0:e}function $e(e,t,n){if(vt&&Ve){let r=br.get(e);r||br.set(e,r=new Map);let i=r.get(n);i||r.set(n,i=ei()),Wo(i)}}function Wo(e,t){let n=!1;Zt<=Cr?Ko(e)||(e.n|=bt,n=!Vo(e)):n=!e.has(Ve),n&&(e.add(Ve),Ve.deps.push(e))}function ft(e,t,n,r,i,o){const a=br.get(e);if(!a)return;let l=[];if(t==="clear")l=[...a.values()];else if(n==="length"&&W(e))a.forEach((s,c)=>{(c==="length"||c>=r)&&l.push(s)});else switch(n!==void 0&&l.push(a.get(n)),t){case"add":W(e)?Zr(n)&&l.push(a.get("length")):(l.push(a.get(Ot)),rn(e)&&l.push(a.get(Sr)));break;case"delete":W(e)||(l.push(a.get(Ot)),rn(e)&&l.push(a.get(Sr)));break;case"set":rn(e)&&l.push(a.get(Ot));break}if(l.length===1)l[0]&&Tr(l[0]);else{const s=[];for(const c of l)c&&s.push(...c);Tr(ei(s))}}function Tr(e,t){const n=W(e)?e:[...e];for(const r of n)r.computed&&Mi(r);for(const r of n)r.computed||Mi(r)}function Mi(e,t){(e!==Ve||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const nc=Jr("__proto__,__v_isRef,__isVue"),qo=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Xr)),rc=ni(),ic=ni(!1,!0),oc=ni(!0),Oi=sc();function sc(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=ee(this);for(let o=0,a=this.length;o<a;o++)$e(r,"get",o+"");const i=r[t](...n);return i===-1||i===!1?r[t](...n.map(ee)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Vt();const r=ee(this)[t].apply(this,n);return Kt(),r}}),e}function ni(e=!1,t=!1){return function(r,i,o){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_isShallow")return t;if(i==="__v_raw"&&o===(e?t?Sc:es:t?Zo:Xo).get(r))return r;const a=W(r);if(!e&&a&&Q(Oi,i))return Reflect.get(Oi,i,o);const l=Reflect.get(r,i,o);return(Xr(i)?qo.has(i):nc(i))||(e||$e(r,"get",i),t)?l:Pe(l)?a&&Zr(i)?l:l.value:he(l)?e?ts(l):yn(l):l}}const ac=Yo(),cc=Yo(!0);function Yo(e=!1){return function(n,r,i,o){let a=n[r];if(Nt(a)&&Pe(a)&&!Pe(i))return!1;if(!e&&(!zn(i)&&!Nt(i)&&(a=ee(a),i=ee(i)),!W(n)&&Pe(a)&&!Pe(i)))return a.value=i,!0;const l=W(n)&&Zr(r)?Number(r)<n.length:Q(n,r),s=Reflect.set(n,r,i,o);return n===ee(o)&&(l?un(i,a)&&ft(n,"set",r,i):ft(n,"add",r,i)),s}}function lc(e,t){const n=Q(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&ft(e,"delete",t,void 0),r}function uc(e,t){const n=Reflect.has(e,t);return(!Xr(t)||!qo.has(t))&&$e(e,"has",t),n}function fc(e){return $e(e,"iterate",W(e)?"length":Ot),Reflect.ownKeys(e)}const Qo={get:rc,set:ac,deleteProperty:lc,has:uc,ownKeys:fc},dc={get:oc,set(e,t){return!0},deleteProperty(e,t){return!0}},pc=xe({},Qo,{get:ic,set:cc}),ri=e=>e,Zn=e=>Reflect.getPrototypeOf(e);function Tn(e,t,n=!1,r=!1){e=e.__v_raw;const i=ee(e),o=ee(t);n||(t!==o&&$e(i,"get",t),$e(i,"get",o));const{has:a}=Zn(i),l=r?ri:n?si:fn;if(a.call(i,t))return l(e.get(t));if(a.call(i,o))return l(e.get(o));e!==i&&e.get(t)}function En(e,t=!1){const n=this.__v_raw,r=ee(n),i=ee(e);return t||(e!==i&&$e(r,"has",e),$e(r,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function Pn(e,t=!1){return e=e.__v_raw,!t&&$e(ee(e),"iterate",Ot),Reflect.get(e,"size",e)}function Ii(e){e=ee(e);const t=ee(this);return Zn(t).has.call(t,e)||(t.add(e),ft(t,"add",e,e)),this}function Di(e,t){t=ee(t);const n=ee(this),{has:r,get:i}=Zn(n);let o=r.call(n,e);o||(e=ee(e),o=r.call(n,e));const a=i.call(n,e);return n.set(e,t),o?un(t,a)&&ft(n,"set",e,t):ft(n,"add",e,t),this}function Bi(e){const t=ee(this),{has:n,get:r}=Zn(t);let i=n.call(t,e);i||(e=ee(e),i=n.call(t,e)),r&&r.call(t,e);const o=t.delete(e);return i&&ft(t,"delete",e,void 0),o}function Ai(){const e=ee(this),t=e.size!==0,n=e.clear();return t&&ft(e,"clear",void 0,void 0),n}function xn(e,t){return function(r,i){const o=this,a=o.__v_raw,l=ee(a),s=t?ri:e?si:fn;return!e&&$e(l,"iterate",Ot),a.forEach((c,u)=>r.call(i,s(c),s(u),o))}}function Rn(e,t,n){return function(...r){const i=this.__v_raw,o=ee(i),a=rn(o),l=e==="entries"||e===Symbol.iterator&&a,s=e==="keys"&&a,c=i[e](...r),u=n?ri:t?si:fn;return!t&&$e(o,"iterate",s?Sr:Ot),{next(){const{value:f,done:d}=c.next();return d?{value:f,done:d}:{value:l?[u(f[0]),u(f[1])]:u(f),done:d}},[Symbol.iterator](){return this}}}}function pt(e){return function(...t){return e==="delete"?!1:this}}function hc(){const e={get(o){return Tn(this,o)},get size(){return Pn(this)},has:En,add:Ii,set:Di,delete:Bi,clear:Ai,forEach:xn(!1,!1)},t={get(o){return Tn(this,o,!1,!0)},get size(){return Pn(this)},has:En,add:Ii,set:Di,delete:Bi,clear:Ai,forEach:xn(!1,!0)},n={get(o){return Tn(this,o,!0)},get size(){return Pn(this,!0)},has(o){return En.call(this,o,!0)},add:pt("add"),set:pt("set"),delete:pt("delete"),clear:pt("clear"),forEach:xn(!0,!1)},r={get(o){return Tn(this,o,!0,!0)},get size(){return Pn(this,!0)},has(o){return En.call(this,o,!0)},add:pt("add"),set:pt("set"),delete:pt("delete"),clear:pt("clear"),forEach:xn(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=Rn(o,!1,!1),n[o]=Rn(o,!0,!1),t[o]=Rn(o,!1,!0),r[o]=Rn(o,!0,!0)}),[e,n,t,r]}const[mc,gc,vc,yc]=hc();function ii(e,t){const n=t?e?yc:vc:e?gc:mc;return(r,i,o)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(Q(n,i)&&i in r?n:r,i,o)}const _c={get:ii(!1,!1)},bc={get:ii(!1,!0)},Cc={get:ii(!0,!1)},Xo=new WeakMap,Zo=new WeakMap,es=new WeakMap,Sc=new WeakMap;function Tc(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ec(e){return e.__v_skip||!Object.isExtensible(e)?0:Tc(Ka(e))}function yn(e){return Nt(e)?e:oi(e,!1,Qo,_c,Xo)}function Pc(e){return oi(e,!1,pc,bc,Zo)}function ts(e){return oi(e,!0,dc,Cc,es)}function oi(e,t,n,r,i){if(!he(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=i.get(e);if(o)return o;const a=Ec(e);if(a===0)return e;const l=new Proxy(e,a===2?r:n);return i.set(e,l),l}function Ft(e){return Nt(e)?Ft(e.__v_raw):!!(e&&e.__v_isReactive)}function Nt(e){return!!(e&&e.__v_isReadonly)}function zn(e){return!!(e&&e.__v_isShallow)}function ns(e){return Ft(e)||Nt(e)}function ee(e){const t=e&&e.__v_raw;return t?ee(t):e}function rs(e){return Un(e,"__v_skip",!0),e}const fn=e=>he(e)?yn(e):e,si=e=>he(e)?ts(e):e;function is(e){vt&&Ve&&(e=ee(e),Wo(e.dep||(e.dep=ei())))}function os(e,t){e=ee(e),e.dep&&Tr(e.dep)}function Pe(e){return!!(e&&e.__v_isRef===!0)}function xc(e){return ss(e,!1)}function Rc(e){return ss(e,!0)}function ss(e,t){return Pe(e)?e:new kc(e,t)}class kc{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:ee(t),this._value=n?t:fn(t)}get value(){return is(this),this._value}set value(t){const n=this.__v_isShallow||zn(t)||Nt(t);t=n?t:ee(t),un(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:fn(t),os(this))}}function $t(e){return Pe(e)?e.value:e}const Mc={get:(e,t,n)=>$t(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return Pe(i)&&!Pe(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function as(e){return Ft(e)?e:new Proxy(e,Mc)}var cs;class Oc{constructor(t,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[cs]=!1,this._dirty=!0,this.effect=new ti(t,()=>{this._dirty||(this._dirty=!0,os(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const t=ee(this);return is(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}cs="__v_isReadonly";function Ic(e,t,n=!1){let r,i;const o=q(e);return o?(r=e,i=qe):(r=e.get,i=e.set),new Oc(r,i,o||!i,n)}function yt(e,t,n,r){let i;try{i=r?e(...r):e()}catch(o){er(o,t,n)}return i}function He(e,t,n,r){if(q(e)){const o=yt(e,t,n,r);return o&&Go(o)&&o.catch(a=>{er(a,t,n)}),o}const i=[];for(let o=0;o<e.length;o++)i.push(He(e[o],t,n,r));return i}function er(e,t,n,r=!0){const i=t?t.vnode:null;if(t){let o=t.parent;const a=t.proxy,l=n;for(;o;){const c=o.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](e,a,l)===!1)return}o=o.parent}const s=t.appContext.config.errorHandler;if(s){yt(s,null,10,[e,a,l]);return}}Dc(e,n,i,r)}function Dc(e,t,n,r=!0){console.error(e)}let dn=!1,Er=!1;const Ee=[];let nt=0;const wt=[];let at=null,Rt=0;const ls=Promise.resolve();let ai=null;function us(e){const t=ai||ls;return e?t.then(this?e.bind(this):e):t}function Bc(e){let t=nt+1,n=Ee.length;for(;t<n;){const r=t+n>>>1;pn(Ee[r])<e?t=r+1:n=r}return t}function ci(e){(!Ee.length||!Ee.includes(e,dn&&e.allowRecurse?nt+1:nt))&&(e.id==null?Ee.push(e):Ee.splice(Bc(e.id),0,e),fs())}function fs(){!dn&&!Er&&(Er=!0,ai=ls.then(ps))}function Ac(e){const t=Ee.indexOf(e);t>nt&&Ee.splice(t,1)}function jc(e){W(e)?wt.push(...e):(!at||!at.includes(e,e.allowRecurse?Rt+1:Rt))&&wt.push(e),fs()}function ji(e,t=dn?nt+1:0){for(;t<Ee.length;t++){const n=Ee[t];n&&n.pre&&(Ee.splice(t,1),t--,n())}}function ds(e){if(wt.length){const t=[...new Set(wt)];if(wt.length=0,at){at.push(...t);return}for(at=t,at.sort((n,r)=>pn(n)-pn(r)),Rt=0;Rt<at.length;Rt++)at[Rt]();at=null,Rt=0}}const pn=e=>e.id==null?1/0:e.id,Lc=(e,t)=>{const n=pn(e)-pn(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function ps(e){Er=!1,dn=!0,Ee.sort(Lc);const t=qe;try{for(nt=0;nt<Ee.length;nt++){const n=Ee[nt];n&&n.active!==!1&&yt(n,null,14)}}finally{nt=0,Ee.length=0,ds(),dn=!1,ai=null,(Ee.length||wt.length)&&ps()}}function Fc(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||le;let i=n;const o=t.startsWith("update:"),a=o&&t.slice(7);if(a&&a in r){const u=`${a==="modelValue"?"model":a}Modifiers`,{number:f,trim:d}=r[u]||le;d&&(i=n.map(h=>h.trim())),f&&(i=n.map(Ya))}let l,s=r[l=ur(t)]||r[l=ur(rt(t))];!s&&o&&(s=r[l=ur(Gt(t))]),s&&He(s,e,6,i);const c=r[l+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,He(c,e,6,i)}}function hs(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const o=e.emits;let a={},l=!1;if(!q(e)){const s=c=>{const u=hs(c,t,!0);u&&(l=!0,xe(a,u))};!n&&t.mixins.length&&t.mixins.forEach(s),e.extends&&s(e.extends),e.mixins&&e.mixins.forEach(s)}return!o&&!l?(he(e)&&r.set(e,null),null):(W(o)?o.forEach(s=>a[s]=null):xe(a,o),he(e)&&r.set(e,a),a)}function tr(e,t){return!e||!qn(t)?!1:(t=t.slice(2).replace(/Once$/,""),Q(e,t[0].toLowerCase()+t.slice(1))||Q(e,Gt(t))||Q(e,t))}let Je=null,nr=null;function Hn(e){const t=Je;return Je=e,nr=e&&e.type.__scopeId||null,t}function ms(e){nr=e}function gs(){nr=null}function on(e,t=Je,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&Ki(-1);const o=Hn(t),a=e(...i);return Hn(o),r._d&&Ki(1),a};return r._n=!0,r._c=!0,r._d=!0,r}function dr(e){const{type:t,vnode:n,proxy:r,withProxy:i,props:o,propsOptions:[a],slots:l,attrs:s,emit:c,render:u,renderCache:f,data:d,setupState:h,ctx:g,inheritAttrs:y}=e;let P,_;const E=Hn(e);try{if(n.shapeFlag&4){const F=i||r;P=tt(u.call(F,F,f,o,h,d,g)),_=s}else{const F=t;P=tt(F.length>1?F(o,{attrs:s,slots:l,emit:c}):F(o,null)),_=t.props?s:$c(s)}}catch(F){sn.length=0,er(F,e,1),P=_e(ut)}let U=P;if(_&&y!==!1){const F=Object.keys(_),{shapeFlag:H}=U;F.length&&H&7&&(a&&F.some(Yr)&&(_=wc(_,a)),U=Ct(U,_))}return n.dirs&&(U=Ct(U),U.dirs=U.dirs?U.dirs.concat(n.dirs):n.dirs),n.transition&&(U.transition=n.transition),P=U,Hn(E),P}const $c=e=>{let t;for(const n in e)(n==="class"||n==="style"||qn(n))&&((t||(t={}))[n]=e[n]);return t},wc=(e,t)=>{const n={};for(const r in e)(!Yr(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function Nc(e,t,n){const{props:r,children:i,component:o}=e,{props:a,children:l,patchFlag:s}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&s>=0){if(s&1024)return!0;if(s&16)return r?Li(r,a,c):!!a;if(s&8){const u=t.dynamicProps;for(let f=0;f<u.length;f++){const d=u[f];if(a[d]!==r[d]&&!tr(c,d))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:r===a?!1:r?a?Li(r,a,c):!0:!!a;return!1}function Li(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(t[o]!==e[o]&&!tr(n,o))return!0}return!1}function Uc({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const zc=e=>e.__isSuspense;function Hc(e,t){t&&t.pendingBranch?W(e)?t.effects.push(...e):t.effects.push(e):jc(e)}function Dn(e,t){if(ve){let n=ve.provides;const r=ve.parent&&ve.parent.provides;r===n&&(n=ve.provides=Object.create(r)),n[e]=t}}function _t(e,t,n=!1){const r=ve||Je;if(r){const i=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&q(t)?t.call(r.proxy):t}}const Fi={};function Bn(e,t,n){return vs(e,t,n)}function vs(e,t,{immediate:n,deep:r,flush:i,onTrack:o,onTrigger:a}=le){const l=ve;let s,c=!1,u=!1;if(Pe(e)?(s=()=>e.value,c=zn(e)):Ft(e)?(s=()=>e,r=!0):W(e)?(u=!0,c=e.some(_=>Ft(_)||zn(_)),s=()=>e.map(_=>{if(Pe(_))return _.value;if(Ft(_))return jt(_);if(q(_))return yt(_,l,2)})):q(e)?t?s=()=>yt(e,l,2):s=()=>{if(!(l&&l.isUnmounted))return f&&f(),He(e,l,3,[d])}:s=qe,t&&r){const _=s;s=()=>jt(_())}let f,d=_=>{f=P.onStop=()=>{yt(_,l,4)}};if(mn)return d=qe,t?n&&He(t,l,3,[s(),u?[]:void 0,d]):s(),qe;let h=u?[]:Fi;const g=()=>{if(!!P.active)if(t){const _=P.run();(r||c||(u?_.some((E,U)=>un(E,h[U])):un(_,h)))&&(f&&f(),He(t,l,3,[_,h===Fi?void 0:h,d]),h=_)}else P.run()};g.allowRecurse=!!t;let y;i==="sync"?y=g:i==="post"?y=()=>Be(g,l&&l.suspense):(g.pre=!0,l&&(g.id=l.uid),y=()=>ci(g));const P=new ti(s,y);return t?n?g():h=P.run():i==="post"?Be(P.run.bind(P),l&&l.suspense):P.run(),()=>{P.stop(),l&&l.scope&&Qr(l.scope.effects,P)}}function Gc(e,t,n){const r=this.proxy,i=Re(e)?e.includes(".")?ys(r,e):()=>r[e]:e.bind(r,r);let o;q(t)?o=t:(o=t.handler,n=t);const a=ve;Ut(this);const l=vs(i,o.bind(r),n);return a?Ut(a):It(),l}function ys(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function jt(e,t){if(!he(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Pe(e))jt(e.value,t);else if(W(e))for(let n=0;n<e.length;n++)jt(e[n],t);else if(Ga(e)||rn(e))e.forEach(n=>{jt(n,t)});else if(Ja(e))for(const n in e)jt(e[n],t);return e}function Vc(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ts(()=>{e.isMounted=!0}),Es(()=>{e.isUnmounting=!0}),e}const Ne=[Function,Array],Kc={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ne,onEnter:Ne,onAfterEnter:Ne,onEnterCancelled:Ne,onBeforeLeave:Ne,onLeave:Ne,onAfterLeave:Ne,onLeaveCancelled:Ne,onBeforeAppear:Ne,onAppear:Ne,onAfterAppear:Ne,onAppearCancelled:Ne},setup(e,{slots:t}){const n=Dl(),r=Vc();let i;return()=>{const o=t.default&&bs(t.default(),!0);if(!o||!o.length)return;let a=o[0];if(o.length>1){for(const y of o)if(y.type!==ut){a=y;break}}const l=ee(e),{mode:s}=l;if(r.isLeaving)return pr(a);const c=$i(a);if(!c)return pr(a);const u=Pr(c,l,r,n);xr(c,u);const f=n.subTree,d=f&&$i(f);let h=!1;const{getTransitionKey:g}=c.type;if(g){const y=g();i===void 0?i=y:y!==i&&(i=y,h=!0)}if(d&&d.type!==ut&&(!kt(c,d)||h)){const y=Pr(d,l,r,n);if(xr(d,y),s==="out-in")return r.isLeaving=!0,y.afterLeave=()=>{r.isLeaving=!1,n.update()},pr(a);s==="in-out"&&c.type!==ut&&(y.delayLeave=(P,_,E)=>{const U=_s(r,d);U[String(d.key)]=d,P._leaveCb=()=>{_(),P._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=E})}return a}}},Jc=Kc;function _s(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Pr(e,t,n,r){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:s,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:f,onLeave:d,onAfterLeave:h,onLeaveCancelled:g,onBeforeAppear:y,onAppear:P,onAfterAppear:_,onAppearCancelled:E}=t,U=String(e.key),F=_s(n,e),H=(N,se)=>{N&&He(N,r,9,se)},te=(N,se)=>{const A=se[1];H(N,se),W(N)?N.every(me=>me.length<=1)&&A():N.length<=1&&A()},oe={mode:o,persisted:a,beforeEnter(N){let se=l;if(!n.isMounted)if(i)se=y||l;else return;N._leaveCb&&N._leaveCb(!0);const A=F[U];A&&kt(e,A)&&A.el._leaveCb&&A.el._leaveCb(),H(se,[N])},enter(N){let se=s,A=c,me=u;if(!n.isMounted)if(i)se=P||s,A=_||c,me=E||u;else return;let fe=!1;const Me=N._enterCb=ge=>{fe||(fe=!0,ge?H(me,[N]):H(A,[N]),oe.delayedLeave&&oe.delayedLeave(),N._enterCb=void 0)};se?te(se,[N,Me]):Me()},leave(N,se){const A=String(e.key);if(N._enterCb&&N._enterCb(!0),n.isUnmounting)return se();H(f,[N]);let me=!1;const fe=N._leaveCb=Me=>{me||(me=!0,se(),Me?H(g,[N]):H(h,[N]),N._leaveCb=void 0,F[A]===e&&delete F[A])};F[A]=e,d?te(d,[N,fe]):fe()},clone(N){return Pr(N,t,n,r)}};return oe}function pr(e){if(rr(e))return e=Ct(e),e.children=null,e}function $i(e){return rr(e)?e.children?e.children[0]:void 0:e}function xr(e,t){e.shapeFlag&6&&e.component?xr(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function bs(e,t=!1,n){let r=[],i=0;for(let o=0;o<e.length;o++){let a=e[o];const l=n==null?a.key:String(n)+String(a.key!=null?a.key:o);a.type===Ue?(a.patchFlag&128&&i++,r=r.concat(bs(a.children,t,l))):(t||a.type!==ut)&&r.push(l!=null?Ct(a,{key:l}):a)}if(i>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}function Cs(e){return q(e)?{setup:e,name:e.name}:e}const An=e=>!!e.type.__asyncLoader,rr=e=>e.type.__isKeepAlive;function Wc(e,t){Ss(e,"a",t)}function qc(e,t){Ss(e,"da",t)}function Ss(e,t,n=ve){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(ir(t,r,n),n){let i=n.parent;for(;i&&i.parent;)rr(i.parent.vnode)&&Yc(r,t,n,i),i=i.parent}}function Yc(e,t,n,r){const i=ir(t,e,r,!0);Ps(()=>{Qr(r[t],i)},n)}function ir(e,t,n=ve,r=!1){if(n){const i=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...a)=>{if(n.isUnmounted)return;Vt(),Ut(n);const l=He(t,n,e,a);return It(),Kt(),l});return r?i.unshift(o):i.push(o),o}}const dt=e=>(t,n=ve)=>(!mn||e==="sp")&&ir(e,t,n),Qc=dt("bm"),Ts=dt("m"),Xc=dt("bu"),Zc=dt("u"),Es=dt("bum"),Ps=dt("um"),el=dt("sp"),tl=dt("rtg"),nl=dt("rtc");function rl(e,t=ve){ir("ec",e,t)}function St(e,t,n,r){const i=e.dirs,o=t&&t.dirs;for(let a=0;a<i.length;a++){const l=i[a];o&&(l.oldValue=o[a].value);let s=l.dir[r];s&&(Vt(),He(s,n,8,[e.el,l,e,t]),Kt())}}const xs="components";function Rr(e,t){return ol(xs,e,!0,t)||e}const il=Symbol();function ol(e,t,n=!0,r=!1){const i=Je||ve;if(i){const o=i.type;if(e===xs){const l=Fl(o,!1);if(l&&(l===t||l===rt(t)||l===Xn(rt(t))))return o}const a=wi(i[e]||o[e],t)||wi(i.appContext[e],t);return!a&&r?o:a}}function wi(e,t){return e&&(e[t]||e[rt(t)]||e[Xn(rt(t))])}const kr=e=>e?Ls(e)?pi(e)||e.proxy:kr(e.parent):null,Gn=xe(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>kr(e.parent),$root:e=>kr(e.root),$emit:e=>e.emit,$options:e=>li(e),$forceUpdate:e=>e.f||(e.f=()=>ci(e.update)),$nextTick:e=>e.n||(e.n=us.bind(e.proxy)),$watch:e=>Gc.bind(e)}),sl={get({_:e},t){const{ctx:n,setupState:r,data:i,props:o,accessCache:a,type:l,appContext:s}=e;let c;if(t[0]!=="$"){const h=a[t];if(h!==void 0)switch(h){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return o[t]}else{if(r!==le&&Q(r,t))return a[t]=1,r[t];if(i!==le&&Q(i,t))return a[t]=2,i[t];if((c=e.propsOptions[0])&&Q(c,t))return a[t]=3,o[t];if(n!==le&&Q(n,t))return a[t]=4,n[t];Mr&&(a[t]=0)}}const u=Gn[t];let f,d;if(u)return t==="$attrs"&&$e(e,"get",t),u(e);if((f=l.__cssModules)&&(f=f[t]))return f;if(n!==le&&Q(n,t))return a[t]=4,n[t];if(d=s.config.globalProperties,Q(d,t))return d[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:o}=e;return i!==le&&Q(i,t)?(i[t]=n,!0):r!==le&&Q(r,t)?(r[t]=n,!0):Q(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:o}},a){let l;return!!n[a]||e!==le&&Q(e,a)||t!==le&&Q(t,a)||(l=o[0])&&Q(l,a)||Q(r,a)||Q(Gn,a)||Q(i.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Q(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let Mr=!0;function al(e){const t=li(e),n=e.proxy,r=e.ctx;Mr=!1,t.beforeCreate&&Ni(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:a,watch:l,provide:s,inject:c,created:u,beforeMount:f,mounted:d,beforeUpdate:h,updated:g,activated:y,deactivated:P,beforeDestroy:_,beforeUnmount:E,destroyed:U,unmounted:F,render:H,renderTracked:te,renderTriggered:oe,errorCaptured:N,serverPrefetch:se,expose:A,inheritAttrs:me,components:fe,directives:Me,filters:ge}=t;if(c&&cl(c,r,null,e.appContext.config.unwrapInjectedRef),a)for(const Z in a){const Y=a[Z];q(Y)&&(r[Z]=Y.bind(n))}if(i){const Z=i.call(n,n);he(Z)&&(e.data=yn(Z))}if(Mr=!0,o)for(const Z in o){const Y=o[Z],Se=q(Y)?Y.bind(n,n):q(Y.get)?Y.get.bind(n,n):qe,ot=!q(Y)&&q(Y.set)?Y.set.bind(n):qe,je=ze({get:Se,set:ot});Object.defineProperty(r,Z,{enumerable:!0,configurable:!0,get:()=>je.value,set:Le=>je.value=Le})}if(l)for(const Z in l)Rs(l[Z],r,n,Z);if(s){const Z=q(s)?s.call(n):s;Reflect.ownKeys(Z).forEach(Y=>{Dn(Y,Z[Y])})}u&&Ni(u,e,"c");function de(Z,Y){W(Y)?Y.forEach(Se=>Z(Se.bind(n))):Y&&Z(Y.bind(n))}if(de(Qc,f),de(Ts,d),de(Xc,h),de(Zc,g),de(Wc,y),de(qc,P),de(rl,N),de(nl,te),de(tl,oe),de(Es,E),de(Ps,F),de(el,se),W(A))if(A.length){const Z=e.exposed||(e.exposed={});A.forEach(Y=>{Object.defineProperty(Z,Y,{get:()=>n[Y],set:Se=>n[Y]=Se})})}else e.exposed||(e.exposed={});H&&e.render===qe&&(e.render=H),me!=null&&(e.inheritAttrs=me),fe&&(e.components=fe),Me&&(e.directives=Me)}function cl(e,t,n=qe,r=!1){W(e)&&(e=Or(e));for(const i in e){const o=e[i];let a;he(o)?"default"in o?a=_t(o.from||i,o.default,!0):a=_t(o.from||i):a=_t(o),Pe(a)&&r?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>a.value,set:l=>a.value=l}):t[i]=a}}function Ni(e,t,n){He(W(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Rs(e,t,n,r){const i=r.includes(".")?ys(n,r):()=>n[r];if(Re(e)){const o=t[e];q(o)&&Bn(i,o)}else if(q(e))Bn(i,e.bind(n));else if(he(e))if(W(e))e.forEach(o=>Rs(o,t,n,r));else{const o=q(e.handler)?e.handler.bind(n):t[e.handler];q(o)&&Bn(i,o,e)}}function li(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:a}}=e.appContext,l=o.get(t);let s;return l?s=l:!i.length&&!n&&!r?s=t:(s={},i.length&&i.forEach(c=>Vn(s,c,a,!0)),Vn(s,t,a)),he(t)&&o.set(t,s),s}function Vn(e,t,n,r=!1){const{mixins:i,extends:o}=t;o&&Vn(e,o,n,!0),i&&i.forEach(a=>Vn(e,a,n,!0));for(const a in t)if(!(r&&a==="expose")){const l=ll[a]||n&&n[a];e[a]=l?l(e[a],t[a]):t[a]}return e}const ll={data:Ui,props:xt,emits:xt,methods:xt,computed:xt,beforeCreate:Ie,created:Ie,beforeMount:Ie,mounted:Ie,beforeUpdate:Ie,updated:Ie,beforeDestroy:Ie,beforeUnmount:Ie,destroyed:Ie,unmounted:Ie,activated:Ie,deactivated:Ie,errorCaptured:Ie,serverPrefetch:Ie,components:xt,directives:xt,watch:fl,provide:Ui,inject:ul};function Ui(e,t){return t?e?function(){return xe(q(e)?e.call(this,this):e,q(t)?t.call(this,this):t)}:t:e}function ul(e,t){return xt(Or(e),Or(t))}function Or(e){if(W(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ie(e,t){return e?[...new Set([].concat(e,t))]:t}function xt(e,t){return e?xe(xe(Object.create(null),e),t):t}function fl(e,t){if(!e)return t;if(!t)return e;const n=xe(Object.create(null),e);for(const r in t)n[r]=Ie(e[r],t[r]);return n}function dl(e,t,n,r=!1){const i={},o={};Un(o,ar,1),e.propsDefaults=Object.create(null),ks(e,t,i,o);for(const a in e.propsOptions[0])a in i||(i[a]=void 0);n?e.props=r?i:Pc(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function pl(e,t,n,r){const{props:i,attrs:o,vnode:{patchFlag:a}}=e,l=ee(i),[s]=e.propsOptions;let c=!1;if((r||a>0)&&!(a&16)){if(a&8){const u=e.vnode.dynamicProps;for(let f=0;f<u.length;f++){let d=u[f];if(tr(e.emitsOptions,d))continue;const h=t[d];if(s)if(Q(o,d))h!==o[d]&&(o[d]=h,c=!0);else{const g=rt(d);i[g]=Ir(s,l,g,h,e,!1)}else h!==o[d]&&(o[d]=h,c=!0)}}}else{ks(e,t,i,o)&&(c=!0);let u;for(const f in l)(!t||!Q(t,f)&&((u=Gt(f))===f||!Q(t,u)))&&(s?n&&(n[f]!==void 0||n[u]!==void 0)&&(i[f]=Ir(s,l,f,void 0,e,!0)):delete i[f]);if(o!==l)for(const f in o)(!t||!Q(t,f)&&!0)&&(delete o[f],c=!0)}c&&ft(e,"set","$attrs")}function ks(e,t,n,r){const[i,o]=e.propsOptions;let a=!1,l;if(t)for(let s in t){if(In(s))continue;const c=t[s];let u;i&&Q(i,u=rt(s))?!o||!o.includes(u)?n[u]=c:(l||(l={}))[u]=c:tr(e.emitsOptions,s)||(!(s in r)||c!==r[s])&&(r[s]=c,a=!0)}if(o){const s=ee(n),c=l||le;for(let u=0;u<o.length;u++){const f=o[u];n[f]=Ir(i,s,f,c[f],e,!Q(c,f))}}return a}function Ir(e,t,n,r,i,o){const a=e[n];if(a!=null){const l=Q(a,"default");if(l&&r===void 0){const s=a.default;if(a.type!==Function&&q(s)){const{propsDefaults:c}=i;n in c?r=c[n]:(Ut(i),r=c[n]=s.call(null,t),It())}else r=s}a[0]&&(o&&!l?r=!1:a[1]&&(r===""||r===Gt(n))&&(r=!0))}return r}function Ms(e,t,n=!1){const r=t.propsCache,i=r.get(e);if(i)return i;const o=e.props,a={},l=[];let s=!1;if(!q(e)){const u=f=>{s=!0;const[d,h]=Ms(f,t,!0);xe(a,d),h&&l.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!o&&!s)return he(e)&&r.set(e,Lt),Lt;if(W(o))for(let u=0;u<o.length;u++){const f=rt(o[u]);zi(f)&&(a[f]=le)}else if(o)for(const u in o){const f=rt(u);if(zi(f)){const d=o[u],h=a[f]=W(d)||q(d)?{type:d}:d;if(h){const g=Vi(Boolean,h.type),y=Vi(String,h.type);h[0]=g>-1,h[1]=y<0||g<y,(g>-1||Q(h,"default"))&&l.push(f)}}}const c=[a,l];return he(e)&&r.set(e,c),c}function zi(e){return e[0]!=="$"}function Hi(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function Gi(e,t){return Hi(e)===Hi(t)}function Vi(e,t){return W(t)?t.findIndex(n=>Gi(n,e)):q(t)&&Gi(t,e)?0:-1}const Os=e=>e[0]==="_"||e==="$stable",ui=e=>W(e)?e.map(tt):[tt(e)],hl=(e,t,n)=>{if(t._n)return t;const r=on((...i)=>ui(t(...i)),n);return r._c=!1,r},Is=(e,t,n)=>{const r=e._ctx;for(const i in e){if(Os(i))continue;const o=e[i];if(q(o))t[i]=hl(i,o,r);else if(o!=null){const a=ui(o);t[i]=()=>a}}},Ds=(e,t)=>{const n=ui(t);e.slots.default=()=>n},ml=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=ee(t),Un(t,"_",n)):Is(t,e.slots={})}else e.slots={},t&&Ds(e,t);Un(e.slots,ar,1)},gl=(e,t,n)=>{const{vnode:r,slots:i}=e;let o=!0,a=le;if(r.shapeFlag&32){const l=t._;l?n&&l===1?o=!1:(xe(i,t),!n&&l===1&&delete i._):(o=!t.$stable,Is(t,i)),a=t}else t&&(Ds(e,t),a={default:1});if(o)for(const l in i)!Os(l)&&!(l in a)&&delete i[l]};function Bs(){return{app:null,config:{isNativeTag:Ua,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let vl=0;function yl(e,t){return function(r,i=null){q(r)||(r=Object.assign({},r)),i!=null&&!he(i)&&(i=null);const o=Bs(),a=new Set;let l=!1;const s=o.app={_uid:vl++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:wl,get config(){return o.config},set config(c){},use(c,...u){return a.has(c)||(c&&q(c.install)?(a.add(c),c.install(s,...u)):q(c)&&(a.add(c),c(s,...u))),s},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),s},component(c,u){return u?(o.components[c]=u,s):o.components[c]},directive(c,u){return u?(o.directives[c]=u,s):o.directives[c]},mount(c,u,f){if(!l){const d=_e(r,i);return d.appContext=o,u&&t?t(d,c):e(d,c,f),l=!0,s._container=c,c.__vue_app__=s,pi(d.component)||d.component.proxy}},unmount(){l&&(e(null,s._container),delete s._container.__vue_app__)},provide(c,u){return o.provides[c]=u,s}};return s}}function Dr(e,t,n,r,i=!1){if(W(e)){e.forEach((d,h)=>Dr(d,t&&(W(t)?t[h]:t),n,r,i));return}if(An(r)&&!i)return;const o=r.shapeFlag&4?pi(r.component)||r.component.proxy:r.el,a=i?null:o,{i:l,r:s}=e,c=t&&t.r,u=l.refs===le?l.refs={}:l.refs,f=l.setupState;if(c!=null&&c!==s&&(Re(c)?(u[c]=null,Q(f,c)&&(f[c]=null)):Pe(c)&&(c.value=null)),q(s))yt(s,l,12,[a,u]);else{const d=Re(s),h=Pe(s);if(d||h){const g=()=>{if(e.f){const y=d?u[s]:s.value;i?W(y)&&Qr(y,o):W(y)?y.includes(o)||y.push(o):d?(u[s]=[o],Q(f,s)&&(f[s]=u[s])):(s.value=[o],e.k&&(u[e.k]=s.value))}else d?(u[s]=a,Q(f,s)&&(f[s]=a)):h&&(s.value=a,e.k&&(u[e.k]=a))};a?(g.id=-1,Be(g,n)):g()}}}const Be=Hc;function _l(e){return bl(e)}function bl(e,t){const n=Qa();n.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:a,createText:l,createComment:s,setText:c,setElementText:u,parentNode:f,nextSibling:d,setScopeId:h=qe,cloneNode:g,insertStaticContent:y}=e,P=(p,m,v,S=null,C=null,R=null,O=!1,x=null,M=!!m.dynamicChildren)=>{if(p===m)return;p&&!kt(p,m)&&(S=L(p),Oe(p,C,R,!0),p=null),m.patchFlag===-2&&(M=!1,m.dynamicChildren=null);const{type:T,ref:$,shapeFlag:j}=m;switch(T){case fi:_(p,m,v,S);break;case ut:E(p,m,v,S);break;case jn:p==null&&U(m,v,S,O);break;case Ue:Me(p,m,v,S,C,R,O,x,M);break;default:j&1?te(p,m,v,S,C,R,O,x,M):j&6?ge(p,m,v,S,C,R,O,x,M):(j&64||j&128)&&T.process(p,m,v,S,C,R,O,x,M,re)}$!=null&&C&&Dr($,p&&p.ref,R,m||p,!m)},_=(p,m,v,S)=>{if(p==null)r(m.el=l(m.children),v,S);else{const C=m.el=p.el;m.children!==p.children&&c(C,m.children)}},E=(p,m,v,S)=>{p==null?r(m.el=s(m.children||""),v,S):m.el=p.el},U=(p,m,v,S)=>{[p.el,p.anchor]=y(p.children,m,v,S,p.el,p.anchor)},F=({el:p,anchor:m},v,S)=>{let C;for(;p&&p!==m;)C=d(p),r(p,v,S),p=C;r(m,v,S)},H=({el:p,anchor:m})=>{let v;for(;p&&p!==m;)v=d(p),i(p),p=v;i(m)},te=(p,m,v,S,C,R,O,x,M)=>{O=O||m.type==="svg",p==null?oe(m,v,S,C,R,O,x,M):A(p,m,C,R,O,x,M)},oe=(p,m,v,S,C,R,O,x)=>{let M,T;const{type:$,props:j,shapeFlag:w,transition:V,patchFlag:X,dirs:ae}=p;if(p.el&&g!==void 0&&X===-1)M=p.el=g(p.el);else{if(M=p.el=a(p.type,R,j&&j.is,j),w&8?u(M,p.children):w&16&&se(p.children,M,null,S,C,R&&$!=="foreignObject",O,x),ae&&St(p,null,S,"created"),j){for(const ue in j)ue!=="value"&&!In(ue)&&o(M,ue,null,j[ue],R,p.children,S,C,k);"value"in j&&o(M,"value",null,j.value),(T=j.onVnodeBeforeMount)&&Ze(T,S,p)}N(M,p,p.scopeId,O,S)}ae&&St(p,null,S,"beforeMount");const ce=(!C||C&&!C.pendingBranch)&&V&&!V.persisted;ce&&V.beforeEnter(M),r(M,m,v),((T=j&&j.onVnodeMounted)||ce||ae)&&Be(()=>{T&&Ze(T,S,p),ce&&V.enter(M),ae&&St(p,null,S,"mounted")},C)},N=(p,m,v,S,C)=>{if(v&&h(p,v),S)for(let R=0;R<S.length;R++)h(p,S[R]);if(C){let R=C.subTree;if(m===R){const O=C.vnode;N(p,O,O.scopeId,O.slotScopeIds,C.parent)}}},se=(p,m,v,S,C,R,O,x,M=0)=>{for(let T=M;T<p.length;T++){const $=p[T]=x?mt(p[T]):tt(p[T]);P(null,$,m,v,S,C,R,O,x)}},A=(p,m,v,S,C,R,O)=>{const x=m.el=p.el;let{patchFlag:M,dynamicChildren:T,dirs:$}=m;M|=p.patchFlag&16;const j=p.props||le,w=m.props||le;let V;v&&Tt(v,!1),(V=w.onVnodeBeforeUpdate)&&Ze(V,v,m,p),$&&St(m,p,v,"beforeUpdate"),v&&Tt(v,!0);const X=C&&m.type!=="foreignObject";if(T?me(p.dynamicChildren,T,x,v,S,X,R):O||Se(p,m,x,null,v,S,X,R,!1),M>0){if(M&16)fe(x,m,j,w,v,S,C);else if(M&2&&j.class!==w.class&&o(x,"class",null,w.class,C),M&4&&o(x,"style",j.style,w.style,C),M&8){const ae=m.dynamicProps;for(let ce=0;ce<ae.length;ce++){const ue=ae[ce],Ge=j[ue],Dt=w[ue];(Dt!==Ge||ue==="value")&&o(x,ue,Ge,Dt,C,p.children,v,S,k)}}M&1&&p.children!==m.children&&u(x,m.children)}else!O&&T==null&&fe(x,m,j,w,v,S,C);((V=w.onVnodeUpdated)||$)&&Be(()=>{V&&Ze(V,v,m,p),$&&St(m,p,v,"updated")},S)},me=(p,m,v,S,C,R,O)=>{for(let x=0;x<m.length;x++){const M=p[x],T=m[x],$=M.el&&(M.type===Ue||!kt(M,T)||M.shapeFlag&70)?f(M.el):v;P(M,T,$,null,S,C,R,O,!0)}},fe=(p,m,v,S,C,R,O)=>{if(v!==S){for(const x in S){if(In(x))continue;const M=S[x],T=v[x];M!==T&&x!=="value"&&o(p,x,T,M,O,m.children,C,R,k)}if(v!==le)for(const x in v)!In(x)&&!(x in S)&&o(p,x,v[x],null,O,m.children,C,R,k);"value"in S&&o(p,"value",v.value,S.value)}},Me=(p,m,v,S,C,R,O,x,M)=>{const T=m.el=p?p.el:l(""),$=m.anchor=p?p.anchor:l("");let{patchFlag:j,dynamicChildren:w,slotScopeIds:V}=m;V&&(x=x?x.concat(V):V),p==null?(r(T,v,S),r($,v,S),se(m.children,v,$,C,R,O,x,M)):j>0&&j&64&&w&&p.dynamicChildren?(me(p.dynamicChildren,w,v,C,R,O,x),(m.key!=null||C&&m===C.subTree)&&As(p,m,!0)):Se(p,m,v,$,C,R,O,x,M)},ge=(p,m,v,S,C,R,O,x,M)=>{m.slotScopeIds=x,p==null?m.shapeFlag&512?C.ctx.activate(m,v,S,O,M):Qe(m,v,S,C,R,O,M):de(p,m,M)},Qe=(p,m,v,S,C,R,O)=>{const x=p.component=Il(p,S,C);if(rr(p)&&(x.ctx.renderer=re),Bl(x),x.asyncDep){if(C&&C.registerDep(x,Z),!p.el){const M=x.subTree=_e(ut);E(null,M,m,v)}return}Z(x,p,m,v,C,R,O)},de=(p,m,v)=>{const S=m.component=p.component;if(Nc(p,m,v))if(S.asyncDep&&!S.asyncResolved){Y(S,m,v);return}else S.next=m,Ac(S.update),S.update();else m.el=p.el,S.vnode=m},Z=(p,m,v,S,C,R,O)=>{const x=()=>{if(p.isMounted){let{next:$,bu:j,u:w,parent:V,vnode:X}=p,ae=$,ce;Tt(p,!1),$?($.el=X.el,Y(p,$,O)):$=X,j&&fr(j),(ce=$.props&&$.props.onVnodeBeforeUpdate)&&Ze(ce,V,$,X),Tt(p,!0);const ue=dr(p),Ge=p.subTree;p.subTree=ue,P(Ge,ue,f(Ge.el),L(Ge),p,C,R),$.el=ue.el,ae===null&&Uc(p,ue.el),w&&Be(w,C),(ce=$.props&&$.props.onVnodeUpdated)&&Be(()=>Ze(ce,V,$,X),C)}else{let $;const{el:j,props:w}=m,{bm:V,m:X,parent:ae}=p,ce=An(m);if(Tt(p,!1),V&&fr(V),!ce&&($=w&&w.onVnodeBeforeMount)&&Ze($,ae,m),Tt(p,!0),j&&K){const ue=()=>{p.subTree=dr(p),K(j,p.subTree,p,C,null)};ce?m.type.__asyncLoader().then(()=>!p.isUnmounted&&ue()):ue()}else{const ue=p.subTree=dr(p);P(null,ue,v,S,p,C,R),m.el=ue.el}if(X&&Be(X,C),!ce&&($=w&&w.onVnodeMounted)){const ue=m;Be(()=>Ze($,ae,ue),C)}(m.shapeFlag&256||ae&&An(ae.vnode)&&ae.vnode.shapeFlag&256)&&p.a&&Be(p.a,C),p.isMounted=!0,m=v=S=null}},M=p.effect=new ti(x,()=>ci(T),p.scope),T=p.update=()=>M.run();T.id=p.uid,Tt(p,!0),T()},Y=(p,m,v)=>{m.component=p;const S=p.vnode.props;p.vnode=m,p.next=null,pl(p,m.props,S,v),gl(p,m.children,v),Vt(),ji(),Kt()},Se=(p,m,v,S,C,R,O,x,M=!1)=>{const T=p&&p.children,$=p?p.shapeFlag:0,j=m.children,{patchFlag:w,shapeFlag:V}=m;if(w>0){if(w&128){je(T,j,v,S,C,R,O,x,M);return}else if(w&256){ot(T,j,v,S,C,R,O,x,M);return}}V&8?($&16&&k(T,C,R),j!==T&&u(v,j)):$&16?V&16?je(T,j,v,S,C,R,O,x,M):k(T,C,R,!0):($&8&&u(v,""),V&16&&se(j,v,S,C,R,O,x,M))},ot=(p,m,v,S,C,R,O,x,M)=>{p=p||Lt,m=m||Lt;const T=p.length,$=m.length,j=Math.min(T,$);let w;for(w=0;w<j;w++){const V=m[w]=M?mt(m[w]):tt(m[w]);P(p[w],V,v,null,C,R,O,x,M)}T>$?k(p,C,R,!0,!1,j):se(m,v,S,C,R,O,x,M,j)},je=(p,m,v,S,C,R,O,x,M)=>{let T=0;const $=m.length;let j=p.length-1,w=$-1;for(;T<=j&&T<=w;){const V=p[T],X=m[T]=M?mt(m[T]):tt(m[T]);if(kt(V,X))P(V,X,v,null,C,R,O,x,M);else break;T++}for(;T<=j&&T<=w;){const V=p[j],X=m[w]=M?mt(m[w]):tt(m[w]);if(kt(V,X))P(V,X,v,null,C,R,O,x,M);else break;j--,w--}if(T>j){if(T<=w){const V=w+1,X=V<$?m[V].el:S;for(;T<=w;)P(null,m[T]=M?mt(m[T]):tt(m[T]),v,X,C,R,O,x,M),T++}}else if(T>w)for(;T<=j;)Oe(p[T],C,R,!0),T++;else{const V=T,X=T,ae=new Map;for(T=X;T<=w;T++){const Fe=m[T]=M?mt(m[T]):tt(m[T]);Fe.key!=null&&ae.set(Fe.key,T)}let ce,ue=0;const Ge=w-X+1;let Dt=!1,Ei=0;const qt=new Array(Ge);for(T=0;T<Ge;T++)qt[T]=0;for(T=V;T<=j;T++){const Fe=p[T];if(ue>=Ge){Oe(Fe,C,R,!0);continue}let Xe;if(Fe.key!=null)Xe=ae.get(Fe.key);else for(ce=X;ce<=w;ce++)if(qt[ce-X]===0&&kt(Fe,m[ce])){Xe=ce;break}Xe===void 0?Oe(Fe,C,R,!0):(qt[Xe-X]=T+1,Xe>=Ei?Ei=Xe:Dt=!0,P(Fe,m[Xe],v,null,C,R,O,x,M),ue++)}const Pi=Dt?Cl(qt):Lt;for(ce=Pi.length-1,T=Ge-1;T>=0;T--){const Fe=X+T,Xe=m[Fe],xi=Fe+1<$?m[Fe+1].el:S;qt[T]===0?P(null,Xe,v,xi,C,R,O,x,M):Dt&&(ce<0||T!==Pi[ce]?Le(Xe,v,xi,2):ce--)}}},Le=(p,m,v,S,C=null)=>{const{el:R,type:O,transition:x,children:M,shapeFlag:T}=p;if(T&6){Le(p.component.subTree,m,v,S);return}if(T&128){p.suspense.move(m,v,S);return}if(T&64){O.move(p,m,v,re);return}if(O===Ue){r(R,m,v);for(let j=0;j<M.length;j++)Le(M[j],m,v,S);r(p.anchor,m,v);return}if(O===jn){F(p,m,v);return}if(S!==2&&T&1&&x)if(S===0)x.beforeEnter(R),r(R,m,v),Be(()=>x.enter(R),C);else{const{leave:j,delayLeave:w,afterLeave:V}=x,X=()=>r(R,m,v),ae=()=>{j(R,()=>{X(),V&&V()})};w?w(R,X,ae):ae()}else r(R,m,v)},Oe=(p,m,v,S=!1,C=!1)=>{const{type:R,props:O,ref:x,children:M,dynamicChildren:T,shapeFlag:$,patchFlag:j,dirs:w}=p;if(x!=null&&Dr(x,null,v,p,!0),$&256){m.ctx.deactivate(p);return}const V=$&1&&w,X=!An(p);let ae;if(X&&(ae=O&&O.onVnodeBeforeUnmount)&&Ze(ae,m,p),$&6)I(p.component,v,S);else{if($&128){p.suspense.unmount(v,S);return}V&&St(p,null,m,"beforeUnmount"),$&64?p.type.remove(p,m,v,C,re,S):T&&(R!==Ue||j>0&&j&64)?k(T,m,v,!1,!0):(R===Ue&&j&384||!C&&$&16)&&k(M,m,v),S&&we(p)}(X&&(ae=O&&O.onVnodeUnmounted)||V)&&Be(()=>{ae&&Ze(ae,m,p),V&&St(p,null,m,"unmounted")},v)},we=p=>{const{type:m,el:v,anchor:S,transition:C}=p;if(m===Ue){b(v,S);return}if(m===jn){H(p);return}const R=()=>{i(v),C&&!C.persisted&&C.afterLeave&&C.afterLeave()};if(p.shapeFlag&1&&C&&!C.persisted){const{leave:O,delayLeave:x}=C,M=()=>O(v,R);x?x(p.el,R,M):M()}else R()},b=(p,m)=>{let v;for(;p!==m;)v=d(p),i(p),p=v;i(m)},I=(p,m,v)=>{const{bum:S,scope:C,update:R,subTree:O,um:x}=p;S&&fr(S),C.stop(),R&&(R.active=!1,Oe(O,p,m,v)),x&&Be(x,m),Be(()=>{p.isUnmounted=!0},m),m&&m.pendingBranch&&!m.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===m.pendingId&&(m.deps--,m.deps===0&&m.resolve())},k=(p,m,v,S=!1,C=!1,R=0)=>{for(let O=R;O<p.length;O++)Oe(p[O],m,v,S,C)},L=p=>p.shapeFlag&6?L(p.component.subTree):p.shapeFlag&128?p.suspense.next():d(p.anchor||p.el),G=(p,m,v)=>{p==null?m._vnode&&Oe(m._vnode,null,null,!0):P(m._vnode||null,p,m,null,null,null,v),ji(),ds(),m._vnode=p},re={p:P,um:Oe,m:Le,r:we,mt:Qe,mc:se,pc:Se,pbc:me,n:L,o:e};let J,K;return t&&([J,K]=t(re)),{render:G,hydrate:J,createApp:yl(G,J)}}function Tt({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function As(e,t,n=!1){const r=e.children,i=t.children;if(W(r)&&W(i))for(let o=0;o<r.length;o++){const a=r[o];let l=i[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[o]=mt(i[o]),l.el=a.el),n||As(a,l))}}function Cl(e){const t=e.slice(),n=[0];let r,i,o,a,l;const s=e.length;for(r=0;r<s;r++){const c=e[r];if(c!==0){if(i=n[n.length-1],e[i]<c){t[r]=i,n.push(r);continue}for(o=0,a=n.length-1;o<a;)l=o+a>>1,e[n[l]]<c?o=l+1:a=l;c<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}for(o=n.length,a=n[o-1];o-- >0;)n[o]=a,a=t[a];return n}const Sl=e=>e.__isTeleport,Ue=Symbol(void 0),fi=Symbol(void 0),ut=Symbol(void 0),jn=Symbol(void 0),sn=[];let We=null;function or(e=!1){sn.push(We=e?null:[])}function Tl(){sn.pop(),We=sn[sn.length-1]||null}let hn=1;function Ki(e){hn+=e}function El(e){return e.dynamicChildren=hn>0?We||Lt:null,Tl(),hn>0&&We&&We.push(e),e}function sr(e,t,n,r,i,o){return El(D(e,t,n,r,i,o,!0))}function Br(e){return e?e.__v_isVNode===!0:!1}function kt(e,t){return e.type===t.type&&e.key===t.key}const ar="__vInternal",js=({key:e})=>e!=null?e:null,Ln=({ref:e,ref_key:t,ref_for:n})=>e!=null?Re(e)||Pe(e)||q(e)?{i:Je,r:e,k:t,f:!!n}:e:null;function D(e,t=null,n=null,r=0,i=null,o=e===Ue?0:1,a=!1,l=!1){const s={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&js(t),ref:t&&Ln(t),scopeId:nr,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null};return l?(di(s,n),o&128&&e.normalize(s)):n&&(s.shapeFlag|=Re(n)?8:16),hn>0&&!a&&We&&(s.patchFlag>0||o&6)&&s.patchFlag!==32&&We.push(s),s}const _e=Pl;function Pl(e,t=null,n=null,r=0,i=null,o=!1){if((!e||e===il)&&(e=ut),Br(e)){const l=Ct(e,t,!0);return n&&di(l,n),hn>0&&!o&&We&&(l.shapeFlag&6?We[We.indexOf(e)]=l:We.push(l)),l.patchFlag|=-2,l}if($l(e)&&(e=e.__vccOpts),t){t=xl(t);let{class:l,style:s}=t;l&&!Re(l)&&(t.class=qr(l)),he(s)&&(ns(s)&&!W(s)&&(s=xe({},s)),t.style=Wr(s))}const a=Re(e)?1:zc(e)?128:Sl(e)?64:he(e)?4:q(e)?2:0;return D(e,t,n,r,i,a,o,!0)}function xl(e){return e?ns(e)||ar in e?xe({},e):e:null}function Ct(e,t,n=!1){const{props:r,ref:i,patchFlag:o,children:a}=e,l=t?kl(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&js(l),ref:t&&t.ref?n&&i?W(i)?i.concat(Ln(t)):[i,Ln(t)]:Ln(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ue?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ct(e.ssContent),ssFallback:e.ssFallback&&Ct(e.ssFallback),el:e.el,anchor:e.anchor}}function _n(e=" ",t=0){return _e(fi,null,e,t)}function Rl(e,t){const n=_e(jn,null,e);return n.staticCount=t,n}function tt(e){return e==null||typeof e=="boolean"?_e(ut):W(e)?_e(Ue,null,e.slice()):typeof e=="object"?mt(e):_e(fi,null,String(e))}function mt(e){return e.el===null||e.memo?e:Ct(e)}function di(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(W(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),di(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!(ar in t)?t._ctx=Je:i===3&&Je&&(Je.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else q(t)?(t={default:t,_ctx:Je},n=32):(t=String(t),r&64?(n=16,t=[_n(t)]):n=8);e.children=t,e.shapeFlag|=n}function kl(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=qr([t.class,r.class]));else if(i==="style")t.style=Wr([t.style,r.style]);else if(qn(i)){const o=t[i],a=r[i];a&&o!==a&&!(W(o)&&o.includes(a))&&(t[i]=o?[].concat(o,a):a)}else i!==""&&(t[i]=r[i])}return t}function Ze(e,t,n,r=null){He(e,t,7,[n,r])}const Ml=Bs();let Ol=0;function Il(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||Ml,o={uid:Ol++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Xa(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ms(r,i),emitsOptions:hs(r,i),emit:null,emitted:null,propsDefaults:le,inheritAttrs:r.inheritAttrs,ctx:le,data:le,props:le,attrs:le,slots:le,refs:le,setupState:le,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Fc.bind(null,o),e.ce&&e.ce(o),o}let ve=null;const Dl=()=>ve||Je,Ut=e=>{ve=e,e.scope.on()},It=()=>{ve&&ve.scope.off(),ve=null};function Ls(e){return e.vnode.shapeFlag&4}let mn=!1;function Bl(e,t=!1){mn=t;const{props:n,children:r}=e.vnode,i=Ls(e);dl(e,n,i,t),ml(e,r);const o=i?Al(e,t):void 0;return mn=!1,o}function Al(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=rs(new Proxy(e.ctx,sl));const{setup:r}=n;if(r){const i=e.setupContext=r.length>1?Ll(e):null;Ut(e),Vt();const o=yt(r,e,0,[e.props,i]);if(Kt(),It(),Go(o)){if(o.then(It,It),t)return o.then(a=>{Ji(e,a,t)}).catch(a=>{er(a,e,0)});e.asyncDep=o}else Ji(e,o,t)}else Fs(e,t)}function Ji(e,t,n){q(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:he(t)&&(e.setupState=as(t)),Fs(e,n)}let Wi;function Fs(e,t,n){const r=e.type;if(!e.render){if(!t&&Wi&&!r.render){const i=r.template||li(e).template;if(i){const{isCustomElement:o,compilerOptions:a}=e.appContext.config,{delimiters:l,compilerOptions:s}=r,c=xe(xe({isCustomElement:o,delimiters:l},a),s);r.render=Wi(i,c)}}e.render=r.render||qe}Ut(e),Vt(),al(e),Kt(),It()}function jl(e){return new Proxy(e.attrs,{get(t,n){return $e(e,"get","$attrs"),t[n]}})}function Ll(e){const t=r=>{e.exposed=r||{}};let n;return{get attrs(){return n||(n=jl(e))},slots:e.slots,emit:e.emit,expose:t}}function pi(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(as(rs(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Gn)return Gn[n](e)}}))}function Fl(e,t=!0){return q(e)?e.displayName||e.name:e.name||t&&e.__name}function $l(e){return q(e)&&"__vccOpts"in e}const ze=(e,t)=>Ic(e,t,mn);function $s(e,t,n){const r=arguments.length;return r===2?he(t)&&!W(t)?Br(t)?_e(e,null,[t]):_e(e,t):_e(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Br(n)&&(n=[n]),_e(e,t,n))}const wl="3.2.39",Nl="http://www.w3.org/2000/svg",Mt=typeof document<"u"?document:null,qi=Mt&&Mt.createElement("template"),Ul={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t?Mt.createElementNS(Nl,e):Mt.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>Mt.createTextNode(e),createComment:e=>Mt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Mt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,r,i,o){const a=n?n.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{qi.innerHTML=r?`<svg>${e}</svg>`:e;const l=qi.content;if(r){const s=l.firstChild;for(;s.firstChild;)l.appendChild(s.firstChild);l.removeChild(s)}t.insertBefore(l,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function zl(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function Hl(e,t,n){const r=e.style,i=Re(n);if(n&&!i){for(const o in n)Ar(r,o,n[o]);if(t&&!Re(t))for(const o in t)n[o]==null&&Ar(r,o,"")}else{const o=r.display;i?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=o)}}const Yi=/\s*!important$/;function Ar(e,t,n){if(W(n))n.forEach(r=>Ar(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Gl(e,t);Yi.test(n)?e.setProperty(Gt(r),n.replace(Yi,""),"important"):e[r]=n}}const Qi=["Webkit","Moz","ms"],hr={};function Gl(e,t){const n=hr[t];if(n)return n;let r=rt(t);if(r!=="filter"&&r in e)return hr[t]=r;r=Xn(r);for(let i=0;i<Qi.length;i++){const o=Qi[i]+r;if(o in e)return hr[t]=o}return t}const Xi="http://www.w3.org/1999/xlink";function Vl(e,t,n,r,i){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(Xi,t.slice(6,t.length)):e.setAttributeNS(Xi,t,n);else{const o=Fa(t);n==null||o&&!Ho(n)?e.removeAttribute(t):e.setAttribute(t,o?"":n)}}function Kl(e,t,n,r,i,o,a){if(t==="innerHTML"||t==="textContent"){r&&a(r,i,o),e[t]=n==null?"":n;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const s=n==null?"":n;(e.value!==s||e.tagName==="OPTION")&&(e.value=s),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const s=typeof e[t];s==="boolean"?n=Ho(n):n==null&&s==="string"?(n="",l=!0):s==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}const[ws,Jl]=(()=>{let e=Date.now,t=!1;if(typeof window<"u"){Date.now()>document.createEvent("Event").timeStamp&&(e=performance.now.bind(performance));const n=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(n&&Number(n[1])<=53)}return[e,t]})();let jr=0;const Wl=Promise.resolve(),ql=()=>{jr=0},Yl=()=>jr||(Wl.then(ql),jr=ws());function Ql(e,t,n,r){e.addEventListener(t,n,r)}function Xl(e,t,n,r){e.removeEventListener(t,n,r)}function Zl(e,t,n,r,i=null){const o=e._vei||(e._vei={}),a=o[t];if(r&&a)a.value=r;else{const[l,s]=eu(t);if(r){const c=o[t]=tu(r,i);Ql(e,l,c,s)}else a&&(Xl(e,l,a,s),o[t]=void 0)}}const Zi=/(?:Once|Passive|Capture)$/;function eu(e){let t;if(Zi.test(e)){t={};let r;for(;r=e.match(Zi);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Gt(e.slice(2)),t]}function tu(e,t){const n=r=>{const i=r.timeStamp||ws();(Jl||i>=n.attached-1)&&He(nu(r,n.value),t,5,[r])};return n.value=e,n.attached=Yl(),n}function nu(e,t){if(W(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const eo=/^on[a-z]/,ru=(e,t,n,r,i=!1,o,a,l,s)=>{t==="class"?zl(e,r,i):t==="style"?Hl(e,n,r):qn(t)?Yr(t)||Zl(e,t,n,r,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):iu(e,t,r,i))?Kl(e,t,r,o,a,l,s):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Vl(e,t,r,i))};function iu(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&eo.test(t)&&q(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||eo.test(t)&&Re(n)?!1:t in e}const ou={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Jc.props;const su=xe({patchProp:ru},Ul);let to;function au(){return to||(to=_l(su))}const cu=(...e)=>{const t=au().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=lu(r);if(!i)return;const o=t._component;!q(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const a=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},t};function lu(e){return Re(e)?document.querySelector(e):e}/*!
  * vue-router v4.1.5
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const At=typeof window<"u";function uu(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const ie=Object.assign;function mr(e,t){const n={};for(const r in t){const i=t[r];n[r]=Ye(i)?i.map(e):e(i)}return n}const an=()=>{},Ye=Array.isArray,fu=/\/$/,du=e=>e.replace(fu,"");function gr(e,t,n="/"){let r,i={},o="",a="";const l=t.indexOf("#");let s=t.indexOf("?");return l<s&&l>=0&&(s=-1),s>-1&&(r=t.slice(0,s),o=t.slice(s+1,l>-1?l:t.length),i=e(o)),l>-1&&(r=r||t.slice(0,l),a=t.slice(l,t.length)),r=gu(r!=null?r:t,n),{fullPath:r+(o&&"?")+o+a,path:r,query:i,hash:a}}function pu(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function no(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function hu(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&zt(t.matched[r],n.matched[i])&&Ns(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function zt(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Ns(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!mu(e[n],t[n]))return!1;return!0}function mu(e,t){return Ye(e)?ro(e,t):Ye(t)?ro(t,e):e===t}function ro(e,t){return Ye(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function gu(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var gn;(function(e){e.pop="pop",e.push="push"})(gn||(gn={}));var cn;(function(e){e.back="back",e.forward="forward",e.unknown=""})(cn||(cn={}));function vu(e){if(!e)if(At){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),du(e)}const yu=/^[^#]+#/;function _u(e,t){return e.replace(yu,"#")+t}function bu(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const cr=()=>({left:window.pageXOffset,top:window.pageYOffset});function Cu(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=bu(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function io(e,t){return(history.state?history.state.position-t:-1)+e}const Lr=new Map;function Su(e,t){Lr.set(e,t)}function Tu(e){const t=Lr.get(e);return Lr.delete(e),t}let Eu=()=>location.protocol+"//"+location.host;function Us(e,t){const{pathname:n,search:r,hash:i}=t,o=e.indexOf("#");if(o>-1){let l=i.includes(e.slice(o))?e.slice(o).length:1,s=i.slice(l);return s[0]!=="/"&&(s="/"+s),no(s,"")}return no(n,e)+r+i}function Pu(e,t,n,r){let i=[],o=[],a=null;const l=({state:d})=>{const h=Us(e,location),g=n.value,y=t.value;let P=0;if(d){if(n.value=h,t.value=d,a&&a===g){a=null;return}P=y?d.position-y.position:0}else r(h);i.forEach(_=>{_(n.value,g,{delta:P,type:gn.pop,direction:P?P>0?cn.forward:cn.back:cn.unknown})})};function s(){a=n.value}function c(d){i.push(d);const h=()=>{const g=i.indexOf(d);g>-1&&i.splice(g,1)};return o.push(h),h}function u(){const{history:d}=window;!d.state||d.replaceState(ie({},d.state,{scroll:cr()}),"")}function f(){for(const d of o)d();o=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",u),{pauseListeners:s,listen:c,destroy:f}}function oo(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?cr():null}}function xu(e){const{history:t,location:n}=window,r={value:Us(e,n)},i={value:t.state};i.value||o(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(s,c,u){const f=e.indexOf("#"),d=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+s:Eu()+e+s;try{t[u?"replaceState":"pushState"](c,"",d),i.value=c}catch(h){console.error(h),n[u?"replace":"assign"](d)}}function a(s,c){const u=ie({},t.state,oo(i.value.back,s,i.value.forward,!0),c,{position:i.value.position});o(s,u,!0),r.value=s}function l(s,c){const u=ie({},i.value,t.state,{forward:s,scroll:cr()});o(u.current,u,!0);const f=ie({},oo(r.value,s,null),{position:u.position+1},c);o(s,f,!1),r.value=s}return{location:r,state:i,push:l,replace:a}}function Ru(e){e=vu(e);const t=xu(e),n=Pu(e,t.state,t.location,t.replace);function r(o,a=!0){a||n.pauseListeners(),history.go(o)}const i=ie({location:"",base:e,go:r,createHref:_u.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function ku(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),Ru(e)}function Mu(e){return typeof e=="string"||e&&typeof e=="object"}function zs(e){return typeof e=="string"||typeof e=="symbol"}const ht={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Hs=Symbol("");var so;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(so||(so={}));function Ht(e,t){return ie(new Error,{type:e,[Hs]:!0},t)}function st(e,t){return e instanceof Error&&Hs in e&&(t==null||!!(e.type&t))}const ao="[^/]+?",Ou={sensitive:!1,strict:!1,start:!0,end:!0},Iu=/[.+*?^${}()[\]/\\]/g;function Du(e,t){const n=ie({},Ou,t),r=[];let i=n.start?"^":"";const o=[];for(const c of e){const u=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let f=0;f<c.length;f++){const d=c[f];let h=40+(n.sensitive?.25:0);if(d.type===0)f||(i+="/"),i+=d.value.replace(Iu,"\\$&"),h+=40;else if(d.type===1){const{value:g,repeatable:y,optional:P,regexp:_}=d;o.push({name:g,repeatable:y,optional:P});const E=_||ao;if(E!==ao){h+=10;try{new RegExp(`(${E})`)}catch(F){throw new Error(`Invalid custom RegExp for param "${g}" (${E}): `+F.message)}}let U=y?`((?:${E})(?:/(?:${E}))*)`:`(${E})`;f||(U=P&&c.length<2?`(?:/${U})`:"/"+U),P&&(U+="?"),i+=U,h+=20,P&&(h+=-8),y&&(h+=-20),E===".*"&&(h+=-50)}u.push(h)}r.push(u)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const a=new RegExp(i,n.sensitive?"":"i");function l(c){const u=c.match(a),f={};if(!u)return null;for(let d=1;d<u.length;d++){const h=u[d]||"",g=o[d-1];f[g.name]=h&&g.repeatable?h.split("/"):h}return f}function s(c){let u="",f=!1;for(const d of e){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const h of d)if(h.type===0)u+=h.value;else if(h.type===1){const{value:g,repeatable:y,optional:P}=h,_=g in c?c[g]:"";if(Ye(_)&&!y)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const E=Ye(_)?_.join("/"):_;if(!E)if(P)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${g}"`);u+=E}}return u||"/"}return{re:a,score:r,keys:o,parse:l,stringify:s}}function Bu(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function Au(e,t){let n=0;const r=e.score,i=t.score;for(;n<r.length&&n<i.length;){const o=Bu(r[n],i[n]);if(o)return o;n++}if(Math.abs(i.length-r.length)===1){if(co(r))return 1;if(co(i))return-1}return i.length-r.length}function co(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const ju={type:0,value:""},Lu=/[a-zA-Z0-9_]/;function Fu(e){if(!e)return[[]];if(e==="/")return[[ju]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(h){throw new Error(`ERR (${n})/"${c}": ${h}`)}let n=0,r=n;const i=[];let o;function a(){o&&i.push(o),o=[]}let l=0,s,c="",u="";function f(){!c||(n===0?o.push({type:0,value:c}):n===1||n===2||n===3?(o.length>1&&(s==="*"||s==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:u,repeatable:s==="*"||s==="+",optional:s==="*"||s==="?"})):t("Invalid state to consume buffer"),c="")}function d(){c+=s}for(;l<e.length;){if(s=e[l++],s==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:s==="/"?(c&&f(),a()):s===":"?(f(),n=1):d();break;case 4:d(),n=r;break;case 1:s==="("?n=2:Lu.test(s)?d():(f(),n=0,s!=="*"&&s!=="?"&&s!=="+"&&l--);break;case 2:s===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+s:n=3:u+=s;break;case 3:f(),n=0,s!=="*"&&s!=="?"&&s!=="+"&&l--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),f(),a(),i}function $u(e,t,n){const r=Du(Fu(e.path),n),i=ie(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function wu(e,t){const n=[],r=new Map;t=fo({strict:!1,end:!0,sensitive:!1},t);function i(u){return r.get(u)}function o(u,f,d){const h=!d,g=Nu(u);g.aliasOf=d&&d.record;const y=fo(t,u),P=[g];if("alias"in u){const U=typeof u.alias=="string"?[u.alias]:u.alias;for(const F of U)P.push(ie({},g,{components:d?d.record.components:g.components,path:F,aliasOf:d?d.record:g}))}let _,E;for(const U of P){const{path:F}=U;if(f&&F[0]!=="/"){const H=f.record.path,te=H[H.length-1]==="/"?"":"/";U.path=f.record.path+(F&&te+F)}if(_=$u(U,f,y),d?d.alias.push(_):(E=E||_,E!==_&&E.alias.push(_),h&&u.name&&!uo(_)&&a(u.name)),g.children){const H=g.children;for(let te=0;te<H.length;te++)o(H[te],_,d&&d.children[te])}d=d||_,s(_)}return E?()=>{a(E)}:an}function a(u){if(zs(u)){const f=r.get(u);f&&(r.delete(u),n.splice(n.indexOf(f),1),f.children.forEach(a),f.alias.forEach(a))}else{const f=n.indexOf(u);f>-1&&(n.splice(f,1),u.record.name&&r.delete(u.record.name),u.children.forEach(a),u.alias.forEach(a))}}function l(){return n}function s(u){let f=0;for(;f<n.length&&Au(u,n[f])>=0&&(u.record.path!==n[f].record.path||!Gs(u,n[f]));)f++;n.splice(f,0,u),u.record.name&&!uo(u)&&r.set(u.record.name,u)}function c(u,f){let d,h={},g,y;if("name"in u&&u.name){if(d=r.get(u.name),!d)throw Ht(1,{location:u});y=d.record.name,h=ie(lo(f.params,d.keys.filter(E=>!E.optional).map(E=>E.name)),u.params&&lo(u.params,d.keys.map(E=>E.name))),g=d.stringify(h)}else if("path"in u)g=u.path,d=n.find(E=>E.re.test(g)),d&&(h=d.parse(g),y=d.record.name);else{if(d=f.name?r.get(f.name):n.find(E=>E.re.test(f.path)),!d)throw Ht(1,{location:u,currentLocation:f});y=d.record.name,h=ie({},f.params,u.params),g=d.stringify(h)}const P=[];let _=d;for(;_;)P.unshift(_.record),_=_.parent;return{name:y,path:g,params:h,matched:P,meta:zu(P)}}return e.forEach(u=>o(u)),{addRoute:o,resolve:c,removeRoute:a,getRoutes:l,getRecordMatcher:i}}function lo(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function Nu(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Uu(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function Uu(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="boolean"?n:n[r];return t}function uo(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function zu(e){return e.reduce((t,n)=>ie(t,n.meta),{})}function fo(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function Gs(e,t){return t.children.some(n=>n===e||Gs(e,n))}const Vs=/#/g,Hu=/&/g,Gu=/\//g,Vu=/=/g,Ku=/\?/g,Ks=/\+/g,Ju=/%5B/g,Wu=/%5D/g,Js=/%5E/g,qu=/%60/g,Ws=/%7B/g,Yu=/%7C/g,qs=/%7D/g,Qu=/%20/g;function hi(e){return encodeURI(""+e).replace(Yu,"|").replace(Ju,"[").replace(Wu,"]")}function Xu(e){return hi(e).replace(Ws,"{").replace(qs,"}").replace(Js,"^")}function Fr(e){return hi(e).replace(Ks,"%2B").replace(Qu,"+").replace(Vs,"%23").replace(Hu,"%26").replace(qu,"`").replace(Ws,"{").replace(qs,"}").replace(Js,"^")}function Zu(e){return Fr(e).replace(Vu,"%3D")}function ef(e){return hi(e).replace(Vs,"%23").replace(Ku,"%3F")}function tf(e){return e==null?"":ef(e).replace(Gu,"%2F")}function Kn(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function nf(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const o=r[i].replace(Ks," "),a=o.indexOf("="),l=Kn(a<0?o:o.slice(0,a)),s=a<0?null:Kn(o.slice(a+1));if(l in t){let c=t[l];Ye(c)||(c=t[l]=[c]),c.push(s)}else t[l]=s}return t}function po(e){let t="";for(let n in e){const r=e[n];if(n=Zu(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Ye(r)?r.map(o=>o&&Fr(o)):[r&&Fr(r)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+n,o!=null&&(t+="="+o))})}return t}function rf(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Ye(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return t}const of=Symbol(""),ho=Symbol(""),mi=Symbol(""),Ys=Symbol(""),$r=Symbol("");function Yt(){let e=[];function t(r){return e.push(r),()=>{const i=e.indexOf(r);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function gt(e,t,n,r,i){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const s=f=>{f===!1?l(Ht(4,{from:n,to:t})):f instanceof Error?l(f):Mu(f)?l(Ht(2,{from:t,to:f})):(o&&r.enterCallbacks[i]===o&&typeof f=="function"&&o.push(f),a())},c=e.call(r&&r.instances[i],t,n,s);let u=Promise.resolve(c);e.length<3&&(u=u.then(s)),u.catch(f=>l(f))})}function vr(e,t,n,r){const i=[];for(const o of e)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(sf(l)){const c=(l.__vccOpts||l)[t];c&&i.push(gt(c,n,r,o,a))}else{let s=l();i.push(()=>s.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${o.path}"`));const u=uu(c)?c.default:c;o.components[a]=u;const d=(u.__vccOpts||u)[t];return d&&gt(d,n,r,o,a)()}))}}return i}function sf(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function mo(e){const t=_t(mi),n=_t(Ys),r=ze(()=>t.resolve($t(e.to))),i=ze(()=>{const{matched:s}=r.value,{length:c}=s,u=s[c-1],f=n.matched;if(!u||!f.length)return-1;const d=f.findIndex(zt.bind(null,u));if(d>-1)return d;const h=go(s[c-2]);return c>1&&go(u)===h&&f[f.length-1].path!==h?f.findIndex(zt.bind(null,s[c-2])):d}),o=ze(()=>i.value>-1&&uf(n.params,r.value.params)),a=ze(()=>i.value>-1&&i.value===n.matched.length-1&&Ns(n.params,r.value.params));function l(s={}){return lf(s)?t[$t(e.replace)?"replace":"push"]($t(e.to)).catch(an):Promise.resolve()}return{route:r,href:ze(()=>r.value.href),isActive:o,isExactActive:a,navigate:l}}const af=Cs({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:mo,setup(e,{slots:t}){const n=yn(mo(e)),{options:r}=_t(mi),i=ze(()=>({[vo(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[vo(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=t.default&&t.default(n);return e.custom?o:$s("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},o)}}}),cf=af;function lf(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function uf(e,t){for(const n in t){const r=t[n],i=e[n];if(typeof r=="string"){if(r!==i)return!1}else if(!Ye(i)||i.length!==r.length||r.some((o,a)=>o!==i[a]))return!1}return!0}function go(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const vo=(e,t,n)=>e!=null?e:t!=null?t:n,ff=Cs({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=_t($r),i=ze(()=>e.route||r.value),o=_t(ho,0),a=ze(()=>{let c=$t(o);const{matched:u}=i.value;let f;for(;(f=u[c])&&!f.components;)c++;return c}),l=ze(()=>i.value.matched[a.value]);Dn(ho,ze(()=>a.value+1)),Dn(of,l),Dn($r,i);const s=xc();return Bn(()=>[s.value,l.value,e.name],([c,u,f],[d,h,g])=>{u&&(u.instances[f]=c,h&&h!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),c&&u&&(!h||!zt(u,h)||!d)&&(u.enterCallbacks[f]||[]).forEach(y=>y(c))},{flush:"post"}),()=>{const c=i.value,u=e.name,f=l.value,d=f&&f.components[u];if(!d)return yo(n.default,{Component:d,route:c});const h=f.props[u],g=h?h===!0?c.params:typeof h=="function"?h(c):h:null,P=$s(d,ie({},g,t,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(f.instances[u]=null)},ref:s}));return yo(n.default,{Component:P,route:c})||P}}});function yo(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const df=ff;function pf(e){const t=wu(e.routes,e),n=e.parseQuery||nf,r=e.stringifyQuery||po,i=e.history,o=Yt(),a=Yt(),l=Yt(),s=Rc(ht);let c=ht;At&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=mr.bind(null,b=>""+b),f=mr.bind(null,tf),d=mr.bind(null,Kn);function h(b,I){let k,L;return zs(b)?(k=t.getRecordMatcher(b),L=I):L=b,t.addRoute(L,k)}function g(b){const I=t.getRecordMatcher(b);I&&t.removeRoute(I)}function y(){return t.getRoutes().map(b=>b.record)}function P(b){return!!t.getRecordMatcher(b)}function _(b,I){if(I=ie({},I||s.value),typeof b=="string"){const K=gr(n,b,I.path),p=t.resolve({path:K.path},I),m=i.createHref(K.fullPath);return ie(K,p,{params:d(p.params),hash:Kn(K.hash),redirectedFrom:void 0,href:m})}let k;if("path"in b)k=ie({},b,{path:gr(n,b.path,I.path).path});else{const K=ie({},b.params);for(const p in K)K[p]==null&&delete K[p];k=ie({},b,{params:f(b.params)}),I.params=f(I.params)}const L=t.resolve(k,I),G=b.hash||"";L.params=u(d(L.params));const re=pu(r,ie({},b,{hash:Xu(G),path:L.path})),J=i.createHref(re);return ie({fullPath:re,hash:G,query:r===po?rf(b.query):b.query||{}},L,{redirectedFrom:void 0,href:J})}function E(b){return typeof b=="string"?gr(n,b,s.value.path):ie({},b)}function U(b,I){if(c!==b)return Ht(8,{from:I,to:b})}function F(b){return oe(b)}function H(b){return F(ie(E(b),{replace:!0}))}function te(b){const I=b.matched[b.matched.length-1];if(I&&I.redirect){const{redirect:k}=I;let L=typeof k=="function"?k(b):k;return typeof L=="string"&&(L=L.includes("?")||L.includes("#")?L=E(L):{path:L},L.params={}),ie({query:b.query,hash:b.hash,params:"path"in L?{}:b.params},L)}}function oe(b,I){const k=c=_(b),L=s.value,G=b.state,re=b.force,J=b.replace===!0,K=te(k);if(K)return oe(ie(E(K),{state:typeof K=="object"?ie({},G,K.state):G,force:re,replace:J}),I||k);const p=k;p.redirectedFrom=I;let m;return!re&&hu(r,L,k)&&(m=Ht(16,{to:p,from:L}),ot(L,L,!0,!1)),(m?Promise.resolve(m):se(p,L)).catch(v=>st(v)?st(v,2)?v:Se(v):Z(v,p,L)).then(v=>{if(v){if(st(v,2))return oe(ie({replace:J},E(v.to),{state:typeof v.to=="object"?ie({},G,v.to.state):G,force:re}),I||p)}else v=me(p,L,!0,J,G);return A(p,L,v),v})}function N(b,I){const k=U(b,I);return k?Promise.reject(k):Promise.resolve()}function se(b,I){let k;const[L,G,re]=hf(b,I);k=vr(L.reverse(),"beforeRouteLeave",b,I);for(const K of L)K.leaveGuards.forEach(p=>{k.push(gt(p,b,I))});const J=N.bind(null,b,I);return k.push(J),Bt(k).then(()=>{k=[];for(const K of o.list())k.push(gt(K,b,I));return k.push(J),Bt(k)}).then(()=>{k=vr(G,"beforeRouteUpdate",b,I);for(const K of G)K.updateGuards.forEach(p=>{k.push(gt(p,b,I))});return k.push(J),Bt(k)}).then(()=>{k=[];for(const K of b.matched)if(K.beforeEnter&&!I.matched.includes(K))if(Ye(K.beforeEnter))for(const p of K.beforeEnter)k.push(gt(p,b,I));else k.push(gt(K.beforeEnter,b,I));return k.push(J),Bt(k)}).then(()=>(b.matched.forEach(K=>K.enterCallbacks={}),k=vr(re,"beforeRouteEnter",b,I),k.push(J),Bt(k))).then(()=>{k=[];for(const K of a.list())k.push(gt(K,b,I));return k.push(J),Bt(k)}).catch(K=>st(K,8)?K:Promise.reject(K))}function A(b,I,k){for(const L of l.list())L(b,I,k)}function me(b,I,k,L,G){const re=U(b,I);if(re)return re;const J=I===ht,K=At?history.state:{};k&&(L||J?i.replace(b.fullPath,ie({scroll:J&&K&&K.scroll},G)):i.push(b.fullPath,G)),s.value=b,ot(b,I,k,J),Se()}let fe;function Me(){fe||(fe=i.listen((b,I,k)=>{if(!we.listening)return;const L=_(b),G=te(L);if(G){oe(ie(G,{replace:!0}),L).catch(an);return}c=L;const re=s.value;At&&Su(io(re.fullPath,k.delta),cr()),se(L,re).catch(J=>st(J,12)?J:st(J,2)?(oe(J.to,L).then(K=>{st(K,20)&&!k.delta&&k.type===gn.pop&&i.go(-1,!1)}).catch(an),Promise.reject()):(k.delta&&i.go(-k.delta,!1),Z(J,L,re))).then(J=>{J=J||me(L,re,!1),J&&(k.delta&&!st(J,8)?i.go(-k.delta,!1):k.type===gn.pop&&st(J,20)&&i.go(-1,!1)),A(L,re,J)}).catch(an)}))}let ge=Yt(),Qe=Yt(),de;function Z(b,I,k){Se(b);const L=Qe.list();return L.length?L.forEach(G=>G(b,I,k)):console.error(b),Promise.reject(b)}function Y(){return de&&s.value!==ht?Promise.resolve():new Promise((b,I)=>{ge.add([b,I])})}function Se(b){return de||(de=!b,Me(),ge.list().forEach(([I,k])=>b?k(b):I()),ge.reset()),b}function ot(b,I,k,L){const{scrollBehavior:G}=e;if(!At||!G)return Promise.resolve();const re=!k&&Tu(io(b.fullPath,0))||(L||!k)&&history.state&&history.state.scroll||null;return us().then(()=>G(b,I,re)).then(J=>J&&Cu(J)).catch(J=>Z(J,b,I))}const je=b=>i.go(b);let Le;const Oe=new Set,we={currentRoute:s,listening:!0,addRoute:h,removeRoute:g,hasRoute:P,getRoutes:y,resolve:_,options:e,push:F,replace:H,go:je,back:()=>je(-1),forward:()=>je(1),beforeEach:o.add,beforeResolve:a.add,afterEach:l.add,onError:Qe.add,isReady:Y,install(b){const I=this;b.component("RouterLink",cf),b.component("RouterView",df),b.config.globalProperties.$router=I,Object.defineProperty(b.config.globalProperties,"$route",{enumerable:!0,get:()=>$t(s)}),At&&!Le&&s.value===ht&&(Le=!0,F(i.location).catch(G=>{}));const k={};for(const G in ht)k[G]=ze(()=>s.value[G]);b.provide(mi,I),b.provide(Ys,yn(k)),b.provide($r,s);const L=b.unmount;Oe.add(b),b.unmount=function(){Oe.delete(b),Oe.size<1&&(c=ht,fe&&fe(),fe=null,s.value=ht,Le=!1,de=!1),L()}}};return we}function Bt(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function hf(e,t){const n=[],r=[],i=[],o=Math.max(t.matched.length,e.matched.length);for(let a=0;a<o;a++){const l=t.matched[a];l&&(e.matched.find(c=>zt(c,l))?r.push(l):n.push(l));const s=e.matched[a];s&&(t.matched.find(c=>zt(c,s))||i.push(s))}return[n,r,i]}var gi={exports:{}};(function(e){var t={};t.useBlobBuilder=function(){try{return new Blob([]),!1}catch{return!0}}(),t.useArrayBufferView=!t.useBlobBuilder&&function(){try{return new Blob([new Uint8Array([])]).size===0}catch{return!0}}(),e.exports.binaryFeatures=t;var n=e.exports.BlobBuilder;typeof window<"u"&&(n=e.exports.BlobBuilder=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder);function r(){this._pieces=[],this._parts=[]}r.prototype.append=function(i){typeof i=="number"?this._pieces.push(i):(this.flush(),this._parts.push(i))},r.prototype.flush=function(){if(this._pieces.length>0){var i=new Uint8Array(this._pieces);t.useArrayBufferView||(i=i.buffer),this._parts.push(i),this._pieces=[]}},r.prototype.getBuffer=function(){if(this.flush(),t.useBlobBuilder){for(var i=new n,o=0,a=this._parts.length;o<a;o++)i.append(this._parts[o]);return i.getBlob()}else return new Blob(this._parts)},e.exports.BufferBuilder=r})(gi);var mf=gi.exports.BufferBuilder,_o=gi.exports.binaryFeatures,gf={unpack:function(e){var t=new be(e);return t.unpack()},pack:function(e){var t=new Ce;t.pack(e);var n=t.getBuffer();return n}},bo=gf;function be(e){this.index=0,this.dataBuffer=e,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}be.prototype.unpack=function(){var e=this.unpack_uint8();if(e<128)return e;if((e^224)<32)return(e^224)-32;var t;if((t=e^160)<=15)return this.unpack_raw(t);if((t=e^176)<=15)return this.unpack_string(t);if((t=e^144)<=15)return this.unpack_array(t);if((t=e^128)<=15)return this.unpack_map(t);switch(e){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return t=this.unpack_uint16(),this.unpack_string(t);case 217:return t=this.unpack_uint32(),this.unpack_string(t);case 218:return t=this.unpack_uint16(),this.unpack_raw(t);case 219:return t=this.unpack_uint32(),this.unpack_raw(t);case 220:return t=this.unpack_uint16(),this.unpack_array(t);case 221:return t=this.unpack_uint32(),this.unpack_array(t);case 222:return t=this.unpack_uint16(),this.unpack_map(t);case 223:return t=this.unpack_uint32(),this.unpack_map(t)}};be.prototype.unpack_uint8=function(){var e=this.dataView[this.index]&255;return this.index++,e};be.prototype.unpack_uint16=function(){var e=this.read(2),t=(e[0]&255)*256+(e[1]&255);return this.index+=2,t};be.prototype.unpack_uint32=function(){var e=this.read(4),t=((e[0]*256+e[1])*256+e[2])*256+e[3];return this.index+=4,t};be.prototype.unpack_uint64=function(){var e=this.read(8),t=((((((e[0]*256+e[1])*256+e[2])*256+e[3])*256+e[4])*256+e[5])*256+e[6])*256+e[7];return this.index+=8,t};be.prototype.unpack_int8=function(){var e=this.unpack_uint8();return e<128?e:e-(1<<8)};be.prototype.unpack_int16=function(){var e=this.unpack_uint16();return e<32768?e:e-(1<<16)};be.prototype.unpack_int32=function(){var e=this.unpack_uint32();return e<Math.pow(2,31)?e:e-Math.pow(2,32)};be.prototype.unpack_int64=function(){var e=this.unpack_uint64();return e<Math.pow(2,63)?e:e-Math.pow(2,64)};be.prototype.unpack_raw=function(e){if(this.length<this.index+e)throw new Error("BinaryPackFailure: index is out of range "+this.index+" "+e+" "+this.length);var t=this.dataBuffer.slice(this.index,this.index+e);return this.index+=e,t};be.prototype.unpack_string=function(e){for(var t=this.read(e),n=0,r="",i,o;n<e;)i=t[n],i<128?(r+=String.fromCharCode(i),n++):(i^192)<32?(o=(i^192)<<6|t[n+1]&63,r+=String.fromCharCode(o),n+=2):(o=(i&15)<<12|(t[n+1]&63)<<6|t[n+2]&63,r+=String.fromCharCode(o),n+=3);return this.index+=e,r};be.prototype.unpack_array=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=this.unpack();return t};be.prototype.unpack_map=function(e){for(var t={},n=0;n<e;n++){var r=this.unpack(),i=this.unpack();t[r]=i}return t};be.prototype.unpack_float=function(){var e=this.unpack_uint32(),t=e>>31,n=(e>>23&255)-127,r=e&8388607|8388608;return(t===0?1:-1)*r*Math.pow(2,n-23)};be.prototype.unpack_double=function(){var e=this.unpack_uint32(),t=this.unpack_uint32(),n=e>>31,r=(e>>20&2047)-1023,i=e&1048575|1048576,o=i*Math.pow(2,r-20)+t*Math.pow(2,r-52);return(n===0?1:-1)*o};be.prototype.read=function(e){var t=this.index;if(t+e<=this.length)return this.dataView.subarray(t,t+e);throw new Error("BinaryPackFailure: read index out of range")};function Ce(){this.bufferBuilder=new mf}Ce.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()};Ce.prototype.pack=function(e){var t=typeof e;if(t==="string")this.pack_string(e);else if(t==="number")Math.floor(e)===e?this.pack_integer(e):this.pack_double(e);else if(t==="boolean")e===!0?this.bufferBuilder.append(195):e===!1&&this.bufferBuilder.append(194);else if(t==="undefined")this.bufferBuilder.append(192);else if(t==="object")if(e===null)this.bufferBuilder.append(192);else{var n=e.constructor;if(n==Array)this.pack_array(e);else if(n==Blob||n==File||e instanceof Blob||e instanceof File)this.pack_bin(e);else if(n==ArrayBuffer)_o.useArrayBufferView?this.pack_bin(new Uint8Array(e)):this.pack_bin(e);else if("BYTES_PER_ELEMENT"in e)_o.useArrayBufferView?this.pack_bin(new Uint8Array(e.buffer)):this.pack_bin(e.buffer);else if(n==Object||n.toString().startsWith("class"))this.pack_object(e);else if(n==Date)this.pack_string(e.toString());else if(typeof e.toBinaryPack=="function")this.bufferBuilder.append(e.toBinaryPack());else throw new Error('Type "'+n.toString()+'" not yet supported')}else throw new Error('Type "'+t+'" not yet supported');this.bufferBuilder.flush()};Ce.prototype.pack_bin=function(e){var t=e.length||e.byteLength||e.size;if(t<=15)this.pack_uint8(160+t);else if(t<=65535)this.bufferBuilder.append(218),this.pack_uint16(t);else if(t<=4294967295)this.bufferBuilder.append(219),this.pack_uint32(t);else throw new Error("Invalid length");this.bufferBuilder.append(e)};Ce.prototype.pack_string=function(e){var t=yf(e);if(t<=15)this.pack_uint8(176+t);else if(t<=65535)this.bufferBuilder.append(216),this.pack_uint16(t);else if(t<=4294967295)this.bufferBuilder.append(217),this.pack_uint32(t);else throw new Error("Invalid length");this.bufferBuilder.append(e)};Ce.prototype.pack_array=function(e){var t=e.length;if(t<=15)this.pack_uint8(144+t);else if(t<=65535)this.bufferBuilder.append(220),this.pack_uint16(t);else if(t<=4294967295)this.bufferBuilder.append(221),this.pack_uint32(t);else throw new Error("Invalid length");for(var n=0;n<t;n++)this.pack(e[n])};Ce.prototype.pack_integer=function(e){if(e>=-32&&e<=127)this.bufferBuilder.append(e&255);else if(e>=0&&e<=255)this.bufferBuilder.append(204),this.pack_uint8(e);else if(e>=-128&&e<=127)this.bufferBuilder.append(208),this.pack_int8(e);else if(e>=0&&e<=65535)this.bufferBuilder.append(205),this.pack_uint16(e);else if(e>=-32768&&e<=32767)this.bufferBuilder.append(209),this.pack_int16(e);else if(e>=0&&e<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(e);else if(e>=-2147483648&&e<=2147483647)this.bufferBuilder.append(210),this.pack_int32(e);else if(e>=-9223372036854776e3&&e<=9223372036854776e3)this.bufferBuilder.append(211),this.pack_int64(e);else if(e>=0&&e<=18446744073709552e3)this.bufferBuilder.append(207),this.pack_uint64(e);else throw new Error("Invalid integer")};Ce.prototype.pack_double=function(e){var t=0;e<0&&(t=1,e=-e);var n=Math.floor(Math.log(e)/Math.LN2),r=e/Math.pow(2,n)-1,i=Math.floor(r*Math.pow(2,52)),o=Math.pow(2,32),a=t<<31|n+1023<<20|i/o&1048575,l=i%o;this.bufferBuilder.append(203),this.pack_int32(a),this.pack_int32(l)};Ce.prototype.pack_object=function(e){var t=Object.keys(e),n=t.length;if(n<=15)this.pack_uint8(128+n);else if(n<=65535)this.bufferBuilder.append(222),this.pack_uint16(n);else if(n<=4294967295)this.bufferBuilder.append(223),this.pack_uint32(n);else throw new Error("Invalid length");for(var r in e)e.hasOwnProperty(r)&&(this.pack(r),this.pack(e[r]))};Ce.prototype.pack_uint8=function(e){this.bufferBuilder.append(e)};Ce.prototype.pack_uint16=function(e){this.bufferBuilder.append(e>>8),this.bufferBuilder.append(e&255)};Ce.prototype.pack_uint32=function(e){var t=e&4294967295;this.bufferBuilder.append((t&4278190080)>>>24),this.bufferBuilder.append((t&16711680)>>>16),this.bufferBuilder.append((t&65280)>>>8),this.bufferBuilder.append(t&255)};Ce.prototype.pack_uint64=function(e){var t=e/Math.pow(2,32),n=e%Math.pow(2,32);this.bufferBuilder.append((t&4278190080)>>>24),this.bufferBuilder.append((t&16711680)>>>16),this.bufferBuilder.append((t&65280)>>>8),this.bufferBuilder.append(t&255),this.bufferBuilder.append((n&4278190080)>>>24),this.bufferBuilder.append((n&16711680)>>>16),this.bufferBuilder.append((n&65280)>>>8),this.bufferBuilder.append(n&255)};Ce.prototype.pack_int8=function(e){this.bufferBuilder.append(e&255)};Ce.prototype.pack_int16=function(e){this.bufferBuilder.append((e&65280)>>8),this.bufferBuilder.append(e&255)};Ce.prototype.pack_int32=function(e){this.bufferBuilder.append(e>>>24&255),this.bufferBuilder.append((e&16711680)>>>16),this.bufferBuilder.append((e&65280)>>>8),this.bufferBuilder.append(e&255)};Ce.prototype.pack_int64=function(e){var t=Math.floor(e/Math.pow(2,32)),n=e%Math.pow(2,32);this.bufferBuilder.append((t&4278190080)>>>24),this.bufferBuilder.append((t&16711680)>>>16),this.bufferBuilder.append((t&65280)>>>8),this.bufferBuilder.append(t&255),this.bufferBuilder.append((n&4278190080)>>>24),this.bufferBuilder.append((n&16711680)>>>16),this.bufferBuilder.append((n&65280)>>>8),this.bufferBuilder.append(n&255)};function vf(e){var t=e.charCodeAt(0);return t<=2047?"00":t<=65535?"000":t<=2097151?"0000":t<=67108863?"00000":"000000"}function yf(e){return e.length>600?new Blob([e]).size:e.replace(/[^\u0000-\u007F]/g,vf).length}let Qs=!0,Xs=!0;function en(e,t,n){const r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}function Jt(e,t,n){if(!e.RTCPeerConnection)return;const r=e.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(a,l){if(a!==t)return i.apply(this,arguments);const s=c=>{const u=n(c);u&&(l.handleEvent?l.handleEvent(u):l(u))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(l,s),i.apply(this,[a,s])};const o=r.removeEventListener;r.removeEventListener=function(a,l){if(a!==t||!this._eventMap||!this._eventMap[t])return o.apply(this,arguments);if(!this._eventMap[t].has(l))return o.apply(this,arguments);const s=this._eventMap[t].get(l);return this._eventMap[t].delete(l),this._eventMap[t].size===0&&delete this._eventMap[t],Object.keys(this._eventMap).length===0&&delete this._eventMap,o.apply(this,[a,s])},Object.defineProperty(r,"on"+t,{get(){return this["_on"+t]},set(a){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),a&&this.addEventListener(t,this["_on"+t]=a)},enumerable:!0,configurable:!0})}function _f(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(Qs=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function bf(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(Xs=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function vi(){if(typeof window=="object"){if(Qs)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function lr(e,t){!Xs||console.warn(e+" is deprecated, please use "+t+" instead.")}function Cf(e){const t={browser:null,version:null};if(typeof e>"u"||!e.navigator)return t.browser="Not a browser.",t;const{navigator:n}=e;if(n.mozGetUserMedia)t.browser="firefox",t.version=en(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||e.isSecureContext===!1&&e.webkitRTCPeerConnection&&!e.RTCIceGatherer)t.browser="chrome",t.version=en(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(n.mediaDevices&&n.userAgent.match(/Edge\/(\d+).(\d+)$/))t.browser="edge",t.version=en(n.userAgent,/Edge\/(\d+).(\d+)$/,2);else if(e.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))t.browser="safari",t.version=en(n.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype;else return t.browser="Not a supported browser.",t;return t}function Co(e){return Object.prototype.toString.call(e)==="[object Object]"}function Zs(e){return Co(e)?Object.keys(e).reduce(function(t,n){const r=Co(e[n]),i=r?Zs(e[n]):e[n],o=r&&!Object.keys(i).length;return i===void 0||o?t:Object.assign(t,{[n]:i})},{}):e}function wr(e,t,n){!t||n.has(t.id)||(n.set(t.id,t),Object.keys(t).forEach(r=>{r.endsWith("Id")?wr(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach(i=>{wr(e,e.get(i),n)})}))}function So(e,t,n){const r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(t===null)return i;const o=[];return e.forEach(a=>{a.type==="track"&&a.trackIdentifier===t.id&&o.push(a)}),o.forEach(a=>{e.forEach(l=>{l.type===r&&l.trackId===a.id&&wr(e,l,i)})}),i}const To=vi;function ea(e,t){const n=e&&e.navigator;if(!n.mediaDevices)return;const r=function(l){if(typeof l!="object"||l.mandatory||l.optional)return l;const s={};return Object.keys(l).forEach(c=>{if(c==="require"||c==="advanced"||c==="mediaSource")return;const u=typeof l[c]=="object"?l[c]:{ideal:l[c]};u.exact!==void 0&&typeof u.exact=="number"&&(u.min=u.max=u.exact);const f=function(d,h){return d?d+h.charAt(0).toUpperCase()+h.slice(1):h==="deviceId"?"sourceId":h};if(u.ideal!==void 0){s.optional=s.optional||[];let d={};typeof u.ideal=="number"?(d[f("min",c)]=u.ideal,s.optional.push(d),d={},d[f("max",c)]=u.ideal,s.optional.push(d)):(d[f("",c)]=u.ideal,s.optional.push(d))}u.exact!==void 0&&typeof u.exact!="number"?(s.mandatory=s.mandatory||{},s.mandatory[f("",c)]=u.exact):["min","max"].forEach(d=>{u[d]!==void 0&&(s.mandatory=s.mandatory||{},s.mandatory[f(d,c)]=u[d])})}),l.advanced&&(s.optional=(s.optional||[]).concat(l.advanced)),s},i=function(l,s){if(t.version>=61)return s(l);if(l=JSON.parse(JSON.stringify(l)),l&&typeof l.audio=="object"){const c=function(u,f,d){f in u&&!(d in u)&&(u[d]=u[f],delete u[f])};l=JSON.parse(JSON.stringify(l)),c(l.audio,"autoGainControl","googAutoGainControl"),c(l.audio,"noiseSuppression","googNoiseSuppression"),l.audio=r(l.audio)}if(l&&typeof l.video=="object"){let c=l.video.facingMode;c=c&&(typeof c=="object"?c:{ideal:c});const u=t.version<66;if(c&&(c.exact==="user"||c.exact==="environment"||c.ideal==="user"||c.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!u)){delete l.video.facingMode;let f;if(c.exact==="environment"||c.ideal==="environment"?f=["back","rear"]:(c.exact==="user"||c.ideal==="user")&&(f=["front"]),f)return n.mediaDevices.enumerateDevices().then(d=>{d=d.filter(g=>g.kind==="videoinput");let h=d.find(g=>f.some(y=>g.label.toLowerCase().includes(y)));return!h&&d.length&&f.includes("back")&&(h=d[d.length-1]),h&&(l.video.deviceId=c.exact?{exact:h.deviceId}:{ideal:h.deviceId}),l.video=r(l.video),To("chrome: "+JSON.stringify(l)),s(l)})}l.video=r(l.video)}return To("chrome: "+JSON.stringify(l)),s(l)},o=function(l){return t.version>=64?l:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[l.name]||l.name,message:l.message,constraint:l.constraint||l.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},a=function(l,s,c){i(l,u=>{n.webkitGetUserMedia(u,s,f=>{c&&c(o(f))})})};if(n.getUserMedia=a.bind(n),n.mediaDevices.getUserMedia){const l=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(s){return i(s,c=>l(c).then(u=>{if(c.audio&&!u.getAudioTracks().length||c.video&&!u.getVideoTracks().length)throw u.getTracks().forEach(f=>{f.stop()}),new DOMException("","NotFoundError");return u},u=>Promise.reject(o(u))))}}}function Sf(e,t){if(!(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices)&&!!e.navigator.mediaDevices){if(typeof t!="function"){console.error("shimGetDisplayMedia: getSourceId argument is not a function");return}e.navigator.mediaDevices.getDisplayMedia=function(r){return t(r).then(i=>{const o=r.video&&r.video.width,a=r.video&&r.video.height,l=r.video&&r.video.frameRate;return r.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:i,maxFrameRate:l||3}},o&&(r.video.mandatory.maxWidth=o),a&&(r.video.mandatory.maxHeight=a),e.navigator.mediaDevices.getUserMedia(r)})}}}function ta(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function na(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=r=>{r.stream.addEventListener("addtrack",i=>{let o;e.RTCPeerConnection.prototype.getReceivers?o=this.getReceivers().find(l=>l.track&&l.track.id===i.track.id):o={track:i.track};const a=new Event("track");a.track=i.track,a.receiver=o,a.transceiver={receiver:o},a.streams=[r.stream],this.dispatchEvent(a)}),r.stream.getTracks().forEach(i=>{let o;e.RTCPeerConnection.prototype.getReceivers?o=this.getReceivers().find(l=>l.track&&l.track.id===i.id):o={track:i};const a=new Event("track");a.track=i,a.receiver=o,a.transceiver={receiver:o},a.streams=[r.stream],this.dispatchEvent(a)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else Jt(e,"track",t=>(t.transceiver||Object.defineProperty(t,"transceiver",{value:{receiver:t.receiver}}),t))}function ra(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(i,o){return{track:o,get dtmf(){return this._dtmf===void 0&&(o.kind==="audio"?this._dtmf=i.createDTMFSender(o):this._dtmf=null),this._dtmf},_pc:i}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const i=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(l,s){let c=i.apply(this,arguments);return c||(c=t(this,l),this._senders.push(c)),c};const o=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(l){o.apply(this,arguments);const s=this._senders.indexOf(l);s!==-1&&this._senders.splice(s,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(o){this._senders=this._senders||[],n.apply(this,[o]),o.getTracks().forEach(a=>{this._senders.push(t(this,a))})};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(o){this._senders=this._senders||[],r.apply(this,[o]),o.getTracks().forEach(a=>{const l=this._senders.find(s=>s.track===a);l&&this._senders.splice(this._senders.indexOf(l),1)})}}else if(typeof e=="object"&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const r=t.apply(this,[]);return r.forEach(i=>i._pc=this),r},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function ia(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[r,i,o]=arguments;if(arguments.length>0&&typeof r=="function")return t.apply(this,arguments);if(t.length===0&&(arguments.length===0||typeof r!="function"))return t.apply(this,[]);const a=function(s){const c={};return s.result().forEach(f=>{const d={id:f.id,timestamp:f.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[f.type]||f.type};f.names().forEach(h=>{d[h]=f.stat(h)}),c[d.id]=d}),c},l=function(s){return new Map(Object.keys(s).map(c=>[c,s[c]]))};if(arguments.length>=2){const s=function(c){i(l(a(c)))};return t.apply(this,[s,r])}return new Promise((s,c)=>{t.apply(this,[function(u){s(l(a(u)))},c])}).then(i,o)}}function oa(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const n=e.RTCPeerConnection.prototype.getSenders;n&&(e.RTCPeerConnection.prototype.getSenders=function(){const o=n.apply(this,[]);return o.forEach(a=>a._pc=this),o});const r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){const o=r.apply(this,arguments);return o._pc=this,o}),e.RTCRtpSender.prototype.getStats=function(){const o=this;return this._pc.getStats().then(a=>So(a,o.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const n=e.RTCPeerConnection.prototype.getReceivers;n&&(e.RTCPeerConnection.prototype.getReceivers=function(){const i=n.apply(this,[]);return i.forEach(o=>o._pc=this),i}),Jt(e,"track",r=>(r.receiver._pc=r.srcElement,r)),e.RTCRtpReceiver.prototype.getStats=function(){const i=this;return this._pc.getStats().then(o=>So(o,i.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const r=arguments[0];let i,o,a;return this.getSenders().forEach(l=>{l.track===r&&(i?a=!0:i=l)}),this.getReceivers().forEach(l=>(l.track===r&&(o?a=!0:o=l),l.track===r)),a||i&&o?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):i?i.getStats():o?o.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function sa(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(a=>this._shimmedLocalStreams[a][0])};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(a,l){if(!l)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const s=t.apply(this,arguments);return this._shimmedLocalStreams[l.id]?this._shimmedLocalStreams[l.id].indexOf(s)===-1&&this._shimmedLocalStreams[l.id].push(s):this._shimmedLocalStreams[l.id]=[l,s],s};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(a){this._shimmedLocalStreams=this._shimmedLocalStreams||{},a.getTracks().forEach(c=>{if(this.getSenders().find(f=>f.track===c))throw new DOMException("Track already exists.","InvalidAccessError")});const l=this.getSenders();n.apply(this,arguments);const s=this.getSenders().filter(c=>l.indexOf(c)===-1);this._shimmedLocalStreams[a.id]=[a].concat(s)};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(a){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[a.id],r.apply(this,arguments)};const i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(a){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},a&&Object.keys(this._shimmedLocalStreams).forEach(l=>{const s=this._shimmedLocalStreams[l].indexOf(a);s!==-1&&this._shimmedLocalStreams[l].splice(s,1),this._shimmedLocalStreams[l].length===1&&delete this._shimmedLocalStreams[l]}),i.apply(this,arguments)}}function aa(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return sa(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const u=n.apply(this);return this._reverseStreams=this._reverseStreams||{},u.map(f=>this._reverseStreams[f.id])};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(u){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},u.getTracks().forEach(f=>{if(this.getSenders().find(h=>h.track===f))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[u.id]){const f=new e.MediaStream(u.getTracks());this._streams[u.id]=f,this._reverseStreams[f.id]=u,u=f}r.apply(this,[u])};const i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(u){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[u.id]||u]),delete this._reverseStreams[this._streams[u.id]?this._streams[u.id].id:u.id],delete this._streams[u.id]},e.RTCPeerConnection.prototype.addTrack=function(u,f){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const d=[].slice.call(arguments,1);if(d.length!==1||!d[0].getTracks().find(y=>y===u))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(y=>y.track===u))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const g=this._streams[f.id];if(g)g.addTrack(u),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const y=new e.MediaStream([u]);this._streams[f.id]=y,this._reverseStreams[y.id]=f,this.addStream(y)}return this.getSenders().find(y=>y.track===u)};function o(c,u){let f=u.sdp;return Object.keys(c._reverseStreams||[]).forEach(d=>{const h=c._reverseStreams[d],g=c._streams[h.id];f=f.replace(new RegExp(g.id,"g"),h.id)}),new RTCSessionDescription({type:u.type,sdp:f})}function a(c,u){let f=u.sdp;return Object.keys(c._reverseStreams||[]).forEach(d=>{const h=c._reverseStreams[d],g=c._streams[h.id];f=f.replace(new RegExp(h.id,"g"),g.id)}),new RTCSessionDescription({type:u.type,sdp:f})}["createOffer","createAnswer"].forEach(function(c){const u=e.RTCPeerConnection.prototype[c],f={[c](){const d=arguments;return arguments.length&&typeof arguments[0]=="function"?u.apply(this,[g=>{const y=o(this,g);d[0].apply(null,[y])},g=>{d[1]&&d[1].apply(null,g)},arguments[2]]):u.apply(this,arguments).then(g=>o(this,g))}};e.RTCPeerConnection.prototype[c]=f[c]});const l=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?l.apply(this,arguments):(arguments[0]=a(this,arguments[0]),l.apply(this,arguments))};const s=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const c=s.get.apply(this);return c.type===""?c:o(this,c)}}),e.RTCPeerConnection.prototype.removeTrack=function(u){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!u._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(u._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let d;Object.keys(this._streams).forEach(h=>{this._streams[h].getTracks().find(y=>u.track===y)&&(d=this._streams[h])}),d&&(d.getTracks().length===1?this.removeStream(this._reverseStreams[d.id]):d.removeTrack(u.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Nr(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),!!e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const r=e.RTCPeerConnection.prototype[n],i={[n](){return arguments[0]=new(n==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};e.RTCPeerConnection.prototype[n]=i[n]})}function ca(e,t){Jt(e,"negotiationneeded",n=>{const r=n.target;if(!((t.version<72||r.getConfiguration&&r.getConfiguration().sdpSemantics==="plan-b")&&r.signalingState!=="stable"))return n})}const Eo=Object.freeze(Object.defineProperty({__proto__:null,shimMediaStream:ta,shimOnTrack:na,shimGetSendersWithDtmf:ra,shimGetStats:ia,shimSenderReceiverGetStats:oa,shimAddTrackRemoveTrackWithNative:sa,shimAddTrackRemoveTrack:aa,shimPeerConnection:Nr,fixNegotiationNeeded:ca,shimGetUserMedia:ea,shimGetDisplayMedia:Sf},Symbol.toStringTag,{value:"Module"}));function Tf(e,t){let n=!1;return e=JSON.parse(JSON.stringify(e)),e.filter(r=>{if(r&&(r.urls||r.url)){let i=r.urls||r.url;r.url&&!r.urls&&lr("RTCIceServer.url","RTCIceServer.urls");const o=typeof i=="string";return o&&(i=[i]),i=i.filter(a=>{if(a.indexOf("stun:")===0)return!1;const l=a.startsWith("turn")&&!a.startsWith("turn:[")&&a.includes("transport=udp");return l&&!n?(n=!0,!0):l&&!n}),delete r.url,r.urls=o?i[0]:i,!!i.length}})}var yi={exports:{}};(function(e){var t={};t.generateIdentifier=function(){return Math.random().toString(36).substr(2,10)},t.localCName=t.generateIdentifier(),t.splitLines=function(n){return n.trim().split(`
`).map(function(r){return r.trim()})},t.splitSections=function(n){var r=n.split(`
m=`);return r.map(function(i,o){return(o>0?"m="+i:i).trim()+`\r
`})},t.getDescription=function(n){var r=t.splitSections(n);return r&&r[0]},t.getMediaSections=function(n){var r=t.splitSections(n);return r.shift(),r},t.matchPrefix=function(n,r){return t.splitLines(n).filter(function(i){return i.indexOf(r)===0})},t.parseCandidate=function(n){var r;n.indexOf("a=candidate:")===0?r=n.substring(12).split(" "):r=n.substring(10).split(" ");for(var i={foundation:r[0],component:parseInt(r[1],10),protocol:r[2].toLowerCase(),priority:parseInt(r[3],10),ip:r[4],address:r[4],port:parseInt(r[5],10),type:r[7]},o=8;o<r.length;o+=2)switch(r[o]){case"raddr":i.relatedAddress=r[o+1];break;case"rport":i.relatedPort=parseInt(r[o+1],10);break;case"tcptype":i.tcpType=r[o+1];break;case"ufrag":i.ufrag=r[o+1],i.usernameFragment=r[o+1];break;default:i[r[o]]=r[o+1];break}return i},t.writeCandidate=function(n){var r=[];r.push(n.foundation),r.push(n.component),r.push(n.protocol.toUpperCase()),r.push(n.priority),r.push(n.address||n.ip),r.push(n.port);var i=n.type;return r.push("typ"),r.push(i),i!=="host"&&n.relatedAddress&&n.relatedPort&&(r.push("raddr"),r.push(n.relatedAddress),r.push("rport"),r.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(r.push("tcptype"),r.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(r.push("ufrag"),r.push(n.usernameFragment||n.ufrag)),"candidate:"+r.join(" ")},t.parseIceOptions=function(n){return n.substr(14).split(" ")},t.parseRtpMap=function(n){var r=n.substr(9).split(" "),i={payloadType:parseInt(r.shift(),10)};return r=r[0].split("/"),i.name=r[0],i.clockRate=parseInt(r[1],10),i.channels=r.length===3?parseInt(r[2],10):1,i.numChannels=i.channels,i},t.writeRtpMap=function(n){var r=n.payloadType;n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType);var i=n.channels||n.numChannels||1;return"a=rtpmap:"+r+" "+n.name+"/"+n.clockRate+(i!==1?"/"+i:"")+`\r
`},t.parseExtmap=function(n){var r=n.substr(9).split(" ");return{id:parseInt(r[0],10),direction:r[0].indexOf("/")>0?r[0].split("/")[1]:"sendrecv",uri:r[1]}},t.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+`\r
`},t.parseFmtp=function(n){for(var r={},i,o=n.substr(n.indexOf(" ")+1).split(";"),a=0;a<o.length;a++)i=o[a].trim().split("="),r[i[0].trim()]=i[1];return r},t.writeFmtp=function(n){var r="",i=n.payloadType;if(n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){var o=[];Object.keys(n.parameters).forEach(function(a){n.parameters[a]?o.push(a+"="+n.parameters[a]):o.push(a)}),r+="a=fmtp:"+i+" "+o.join(";")+`\r
`}return r},t.parseRtcpFb=function(n){var r=n.substr(n.indexOf(" ")+1).split(" ");return{type:r.shift(),parameter:r.join(" ")}},t.writeRtcpFb=function(n){var r="",i=n.payloadType;return n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(function(o){r+="a=rtcp-fb:"+i+" "+o.type+(o.parameter&&o.parameter.length?" "+o.parameter:"")+`\r
`}),r},t.parseSsrcMedia=function(n){var r=n.indexOf(" "),i={ssrc:parseInt(n.substr(7,r-7),10)},o=n.indexOf(":",r);return o>-1?(i.attribute=n.substr(r+1,o-r-1),i.value=n.substr(o+1)):i.attribute=n.substr(r+1),i},t.parseSsrcGroup=function(n){var r=n.substr(13).split(" ");return{semantics:r.shift(),ssrcs:r.map(function(i){return parseInt(i,10)})}},t.getMid=function(n){var r=t.matchPrefix(n,"a=mid:")[0];if(r)return r.substr(6)},t.parseFingerprint=function(n){var r=n.substr(14).split(" ");return{algorithm:r[0].toLowerCase(),value:r[1]}},t.getDtlsParameters=function(n,r){var i=t.matchPrefix(n+r,"a=fingerprint:");return{role:"auto",fingerprints:i.map(t.parseFingerprint)}},t.writeDtlsParameters=function(n,r){var i="a=setup:"+r+`\r
`;return n.fingerprints.forEach(function(o){i+="a=fingerprint:"+o.algorithm+" "+o.value+`\r
`}),i},t.parseCryptoLine=function(n){var r=n.substr(9).split(" ");return{tag:parseInt(r[0],10),cryptoSuite:r[1],keyParams:r[2],sessionParams:r.slice(3)}},t.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?t.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},t.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;var r=n.substr(7).split("|");return{keyMethod:"inline",keySalt:r[0],lifeTime:r[1],mkiValue:r[2]?r[2].split(":")[0]:void 0,mkiLength:r[2]?r[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},t.getCryptoParameters=function(n,r){var i=t.matchPrefix(n+r,"a=crypto:");return i.map(t.parseCryptoLine)},t.getIceParameters=function(n,r){var i=t.matchPrefix(n+r,"a=ice-ufrag:")[0],o=t.matchPrefix(n+r,"a=ice-pwd:")[0];return i&&o?{usernameFragment:i.substr(12),password:o.substr(10)}:null},t.writeIceParameters=function(n){return"a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`},t.parseRtpParameters=function(n){for(var r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},i=t.splitLines(n),o=i[0].split(" "),a=3;a<o.length;a++){var l=o[a],s=t.matchPrefix(n,"a=rtpmap:"+l+" ")[0];if(s){var c=t.parseRtpMap(s),u=t.matchPrefix(n,"a=fmtp:"+l+" ");switch(c.parameters=u.length?t.parseFmtp(u[0]):{},c.rtcpFeedback=t.matchPrefix(n,"a=rtcp-fb:"+l+" ").map(t.parseRtcpFb),r.codecs.push(c),c.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(c.name.toUpperCase());break}}}return t.matchPrefix(n,"a=extmap:").forEach(function(f){r.headerExtensions.push(t.parseExtmap(f))}),r},t.writeRtpDescription=function(n,r){var i="";i+="m="+n+" ",i+=r.codecs.length>0?"9":"0",i+=" UDP/TLS/RTP/SAVPF ",i+=r.codecs.map(function(a){return a.preferredPayloadType!==void 0?a.preferredPayloadType:a.payloadType}).join(" ")+`\r
`,i+=`c=IN IP4 0.0.0.0\r
`,i+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,r.codecs.forEach(function(a){i+=t.writeRtpMap(a),i+=t.writeFmtp(a),i+=t.writeRtcpFb(a)});var o=0;return r.codecs.forEach(function(a){a.maxptime>o&&(o=a.maxptime)}),o>0&&(i+="a=maxptime:"+o+`\r
`),i+=`a=rtcp-mux\r
`,r.headerExtensions&&r.headerExtensions.forEach(function(a){i+=t.writeExtmap(a)}),i},t.parseRtpEncodingParameters=function(n){var r=[],i=t.parseRtpParameters(n),o=i.fecMechanisms.indexOf("RED")!==-1,a=i.fecMechanisms.indexOf("ULPFEC")!==-1,l=t.matchPrefix(n,"a=ssrc:").map(function(d){return t.parseSsrcMedia(d)}).filter(function(d){return d.attribute==="cname"}),s=l.length>0&&l[0].ssrc,c,u=t.matchPrefix(n,"a=ssrc-group:FID").map(function(d){var h=d.substr(17).split(" ");return h.map(function(g){return parseInt(g,10)})});u.length>0&&u[0].length>1&&u[0][0]===s&&(c=u[0][1]),i.codecs.forEach(function(d){if(d.name.toUpperCase()==="RTX"&&d.parameters.apt){var h={ssrc:s,codecPayloadType:parseInt(d.parameters.apt,10)};s&&c&&(h.rtx={ssrc:c}),r.push(h),o&&(h=JSON.parse(JSON.stringify(h)),h.fec={ssrc:s,mechanism:a?"red+ulpfec":"red"},r.push(h))}}),r.length===0&&s&&r.push({ssrc:s});var f=t.matchPrefix(n,"b=");return f.length&&(f[0].indexOf("b=TIAS:")===0?f=parseInt(f[0].substr(7),10):f[0].indexOf("b=AS:")===0?f=parseInt(f[0].substr(5),10)*1e3*.95-50*40*8:f=void 0,r.forEach(function(d){d.maxBitrate=f})),r},t.parseRtcpParameters=function(n){var r={},i=t.matchPrefix(n,"a=ssrc:").map(function(l){return t.parseSsrcMedia(l)}).filter(function(l){return l.attribute==="cname"})[0];i&&(r.cname=i.value,r.ssrc=i.ssrc);var o=t.matchPrefix(n,"a=rtcp-rsize");r.reducedSize=o.length>0,r.compound=o.length===0;var a=t.matchPrefix(n,"a=rtcp-mux");return r.mux=a.length>0,r},t.parseMsid=function(n){var r,i=t.matchPrefix(n,"a=msid:");if(i.length===1)return r=i[0].substr(7).split(" "),{stream:r[0],track:r[1]};var o=t.matchPrefix(n,"a=ssrc:").map(function(a){return t.parseSsrcMedia(a)}).filter(function(a){return a.attribute==="msid"});if(o.length>0)return r=o[0].value.split(" "),{stream:r[0],track:r[1]}},t.parseSctpDescription=function(n){var r=t.parseMLine(n),i=t.matchPrefix(n,"a=max-message-size:"),o;i.length>0&&(o=parseInt(i[0].substr(19),10)),isNaN(o)&&(o=65536);var a=t.matchPrefix(n,"a=sctp-port:");if(a.length>0)return{port:parseInt(a[0].substr(12),10),protocol:r.fmt,maxMessageSize:o};var l=t.matchPrefix(n,"a=sctpmap:");if(l.length>0){var s=t.matchPrefix(n,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(s[0],10),protocol:s[1],maxMessageSize:o}}},t.writeSctpDescription=function(n,r){var i=[];return n.protocol!=="DTLS/SCTP"?i=["m="+n.kind+" 9 "+n.protocol+" "+r.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+r.port+`\r
`]:i=["m="+n.kind+" 9 "+n.protocol+" "+r.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+r.port+" "+r.protocol+` 65535\r
`],r.maxMessageSize!==void 0&&i.push("a=max-message-size:"+r.maxMessageSize+`\r
`),i.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,21)},t.writeSessionBoilerplate=function(n,r,i){var o,a=r!==void 0?r:2;n?o=n:o=t.generateSessionId();var l=i||"thisisadapterortc";return`v=0\r
o=`+l+" "+o+" "+a+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},t.writeMediaSection=function(n,r,i,o){var a=t.writeRtpDescription(n.kind,r);if(a+=t.writeIceParameters(n.iceGatherer.getLocalParameters()),a+=t.writeDtlsParameters(n.dtlsTransport.getLocalParameters(),i==="offer"?"actpass":"active"),a+="a=mid:"+n.mid+`\r
`,n.direction?a+="a="+n.direction+`\r
`:n.rtpSender&&n.rtpReceiver?a+=`a=sendrecv\r
`:n.rtpSender?a+=`a=sendonly\r
`:n.rtpReceiver?a+=`a=recvonly\r
`:a+=`a=inactive\r
`,n.rtpSender){var l="msid:"+o.id+" "+n.rtpSender.track.id+`\r
`;a+="a="+l,a+="a=ssrc:"+n.sendEncodingParameters[0].ssrc+" "+l,n.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+n.sendEncodingParameters[0].rtx.ssrc+" "+l,a+="a=ssrc-group:FID "+n.sendEncodingParameters[0].ssrc+" "+n.sendEncodingParameters[0].rtx.ssrc+`\r
`)}return a+="a=ssrc:"+n.sendEncodingParameters[0].ssrc+" cname:"+t.localCName+`\r
`,n.rtpSender&&n.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+n.sendEncodingParameters[0].rtx.ssrc+" cname:"+t.localCName+`\r
`),a},t.getDirection=function(n,r){for(var i=t.splitLines(n),o=0;o<i.length;o++)switch(i[o]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return i[o].substr(2)}return r?t.getDirection(r):"sendrecv"},t.getKind=function(n){var r=t.splitLines(n),i=r[0].split(" ");return i[0].substr(2)},t.isRejected=function(n){return n.split(" ",2)[1]==="0"},t.parseMLine=function(n){var r=t.splitLines(n),i=r[0].substr(2).split(" ");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(" ")}},t.parseOLine=function(n){var r=t.matchPrefix(n,"o=")[0],i=r.substr(2).split(" ");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},t.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;for(var r=t.splitLines(n),i=0;i<r.length;i++)if(r[i].length<2||r[i].charAt(1)!=="=")return!1;return!0},e.exports=t})(yi);const Fn=yi.exports;var z=yi.exports;function Ef(e){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type}function Po(e,t,n,r,i){var o=z.writeRtpDescription(e.kind,t);if(o+=z.writeIceParameters(e.iceGatherer.getLocalParameters()),o+=z.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),n==="offer"?"actpass":i||"active"),o+="a=mid:"+e.mid+`\r
`,e.rtpSender&&e.rtpReceiver?o+=`a=sendrecv\r
`:e.rtpSender?o+=`a=sendonly\r
`:e.rtpReceiver?o+=`a=recvonly\r
`:o+=`a=inactive\r
`,e.rtpSender){var a=e.rtpSender._initialTrackId||e.rtpSender.track.id;e.rtpSender._initialTrackId=a;var l="msid:"+(r?r.id:"-")+" "+a+`\r
`;o+="a="+l,o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+l,e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+l,o+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+`\r
`)}return o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+z.localCName+`\r
`,e.rtpSender&&e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+z.localCName+`\r
`),o}function Pf(e,t){var n=!1;return e=JSON.parse(JSON.stringify(e)),e.filter(function(r){if(r&&(r.urls||r.url)){var i=r.urls||r.url;r.url&&!r.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var o=typeof i=="string";return o&&(i=[i]),i=i.filter(function(a){var l=a.indexOf("turn:")===0&&a.indexOf("transport=udp")!==-1&&a.indexOf("turn:[")===-1&&!n;return l?(n=!0,!0):a.indexOf("stun:")===0&&t>=14393&&a.indexOf("?transport=udp")===-1}),delete r.url,r.urls=o?i[0]:i,!!i.length}})}function kn(e,t){var n={codecs:[],headerExtensions:[],fecMechanisms:[]},r=function(o,a){o=parseInt(o,10);for(var l=0;l<a.length;l++)if(a[l].payloadType===o||a[l].preferredPayloadType===o)return a[l]},i=function(o,a,l,s){var c=r(o.parameters.apt,l),u=r(a.parameters.apt,s);return c&&u&&c.name.toLowerCase()===u.name.toLowerCase()};return e.codecs.forEach(function(o){for(var a=0;a<t.codecs.length;a++){var l=t.codecs[a];if(o.name.toLowerCase()===l.name.toLowerCase()&&o.clockRate===l.clockRate){if(o.name.toLowerCase()==="rtx"&&o.parameters&&l.parameters.apt&&!i(o,l,e.codecs,t.codecs))continue;l=JSON.parse(JSON.stringify(l)),l.numChannels=Math.min(o.numChannels,l.numChannels),n.codecs.push(l),l.rtcpFeedback=l.rtcpFeedback.filter(function(s){for(var c=0;c<o.rtcpFeedback.length;c++)if(o.rtcpFeedback[c].type===s.type&&o.rtcpFeedback[c].parameter===s.parameter)return!0;return!1});break}}}),e.headerExtensions.forEach(function(o){for(var a=0;a<t.headerExtensions.length;a++){var l=t.headerExtensions[a];if(o.uri===l.uri){n.headerExtensions.push(l);break}}}),n}function xo(e,t,n){return{offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(n)!==-1}function yr(e,t){var n=e.getRemoteCandidates().find(function(r){return t.foundation===r.foundation&&t.ip===r.ip&&t.port===r.port&&t.priority===r.priority&&t.protocol===r.protocol&&t.type===r.type});return n||e.addRemoteCandidate(t),!n}function Te(e,t){var n=new Error(t);return n.name=e,n.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],n}var xf=function(e,t){function n(s,c){c.addTrack(s),c.dispatchEvent(new e.MediaStreamTrackEvent("addtrack",{track:s}))}function r(s,c){c.removeTrack(s),c.dispatchEvent(new e.MediaStreamTrackEvent("removetrack",{track:s}))}function i(s,c,u,f){var d=new Event("track");d.track=c,d.receiver=u,d.transceiver={receiver:u},d.streams=f,e.setTimeout(function(){s._dispatchEvent("track",d)})}var o=function(s){var c=this,u=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(d){c[d]=u[d].bind(u)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",s=JSON.parse(JSON.stringify(s||{})),this.usingBundle=s.bundlePolicy==="max-bundle",s.rtcpMuxPolicy==="negotiate")throw Te("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(s.rtcpMuxPolicy||(s.rtcpMuxPolicy="require"),s.iceTransportPolicy){case"all":case"relay":break;default:s.iceTransportPolicy="all";break}switch(s.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:s.bundlePolicy="balanced";break}if(s.iceServers=Pf(s.iceServers||[],t),this._iceGatherers=[],s.iceCandidatePoolSize)for(var f=s.iceCandidatePoolSize;f>0;f--)this._iceGatherers.push(new e.RTCIceGatherer({iceServers:s.iceServers,gatherPolicy:s.iceTransportPolicy}));else s.iceCandidatePoolSize=0;this._config=s,this.transceivers=[],this._sdpSessionId=z.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(o.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(o.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),o.prototype.onicecandidate=null,o.prototype.onaddstream=null,o.prototype.ontrack=null,o.prototype.onremovestream=null,o.prototype.onsignalingstatechange=null,o.prototype.oniceconnectionstatechange=null,o.prototype.onconnectionstatechange=null,o.prototype.onicegatheringstatechange=null,o.prototype.onnegotiationneeded=null,o.prototype.ondatachannel=null,o.prototype._dispatchEvent=function(s,c){this._isClosed||(this.dispatchEvent(c),typeof this["on"+s]=="function"&&this["on"+s](c))},o.prototype._emitGatheringStateChange=function(){var s=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",s)},o.prototype.getConfiguration=function(){return this._config},o.prototype.getLocalStreams=function(){return this.localStreams},o.prototype.getRemoteStreams=function(){return this.remoteStreams},o.prototype._createTransceiver=function(s,c){var u=this.transceivers.length>0,f={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:s,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&u)f.iceTransport=this.transceivers[0].iceTransport,f.dtlsTransport=this.transceivers[0].dtlsTransport;else{var d=this._createIceAndDtlsTransports();f.iceTransport=d.iceTransport,f.dtlsTransport=d.dtlsTransport}return c||this.transceivers.push(f),f},o.prototype.addTrack=function(s,c){if(this._isClosed)throw Te("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var u=this.transceivers.find(function(h){return h.track===s});if(u)throw Te("InvalidAccessError","Track already exists.");for(var f,d=0;d<this.transceivers.length;d++)!this.transceivers[d].track&&this.transceivers[d].kind===s.kind&&(f=this.transceivers[d]);return f||(f=this._createTransceiver(s.kind)),this._maybeFireNegotiationNeeded(),this.localStreams.indexOf(c)===-1&&this.localStreams.push(c),f.track=s,f.stream=c,f.rtpSender=new e.RTCRtpSender(s,f.dtlsTransport),f.rtpSender},o.prototype.addStream=function(s){var c=this;if(t>=15025)s.getTracks().forEach(function(f){c.addTrack(f,s)});else{var u=s.clone();s.getTracks().forEach(function(f,d){var h=u.getTracks()[d];f.addEventListener("enabled",function(g){h.enabled=g.enabled})}),u.getTracks().forEach(function(f){c.addTrack(f,u)})}},o.prototype.removeTrack=function(s){if(this._isClosed)throw Te("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(s instanceof e.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var c=this.transceivers.find(function(d){return d.rtpSender===s});if(!c)throw Te("InvalidAccessError","Sender was not created by this connection.");var u=c.stream;c.rtpSender.stop(),c.rtpSender=null,c.track=null,c.stream=null;var f=this.transceivers.map(function(d){return d.stream});f.indexOf(u)===-1&&this.localStreams.indexOf(u)>-1&&this.localStreams.splice(this.localStreams.indexOf(u),1),this._maybeFireNegotiationNeeded()},o.prototype.removeStream=function(s){var c=this;s.getTracks().forEach(function(u){var f=c.getSenders().find(function(d){return d.track===u});f&&c.removeTrack(f)})},o.prototype.getSenders=function(){return this.transceivers.filter(function(s){return!!s.rtpSender}).map(function(s){return s.rtpSender})},o.prototype.getReceivers=function(){return this.transceivers.filter(function(s){return!!s.rtpReceiver}).map(function(s){return s.rtpReceiver})},o.prototype._createIceGatherer=function(s,c){var u=this;if(c&&s>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var f=new e.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(f,"state",{value:"new",writable:!0}),this.transceivers[s].bufferedCandidateEvents=[],this.transceivers[s].bufferCandidates=function(d){var h=!d.candidate||Object.keys(d.candidate).length===0;f.state=h?"completed":"gathering",u.transceivers[s].bufferedCandidateEvents!==null&&u.transceivers[s].bufferedCandidateEvents.push(d)},f.addEventListener("localcandidate",this.transceivers[s].bufferCandidates),f},o.prototype._gather=function(s,c){var u=this,f=this.transceivers[c].iceGatherer;if(!f.onlocalcandidate){var d=this.transceivers[c].bufferedCandidateEvents;this.transceivers[c].bufferedCandidateEvents=null,f.removeEventListener("localcandidate",this.transceivers[c].bufferCandidates),f.onlocalcandidate=function(h){if(!(u.usingBundle&&c>0)){var g=new Event("icecandidate");g.candidate={sdpMid:s,sdpMLineIndex:c};var y=h.candidate,P=!y||Object.keys(y).length===0;if(P)(f.state==="new"||f.state==="gathering")&&(f.state="completed");else{f.state==="new"&&(f.state="gathering"),y.component=1,y.ufrag=f.getLocalParameters().usernameFragment;var _=z.writeCandidate(y);g.candidate=Object.assign(g.candidate,z.parseCandidate(_)),g.candidate.candidate=_,g.candidate.toJSON=function(){return{candidate:g.candidate.candidate,sdpMid:g.candidate.sdpMid,sdpMLineIndex:g.candidate.sdpMLineIndex,usernameFragment:g.candidate.usernameFragment}}}var E=z.getMediaSections(u._localDescription.sdp);P?E[g.candidate.sdpMLineIndex]+=`a=end-of-candidates\r
`:E[g.candidate.sdpMLineIndex]+="a="+g.candidate.candidate+`\r
`,u._localDescription.sdp=z.getDescription(u._localDescription.sdp)+E.join("");var U=u.transceivers.every(function(F){return F.iceGatherer&&F.iceGatherer.state==="completed"});u.iceGatheringState!=="gathering"&&(u.iceGatheringState="gathering",u._emitGatheringStateChange()),P||u._dispatchEvent("icecandidate",g),U&&(u._dispatchEvent("icecandidate",new Event("icecandidate")),u.iceGatheringState="complete",u._emitGatheringStateChange())}},e.setTimeout(function(){d.forEach(function(h){f.onlocalcandidate(h)})},0)}},o.prototype._createIceAndDtlsTransports=function(){var s=this,c=new e.RTCIceTransport(null);c.onicestatechange=function(){s._updateIceConnectionState(),s._updateConnectionState()};var u=new e.RTCDtlsTransport(c);return u.ondtlsstatechange=function(){s._updateConnectionState()},u.onerror=function(){Object.defineProperty(u,"state",{value:"failed",writable:!0}),s._updateConnectionState()},{iceTransport:c,dtlsTransport:u}},o.prototype._disposeIceAndDtlsTransports=function(s){var c=this.transceivers[s].iceGatherer;c&&(delete c.onlocalcandidate,delete this.transceivers[s].iceGatherer);var u=this.transceivers[s].iceTransport;u&&(delete u.onicestatechange,delete this.transceivers[s].iceTransport);var f=this.transceivers[s].dtlsTransport;f&&(delete f.ondtlsstatechange,delete f.onerror,delete this.transceivers[s].dtlsTransport)},o.prototype._transceive=function(s,c,u){var f=kn(s.localCapabilities,s.remoteCapabilities);c&&s.rtpSender&&(f.encodings=s.sendEncodingParameters,f.rtcp={cname:z.localCName,compound:s.rtcpParameters.compound},s.recvEncodingParameters.length&&(f.rtcp.ssrc=s.recvEncodingParameters[0].ssrc),s.rtpSender.send(f)),u&&s.rtpReceiver&&f.codecs.length>0&&(s.kind==="video"&&s.recvEncodingParameters&&t<15019&&s.recvEncodingParameters.forEach(function(d){delete d.rtx}),s.recvEncodingParameters.length?f.encodings=s.recvEncodingParameters:f.encodings=[{}],f.rtcp={compound:s.rtcpParameters.compound},s.rtcpParameters.cname&&(f.rtcp.cname=s.rtcpParameters.cname),s.sendEncodingParameters.length&&(f.rtcp.ssrc=s.sendEncodingParameters[0].ssrc),s.rtpReceiver.receive(f))},o.prototype.setLocalDescription=function(s){var c=this;if(["offer","answer"].indexOf(s.type)===-1)return Promise.reject(Te("TypeError",'Unsupported type "'+s.type+'"'));if(!xo("setLocalDescription",s.type,c.signalingState)||c._isClosed)return Promise.reject(Te("InvalidStateError","Can not set local "+s.type+" in state "+c.signalingState));var u,f;if(s.type==="offer")u=z.splitSections(s.sdp),f=u.shift(),u.forEach(function(h,g){var y=z.parseRtpParameters(h);c.transceivers[g].localCapabilities=y}),c.transceivers.forEach(function(h,g){c._gather(h.mid,g)});else if(s.type==="answer"){u=z.splitSections(c._remoteDescription.sdp),f=u.shift();var d=z.matchPrefix(f,"a=ice-lite").length>0;u.forEach(function(h,g){var y=c.transceivers[g],P=y.iceGatherer,_=y.iceTransport,E=y.dtlsTransport,U=y.localCapabilities,F=y.remoteCapabilities,H=z.isRejected(h)&&z.matchPrefix(h,"a=bundle-only").length===0;if(!H&&!y.rejected){var te=z.getIceParameters(h,f),oe=z.getDtlsParameters(h,f);d&&(oe.role="server"),(!c.usingBundle||g===0)&&(c._gather(y.mid,g),_.state==="new"&&_.start(P,te,d?"controlling":"controlled"),E.state==="new"&&E.start(oe));var N=kn(U,F);c._transceive(y,N.codecs.length>0,!1)}})}return c._localDescription={type:s.type,sdp:s.sdp},s.type==="offer"?c._updateSignalingState("have-local-offer"):c._updateSignalingState("stable"),Promise.resolve()},o.prototype.setRemoteDescription=function(s){var c=this;if(["offer","answer"].indexOf(s.type)===-1)return Promise.reject(Te("TypeError",'Unsupported type "'+s.type+'"'));if(!xo("setRemoteDescription",s.type,c.signalingState)||c._isClosed)return Promise.reject(Te("InvalidStateError","Can not set remote "+s.type+" in state "+c.signalingState));var u={};c.remoteStreams.forEach(function(_){u[_.id]=_});var f=[],d=z.splitSections(s.sdp),h=d.shift(),g=z.matchPrefix(h,"a=ice-lite").length>0,y=z.matchPrefix(h,"a=group:BUNDLE ").length>0;c.usingBundle=y;var P=z.matchPrefix(h,"a=ice-options:")[0];return P?c.canTrickleIceCandidates=P.substr(14).split(" ").indexOf("trickle")>=0:c.canTrickleIceCandidates=!1,d.forEach(function(_,E){var U=z.splitLines(_),F=z.getKind(_),H=z.isRejected(_)&&z.matchPrefix(_,"a=bundle-only").length===0,te=U[0].substr(2).split(" ")[2],oe=z.getDirection(_,h),N=z.parseMsid(_),se=z.getMid(_)||z.generateIdentifier();if(H||F==="application"&&(te==="DTLS/SCTP"||te==="UDP/DTLS/SCTP")){c.transceivers[E]={mid:se,kind:F,protocol:te,rejected:!0};return}!H&&c.transceivers[E]&&c.transceivers[E].rejected&&(c.transceivers[E]=c._createTransceiver(F,!0));var A,me,fe,Me,ge,Qe,de,Z,Y,Se=z.parseRtpParameters(_),ot,je;H||(ot=z.getIceParameters(_,h),je=z.getDtlsParameters(_,h),je.role="client"),de=z.parseRtpEncodingParameters(_);var Le=z.parseRtcpParameters(_),Oe=z.matchPrefix(_,"a=end-of-candidates",h).length>0,we=z.matchPrefix(_,"a=candidate:").map(function(G){return z.parseCandidate(G)}).filter(function(G){return G.component===1});if((s.type==="offer"||s.type==="answer")&&!H&&y&&E>0&&c.transceivers[E]&&(c._disposeIceAndDtlsTransports(E),c.transceivers[E].iceGatherer=c.transceivers[0].iceGatherer,c.transceivers[E].iceTransport=c.transceivers[0].iceTransport,c.transceivers[E].dtlsTransport=c.transceivers[0].dtlsTransport,c.transceivers[E].rtpSender&&c.transceivers[E].rtpSender.setTransport(c.transceivers[0].dtlsTransport),c.transceivers[E].rtpReceiver&&c.transceivers[E].rtpReceiver.setTransport(c.transceivers[0].dtlsTransport)),s.type==="offer"&&!H){A=c.transceivers[E]||c._createTransceiver(F),A.mid=se,A.iceGatherer||(A.iceGatherer=c._createIceGatherer(E,y)),we.length&&A.iceTransport.state==="new"&&(Oe&&(!y||E===0)?A.iceTransport.setRemoteCandidates(we):we.forEach(function(G){yr(A.iceTransport,G)})),Z=e.RTCRtpReceiver.getCapabilities(F),t<15019&&(Z.codecs=Z.codecs.filter(function(G){return G.name!=="rtx"})),Qe=A.sendEncodingParameters||[{ssrc:(2*E+2)*1001}];var b=!1;if(oe==="sendrecv"||oe==="sendonly"){if(b=!A.rtpReceiver,ge=A.rtpReceiver||new e.RTCRtpReceiver(A.dtlsTransport,F),b){var I;Y=ge.track,N&&N.stream==="-"||(N?(u[N.stream]||(u[N.stream]=new e.MediaStream,Object.defineProperty(u[N.stream],"id",{get:function(){return N.stream}})),Object.defineProperty(Y,"id",{get:function(){return N.track}}),I=u[N.stream]):(u.default||(u.default=new e.MediaStream),I=u.default)),I&&(n(Y,I),A.associatedRemoteMediaStreams.push(I)),f.push([Y,ge,I])}}else A.rtpReceiver&&A.rtpReceiver.track&&(A.associatedRemoteMediaStreams.forEach(function(G){var re=G.getTracks().find(function(J){return J.id===A.rtpReceiver.track.id});re&&r(re,G)}),A.associatedRemoteMediaStreams=[]);A.localCapabilities=Z,A.remoteCapabilities=Se,A.rtpReceiver=ge,A.rtcpParameters=Le,A.sendEncodingParameters=Qe,A.recvEncodingParameters=de,c._transceive(c.transceivers[E],!1,b)}else if(s.type==="answer"&&!H){A=c.transceivers[E],me=A.iceGatherer,fe=A.iceTransport,Me=A.dtlsTransport,ge=A.rtpReceiver,Qe=A.sendEncodingParameters,Z=A.localCapabilities,c.transceivers[E].recvEncodingParameters=de,c.transceivers[E].remoteCapabilities=Se,c.transceivers[E].rtcpParameters=Le,we.length&&fe.state==="new"&&((g||Oe)&&(!y||E===0)?fe.setRemoteCandidates(we):we.forEach(function(G){yr(A.iceTransport,G)})),(!y||E===0)&&(fe.state==="new"&&fe.start(me,ot,"controlling"),Me.state==="new"&&Me.start(je));var k=kn(A.localCapabilities,A.remoteCapabilities),L=k.codecs.filter(function(G){return G.name.toLowerCase()==="rtx"}).length;!L&&A.sendEncodingParameters[0].rtx&&delete A.sendEncodingParameters[0].rtx,c._transceive(A,oe==="sendrecv"||oe==="recvonly",oe==="sendrecv"||oe==="sendonly"),ge&&(oe==="sendrecv"||oe==="sendonly")?(Y=ge.track,N?(u[N.stream]||(u[N.stream]=new e.MediaStream),n(Y,u[N.stream]),f.push([Y,ge,u[N.stream]])):(u.default||(u.default=new e.MediaStream),n(Y,u.default),f.push([Y,ge,u.default]))):delete A.rtpReceiver}}),c._dtlsRole===void 0&&(c._dtlsRole=s.type==="offer"?"active":"passive"),c._remoteDescription={type:s.type,sdp:s.sdp},s.type==="offer"?c._updateSignalingState("have-remote-offer"):c._updateSignalingState("stable"),Object.keys(u).forEach(function(_){var E=u[_];if(E.getTracks().length){if(c.remoteStreams.indexOf(E)===-1){c.remoteStreams.push(E);var U=new Event("addstream");U.stream=E,e.setTimeout(function(){c._dispatchEvent("addstream",U)})}f.forEach(function(F){var H=F[0],te=F[1];E.id===F[2].id&&i(c,H,te,[E])})}}),f.forEach(function(_){_[2]||i(c,_[0],_[1],[])}),e.setTimeout(function(){!(c&&c.transceivers)||c.transceivers.forEach(function(_){_.iceTransport&&_.iceTransport.state==="new"&&_.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),_.iceTransport.addRemoteCandidate({}))})},4e3),Promise.resolve()},o.prototype.close=function(){this.transceivers.forEach(function(s){s.iceTransport&&s.iceTransport.stop(),s.dtlsTransport&&s.dtlsTransport.stop(),s.rtpSender&&s.rtpSender.stop(),s.rtpReceiver&&s.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState("closed")},o.prototype._updateSignalingState=function(s){this.signalingState=s;var c=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",c)},o.prototype._maybeFireNegotiationNeeded=function(){var s=this;this.signalingState!=="stable"||this.needNegotiation===!0||(this.needNegotiation=!0,e.setTimeout(function(){if(s.needNegotiation){s.needNegotiation=!1;var c=new Event("negotiationneeded");s._dispatchEvent("negotiationneeded",c)}},0))},o.prototype._updateIceConnectionState=function(){var s,c={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(f){f.iceTransport&&!f.rejected&&c[f.iceTransport.state]++}),s="new",c.failed>0?s="failed":c.checking>0?s="checking":c.disconnected>0?s="disconnected":c.new>0?s="new":c.connected>0?s="connected":c.completed>0&&(s="completed"),s!==this.iceConnectionState){this.iceConnectionState=s;var u=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",u)}},o.prototype._updateConnectionState=function(){var s,c={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(f){f.iceTransport&&f.dtlsTransport&&!f.rejected&&(c[f.iceTransport.state]++,c[f.dtlsTransport.state]++)}),c.connected+=c.completed,s="new",c.failed>0?s="failed":c.connecting>0?s="connecting":c.disconnected>0?s="disconnected":c.new>0?s="new":c.connected>0&&(s="connected"),s!==this.connectionState){this.connectionState=s;var u=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",u)}},o.prototype.createOffer=function(){var s=this;if(s._isClosed)return Promise.reject(Te("InvalidStateError","Can not call createOffer after close"));var c=s.transceivers.filter(function(g){return g.kind==="audio"}).length,u=s.transceivers.filter(function(g){return g.kind==="video"}).length,f=arguments[0];if(f){if(f.mandatory||f.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");f.offerToReceiveAudio!==void 0&&(f.offerToReceiveAudio===!0?c=1:f.offerToReceiveAudio===!1?c=0:c=f.offerToReceiveAudio),f.offerToReceiveVideo!==void 0&&(f.offerToReceiveVideo===!0?u=1:f.offerToReceiveVideo===!1?u=0:u=f.offerToReceiveVideo)}for(s.transceivers.forEach(function(g){g.kind==="audio"?(c--,c<0&&(g.wantReceive=!1)):g.kind==="video"&&(u--,u<0&&(g.wantReceive=!1))});c>0||u>0;)c>0&&(s._createTransceiver("audio"),c--),u>0&&(s._createTransceiver("video"),u--);var d=z.writeSessionBoilerplate(s._sdpSessionId,s._sdpSessionVersion++);s.transceivers.forEach(function(g,y){var P=g.track,_=g.kind,E=g.mid||z.generateIdentifier();g.mid=E,g.iceGatherer||(g.iceGatherer=s._createIceGatherer(y,s.usingBundle));var U=e.RTCRtpSender.getCapabilities(_);t<15019&&(U.codecs=U.codecs.filter(function(H){return H.name!=="rtx"})),U.codecs.forEach(function(H){H.name==="H264"&&H.parameters["level-asymmetry-allowed"]===void 0&&(H.parameters["level-asymmetry-allowed"]="1"),g.remoteCapabilities&&g.remoteCapabilities.codecs&&g.remoteCapabilities.codecs.forEach(function(te){H.name.toLowerCase()===te.name.toLowerCase()&&H.clockRate===te.clockRate&&(H.preferredPayloadType=te.payloadType)})}),U.headerExtensions.forEach(function(H){var te=g.remoteCapabilities&&g.remoteCapabilities.headerExtensions||[];te.forEach(function(oe){H.uri===oe.uri&&(H.id=oe.id)})});var F=g.sendEncodingParameters||[{ssrc:(2*y+1)*1001}];P&&t>=15019&&_==="video"&&!F[0].rtx&&(F[0].rtx={ssrc:F[0].ssrc+1}),g.wantReceive&&(g.rtpReceiver=new e.RTCRtpReceiver(g.dtlsTransport,_)),g.localCapabilities=U,g.sendEncodingParameters=F}),s._config.bundlePolicy!=="max-compat"&&(d+="a=group:BUNDLE "+s.transceivers.map(function(g){return g.mid}).join(" ")+`\r
`),d+=`a=ice-options:trickle\r
`,s.transceivers.forEach(function(g,y){d+=Po(g,g.localCapabilities,"offer",g.stream,s._dtlsRole),d+=`a=rtcp-rsize\r
`,g.iceGatherer&&s.iceGatheringState!=="new"&&(y===0||!s.usingBundle)&&(g.iceGatherer.getLocalCandidates().forEach(function(P){P.component=1,d+="a="+z.writeCandidate(P)+`\r
`}),g.iceGatherer.state==="completed"&&(d+=`a=end-of-candidates\r
`))});var h=new e.RTCSessionDescription({type:"offer",sdp:d});return Promise.resolve(h)},o.prototype.createAnswer=function(){var s=this;if(s._isClosed)return Promise.reject(Te("InvalidStateError","Can not call createAnswer after close"));if(!(s.signalingState==="have-remote-offer"||s.signalingState==="have-local-pranswer"))return Promise.reject(Te("InvalidStateError","Can not call createAnswer in signalingState "+s.signalingState));var c=z.writeSessionBoilerplate(s._sdpSessionId,s._sdpSessionVersion++);s.usingBundle&&(c+="a=group:BUNDLE "+s.transceivers.map(function(d){return d.mid}).join(" ")+`\r
`),c+=`a=ice-options:trickle\r
`;var u=z.getMediaSections(s._remoteDescription.sdp).length;s.transceivers.forEach(function(d,h){if(!(h+1>u)){if(d.rejected){d.kind==="application"?d.protocol==="DTLS/SCTP"?c+=`m=application 0 DTLS/SCTP 5000\r
`:c+="m=application 0 "+d.protocol+` webrtc-datachannel\r
`:d.kind==="audio"?c+=`m=audio 0 UDP/TLS/RTP/SAVPF 0\r
a=rtpmap:0 PCMU/8000\r
`:d.kind==="video"&&(c+=`m=video 0 UDP/TLS/RTP/SAVPF 120\r
a=rtpmap:120 VP8/90000\r
`),c+=`c=IN IP4 0.0.0.0\r
a=inactive\r
a=mid:`+d.mid+`\r
`;return}if(d.stream){var g;d.kind==="audio"?g=d.stream.getAudioTracks()[0]:d.kind==="video"&&(g=d.stream.getVideoTracks()[0]),g&&t>=15019&&d.kind==="video"&&!d.sendEncodingParameters[0].rtx&&(d.sendEncodingParameters[0].rtx={ssrc:d.sendEncodingParameters[0].ssrc+1})}var y=kn(d.localCapabilities,d.remoteCapabilities),P=y.codecs.filter(function(_){return _.name.toLowerCase()==="rtx"}).length;!P&&d.sendEncodingParameters[0].rtx&&delete d.sendEncodingParameters[0].rtx,c+=Po(d,y,"answer",d.stream,s._dtlsRole),d.rtcpParameters&&d.rtcpParameters.reducedSize&&(c+=`a=rtcp-rsize\r
`)}});var f=new e.RTCSessionDescription({type:"answer",sdp:c});return Promise.resolve(f)},o.prototype.addIceCandidate=function(s){var c=this,u;return s&&!(s.sdpMLineIndex!==void 0||s.sdpMid)?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise(function(f,d){if(c._remoteDescription)if(!s||s.candidate==="")for(var h=0;h<c.transceivers.length&&!(!c.transceivers[h].rejected&&(c.transceivers[h].iceTransport.addRemoteCandidate({}),u=z.getMediaSections(c._remoteDescription.sdp),u[h]+=`a=end-of-candidates\r
`,c._remoteDescription.sdp=z.getDescription(c._remoteDescription.sdp)+u.join(""),c.usingBundle));h++);else{var g=s.sdpMLineIndex;if(s.sdpMid){for(var y=0;y<c.transceivers.length;y++)if(c.transceivers[y].mid===s.sdpMid){g=y;break}}var P=c.transceivers[g];if(P){if(P.rejected)return f();var _=Object.keys(s.candidate).length>0?z.parseCandidate(s.candidate):{};if(_.protocol==="tcp"&&(_.port===0||_.port===9)||_.component&&_.component!==1)return f();if((g===0||g>0&&P.iceTransport!==c.transceivers[0].iceTransport)&&!yr(P.iceTransport,_))return d(Te("OperationError","Can not add ICE candidate"));var E=s.candidate.trim();E.indexOf("a=")===0&&(E=E.substr(2)),u=z.getMediaSections(c._remoteDescription.sdp),u[g]+="a="+(_.type?E:"end-of-candidates")+`\r
`,c._remoteDescription.sdp=z.getDescription(c._remoteDescription.sdp)+u.join("")}else return d(Te("OperationError","Can not add ICE candidate"))}else return d(Te("InvalidStateError","Can not add ICE candidate without a remote description"));f()})},o.prototype.getStats=function(s){if(s&&s instanceof e.MediaStreamTrack){var c=null;if(this.transceivers.forEach(function(f){f.rtpSender&&f.rtpSender.track===s?c=f.rtpSender:f.rtpReceiver&&f.rtpReceiver.track===s&&(c=f.rtpReceiver)}),!c)throw Te("InvalidAccessError","Invalid selector.");return c.getStats()}var u=[];return this.transceivers.forEach(function(f){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(d){f[d]&&u.push(f[d].getStats())})}),Promise.all(u).then(function(f){var d=new Map;return f.forEach(function(h){h.forEach(function(g){d.set(g.id,g)})}),d})};var a=["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"];a.forEach(function(s){var c=e[s];if(c&&c.prototype&&c.prototype.getStats){var u=c.prototype.getStats;c.prototype.getStats=function(){return u.apply(this).then(function(f){var d=new Map;return Object.keys(f).forEach(function(h){f[h].type=Ef(f[h]),d.set(h,f[h])}),d})}}});var l=["createOffer","createAnswer"];return l.forEach(function(s){var c=o.prototype[s];o.prototype[s]=function(){var u=arguments;return typeof u[0]=="function"||typeof u[1]=="function"?c.apply(this,[arguments[2]]).then(function(f){typeof u[0]=="function"&&u[0].apply(null,[f])},function(f){typeof u[1]=="function"&&u[1].apply(null,[f])}):c.apply(this,arguments)}}),l=["setLocalDescription","setRemoteDescription","addIceCandidate"],l.forEach(function(s){var c=o.prototype[s];o.prototype[s]=function(){var u=arguments;return typeof u[1]=="function"||typeof u[2]=="function"?c.apply(this,arguments).then(function(){typeof u[1]=="function"&&u[1].apply(null)},function(f){typeof u[2]=="function"&&u[2].apply(null,[f])}):c.apply(this,arguments)}}),["getStats"].forEach(function(s){var c=o.prototype[s];o.prototype[s]=function(){var u=arguments;return typeof u[1]=="function"?c.apply(this,arguments).then(function(){typeof u[1]=="function"&&u[1].apply(null)}):c.apply(this,arguments)}}),o};function la(e){const t=e&&e.navigator,n=function(i){return{name:{PermissionDeniedError:"NotAllowedError"}[i.name]||i.name,message:i.message,constraint:i.constraint,toString(){return this.name}}},r=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(i){return r(i).catch(o=>Promise.reject(n(o)))}}function ua(e){"getDisplayMedia"in e.navigator&&(!e.navigator.mediaDevices||e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=e.navigator.getDisplayMedia.bind(e.navigator)))}function Ur(e,t){if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(i){return i}),e.RTCSessionDescription||(e.RTCSessionDescription=function(i){return i}),t.version<15025)){const r=Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype,"enabled");Object.defineProperty(e.MediaStreamTrack.prototype,"enabled",{set(i){r.set.call(this,i);const o=new Event("enabled");o.enabled=i,this.dispatchEvent(o)}})}e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)&&Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=new e.RTCDtmfSender(this):this.track.kind==="video"&&(this._dtmf=null)),this._dtmf}}),e.RTCDtmfSender&&!e.RTCDTMFSender&&(e.RTCDTMFSender=e.RTCDtmfSender);const n=xf(e,t.version);e.RTCPeerConnection=function(i){return i&&i.iceServers&&(i.iceServers=Tf(i.iceServers,t.version),vi("ICE servers after filtering:",i.iceServers)),new n(i)},e.RTCPeerConnection.prototype=n.prototype}function fa(e){e.RTCRtpSender&&!("replaceTrack"in e.RTCRtpSender.prototype)&&(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)}const Ro=Object.freeze(Object.defineProperty({__proto__:null,shimPeerConnection:Ur,shimReplaceTrack:fa,shimGetUserMedia:la,shimGetDisplayMedia:ua},Symbol.toStringTag,{value:"Module"}));function da(e,t){const n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(i,o,a){lr("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(i).then(o,a)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const i=function(a,l,s){l in a&&!(s in a)&&(a[s]=a[l],delete a[l])},o=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(a){return typeof a=="object"&&typeof a.audio=="object"&&(a=JSON.parse(JSON.stringify(a)),i(a.audio,"autoGainControl","mozAutoGainControl"),i(a.audio,"noiseSuppression","mozNoiseSuppression")),o(a)},r&&r.prototype.getSettings){const a=r.prototype.getSettings;r.prototype.getSettings=function(){const l=a.apply(this,arguments);return i(l,"mozAutoGainControl","autoGainControl"),i(l,"mozNoiseSuppression","noiseSuppression"),l}}if(r&&r.prototype.applyConstraints){const a=r.prototype.applyConstraints;r.prototype.applyConstraints=function(l){return this.kind==="audio"&&typeof l=="object"&&(l=JSON.parse(JSON.stringify(l)),i(l,"autoGainControl","mozAutoGainControl"),i(l,"noiseSuppression","mozNoiseSuppression")),a.apply(this,[l])}}}}function Rf(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||!e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=function(r){if(!(r&&r.video)){const i=new DOMException("getDisplayMedia without video constraints is undefined");return i.name="NotFoundError",i.code=8,Promise.reject(i)}return r.video===!0?r.video={mediaSource:t}:r.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(r)})}function pa(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function zr(e,t){if(typeof e!="object"||!(e.RTCPeerConnection||e.mozRTCPeerConnection))return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(i){const o=e.RTCPeerConnection.prototype[i],a={[i](){return arguments[0]=new(i==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),o.apply(this,arguments)}};e.RTCPeerConnection.prototype[i]=a[i]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[o,a,l]=arguments;return r.apply(this,[o||null]).then(s=>{if(t.version<53&&!a)try{s.forEach(c=>{c.type=n[c.type]||c.type})}catch(c){if(c.name!=="TypeError")throw c;s.forEach((u,f)=>{s.set(f,Object.assign({},u,{type:n[u.type]||u.type}))})}return s}).then(a,l)}}function ha(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const i=t.apply(this,[]);return i.forEach(o=>o._pc=this),i});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const i=n.apply(this,arguments);return i._pc=this,i}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function ma(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const r=t.apply(this,[]);return r.forEach(i=>i._pc=this),r}),Jt(e,"track",n=>(n.receiver._pc=n.srcElement,n)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function ga(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){lr("removeStream","removeTrack"),this.getSenders().forEach(r=>{r.track&&n.getTracks().includes(r.track)&&this.removeTrack(r)})})}function va(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function ya(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];const r=arguments[1],i=r&&"sendEncodings"in r;i&&r.sendEncodings.forEach(a=>{if("rid"in a&&!/^[a-z0-9]{0,16}$/i.test(a.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in a&&!(parseFloat(a.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in a&&!(parseFloat(a.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const o=t.apply(this,arguments);if(i){const{sender:a}=o,l=a.getParameters();(!("encodings"in l)||l.encodings.length===1&&Object.keys(l.encodings[0]).length===0)&&(l.encodings=r.sendEncodings,a.sendEncodings=r.sendEncodings,this.setParametersPromises.push(a.setParameters(l).then(()=>{delete a.sendEncodings}).catch(()=>{delete a.sendEncodings})))}return o})}function _a(e){if(!(typeof e=="object"&&e.RTCRtpSender))return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const r=t.apply(this,arguments);return"encodings"in r||(r.encodings=[].concat(this.sendEncodings||[{}])),r})}function ba(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function Ca(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}const ko=Object.freeze(Object.defineProperty({__proto__:null,shimOnTrack:pa,shimPeerConnection:zr,shimSenderGetStats:ha,shimReceiverGetStats:ma,shimRemoveStream:ga,shimRTCDataChannel:va,shimAddTransceiver:ya,shimGetParameters:_a,shimCreateOffer:ba,shimCreateAnswer:Ca,shimGetUserMedia:da,shimGetDisplayMedia:Rf},Symbol.toStringTag,{value:"Module"}));function Sa(e){if(!(typeof e!="object"||!e.RTCPeerConnection)){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(r){this._localStreams||(this._localStreams=[]),this._localStreams.includes(r)||this._localStreams.push(r),r.getAudioTracks().forEach(i=>t.call(this,i,r)),r.getVideoTracks().forEach(i=>t.call(this,i,r))},e.RTCPeerConnection.prototype.addTrack=function(r,...i){return i&&i.forEach(o=>{this._localStreams?this._localStreams.includes(o)||this._localStreams.push(o):this._localStreams=[o]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const r=this._localStreams.indexOf(n);if(r===-1)return;this._localStreams.splice(r,1);const i=n.getTracks();this.getSenders().forEach(o=>{i.includes(o.track)&&this.removeTrack(o)})})}}function Ta(e){if(!(typeof e!="object"||!e.RTCPeerConnection)&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(i=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(i))return;this._remoteStreams.push(i);const o=new Event("addstream");o.stream=i,this.dispatchEvent(o)})})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const r=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(i){i.streams.forEach(o=>{if(r._remoteStreams||(r._remoteStreams=[]),r._remoteStreams.indexOf(o)>=0)return;r._remoteStreams.push(o);const a=new Event("addstream");a.stream=o,r.dispatchEvent(a)})}),t.apply(r,arguments)}}}function Ea(e){if(typeof e!="object"||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,i=t.setLocalDescription,o=t.setRemoteDescription,a=t.addIceCandidate;t.createOffer=function(c,u){const f=arguments.length>=2?arguments[2]:arguments[0],d=n.apply(this,[f]);return u?(d.then(c,u),Promise.resolve()):d},t.createAnswer=function(c,u){const f=arguments.length>=2?arguments[2]:arguments[0],d=r.apply(this,[f]);return u?(d.then(c,u),Promise.resolve()):d};let l=function(s,c,u){const f=i.apply(this,[s]);return u?(f.then(c,u),Promise.resolve()):f};t.setLocalDescription=l,l=function(s,c,u){const f=o.apply(this,[s]);return u?(f.then(c,u),Promise.resolve()):f},t.setRemoteDescription=l,l=function(s,c,u){const f=a.apply(this,[s]);return u?(f.then(c,u),Promise.resolve()):f},t.addIceCandidate=l}function Pa(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const n=t.mediaDevices,r=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=i=>r(xa(i))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(r,i,o){t.mediaDevices.getUserMedia(r).then(i,o)}.bind(t))}function xa(e){return e&&e.video!==void 0?Object.assign({},e,{video:Zs(e.video)}):e}function Ra(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(r,i){if(r&&r.iceServers){const o=[];for(let a=0;a<r.iceServers.length;a++){let l=r.iceServers[a];!l.hasOwnProperty("urls")&&l.hasOwnProperty("url")?(lr("RTCIceServer.url","RTCIceServer.urls"),l=JSON.parse(JSON.stringify(l)),l.urls=l.url,delete l.url,o.push(l)):o.push(r.iceServers[a])}r.iceServers=o}return new t(r,i)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get(){return t.generateCertificate}})}function ka(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Ma(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(r){if(r){typeof r.offerToReceiveAudio<"u"&&(r.offerToReceiveAudio=!!r.offerToReceiveAudio);const i=this.getTransceivers().find(a=>a.receiver.track.kind==="audio");r.offerToReceiveAudio===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):r.offerToReceiveAudio===!0&&!i&&this.addTransceiver("audio"),typeof r.offerToReceiveVideo<"u"&&(r.offerToReceiveVideo=!!r.offerToReceiveVideo);const o=this.getTransceivers().find(a=>a.receiver.track.kind==="video");r.offerToReceiveVideo===!1&&o?o.direction==="sendrecv"?o.setDirection?o.setDirection("sendonly"):o.direction="sendonly":o.direction==="recvonly"&&(o.setDirection?o.setDirection("inactive"):o.direction="inactive"):r.offerToReceiveVideo===!0&&!o&&this.addTransceiver("video")}return t.apply(this,arguments)}}function Oa(e){typeof e!="object"||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}const Mo=Object.freeze(Object.defineProperty({__proto__:null,shimLocalStreamsAPI:Sa,shimRemoteStreamsAPI:Ta,shimCallbacksAPI:Ea,shimGetUserMedia:Pa,shimConstraints:xa,shimRTCIceServerUrls:Ra,shimTrackEventTransceiver:ka,shimCreateOfferLegacy:Ma,shimAudioContext:Oa},Symbol.toStringTag,{value:"Module"}));function $n(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(r){if(typeof r=="object"&&r.candidate&&r.candidate.indexOf("a=")===0&&(r=JSON.parse(JSON.stringify(r)),r.candidate=r.candidate.substr(2)),r.candidate&&r.candidate.length){const i=new t(r),o=Fn.parseCandidate(r.candidate),a=Object.assign(i,o);return a.toJSON=function(){return{candidate:a.candidate,sdpMid:a.sdpMid,sdpMLineIndex:a.sdpMLineIndex,usernameFragment:a.usernameFragment}},a}return new t(r)},e.RTCIceCandidate.prototype=t.prototype,Jt(e,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new e.RTCIceCandidate(n.candidate),writable:"false"}),n))}function tn(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(l){if(!l||!l.sdp)return!1;const s=Fn.splitSections(l.sdp);return s.shift(),s.some(c=>{const u=Fn.parseMLine(c);return u&&u.kind==="application"&&u.protocol.indexOf("SCTP")!==-1})},r=function(l){const s=l.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(s===null||s.length<2)return-1;const c=parseInt(s[1],10);return c!==c?-1:c},i=function(l){let s=65536;return t.browser==="firefox"&&(t.version<57?l===-1?s=16384:s=2147483637:t.version<60?s=t.version===57?65535:65536:s=2147483637),s},o=function(l,s){let c=65536;t.browser==="firefox"&&t.version===57&&(c=65535);const u=Fn.matchPrefix(l.sdp,"a=max-message-size:");return u.length>0?c=parseInt(u[0].substr(19),10):t.browser==="firefox"&&s!==-1&&(c=2147483637),c},a=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,t.browser==="chrome"&&t.version>=76){const{sdpSemantics:s}=this.getConfiguration();s==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const s=r(arguments[0]),c=i(s),u=o(arguments[0],s);let f;c===0&&u===0?f=Number.POSITIVE_INFINITY:c===0||u===0?f=Math.max(c,u):f=Math.min(c,u);const d={};Object.defineProperty(d,"maxMessageSize",{get(){return f}}),this._sctp=d}return a.apply(this,arguments)}}function nn(e){if(!(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype))return;function t(r,i){const o=r.send;r.send=function(){const l=arguments[0],s=l.length||l.size||l.byteLength;if(r.readyState==="open"&&i.sctp&&s>i.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+i.sctp.maxMessageSize+" bytes)");return o.apply(r,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const i=n.apply(this,arguments);return t(i,this),i},Jt(e,"datachannel",r=>(t(r.channel,r.target),r))}function Hr(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const r=t[n];t[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=i=>{const o=i.target;if(o._lastConnectionState!==o.connectionState){o._lastConnectionState=o.connectionState;const a=new Event("connectionstatechange",i);o.dispatchEvent(a)}return i},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function Gr(e,t){if(!e.RTCPeerConnection||t.browser==="chrome"&&t.version>=71||t.browser==="safari"&&t.version>=605)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(i){if(i&&i.sdp&&i.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const o=i.sdp.split(`
`).filter(a=>a.trim()!=="a=extmap-allow-mixed").join(`
`);e.RTCSessionDescription&&i instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:i.type,sdp:o}):i.sdp=o}return n.apply(this,arguments)}}function wn(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const n=e.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(t.browser==="chrome"&&t.version<78||t.browser==="firefox"&&t.version<68||t.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}const kf=Object.freeze(Object.defineProperty({__proto__:null,shimRTCIceCandidate:$n,shimMaxMessageSize:tn,shimSendThrowTypeError:nn,shimConnectionState:Hr,removeExtmapAllowMixed:Gr,shimAddIceCandidateNullOrEmpty:wn},Symbol.toStringTag,{value:"Module"}));function Mf({window:e}={},t={shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0}){const n=vi,r=Cf(e),i={browserDetails:r,commonShim:kf,extractVersion:en,disableLog:_f,disableWarnings:bf};switch(r.browser){case"chrome":if(!Eo||!Nr||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),i;if(r.version===null)return n("Chrome shim can not determine version, not shimming."),i;n("adapter.js shimming chrome."),i.browserShim=Eo,wn(e,r),ea(e,r),ta(e),Nr(e,r),na(e),aa(e,r),ra(e),ia(e),oa(e),ca(e,r),$n(e),Hr(e),tn(e,r),nn(e),Gr(e,r);break;case"firefox":if(!ko||!zr||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),i;n("adapter.js shimming firefox."),i.browserShim=ko,wn(e,r),da(e,r),zr(e,r),pa(e),ga(e),ha(e),ma(e),va(e),ya(e),_a(e),ba(e),Ca(e),$n(e),Hr(e),tn(e,r),nn(e);break;case"edge":if(!Ro||!Ur||!t.shimEdge)return n("MS edge shim is not included in this adapter release."),i;n("adapter.js shimming edge."),i.browserShim=Ro,la(e),ua(e),Ur(e,r),fa(e),tn(e,r),nn(e);break;case"safari":if(!Mo||!t.shimSafari)return n("Safari shim is not included in this adapter release."),i;n("adapter.js shimming safari."),i.browserShim=Mo,wn(e,r),Ra(e),Ma(e),Ea(e),Sa(e),Ta(e),ka(e),Pa(e),Oa(e),$n(e),tn(e,r),nn(e),Gr(e,r);break;default:n("Unsupported browser!");break}return i}const Oo=Mf({window:typeof window>"u"?void 0:window});function it(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var _r=Oo.default||Oo,Qt=new(function(){function e(){this.isIOS=["iPad","iPhone","iPod"].includes(navigator.platform),this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}return e.prototype.isWebRTCSupported=function(){return typeof RTCPeerConnection<"u"},e.prototype.isBrowserSupported=function(){var t=this.getBrowser(),n=this.getVersion(),r=this.supportedBrowsers.includes(t);return r?t==="chrome"?n>=this.minChromeVersion:t==="firefox"?n>=this.minFirefoxVersion:t==="safari"?!this.isIOS&&n>=this.minSafariVersion:!1:!1},e.prototype.getBrowser=function(){return _r.browserDetails.browser},e.prototype.getVersion=function(){return _r.browserDetails.version||0},e.prototype.isUnifiedPlanSupported=function(){var t=this.getBrowser(),n=_r.browserDetails.version||0;if(t==="chrome"&&n<this.minChromeVersion)return!1;if(t==="firefox"&&n>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;var r,i=!1;try{r=new RTCPeerConnection,r.addTransceiver("audio"),i=!0}catch{}finally{r&&r.close()}return i},e.prototype.toString=function(){return`Supports:
    browser:`.concat(this.getBrowser(),`
    version:`).concat(this.getVersion(),`
    isIOS:`).concat(this.isIOS,`
    isWebRTCSupported:`).concat(this.isWebRTCSupported(),`
    isBrowserSupported:`).concat(this.isBrowserSupported(),`
    isUnifiedPlanSupported:`).concat(this.isUnifiedPlanSupported())},e}()),Io={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"},Of=function(){function e(){this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.chunkedMTU=16300,this.defaultConfig=Io,this.browser=Qt.getBrowser(),this.browserVersion=Qt.getVersion(),this.supports=function(){var t={browser:Qt.isBrowserSupported(),webRTC:Qt.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!t.webRTC)return t;var n;try{n=new RTCPeerConnection(Io),t.audioVideo=!0;var r=void 0;try{r=n.createDataChannel("_PEERJSTEST",{ordered:!0}),t.data=!0,t.reliable=!!r.ordered;try{r.binaryType="blob",t.binaryBlob=!Qt.isIOS}catch{}}catch{}finally{r&&r.close()}}catch{}finally{n&&n.close()}return t}(),this.pack=bo.pack,this.unpack=bo.unpack,this._dataCount=1}return e.prototype.noop=function(){},e.prototype.validateId=function(t){return!t||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(t)},e.prototype.chunk=function(t){for(var n=[],r=t.size,i=Math.ceil(r/ne.chunkedMTU),o=0,a=0;a<r;){var l=Math.min(r,a+ne.chunkedMTU),s=t.slice(a,l),c={__peerData:this._dataCount,n:o,data:s,total:i};n.push(c),a=l,o++}return this._dataCount++,n},e.prototype.blobToArrayBuffer=function(t,n){var r=new FileReader;return r.onload=function(i){i.target&&n(i.target.result)},r.readAsArrayBuffer(t),r},e.prototype.binaryStringToArrayBuffer=function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r)&255;return n.buffer},e.prototype.randomToken=function(){return Math.random().toString(36).slice(2)},e.prototype.isSecure=function(){return location.protocol==="https:"},e}(),ne=new Of,Ia={};it(Ia,"Peer",()=>zo,e=>zo=e);var bn={},If=Object.prototype.hasOwnProperty,De="~";function vn(){}Object.create&&(vn.prototype=Object.create(null),new vn().__proto__||(De=!1));function Df(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function Da(e,t,n,r,i){if(typeof n!="function")throw new TypeError("The listener must be a function");var o=new Df(n,r||e,i),a=De?De+t:t;return e._events[a]?e._events[a].fn?e._events[a]=[e._events[a],o]:e._events[a].push(o):(e._events[a]=o,e._eventsCount++),e}function Nn(e,t){--e._eventsCount===0?e._events=new vn:delete e._events[t]}function ke(){this._events=new vn,this._eventsCount=0}ke.prototype.eventNames=function(){var t=[],n,r;if(this._eventsCount===0)return t;for(r in n=this._events)If.call(n,r)&&t.push(De?r.slice(1):r);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(n)):t};ke.prototype.listeners=function(t){var n=De?De+t:t,r=this._events[n];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a};ke.prototype.listenerCount=function(t){var n=De?De+t:t,r=this._events[n];return r?r.fn?1:r.length:0};ke.prototype.emit=function(t,n,r,i,o,a){var l=De?De+t:t;if(!this._events[l])return!1;var s=this._events[l],c=arguments.length,u,f;if(s.fn){switch(s.once&&this.removeListener(t,s.fn,void 0,!0),c){case 1:return s.fn.call(s.context),!0;case 2:return s.fn.call(s.context,n),!0;case 3:return s.fn.call(s.context,n,r),!0;case 4:return s.fn.call(s.context,n,r,i),!0;case 5:return s.fn.call(s.context,n,r,i,o),!0;case 6:return s.fn.call(s.context,n,r,i,o,a),!0}for(f=1,u=new Array(c-1);f<c;f++)u[f-1]=arguments[f];s.fn.apply(s.context,u)}else{var d=s.length,h;for(f=0;f<d;f++)switch(s[f].once&&this.removeListener(t,s[f].fn,void 0,!0),c){case 1:s[f].fn.call(s[f].context);break;case 2:s[f].fn.call(s[f].context,n);break;case 3:s[f].fn.call(s[f].context,n,r);break;case 4:s[f].fn.call(s[f].context,n,r,i);break;default:if(!u)for(h=1,u=new Array(c-1);h<c;h++)u[h-1]=arguments[h];s[f].fn.apply(s[f].context,u)}}return!0};ke.prototype.on=function(t,n,r){return Da(this,t,n,r,!1)};ke.prototype.once=function(t,n,r){return Da(this,t,n,r,!0)};ke.prototype.removeListener=function(t,n,r,i){var o=De?De+t:t;if(!this._events[o])return this;if(!n)return Nn(this,o),this;var a=this._events[o];if(a.fn)a.fn===n&&(!i||a.once)&&(!r||a.context===r)&&Nn(this,o);else{for(var l=0,s=[],c=a.length;l<c;l++)(a[l].fn!==n||i&&!a[l].once||r&&a[l].context!==r)&&s.push(a[l]);s.length?this._events[o]=s.length===1?s[0]:s:Nn(this,o)}return this};ke.prototype.removeAllListeners=function(t){var n;return t?(n=De?De+t:t,this._events[n]&&Nn(this,n)):(this._events=new vn,this._eventsCount=0),this};ke.prototype.off=ke.prototype.removeListener;ke.prototype.addListener=ke.prototype.on;ke.prefixed=De;ke.EventEmitter=ke;bn=ke;var B={};it(B,"LogLevel",()=>Ae,e=>Ae=e);it(B,"default",()=>Do,e=>Do=e);var Et=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},Pt=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},Bf="PeerJS: ",Ae;(function(e){e[e.Disabled=0]="Disabled",e[e.Errors=1]="Errors",e[e.Warnings=2]="Warnings",e[e.All=3]="All"})(Ae||(Ae={}));var Af=function(){function e(){this._logLevel=Ae.Disabled}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._logLevel>=Ae.All&&this._print.apply(this,Pt([Ae.All],Et(t),!1))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._logLevel>=Ae.Warnings&&this._print.apply(this,Pt([Ae.Warnings],Et(t),!1))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._logLevel>=Ae.Errors&&this._print.apply(this,Pt([Ae.Errors],Et(t),!1))},e.prototype.setLogFunction=function(t){this._print=t},e.prototype._print=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=Pt([Bf],Et(n),!1);for(var o in i)i[o]instanceof Error&&(i[o]="("+i[o].name+") "+i[o].message);t>=Ae.All?console.log.apply(console,Pt([],Et(i),!1)):t>=Ae.Warnings?console.warn.apply(console,Pt(["WARNING"],Et(i),!1)):t>=Ae.Errors&&console.error.apply(console,Pt(["ERROR"],Et(i),!1))},e}(),Do=new Af,Ba={};it(Ba,"Socket",()=>Bo,e=>Bo=e);var Ke;(function(e){e.Data="data",e.Media="media"})(Ke||(Ke={}));var pe;(function(e){e.BrowserIncompatible="browser-incompatible",e.Disconnected="disconnected",e.InvalidID="invalid-id",e.InvalidKey="invalid-key",e.Network="network",e.PeerUnavailable="peer-unavailable",e.SslUnavailable="ssl-unavailable",e.ServerError="server-error",e.SocketError="socket-error",e.SocketClosed="socket-closed",e.UnavailableID="unavailable-id",e.WebRTC="webrtc"})(pe||(pe={}));var ct;(function(e){e.Binary="binary",e.BinaryUTF8="binary-utf8",e.JSON="json"})(ct||(ct={}));var lt;(function(e){e.Message="message",e.Disconnected="disconnected",e.Error="error",e.Close="close"})(lt||(lt={}));var ye;(function(e){e.Heartbeat="HEARTBEAT",e.Candidate="CANDIDATE",e.Offer="OFFER",e.Answer="ANSWER",e.Open="OPEN",e.Error="ERROR",e.IdTaken="ID-TAKEN",e.InvalidKey="INVALID-KEY",e.Leave="LEAVE",e.Expire="EXPIRE"})(ye||(ye={}));var _i={};_i=JSON.parse('{"name":"peerjs","version":"1.4.7","keywords":["peerjs","webrtc","p2p","rtc"],"description":"PeerJS client","homepage":"https://peerjs.com","bugs":{"url":"https://github.com/peers/peerjs/issues"},"repository":{"type":"git","url":"https://github.com/peers/peerjs"},"license":"MIT","contributors":["Michelle Bu <michelle@michellebu.com>","afrokick <devbyru@gmail.com>","ericz <really.ez@gmail.com>","Jairo <kidandcat@gmail.com>","Jonas Gloning <34194370+jonasgloning@users.noreply.github.com>","Jairo Caro-Accino Viciana <jairo@galax.be>","Carlos Caballero <carlos.caballero.gonzalez@gmail.com>","hc <hheennrryy@gmail.com>","Muhammad Asif <capripio@gmail.com>","PrashoonB <prashoonbhattacharjee@gmail.com>","Harsh Bardhan Mishra <47351025+HarshCasper@users.noreply.github.com>","akotynski <aleksanderkotbury@gmail.com>","lmb <i@lmb.io>","Jairooo <jairocaro@msn.com>","Moritz St\xFCckler <moritz.stueckler@gmail.com>","Simon <crydotsnakegithub@gmail.com>","Denis Lukov <denismassters@gmail.com>","Philipp Hancke <fippo@andyet.net>","Hans Oksendahl <hansoksendahl@gmail.com>","Jess <jessachandler@gmail.com>","khankuan <khankuan@gmail.com>","DUODVK <kurmanov.work@gmail.com>","XiZhao <kwang1imsa@gmail.com>","Matthias Lohr <matthias@lohr.me>","=frank tree <=frnktrb@googlemail.com>","Andre Eckardt <aeckardt@outlook.com>","Chris Cowan <agentme49@gmail.com>","Alex Chuev <alex@chuev.com>","alxnull <alxnull@e.mail.de>","Yemel Jardi <angel.jardi@gmail.com>","Ben Parnell <benjaminparnell.94@gmail.com>","Benny Lichtner <bennlich@gmail.com>","fresheneesz <bitetrudpublic@gmail.com>","bob.barstead@exaptive.com <bob.barstead@exaptive.com>","chandika <chandika@gmail.com>","emersion <contact@emersion.fr>","Christopher Van <cvan@users.noreply.github.com>","eddieherm <edhermoso@gmail.com>","Eduardo Pinho <enet4mikeenet@gmail.com>","Evandro Zanatta <ezanatta@tray.net.br>","Gardner Bickford <gardner@users.noreply.github.com>","Gian Luca <gianluca.cecchi@cynny.com>","PatrickJS <github@gdi2290.com>","jonnyf <github@jonathanfoss.co.uk>","Hizkia Felix <hizkifw@gmail.com>","Hristo Oskov <hristo.oskov@gmail.com>","Isaac Madwed <i.madwed@gmail.com>","Ilya Konanykhin <ilya.konanykhin@gmail.com>","jasonbarry <jasbarry@me.com>","Jonathan Burke <jonathan.burke.1311@googlemail.com>","Josh Hamit <josh.hamit@gmail.com>","Jordan Austin <jrax86@gmail.com>","Joel Wetzell <jwetzell@yahoo.com>","xizhao <kevin.wang@cloudera.com>","Alberto Torres <kungfoobar@gmail.com>","Jonathan Mayol <mayoljonathan@gmail.com>","Jefferson Felix <me@jsfelix.dev>","Rolf Erik Lekang <me@rolflekang.com>","Kevin Mai-Husan Chia <mhchia@users.noreply.github.com>","Pepijn de Vos <pepijndevos@gmail.com>","JooYoung <qkdlql@naver.com>","Tobias Speicher <rootcommander@gmail.com>","Steve Blaurock <sblaurock@gmail.com>","Kyrylo Shegeda <shegeda@ualberta.ca>","Diwank Singh Tomer <singh@diwank.name>","So\u0308ren Balko <Soeren.Balko@gmail.com>","Arpit Solanki <solankiarpit1997@gmail.com>","Yuki Ito <yuki@gnnk.net>","Artur Zayats <zag2art@gmail.com>"],"funding":{"type":"opencollective","url":"https://opencollective.com/peer"},"collective":{"type":"opencollective","url":"https://opencollective.com/peer"},"files":["dist/*"],"sideEffects":["lib/global.ts","lib/supports.ts"],"main":"dist/bundler.cjs","module":"dist/bundler.mjs","browser-minified":"dist/peerjs.min.js","browser-unminified":"dist/peerjs.js","types":"dist/types.d.ts","engines":{"node":">= 10"},"targets":{"types":{"source":"lib/exports.ts"},"main":{"source":"lib/exports.ts","sourceMap":{"inlineSources":true}},"module":{"source":"lib/exports.ts","includeNodeModules":["eventemitter3"],"sourceMap":{"inlineSources":true}},"browser-minified":{"context":"browser","outputFormat":"global","optimize":true,"engines":{"browsers":"cover 99%, not dead"},"source":"lib/global.ts"},"browser-unminified":{"context":"browser","outputFormat":"global","optimize":false,"engines":{"browsers":"cover 99%, not dead"},"source":"lib/global.ts"}},"scripts":{"contributors":"git-authors-cli --print=false && prettier --write package.json && git add package.json package-lock.json && git commit -m \\"chore(contributors): update and sort contributors list\\"","check":"tsc --noEmit","watch":"parcel watch","build":"rm -rf dist && parcel build","prepublishOnly":"npm run build","test":"mocha -r ts-node/register -r jsdom-global/register test/**/*.ts","format":"prettier --write .","semantic-release":"semantic-release"},"devDependencies":{"@parcel/config-default":"^2.5.0","@parcel/packager-ts":"^2.5.0","@parcel/transformer-typescript-tsc":"^2.5.0","@parcel/transformer-typescript-types":"^2.5.0","@semantic-release/changelog":"^6.0.1","@semantic-release/git":"^10.0.1","@types/chai":"^4.3.0","@types/mocha":"^9.1.0","@types/node":"^17.0.18","chai":"^4.3.6","git-authors-cli":"^1.0.40","jsdom":"^19.0.0","jsdom-global":"^3.0.2","mocha":"^9.2.0","mock-socket":"8.0.5","parcel":"^2.5.0","parcel-transformer-tsc-sourcemaps":"^1.0.2","prettier":"^2.6.2","semantic-release":"^19.0.2","standard":"^16.0.4","ts-node":"^10.5.0","typescript":"^4.5.5"},"dependencies":{"@swc/helpers":"^0.3.13","eventemitter3":"^4.0.7","peerjs-js-binarypack":"1.0.1","webrtc-adapter":"^7.7.1"}}');var jf=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lf=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},Ff=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},$f=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Bo=function(e){jf(t,e);function t(n,r,i,o,a,l){l===void 0&&(l=5e3);var s=e.call(this)||this;s.pingInterval=l,s._disconnected=!0,s._messagesQueue=[];var c=n?"wss://":"ws://";return s._baseUrl=c+r+":"+i+o+"peerjs?key="+a,s}return t.prototype.start=function(n,r){var i=this;this._id=n;var o="".concat(this._baseUrl,"&id=").concat(n,"&token=").concat(r);!!this._socket||!this._disconnected||(this._socket=new WebSocket(o+"&version="+_i.version),this._disconnected=!1,this._socket.onmessage=function(a){var l;try{l=JSON.parse(a.data),B.default.log("Server message received:",l)}catch{B.default.log("Invalid server message",a.data);return}i.emit(lt.Message,l)},this._socket.onclose=function(a){i._disconnected||(B.default.log("Socket closed.",a),i._cleanup(),i._disconnected=!0,i.emit(lt.Disconnected))},this._socket.onopen=function(){i._disconnected||(i._sendQueuedMessages(),B.default.log("Socket open"),i._scheduleHeartbeat())})},t.prototype._scheduleHeartbeat=function(){var n=this;this._wsPingTimer=setTimeout(function(){n._sendHeartbeat()},this.pingInterval)},t.prototype._sendHeartbeat=function(){if(!this._wsOpen()){B.default.log("Cannot send heartbeat, because socket closed");return}var n=JSON.stringify({type:ye.Heartbeat});this._socket.send(n),this._scheduleHeartbeat()},t.prototype._wsOpen=function(){return!!this._socket&&this._socket.readyState===1},t.prototype._sendQueuedMessages=function(){var n,r,i=Ff([],Lf(this._messagesQueue),!1);this._messagesQueue=[];try{for(var o=$f(i),a=o.next();!a.done;a=o.next()){var l=a.value;this.send(l)}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},t.prototype.send=function(n){if(!this._disconnected){if(!this._id){this._messagesQueue.push(n);return}if(!n.type){this.emit(lt.Error,"Invalid message");return}if(!!this._wsOpen()){var r=JSON.stringify(n);this._socket.send(r)}}},t.prototype.close=function(){this._disconnected||(this._cleanup(),this._disconnected=!0)},t.prototype._cleanup=function(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)},t}(bn.EventEmitter),Vr={};it(Vr,"MediaConnection",()=>Lo,e=>Lo=e);var bi={};it(bi,"Negotiator",()=>Ao,e=>Ao=e);var Jn=function(){return Jn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Jn.apply(this,arguments)},Mn=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(u){try{c(r.next(u))}catch(f){a(f)}}function s(u){try{c(r.throw(u))}catch(f){a(f)}}function c(u){u.done?o(u.value):i(u.value).then(l,s)}c((r=r.apply(e,t||[])).next())})},On=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(c){return function(u){return s([c,u])}}function s(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Ao=function(){function e(t){this.connection=t}return e.prototype.startConnection=function(t){var n=this._startPeerConnection();if(this.connection.peerConnection=n,this.connection.type===Ke.Media&&t._stream&&this._addTracksToConnection(t._stream,n),t.originator){if(this.connection.type===Ke.Data){var r=this.connection,i={ordered:!!t.reliable},o=n.createDataChannel(r.label,i);r.initialize(o)}this._makeOffer()}else this.handleSDP("OFFER",t.sdp)},e.prototype._startPeerConnection=function(){B.default.log("Creating RTCPeerConnection.");var t=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(t),t},e.prototype._setupListeners=function(t){var n=this,r=this.connection.peer,i=this.connection.connectionId,o=this.connection.type,a=this.connection.provider;B.default.log("Listening for ICE candidates."),t.onicecandidate=function(l){!l.candidate||!l.candidate.candidate||(B.default.log("Received ICE candidates for ".concat(r,":"),l.candidate),a.socket.send({type:ye.Candidate,payload:{candidate:l.candidate,type:o,connectionId:i},dst:r}))},t.oniceconnectionstatechange=function(){switch(t.iceConnectionState){case"failed":B.default.log("iceConnectionState is failed, closing connections to "+r),n.connection.emit("error",new Error("Negotiation of connection to "+r+" failed.")),n.connection.close();break;case"closed":B.default.log("iceConnectionState is closed, closing connections to "+r),n.connection.emit("error",new Error("Connection to "+r+" closed.")),n.connection.close();break;case"disconnected":B.default.log("iceConnectionState changed to disconnected on the connection with "+r);break;case"completed":t.onicecandidate=ne.noop;break}n.connection.emit("iceStateChanged",t.iceConnectionState)},B.default.log("Listening for data channel"),t.ondatachannel=function(l){B.default.log("Received data channel");var s=l.channel,c=a.getConnection(r,i);c.initialize(s)},B.default.log("Listening for remote stream"),t.ontrack=function(l){B.default.log("Received remote stream");var s=l.streams[0],c=a.getConnection(r,i);if(c.type===Ke.Media){var u=c;n._addStreamToMediaConnection(s,u)}}},e.prototype.cleanup=function(){B.default.log("Cleaning up PeerConnection to "+this.connection.peer);var t=this.connection.peerConnection;if(!!t){this.connection.peerConnection=null,t.onicecandidate=t.oniceconnectionstatechange=t.ondatachannel=t.ontrack=function(){};var n=t.signalingState!=="closed",r=!1;if(this.connection.type===Ke.Data){var i=this.connection,o=i.dataChannel;o&&(r=!!o.readyState&&o.readyState!=="closed")}(n||r)&&t.close()}},e.prototype._makeOffer=function(){return Mn(this,void 0,Promise,function(){var t,n,r,i,o,a,l;return On(this,function(s){switch(s.label){case 0:t=this.connection.peerConnection,n=this.connection.provider,s.label=1;case 1:return s.trys.push([1,7,,8]),[4,t.createOffer(this.connection.options.constraints)];case 2:r=s.sent(),B.default.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp),s.label=3;case 3:return s.trys.push([3,5,,6]),[4,t.setLocalDescription(r)];case 4:return s.sent(),B.default.log("Set localDescription:",r,"for:".concat(this.connection.peer)),i={sdp:r,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata,browser:ne.browser},this.connection.type===Ke.Data&&(o=this.connection,i=Jn(Jn({},i),{label:o.label,reliable:o.reliable,serialization:o.serialization})),n.socket.send({type:ye.Offer,payload:i,dst:this.connection.peer}),[3,6];case 5:return a=s.sent(),a!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(n.emitError(pe.WebRTC,a),B.default.log("Failed to setLocalDescription, ",a)),[3,6];case 6:return[3,8];case 7:return l=s.sent(),n.emitError(pe.WebRTC,l),B.default.log("Failed to createOffer, ",l),[3,8];case 8:return[2]}})})},e.prototype._makeAnswer=function(){return Mn(this,void 0,Promise,function(){var t,n,r,i,o;return On(this,function(a){switch(a.label){case 0:t=this.connection.peerConnection,n=this.connection.provider,a.label=1;case 1:return a.trys.push([1,7,,8]),[4,t.createAnswer()];case 2:r=a.sent(),B.default.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp),a.label=3;case 3:return a.trys.push([3,5,,6]),[4,t.setLocalDescription(r)];case 4:return a.sent(),B.default.log("Set localDescription:",r,"for:".concat(this.connection.peer)),n.socket.send({type:ye.Answer,payload:{sdp:r,type:this.connection.type,connectionId:this.connection.connectionId,browser:ne.browser},dst:this.connection.peer}),[3,6];case 5:return i=a.sent(),n.emitError(pe.WebRTC,i),B.default.log("Failed to setLocalDescription, ",i),[3,6];case 6:return[3,8];case 7:return o=a.sent(),n.emitError(pe.WebRTC,o),B.default.log("Failed to create answer, ",o),[3,8];case 8:return[2]}})})},e.prototype.handleSDP=function(t,n){return Mn(this,void 0,Promise,function(){var r,i,o,a;return On(this,function(l){switch(l.label){case 0:n=new RTCSessionDescription(n),r=this.connection.peerConnection,i=this.connection.provider,B.default.log("Setting remote description",n),o=this,l.label=1;case 1:return l.trys.push([1,5,,6]),[4,r.setRemoteDescription(n)];case 2:return l.sent(),B.default.log("Set remoteDescription:".concat(t," for:").concat(this.connection.peer)),t!=="OFFER"?[3,4]:[4,o._makeAnswer()];case 3:l.sent(),l.label=4;case 4:return[3,6];case 5:return a=l.sent(),i.emitError(pe.WebRTC,a),B.default.log("Failed to setRemoteDescription, ",a),[3,6];case 6:return[2]}})})},e.prototype.handleCandidate=function(t){return Mn(this,void 0,Promise,function(){var n,r,i,o,a,l;return On(this,function(s){switch(s.label){case 0:B.default.log("handleCandidate:",t),n=t.candidate,r=t.sdpMLineIndex,i=t.sdpMid,o=this.connection.peerConnection,a=this.connection.provider,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,o.addIceCandidate(new RTCIceCandidate({sdpMid:i,sdpMLineIndex:r,candidate:n}))];case 2:return s.sent(),B.default.log("Added ICE candidate for:".concat(this.connection.peer)),[3,4];case 3:return l=s.sent(),a.emitError(pe.WebRTC,l),B.default.log("Failed to handleCandidate, ",l),[3,4];case 4:return[2]}})})},e.prototype._addTracksToConnection=function(t,n){if(B.default.log("add tracks from stream ".concat(t.id," to peer connection")),!n.addTrack)return B.default.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");t.getTracks().forEach(function(r){n.addTrack(r,t)})},e.prototype._addStreamToMediaConnection=function(t,n){B.default.log("add stream ".concat(t.id," to media connection ").concat(n.connectionId)),n.addStream(t)},e}(),Ci={};it(Ci,"BaseConnection",()=>jo,e=>jo=e);var wf=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),jo=function(e){wf(t,e);function t(n,r,i){var o=e.call(this)||this;return o.peer=n,o.provider=r,o.options=i,o._open=!1,o.metadata=i.metadata,o}return Object.defineProperty(t.prototype,"open",{get:function(){return this._open},enumerable:!1,configurable:!0}),t}(bn.EventEmitter),Nf=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wn=function(){return Wn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Wn.apply(this,arguments)},Uf=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Lo=function(e){Nf(t,e);function t(n,r,i){var o=e.call(this,n,r,i)||this;return o._localStream=o.options._stream,o.connectionId=o.options.connectionId||t.ID_PREFIX+ne.randomToken(),o._negotiator=new bi.Negotiator(o),o._localStream&&o._negotiator.startConnection({_stream:o._localStream,originator:!0}),o}return Object.defineProperty(t.prototype,"type",{get:function(){return Ke.Media},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localStream",{get:function(){return this._localStream},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"remoteStream",{get:function(){return this._remoteStream},enumerable:!1,configurable:!0}),t.prototype.addStream=function(n){B.default.log("Receiving stream",n),this._remoteStream=n,e.prototype.emit.call(this,"stream",n)},t.prototype.handleMessage=function(n){var r=n.type,i=n.payload;switch(n.type){case ye.Answer:this._negotiator.handleSDP(r,i.sdp),this._open=!0;break;case ye.Candidate:this._negotiator.handleCandidate(i.candidate);break;default:B.default.warn("Unrecognized message type:".concat(r," from peer:").concat(this.peer));break}},t.prototype.answer=function(n,r){var i,o;if(r===void 0&&(r={}),this._localStream){B.default.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=n,r&&r.sdpTransform&&(this.options.sdpTransform=r.sdpTransform),this._negotiator.startConnection(Wn(Wn({},this.options._payload),{_stream:n}));var a=this.provider._getMessages(this.connectionId);try{for(var l=Uf(a),s=l.next();!s.done;s=l.next()){var c=s.value;this.handleMessage(c)}}catch(u){i={error:u}}finally{try{s&&!s.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}this._open=!0},t.prototype.close=function(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,e.prototype.emit.call(this,"close"))},t.ID_PREFIX="mc_",t}(Ci.BaseConnection),Kr={};it(Kr,"DataConnection",()=>$o,e=>$o=e);var Aa={};it(Aa,"EncodingQueue",()=>Fo,e=>Fo=e);var zf=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fo=function(e){zf(t,e);function t(){var n=e.call(this)||this;return n.fileReader=new FileReader,n._queue=[],n._processing=!1,n.fileReader.onload=function(r){n._processing=!1,r.target&&n.emit("done",r.target.result),n.doNextTask()},n.fileReader.onerror=function(r){B.default.error("EncodingQueue error:",r),n._processing=!1,n.destroy(),n.emit("error",r)},n}return Object.defineProperty(t.prototype,"queue",{get:function(){return this._queue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"processing",{get:function(){return this._processing},enumerable:!1,configurable:!0}),t.prototype.enque=function(n){this.queue.push(n),!this.processing&&this.doNextTask()},t.prototype.destroy=function(){this.fileReader.abort(),this._queue=[]},t.prototype.doNextTask=function(){this.size!==0&&(this.processing||(this._processing=!0,this.fileReader.readAsArrayBuffer(this.queue.shift())))},t}(bn.EventEmitter),Hf=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gf=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},$o=function(e){Hf(t,e);function t(n,r,i){var o=e.call(this,n,r,i)||this;return o.stringify=JSON.stringify,o.parse=JSON.parse,o._buffer=[],o._bufferSize=0,o._buffering=!1,o._chunkedData={},o._encodingQueue=new Aa.EncodingQueue,o.connectionId=o.options.connectionId||t.ID_PREFIX+ne.randomToken(),o.label=o.options.label||o.connectionId,o.serialization=o.options.serialization||ct.Binary,o.reliable=!!o.options.reliable,o._encodingQueue.on("done",function(a){o._bufferedSend(a)}),o._encodingQueue.on("error",function(){B.default.error("DC#".concat(o.connectionId,": Error occured in encoding from blob to arraybuffer, close DC")),o.close()}),o._negotiator=new bi.Negotiator(o),o._negotiator.startConnection(o.options._payload||{originator:!0}),o}return Object.defineProperty(t.prototype,"type",{get:function(){return Ke.Data},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataChannel",{get:function(){return this._dc},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bufferSize",{get:function(){return this._bufferSize},enumerable:!1,configurable:!0}),t.prototype.initialize=function(n){this._dc=n,this._configureDataChannel()},t.prototype._configureDataChannel=function(){var n=this;(!ne.supports.binaryBlob||ne.supports.reliable)&&(this.dataChannel.binaryType="arraybuffer"),this.dataChannel.onopen=function(){B.default.log("DC#".concat(n.connectionId," dc connection success")),n._open=!0,n.emit("open")},this.dataChannel.onmessage=function(r){B.default.log("DC#".concat(n.connectionId," dc onmessage:"),r.data),n._handleDataMessage(r)},this.dataChannel.onclose=function(){B.default.log("DC#".concat(n.connectionId," dc closed for:"),n.peer),n.close()}},t.prototype._handleDataMessage=function(n){var r=this,i=n.data,o=i.constructor,a=this.serialization===ct.Binary||this.serialization===ct.BinaryUTF8,l=i;if(a){if(o===Blob){ne.blobToArrayBuffer(i,function(c){var u=ne.unpack(c);r.emit("data",u)});return}else if(o===ArrayBuffer)l=ne.unpack(i);else if(o===String){var s=ne.binaryStringToArrayBuffer(i);l=ne.unpack(s)}}else this.serialization===ct.JSON&&(l=this.parse(i));if(l.__peerData){this._handleChunk(l);return}e.prototype.emit.call(this,"data",l)},t.prototype._handleChunk=function(n){var r=n.__peerData,i=this._chunkedData[r]||{data:[],count:0,total:n.total};if(i.data[n.n]=n.data,i.count++,this._chunkedData[r]=i,i.total===i.count){delete this._chunkedData[r];var o=new Blob(i.data);this._handleDataMessage({data:o})}},t.prototype.close=function(){this._buffer=[],this._bufferSize=0,this._chunkedData={},this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this._dc=null),this._encodingQueue&&(this._encodingQueue.destroy(),this._encodingQueue.removeAllListeners(),this._encodingQueue=null),this.open&&(this._open=!1,e.prototype.emit.call(this,"close"))},t.prototype.send=function(n,r){if(!this.open){e.prototype.emit.call(this,"error",new Error("Connection is not open. You should listen for the `open` event before sending messages."));return}if(this.serialization===ct.JSON)this._bufferedSend(this.stringify(n));else if(this.serialization===ct.Binary||this.serialization===ct.BinaryUTF8){var i=ne.pack(n);if(!r&&i.size>ne.chunkedMTU){this._sendChunks(i);return}ne.supports.binaryBlob?this._bufferedSend(i):this._encodingQueue.enque(i)}else this._bufferedSend(n)},t.prototype._bufferedSend=function(n){(this._buffering||!this._trySend(n))&&(this._buffer.push(n),this._bufferSize=this._buffer.length)},t.prototype._trySend=function(n){var r=this;if(!this.open)return!1;if(this.dataChannel.bufferedAmount>t.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(function(){r._buffering=!1,r._tryBuffer()},50),!1;try{this.dataChannel.send(n)}catch(i){return B.default.error("DC#:".concat(this.connectionId," Error when sending:"),i),this._buffering=!0,this.close(),!1}return!0},t.prototype._tryBuffer=function(){if(!!this.open&&this._buffer.length!==0){var n=this._buffer[0];this._trySend(n)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}},t.prototype._sendChunks=function(n){var r,i,o=ne.chunk(n);B.default.log("DC#".concat(this.connectionId," Try to send ").concat(o.length," chunks..."));try{for(var a=Gf(o),l=a.next();!l.done;l=a.next()){var s=l.value;this.send(s,!0)}}catch(c){r={error:c}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}},t.prototype.handleMessage=function(n){var r=n.payload;switch(n.type){case ye.Answer:this._negotiator.handleSDP(n.type,r.sdp);break;case ye.Candidate:this._negotiator.handleCandidate(r.candidate);break;default:B.default.warn("Unrecognized message type:",n.type,"from peer:",this.peer);break}},t.ID_PREFIX="dc_",t.MAX_BUFFERED_AMOUNT=8388608,t}(Ci.BaseConnection),ja={};it(ja,"API",()=>Uo,e=>Uo=e);var wo=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(u){try{c(r.next(u))}catch(f){a(f)}}function s(u){try{c(r.throw(u))}catch(f){a(f)}}function c(u){u.done?o(u.value):i(u.value).then(l,s)}c((r=r.apply(e,t||[])).next())})},No=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(c){return function(u){return s([c,u])}}function s(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Uo=function(){function e(t){this._options=t}return e.prototype._buildRequest=function(t){var n=this._options.secure?"https":"http",r=this._options,i=r.host,o=r.port,a=r.path,l=r.key,s=new URL("".concat(n,"://").concat(i,":").concat(o).concat(a).concat(l,"/").concat(t));return s.searchParams.set("ts","".concat(Date.now()).concat(Math.random())),s.searchParams.set("version",_i.version),fetch(s.href,{referrerPolicy:this._options.referrerPolicy})},e.prototype.retrieveId=function(){return wo(this,void 0,Promise,function(){var t,n,r;return No(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this._buildRequest("id")];case 1:if(t=i.sent(),t.status!==200)throw new Error("Error. Status:".concat(t.status));return[2,t.text()];case 2:throw n=i.sent(),B.default.error("Error retrieving ID",n),r="",this._options.path==="/"&&this._options.host!==ne.CLOUD_HOST&&(r=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+r);case 3:return[2]}})})},e.prototype.listAllPeers=function(){return wo(this,void 0,Promise,function(){var t,n,r;return No(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this._buildRequest("peers")];case 1:if(t=i.sent(),t.status!==200)throw t.status===401?(n="",this._options.host===ne.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)):new Error("Error. Status:".concat(t.status));return[2,t.json()];case 2:throw r=i.sent(),B.default.error("Error retrieving list peers",r),new Error("Could not get list peers from the server."+r);case 3:return[2]}})})},e}(),Vf=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ln=function(){return ln=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},ln.apply(this,arguments)},Xt=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Kf=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},zo=function(e){Vf(t,e);function t(n,r){var i=e.call(this)||this;i._id=null,i._lastServerId=null,i._destroyed=!1,i._disconnected=!1,i._open=!1,i._connections=new Map,i._lostMessages=new Map;var o;return n&&n.constructor==Object?r=n:n&&(o=n.toString()),r=ln({debug:0,host:ne.CLOUD_HOST,port:ne.CLOUD_PORT,path:"/",key:t.DEFAULT_KEY,token:ne.randomToken(),config:ne.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin"},r),i._options=r,i._options.host==="/"&&(i._options.host=window.location.hostname),i._options.path&&(i._options.path[0]!=="/"&&(i._options.path="/"+i._options.path),i._options.path[i._options.path.length-1]!=="/"&&(i._options.path+="/")),i._options.secure===void 0&&i._options.host!==ne.CLOUD_HOST?i._options.secure=ne.isSecure():i._options.host==ne.CLOUD_HOST&&(i._options.secure=!0),i._options.logFunction&&B.default.setLogFunction(i._options.logFunction),B.default.logLevel=i._options.debug||0,i._api=new ja.API(r),i._socket=i._createServerConnection(),!ne.supports.audioVideo&&!ne.supports.data?(i._delayedAbort(pe.BrowserIncompatible,"The current browser does not support WebRTC"),i):!!o&&!ne.validateId(o)?(i._delayedAbort(pe.InvalidID,'ID "'.concat(o,'" is invalid')),i):(o?i._initialize(o):i._api.retrieveId().then(function(a){return i._initialize(a)}).catch(function(a){return i._abort(pe.ServerError,a)}),i)}return Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"open",{get:function(){return this._open},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"socket",{get:function(){return this._socket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"connections",{get:function(){var n,r,i=Object.create(null);try{for(var o=Xt(this._connections),a=o.next();!a.done;a=o.next()){var l=Kf(a.value,2),s=l[0],c=l[1];i[s]=c}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disconnected",{get:function(){return this._disconnected},enumerable:!1,configurable:!0}),t.prototype._createServerConnection=function(){var n=this,r=new Ba.Socket(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return r.on(lt.Message,function(i){n._handleMessage(i)}),r.on(lt.Error,function(i){n._abort(pe.SocketError,i)}),r.on(lt.Disconnected,function(){n.disconnected||(n.emitError(pe.Network,"Lost connection to server."),n.disconnect())}),r.on(lt.Close,function(){n.disconnected||n._abort(pe.SocketClosed,"Underlying socket is already closed.")}),r},t.prototype._initialize=function(n){this._id=n,this.socket.start(n,this._options.token)},t.prototype._handleMessage=function(n){var r,i,o=n.type,a=n.payload,l=n.src;switch(o){case ye.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case ye.Error:this._abort(pe.ServerError,a.msg);break;case ye.IdTaken:this._abort(pe.UnavailableID,'ID "'.concat(this.id,'" is taken'));break;case ye.InvalidKey:this._abort(pe.InvalidKey,'API KEY "'.concat(this._options.key,'" is invalid'));break;case ye.Leave:B.default.log("Received leave message from ".concat(l)),this._cleanupPeer(l),this._connections.delete(l);break;case ye.Expire:this.emitError(pe.PeerUnavailable,"Could not connect to peer ".concat(l));break;case ye.Offer:var g=a.connectionId,y=this.getConnection(l,g);if(y&&(y.close(),B.default.warn("Offer received for existing Connection ID:".concat(g))),a.type===Ke.Media){var s=new Vr.MediaConnection(l,this,{connectionId:g,_payload:a,metadata:a.metadata});y=s,this._addConnection(l,y),this.emit("call",s)}else if(a.type===Ke.Data){var c=new Kr.DataConnection(l,this,{connectionId:g,_payload:a,metadata:a.metadata,label:a.label,serialization:a.serialization,reliable:a.reliable});y=c,this._addConnection(l,y),this.emit("connection",c)}else{B.default.warn("Received malformed connection type:".concat(a.type));return}var u=this._getMessages(g);try{for(var f=Xt(u),d=f.next();!d.done;d=f.next()){var h=d.value;y.handleMessage(h)}}catch(P){r={error:P}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}break;default:if(!a){B.default.warn("You received a malformed message from ".concat(l," of type ").concat(o));return}var g=a.connectionId,y=this.getConnection(l,g);y&&y.peerConnection?y.handleMessage(n):g?this._storeMessage(g,n):B.default.warn("You received an unrecognized message:",n);break}},t.prototype._storeMessage=function(n,r){this._lostMessages.has(n)||this._lostMessages.set(n,[]),this._lostMessages.get(n).push(r)},t.prototype._getMessages=function(n){var r=this._lostMessages.get(n);return r?(this._lostMessages.delete(n),r):[]},t.prototype.connect=function(n,r){if(r===void 0&&(r={}),this.disconnected){B.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(pe.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}var i=new Kr.DataConnection(n,this,r);return this._addConnection(n,i),i},t.prototype.call=function(n,r,i){if(i===void 0&&(i={}),this.disconnected){B.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(pe.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!r){B.default.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}var o=new Vr.MediaConnection(n,this,ln(ln({},i),{_stream:r}));return this._addConnection(n,o),o},t.prototype._addConnection=function(n,r){B.default.log("add connection ".concat(r.type,":").concat(r.connectionId," to peerId:").concat(n)),this._connections.has(n)||this._connections.set(n,[]),this._connections.get(n).push(r)},t.prototype._removeConnection=function(n){var r=this._connections.get(n.peer);if(r){var i=r.indexOf(n);i!==-1&&r.splice(i,1)}this._lostMessages.delete(n.connectionId)},t.prototype.getConnection=function(n,r){var i,o,a=this._connections.get(n);if(!a)return null;try{for(var l=Xt(a),s=l.next();!s.done;s=l.next()){var c=s.value;if(c.connectionId===r)return c}}catch(u){i={error:u}}finally{try{s&&!s.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}return null},t.prototype._delayedAbort=function(n,r){var i=this;setTimeout(function(){i._abort(n,r)},0)},t.prototype._abort=function(n,r){B.default.error("Aborting!"),this.emitError(n,r),this._lastServerId?this.disconnect():this.destroy()},t.prototype.emitError=function(n,r){B.default.error("Error:",r);var i;typeof r=="string"?i=new Error(r):i=r,i.type=n,this.emit("error",i)},t.prototype.destroy=function(){this.destroyed||(B.default.log("Destroy peer with ID:".concat(this.id)),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))},t.prototype._cleanup=function(){var n,r;try{for(var i=Xt(this._connections.keys()),o=i.next();!o.done;o=i.next()){var a=o.value;this._cleanupPeer(a),this._connections.delete(a)}}catch(l){n={error:l}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}this.socket.removeAllListeners()},t.prototype._cleanupPeer=function(n){var r,i,o=this._connections.get(n);if(!!o)try{for(var a=Xt(o),l=a.next();!l.done;l=a.next()){var s=l.value;s.close()}}catch(c){r={error:c}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}},t.prototype.disconnect=function(){if(!this.disconnected){var n=this.id;B.default.log("Disconnect peer with ID:".concat(n)),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=n,this._id=null,this.emit("disconnected",n)}},t.prototype.reconnect=function(){if(this.disconnected&&!this.destroyed)B.default.log("Attempting reconnection to server with ID ".concat(this._lastServerId)),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)B.default.error("In a hurry? We're still trying to make the initial connection!");else throw new Error("Peer ".concat(this.id," cannot reconnect because it is not disconnected from the server!"))}},t.prototype.listAllPeers=function(n){var r=this;n===void 0&&(n=function(i){}),this._api.listAllPeers().then(function(i){return n(i)}).catch(function(i){return r._abort(pe.ServerError,i)})},t.DEFAULT_KEY="peerjs",t}(bn.EventEmitter),Si=Ia.Peer;const Cn=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},Jf={data(){return{boxStyle:{}}},components:{},setup(){let e=this;return{peer:ref(e.peer)}},mounted(){let e=this;this.lastPeerId=null,this.peer=null,this.conn=null,this.recvIdInput=document.getElementById("receiver-id"),this.status=document.getElementById("status"),this.message=document.getElementById("message"),this.goButton=document.getElementById("goButton"),this.resetButton=document.getElementById("resetButton"),this.fadeButton=document.getElementById("fadeButton"),this.offButton=document.getElementById("offButton"),this.sendMessageBox=document.getElementById("sendMessageBox"),this.sendButton=document.getElementById("sendButton"),this.clearMsgsButton=document.getElementById("clearMsgsButton"),this.connectButton=document.getElementById("connect-button"),this.cueString='<span class="cueMsg">Cue: </span>',this.goButton.addEventListener("click",function(){e.signal("Go")}),this.resetButton.addEventListener("click",function(){e.signal("Reset")}),this.fadeButton.addEventListener("click",function(){e.signal("Fade")}),this.offButton.addEventListener("click",function(){e.signal("Off")}),this.sendMessageBox.addEventListener("keypress",function(t){var n=t||window.event,r=n.which||n.keyCode;r=="13"&&e.sendButton.click()}),this.sendButton.addEventListener("click",function(){if(e.conn&&e.conn.open){var t=sendMessageBox.value;e.sendMessageBox.value="",e.conn.send(t),console.log("Sent: "+t),e.addMessage('<span class="selfMsg">Self: </span> '+t)}else console.log("Connection is closed")}),this.clearMsgsButton.addEventListener("click",e.clearMessages),this.connectButton.addEventListener("click",e.join),this.initialize()},created(){this.lastPeerId=null,this.peer=null,this.peerId=null,this.conn=null},methods:{initialize(){let e=this;e.peer=new Si(null,{debug:2}),e.peer.on("open",function(t){e.peer.id===null?(console.log("Received null id from peer open"),e.peer.id=e.lastPeerId):e.lastPeerId=e.peer.id,console.log("ID: "+e.peer.id)}),e.peer.on("connection",function(t){t.on("open",function(){t.send("Sender does not accept incoming connections"),setTimeout(function(){t.close()},500)})}),e.peer.on("disconnected",function(){e.status.innerHTML="Connection lost. Please reconnect",console.log("Connection lost. Please reconnect"),e.peer.id=e.lastPeerId,e.peer._lastServerId=e.lastPeerId,e.peer.reconnect()}),e.peer.on("close",function(){e.conn=null,e.status.innerHTML="Connection destroyed. Please refresh",console.log("Connection destroyed")}),e.peer.on("error",function(t){console.log(t),alert(""+t)})},join(){let e=this;e.conn&&e.conn.close(),e.conn=e.peer.connect(e.recvIdInput.value,{reliable:!0}),e.conn.on("open",function(){e.status.innerHTML="Connected to: "+e.conn.peer,console.log("Connected to: "+e.conn.peer);var t=e.getUrlParam("command");t&&e.conn.send(t)}),e.conn.on("data",function(t){e.addMessage('<span class="peerMsg">Peer:</span> '+t)}),e.conn.on("close",function(){e.status.innerHTML="Connection closed"})},getUrlParam(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t),r=n.exec(window.location.href);return r==null?null:r[1]},signal(e){let t=this;t.conn&&t.conn.open?(t.conn.send(e),console.log(e+" signal sent"),t.addMessage(cueString+e)):console.log("Connection is closed")},addMessage(e){var t=new Date,n=t.getHours(),r=o(t.getMinutes()),i=o(t.getSeconds());n>12?n-=12:n===0&&(n=12);function o(a){return a<10&&(a="0"+a),a}this.message.innerHTML='<br><span class="msg-time">'+n+":"+r+":"+i+"</span>  -  "+e+message.innerHTML},clearMessages(){this.message.innerHTML="",that.addMessage("Msgs cleared")}}},Wf=Rl('<h1 data-v-70658925>Peer-to-Peer Cue System --- Sender</h1><table class="control" data-v-70658925><tr data-v-70658925><td class="title" data-v-70658925>Status:</td><td class="title" data-v-70658925>Messages:</td></tr><tr data-v-70658925><td data-v-70658925><span style="font-weight:bold;" data-v-70658925>ID: </span><input type="text" id="receiver-id" title="Input the ID from receive.html" data-v-70658925><button id="connect-button" data-v-70658925>Connect</button></td><td data-v-70658925><input type="text" id="sendMessageBox" placeholder="Enter a message..." autofocus="true" data-v-70658925><button type="button" id="sendButton" data-v-70658925>Send</button><button type="button" id="clearMsgsButton" data-v-70658925>Clear Msgs (Local)</button></td></tr><tr data-v-70658925><td data-v-70658925><div id="status" class="status" data-v-70658925></div></td><td data-v-70658925><div class="message" id="message" data-v-70658925></div></td></tr><tr data-v-70658925><td data-v-70658925><button type="button" class="control-button" id="resetButton" data-v-70658925>Reset</button></td><td data-v-70658925><button type="button" class="control-button" id="goButton" data-v-70658925>Go</button></td></tr><tr data-v-70658925><td data-v-70658925><button type="button" class="control-button" id="fadeButton" data-v-70658925>Fade</button></td><td data-v-70658925><button type="button" class="control-button" id="offButton" data-v-70658925>Off</button></td></tr></table>',2);function qf(e,t,n,r,i,o){return Wf}const Yf=Cn(Jf,[["render",qf],["__scopeId","data-v-70658925"]]);const Qf={data(){return{boxStyle:{}}},mounted(){let e=this;this.recvId=document.getElementById("receiver-id"),this.status=document.getElementById("status"),this.message=document.getElementById("message"),this.standbyBox=document.getElementById("standby"),this.goBox=document.getElementById("go"),this.fadeBox=document.getElementById("fade"),this.offBox=document.getElementById("off"),this.sendMessageBox=document.getElementById("sendMessageBox"),this.sendButton=document.getElementById("sendButton"),this.clearMsgsButton=document.getElementById("clearMsgsButton"),this.sendMessageBox.addEventListener("keypress",function(t){var n=t||window.event,r=n.which||n.keyCode;r=="13"&&e.sendButton.click()}),this.sendButton.addEventListener("click",function(){if(e.conn&&e.conn.open){var t=e.sendMessageBox.value;e.sendMessageBox.value="",e.conn.send(t),console.log("Sent: "+t),e.addMessage('<span class="selfMsg">Self: </span>'+t)}else console.log("Connection is closed")}),e.clearMsgsButton.addEventListener("click",e.clearMessages),this.initialize()},created(){this.lastPeerId=null,this.peer=null,this.peerId=null,this.conn=null},methods:{initialize(){let e=this;e.peer=new Si(null,{debug:2}),e.peer.on("open",function(t){e.peer.id===null?(console.log("Received null id from peer open"),e.peer.id=e.lastPeerId):e.lastPeerId=e.peer.id,console.log("ID: "+e.peer.id),e.recvId.innerHTML="ID: "+e.peer.id,e.status.innerHTML="Awaiting connection..."}),e.peer.on("connection",function(t){if(e.conn&&e.conn.open){t.on("open",function(){t.send("Already connected to another client"),setTimeout(function(){t.close()},500)});return}e.conn=t,console.log("Connected to: "+e.conn.peer),e.status.innerHTML="Connected",e.ready()}),this.peer.on("disconnected",function(){this.status.innerHTML="Connection lost. Please reconnect",console.log("Connection lost. Please reconnect"),this.peer.id=this.lastPeerId,this.peer._lastServerId=this.lastPeerId,this.peer.reconnect()}),this.peer.on("close",function(){this.conn=null,this.status.innerHTML="Connection destroyed. Please refresh",console.log("Connection destroyed")}),this.peer.on("error",function(t){console.log(t),alert(""+t)})},ready(){let e=this;e.conn.on("data",function(t){console.log("Data recieved");var n='<span class="cueMsg">Cue: </span>';switch(t){case"Go":e.go(),e.addMessage(n+t);break;case"Fade":e.fade(),e.addMessage(n+t);break;case"Off":e.off(),e.addMessage(n+t);break;case"Reset":e.reset(),e.addMessage(n+t);break;default:e.addMessage('<span class="peerMsg">Peer: </span>'+t);break}}),e.conn.on("close",function(){e.status.innerHTML="Connection reset<br>Awaiting connection...",e.conn=null})},go(){this.standbyBox.className="display-box hidden",this.goBox.className="display-box go",this.fadeBox.className="display-box hidden",this.offBox.className="display-box hidden"},fade(){this.standbyBox.className="display-box hidden",this.goBox.className="display-box hidden",this.fadeBox.className="display-box fade",this.offBox.className="display-box hidden"},off(){this.standbyBox.className="display-box hidden",this.goBox.className="display-box hidden",this.fadeBox.className="display-box hidden",this.offBox.className="display-box off"},reset(){this.standbyBox.className="display-box standby",this.goBox.className="display-box hidden",this.fadeBox.className="display-box hidden",this.offBox.className="display-box hidden"},addMessage(e){var t=new Date,n=t.getHours(),r=o(t.getMinutes()),i=o(t.getSeconds());n>12?n-=12:n===0&&(n=12);function o(a){return a<10&&(a="0"+a),a}this.message.innerHTML='<br><span class="msg-time">'+n+":"+r+":"+i+"</span>  -  "+e+message.innerHTML},clearMessages(){this.message.innerHTML="",this.addMessage("Msgs cleared")}}},Sn=e=>(ms("data-v-5e87556a"),e=e(),gs(),e),Xf={class:"display"},Zf=Sn(()=>D("tr",null,[D("td",{class:"title"},"Status:"),D("td",{class:"title"},"Messages:")],-1)),ed=Sn(()=>D("tr",null,[D("td",null,[D("div",{id:"receiver-id",style:{"font-weight":"bold"},title:"Copy this ID to the input on send.html."},"ID: ")]),D("td",null,[D("input",{type:"text",id:"sendMessageBox",placeholder:"Enter a message...",autofocus:"true"}),D("button",{type:"button",id:"sendButton"},"Send"),D("button",{type:"button",id:"clearMsgsButton"},"Clear Msgs (Local)")])],-1)),td=Sn(()=>D("tr",null,[D("td",null,[D("div",{id:"status",class:"status"})]),D("td",null,[D("div",{class:"message",id:"message"})])],-1)),nd=Sn(()=>D("tr",null,[D("td",{class:"display-box standby",id:"standby"},[D("h2",null,"Standby")]),D("td",{class:"display-box hidden",id:"go"},[D("h2",null,"Go")])],-1)),rd=Sn(()=>D("tr",null,[D("td",{class:"display-box hidden",id:"fade"},[D("h2",null,"Fade")]),D("td",{class:"display-box hidden",id:"off"},[D("h2",null,"All Off")])],-1)),id=[Zf,ed,td,nd,rd];function od(e,t,n,r,i,o){return or(),sr("table",Xf,id)}const sd=Cn(Qf,[["render",od],["__scopeId","data-v-5e87556a"]]);const ad={data(){return{boxStyle:{}}},mounted(){let e=this;this.localVideo=this.$refs.localVideo,(async()=>{const n=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});e.localVideo.srcObject=n,e.localVideo.play()})()},methods:{open(){}}},cd={className:"styles.container"},ld=D("button",{type:"primary",onClick:"{callUser}"},"\u89C6\u9891\u901A\u8BDD",-1),ud=D("button",{type:"primary",danger:"",onClick:"{endCall}"},"\u7ED3\u675F\u901A\u8BDD",-1),fd={class:"videos"},dd={class:"videoShow"},pd=D("h2",null,"\u672C\u5730\u6444\u50CF\u5934",-1),hd={controls:"",autoPlay:"",ref:"localVideo",muted:""},md={class:"videoShow"},gd=D("h2",null,"\u8FDC\u7A0B\u6444\u50CF\u5934",-1),vd={controls:"",autoPlay:"",ref:"remoteVideo"};function yd(e,t,n,r,i,o){const a=Rr("Space");return or(),sr("div",cd,[D("div",null,[_e(a,null,{default:on(()=>[ld,ud]),_:1})]),D("div",fd,[D("div",dd,[pd,D("video",hd,null,512)]),D("div",md,[gd,D("video",vd,null,512)])])])}const _d=Cn(ad,[["render",yd]]);const bd={data(){return{boxStyle:{}}},components:{VideoChatVue:_d},mounted(){let e=this;this.lastPeerId=null,this.peer=null,this.conn=null,this.localId=document.getElementById("local-id"),this.recvIdInput=document.getElementById("receiver-id"),this.status=document.getElementById("status"),this.message=document.getElementById("message"),this.goButton=document.getElementById("goButton"),this.resetButton=document.getElementById("resetButton"),this.fadeButton=document.getElementById("fadeButton"),this.offButton=document.getElementById("offButton"),this.sendMessageBox=document.getElementById("sendMessageBox"),this.sendButton=document.getElementById("sendButton"),this.clearMsgsButton=document.getElementById("clearMsgsButton"),this.connectButton=document.getElementById("connect-button"),this.cueString='<span class="cueMsg">Cue: </span>',this.localVideo=this.$refs.localVideo,this.remoteVideo=this.$refs.remoteVideo,this.callButton=document.getElementById("callUser"),this.sendMessageBox.addEventListener("keypress",function(t){var n=t||window.event,r=n.which||n.keyCode;r=="13"&&e.sendButton.click()}),this.sendButton.addEventListener("click",function(){if(e.conn&&e.conn.open){var t=sendMessageBox.value;e.sendMessageBox.value="",e.conn.send(t),console.log("Sent: "+t),e.addMessage('<span class="selfMsg">Self: </span> '+t)}else console.log("Connection is closed")}),this.clearMsgsButton.addEventListener("click",e.clearMessages),this.connectButton.addEventListener("click",e.join),this.callButton,this.initialize()},created(){this.lastPeerId=null,this.peer=null,this.peerId=null,this.conn=null,this.currentCall=null,this.currentConnection=null},methods:{initialize(){let e=this;e.peer=new Si(null,{debug:2}),e.peer.on("open",function(t){e.peer.id===null?(console.log("Received null id from peer open"),e.peer.id=e.lastPeerId):e.lastPeerId=e.peer.id,console.log("ID: "+e.peer.id),e.localId.innerHTML="ID: "+e.peer.id,e.status.innerHTML="Awaiting connection..."}),e.peer.on("connection",function(t){if(e.conn&&e.conn.open){t.on("open",function(){t.send("Already connected to another client"),setTimeout(function(){t.close()},500)});return}e.conn=t,console.log("Connected to: "+e.conn.peer),e.status.innerHTML="Connected",e.ready()}),e.peer.on("disconnected",function(){e.status.innerHTML="Connection lost. Please reconnect",console.log("Connection lost. Please reconnect"),e.peer.id=e.lastPeerId,e.peer._lastServerId=e.lastPeerId,e.peer.reconnect()}),e.peer.on("close",function(){e.conn=null,e.status.innerHTML="Connection destroyed. Please refresh",console.log("Connection destroyed")}),e.peer.on("error",function(t){console.log(t),alert(""+t)}),e.peer.on("call",async t=>{if(window.confirm(`\u662F\u5426\u63A5\u53D7 ${t.peer}?`)){const n=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});e.localVideo.srcObject=n,e.localVideo.play(),t.answer(n),t.on("stream",r=>{e.remoteVideo.srcObject=r,e.remoteVideo.play()}),e.currentCall=t}else t.close(),alert("\u5DF2\u5173\u95ED")})},async callUser(){let e=this.conn.peer,t=this;const n=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});t.localVideo.srcObject=n,t.localVideo.play();const r=t.peer.connect(e);t.conn=r,r.on("open",()=>{console.log("\u5DF2\u8FDE\u63A5 remote")});const i=t.peer.call(e,n);i.on("stream",o=>{t.remoteVideo.srcObject=o,t.remoteVideo.play()}),i.on("error",o=>{console.error(o)}),i.on("close",()=>{endCall()}),t.currentCall=i},join(){let e=this;e.conn&&e.conn.close(),e.conn=e.peer.connect(e.recvIdInput.value,{reliable:!0}),e.conn.on("open",function(){e.status.innerHTML="Connected to: "+e.conn.peer,console.log("Connected to: "+e.conn.peer);var t=e.getUrlParam("command");t&&e.conn.send(t)}),e.conn.on("data",function(t){e.addMessage('<span class="peerMsg">Peer:</span> '+t)}),e.conn.on("close",function(){e.status.innerHTML="Connection closed"})},ready(){let e=this;e.conn.on("data",function(t){console.log("Data recieved");var n='<span class="cueMsg">Cue: </span>';switch(t){case"Go":e.go(),e.addMessage(n+t);break;case"Fade":e.fade(),e.addMessage(n+t);break;case"Off":e.off(),e.addMessage(n+t);break;case"Reset":e.reset(),e.addMessage(n+t);break;default:e.addMessage('<span class="peerMsg">Peer: </span>'+t);break}}),e.conn.on("close",function(){e.status.innerHTML="Connection reset<br>Awaiting connection...",e.conn=null})},getUrlParam(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t),r=n.exec(window.location.href);return r==null?null:r[1]},signal(e){let t=this;t.conn&&t.conn.open?(t.conn.send(e),console.log(e+" signal sent"),t.addMessage(cueString+e)):console.log("Connection is closed")},addMessage(e){var t=new Date,n=t.getHours(),r=o(t.getMinutes()),i=o(t.getSeconds());n>12?n-=12:n===0&&(n=12);function o(a){return a<10&&(a="0"+a),a}this.message.innerHTML='<br><span class="msg-time">'+n+":"+r+":"+i+"</span>  -  "+e+message.innerHTML},clearMessages(){this.message.innerHTML="",that.addMessage("Msgs cleared")}}},Wt=e=>(ms("data-v-c145740a"),e=e(),gs(),e),Cd=Wt(()=>D("h1",null,"Peer-to-Peer Cue System --- Diad",-1)),Sd={class:"control"},Td=Wt(()=>D("tr",null,[D("td",{class:"title"},[_n("Status: "),D("br"),D("div",{id:"local-id",style:{"font-weight":"bold"},title:"Copy this ID to the input on send.html."},"ID: ")]),D("td",{class:"title"},"Messages:")],-1)),Ed=Wt(()=>D("tr",null,[D("td",null,[D("span",{style:{"font-weight":"bold"}},"ID: "),D("input",{type:"text",id:"receiver-id",title:"Input the ID from receive.html"}),D("button",{id:"connect-button"},"Connect")]),D("td",null,[D("input",{type:"text",id:"sendMessageBox",placeholder:"Enter a message...",autofocus:"true"}),D("button",{type:"button",id:"sendButton"},"Send"),D("button",{type:"button",id:"clearMsgsButton"},"Clear Msgs (Local)")])],-1)),Pd=Wt(()=>D("tr",null,[D("td",null,[D("div",{id:"status",class:"status"})]),D("td",null,[D("div",{class:"message",id:"message"})])],-1)),xd={class:"display-video"},Rd=Wt(()=>D("h3",null,"\u672C\u5730\u6444\u50CF\u5934",-1)),kd={controls:"",autoPlay:"",ref:"localVideo",muted:""},Md={class:"display-video"},Od=Wt(()=>D("h3",null,"\u8FDC\u7A0B\u6444\u50CF\u5934",-1)),Id={controls:"",autoPlay:"",ref:"remoteVideo"};function Dd(e,t,n,r,i,o){return or(),sr(Ue,null,[Cd,D("table",Sd,[Td,Ed,Pd,D("button",{type:"button",onClick:t[0]||(t[0]=(...a)=>o.callUser&&o.callUser(...a))},"Send"),D("tr",null,[D("td",xd,[Rd,D("video",kd,null,512)]),D("td",Md,[Od,D("video",Id,null,512)])])])],64)}const Bd=Cn(bd,[["render",Dd],["__scopeId","data-v-c145740a"]]),Ad=[{path:"/receiver",component:sd},{path:"/sender",component:Yf},{path:"/exchangeroom",component:Bd}];function jd(){let e=null;return e=pf({history:ku(),routes:Ad}),e.beforeEach((t,n,r)=>{r()}),e}const Ld=_n("\u53D1\u9001\u7AEF"),Fd=_n("\u63A5\u6536\u7AEF"),$d=_n("\u4EA4\u6362\u7AEF"),wd={__name:"App",setup(e){return(t,n)=>{const r=Rr("router-link"),i=Rr("router-view");return or(),sr(Ue,null,[_e(r,{to:"/sender",class:"function_router"},{default:on(()=>[Ld]),_:1}),_e(r,{to:"/receiver",class:"function_router"},{default:on(()=>[Fd]),_:1}),_e(r,{to:"/exchangeroom",class:"function_router"},{default:on(()=>[$d]),_:1}),_e(i)],64)}}},Nd=Cn(wd,[["__scopeId","data-v-16bcef9f"]]),Ti=cu(Nd);Ti.config.errorHandler=(e,t,n)=>{console.log("mainjs:error: "+n),console.log(e)};Ti.config.warnHandler=function(e,t,n){console.log("mainjs:warn: "+e)};Ti.use(jd()).mount("#app");
