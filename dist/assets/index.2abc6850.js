(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const v of document.querySelectorAll('link[rel="modulepreload"]'))l(v);new MutationObserver(v=>{for(const S of v)if(S.type==="childList")for(const D of S.addedNodes)D.tagName==="LINK"&&D.rel==="modulepreload"&&l(D)}).observe(document,{childList:!0,subtree:!0});function n(v){const S={};return v.integrity&&(S.integrity=v.integrity),v.referrerpolicy&&(S.referrerPolicy=v.referrerpolicy),v.crossorigin==="use-credentials"?S.credentials="include":v.crossorigin==="anonymous"?S.credentials="omit":S.credentials="same-origin",S}function l(v){if(v.ep)return;v.ep=!0;const S=n(v);fetch(v.href,S)}})();function ro(e,t){const n=Object.create(null),l=e.split(",");for(let v=0;v<l.length;v++)n[l[v]]=!0;return t?v=>!!n[v.toLowerCase()]:v=>!!n[v]}const Vf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",qf=ro(Vf);function Rc(e){return!!e||e===""}function io(e){if(et(e)){const t={};for(let n=0;n<e.length;n++){const l=e[n],v=Mt(l)?Xf(l):io(l);if(v)for(const S in v)t[S]=v[S]}return t}else{if(Mt(e))return e;if(Pt(e))return e}}const Jf=/;(?![^(]*\))/g,Yf=/:(.+)/;function Xf(e){const t={};return e.split(Jf).forEach(n=>{if(n){const l=n.split(Yf);l.length>1&&(t[l[0].trim()]=l[1].trim())}}),t}function Vr(e){let t="";if(Mt(e))t=e;else if(et(e))for(let n=0;n<e.length;n++){const l=Vr(e[n]);l&&(t+=l+" ")}else if(Pt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Zf=e=>Mt(e)?e:e==null?"":et(e)||Pt(e)&&(e.toString===Bc||!nt(e.toString))?JSON.stringify(e,Ac,2):String(e),Ac=(e,t)=>t&&t.__v_isRef?Ac(e,t.value):vr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[l,v])=>(n[`${l} =>`]=v,n),{})}:Ic(t)?{[`Set(${t.size})`]:[...t.values()]}:Pt(t)&&!et(t)&&!Oc(t)?String(t):t,Et={},gr=[],fn=()=>{},Qf=()=>!1,el=/^on[^a-z]/,Ui=e=>el.test(e),so=e=>e.startsWith("onUpdate:"),qt=Object.assign,oo=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},tl=Object.prototype.hasOwnProperty,it=(e,t)=>tl.call(e,t),et=Array.isArray,vr=e=>ji(e)==="[object Map]",Ic=e=>ji(e)==="[object Set]",nt=e=>typeof e=="function",Mt=e=>typeof e=="string",ao=e=>typeof e=="symbol",Pt=e=>e!==null&&typeof e=="object",Pc=e=>Pt(e)&&nt(e.then)&&nt(e.catch),Bc=Object.prototype.toString,ji=e=>Bc.call(e),nl=e=>ji(e).slice(8,-1),Oc=e=>ji(e)==="[object Object]",co=e=>Mt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,vi=ro(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Fi=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},rl=/-(\w)/g,Sn=Fi(e=>e.replace(rl,(t,n)=>n?n.toUpperCase():"")),il=/\B([A-Z])/g,Rr=Fi(e=>e.replace(il,"-$1").toLowerCase()),Hi=Fi(e=>e.charAt(0).toUpperCase()+e.slice(1)),is=Fi(e=>e?`on${Hi(e)}`:""),qr=(e,t)=>!Object.is(e,t),ss=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Ai=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},sl=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let $o;const ol=()=>$o||($o=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let bn;class al{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&bn&&(this.parent=bn,this.index=(bn.scopes||(bn.scopes=[])).push(this)-1)}run(t){if(this.active){const n=bn;try{return bn=this,t()}finally{bn=n}}}on(){bn=this}off(){bn=this.parent}stop(t){if(this.active){let n,l;for(n=0,l=this.effects.length;n<l;n++)this.effects[n].stop();for(n=0,l=this.cleanups.length;n<l;n++)this.cleanups[n]();if(this.scopes)for(n=0,l=this.scopes.length;n<l;n++)this.scopes[n].stop(!0);if(this.parent&&!t){const v=this.parent.scopes.pop();v&&v!==this&&(this.parent.scopes[this.index]=v,v.index=this.index)}this.active=!1}}}function cl(e,t=bn){t&&t.active&&t.effects.push(e)}const fo=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Dc=e=>(e.w&Vn)>0,Lc=e=>(e.n&Vn)>0,dl=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Vn},fl=e=>{const{deps:t}=e;if(t.length){let n=0;for(let l=0;l<t.length;l++){const v=t[l];Dc(v)&&!Lc(v)?v.delete(e):t[n++]=v,v.w&=~Vn,v.n&=~Vn}t.length=n}},Is=new WeakMap;let Ur=0,Vn=1;const Ps=30;let an;const rr=Symbol(""),Bs=Symbol("");class lo{constructor(t,n=null,l){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,cl(this,l)}run(){if(!this.active)return this.fn();let t=an,n=Wn;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=an,an=this,Wn=!0,Vn=1<<++Ur,Ur<=Ps?dl(this):Wo(this),this.fn()}finally{Ur<=Ps&&fl(this),Vn=1<<--Ur,an=this.parent,Wn=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){an===this?this.deferStop=!0:this.active&&(Wo(this),this.onStop&&this.onStop(),this.active=!1)}}function Wo(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Wn=!0;const Mc=[];function Ar(){Mc.push(Wn),Wn=!1}function Ir(){const e=Mc.pop();Wn=e===void 0?!0:e}function tn(e,t,n){if(Wn&&an){let l=Is.get(e);l||Is.set(e,l=new Map);let v=l.get(n);v||l.set(n,v=fo()),Nc(v)}}function Nc(e,t){let n=!1;Ur<=Ps?Lc(e)||(e.n|=Vn,n=!Dc(e)):n=!e.has(an),n&&(e.add(an),an.deps.push(e))}function Ln(e,t,n,l,v,S){const D=Is.get(e);if(!D)return;let $=[];if(t==="clear")$=[...D.values()];else if(n==="length"&&et(e))D.forEach((z,W)=>{(W==="length"||W>=l)&&$.push(z)});else switch(n!==void 0&&$.push(D.get(n)),t){case"add":et(e)?co(n)&&$.push(D.get("length")):($.push(D.get(rr)),vr(e)&&$.push(D.get(Bs)));break;case"delete":et(e)||($.push(D.get(rr)),vr(e)&&$.push(D.get(Bs)));break;case"set":vr(e)&&$.push(D.get(rr));break}if($.length===1)$[0]&&Os($[0]);else{const z=[];for(const W of $)W&&z.push(...W);Os(fo(z))}}function Os(e,t){const n=et(e)?e:[...e];for(const l of n)l.computed&&Ko(l);for(const l of n)l.computed||Ko(l)}function Ko(e,t){(e!==an||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const ll=ro("__proto__,__v_isRef,__isVue"),Uc=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ao)),hl=ho(),ul=ho(!1,!0),pl=ho(!0),Go=ml();function ml(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const l=ft(this);for(let S=0,D=this.length;S<D;S++)tn(l,"get",S+"");const v=l[t](...n);return v===-1||v===!1?l[t](...n.map(ft)):v}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Ar();const l=ft(this)[t].apply(this,n);return Ir(),l}}),e}function ho(e=!1,t=!1){return function(l,v,S){if(v==="__v_isReactive")return!e;if(v==="__v_isReadonly")return e;if(v==="__v_isShallow")return t;if(v==="__v_raw"&&S===(e?t?Pl:$c:t?zc:Hc).get(l))return l;const D=et(l);if(!e&&D&&it(Go,v))return Reflect.get(Go,v,S);const $=Reflect.get(l,v,S);return(ao(v)?Uc.has(v):ll(v))||(e||tn(l,"get",v),t)?$:Wt($)?D&&co(v)?$:$.value:Pt($)?e?Wc($):ni($):$}}const gl=jc(),vl=jc(!0);function jc(e=!1){return function(n,l,v,S){let D=n[l];if(wr(D)&&Wt(D)&&!Wt(v))return!1;if(!e&&(!Ii(v)&&!wr(v)&&(D=ft(D),v=ft(v)),!et(n)&&Wt(D)&&!Wt(v)))return D.value=v,!0;const $=et(n)&&co(l)?Number(l)<n.length:it(n,l),z=Reflect.set(n,l,v,S);return n===ft(S)&&($?qr(v,D)&&Ln(n,"set",l,v):Ln(n,"add",l,v)),z}}function bl(e,t){const n=it(e,t);e[t];const l=Reflect.deleteProperty(e,t);return l&&n&&Ln(e,"delete",t,void 0),l}function yl(e,t){const n=Reflect.has(e,t);return(!ao(t)||!Uc.has(t))&&tn(e,"has",t),n}function _l(e){return tn(e,"iterate",et(e)?"length":rr),Reflect.ownKeys(e)}const Fc={get:hl,set:gl,deleteProperty:bl,has:yl,ownKeys:_l},wl={get:pl,set(e,t){return!0},deleteProperty(e,t){return!0}},El=qt({},Fc,{get:ul,set:vl}),uo=e=>e,zi=e=>Reflect.getPrototypeOf(e);function si(e,t,n=!1,l=!1){e=e.__v_raw;const v=ft(e),S=ft(t);n||(t!==S&&tn(v,"get",t),tn(v,"get",S));const{has:D}=zi(v),$=l?uo:n?go:Jr;if(D.call(v,t))return $(e.get(t));if(D.call(v,S))return $(e.get(S));e!==v&&e.get(t)}function oi(e,t=!1){const n=this.__v_raw,l=ft(n),v=ft(e);return t||(e!==v&&tn(l,"has",e),tn(l,"has",v)),e===v?n.has(e):n.has(e)||n.has(v)}function ai(e,t=!1){return e=e.__v_raw,!t&&tn(ft(e),"iterate",rr),Reflect.get(e,"size",e)}function Vo(e){e=ft(e);const t=ft(this);return zi(t).has.call(t,e)||(t.add(e),Ln(t,"add",e,e)),this}function qo(e,t){t=ft(t);const n=ft(this),{has:l,get:v}=zi(n);let S=l.call(n,e);S||(e=ft(e),S=l.call(n,e));const D=v.call(n,e);return n.set(e,t),S?qr(t,D)&&Ln(n,"set",e,t):Ln(n,"add",e,t),this}function Jo(e){const t=ft(this),{has:n,get:l}=zi(t);let v=n.call(t,e);v||(e=ft(e),v=n.call(t,e)),l&&l.call(t,e);const S=t.delete(e);return v&&Ln(t,"delete",e,void 0),S}function Yo(){const e=ft(this),t=e.size!==0,n=e.clear();return t&&Ln(e,"clear",void 0,void 0),n}function ci(e,t){return function(l,v){const S=this,D=S.__v_raw,$=ft(D),z=t?uo:e?go:Jr;return!e&&tn($,"iterate",rr),D.forEach((W,X)=>l.call(v,z(W),z(X),S))}}function di(e,t,n){return function(...l){const v=this.__v_raw,S=ft(v),D=vr(S),$=e==="entries"||e===Symbol.iterator&&D,z=e==="keys"&&D,W=v[e](...l),X=n?uo:t?go:Jr;return!t&&tn(S,"iterate",z?Bs:rr),{next(){const{value:b,done:ie}=W.next();return ie?{value:b,done:ie}:{value:$?[X(b[0]),X(b[1])]:X(b),done:ie}},[Symbol.iterator](){return this}}}}function Un(e){return function(...t){return e==="delete"?!1:this}}function Sl(){const e={get(S){return si(this,S)},get size(){return ai(this)},has:oi,add:Vo,set:qo,delete:Jo,clear:Yo,forEach:ci(!1,!1)},t={get(S){return si(this,S,!1,!0)},get size(){return ai(this)},has:oi,add:Vo,set:qo,delete:Jo,clear:Yo,forEach:ci(!1,!0)},n={get(S){return si(this,S,!0)},get size(){return ai(this,!0)},has(S){return oi.call(this,S,!0)},add:Un("add"),set:Un("set"),delete:Un("delete"),clear:Un("clear"),forEach:ci(!0,!1)},l={get(S){return si(this,S,!0,!0)},get size(){return ai(this,!0)},has(S){return oi.call(this,S,!0)},add:Un("add"),set:Un("set"),delete:Un("delete"),clear:Un("clear"),forEach:ci(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(S=>{e[S]=di(S,!1,!1),n[S]=di(S,!0,!1),t[S]=di(S,!1,!0),l[S]=di(S,!0,!0)}),[e,n,t,l]}const[xl,kl,Cl,Tl]=Sl();function po(e,t){const n=t?e?Tl:Cl:e?kl:xl;return(l,v,S)=>v==="__v_isReactive"?!e:v==="__v_isReadonly"?e:v==="__v_raw"?l:Reflect.get(it(n,v)&&v in l?n:l,v,S)}const Rl={get:po(!1,!1)},Al={get:po(!1,!0)},Il={get:po(!0,!1)},Hc=new WeakMap,zc=new WeakMap,$c=new WeakMap,Pl=new WeakMap;function Bl(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ol(e){return e.__v_skip||!Object.isExtensible(e)?0:Bl(nl(e))}function ni(e){return wr(e)?e:mo(e,!1,Fc,Rl,Hc)}function Dl(e){return mo(e,!1,El,Al,zc)}function Wc(e){return mo(e,!0,wl,Il,$c)}function mo(e,t,n,l,v){if(!Pt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const S=v.get(e);if(S)return S;const D=Ol(e);if(D===0)return e;const $=new Proxy(e,D===2?l:n);return v.set(e,$),$}function br(e){return wr(e)?br(e.__v_raw):!!(e&&e.__v_isReactive)}function wr(e){return!!(e&&e.__v_isReadonly)}function Ii(e){return!!(e&&e.__v_isShallow)}function Kc(e){return br(e)||wr(e)}function ft(e){const t=e&&e.__v_raw;return t?ft(t):e}function Gc(e){return Ai(e,"__v_skip",!0),e}const Jr=e=>Pt(e)?ni(e):e,go=e=>Pt(e)?Wc(e):e;function Vc(e){Wn&&an&&(e=ft(e),Nc(e.dep||(e.dep=fo())))}function qc(e,t){e=ft(e),e.dep&&Os(e.dep)}function Wt(e){return!!(e&&e.__v_isRef===!0)}function Ds(e){return Jc(e,!1)}function Ll(e){return Jc(e,!0)}function Jc(e,t){return Wt(e)?e:new Ml(e,t)}class Ml{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:ft(t),this._value=n?t:Jr(t)}get value(){return Vc(this),this._value}set value(t){const n=this.__v_isShallow||Ii(t)||wr(t);t=n?t:ft(t),qr(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Jr(t),qc(this))}}function yr(e){return Wt(e)?e.value:e}const Nl={get:(e,t,n)=>yr(Reflect.get(e,t,n)),set:(e,t,n,l)=>{const v=e[t];return Wt(v)&&!Wt(n)?(v.value=n,!0):Reflect.set(e,t,n,l)}};function Yc(e){return br(e)?e:new Proxy(e,Nl)}var Xc;class Ul{constructor(t,n,l,v){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[Xc]=!1,this._dirty=!0,this.effect=new lo(t,()=>{this._dirty||(this._dirty=!0,qc(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!v,this.__v_isReadonly=l}get value(){const t=ft(this);return Vc(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}Xc="__v_isReadonly";function jl(e,t,n=!1){let l,v;const S=nt(e);return S?(l=e,v=fn):(l=e.get,v=e.set),new Ul(l,v,S||!v,n)}function Kn(e,t,n,l){let v;try{v=l?e(...l):e()}catch(S){$i(S,t,n)}return v}function ln(e,t,n,l){if(nt(e)){const S=Kn(e,t,n,l);return S&&Pc(S)&&S.catch(D=>{$i(D,t,n)}),S}const v=[];for(let S=0;S<e.length;S++)v.push(ln(e[S],t,n,l));return v}function $i(e,t,n,l=!0){const v=t?t.vnode:null;if(t){let S=t.parent;const D=t.proxy,$=n;for(;S;){const W=S.ec;if(W){for(let X=0;X<W.length;X++)if(W[X](e,D,$)===!1)return}S=S.parent}const z=t.appContext.config.errorHandler;if(z){Kn(z,null,10,[e,D,$]);return}}Fl(e,n,v,l)}function Fl(e,t,n,l=!0){console.error(e)}let Yr=!1,Ls=!1;const $t=[];let _n=0;const _r=[];let Pn=null,tr=0;const Zc=Promise.resolve();let vo=null;function Qc(e){const t=vo||Zc;return e?t.then(this?e.bind(this):e):t}function Hl(e){let t=_n+1,n=$t.length;for(;t<n;){const l=t+n>>>1;Xr($t[l])<e?t=l+1:n=l}return t}function bo(e){(!$t.length||!$t.includes(e,Yr&&e.allowRecurse?_n+1:_n))&&(e.id==null?$t.push(e):$t.splice(Hl(e.id),0,e),ed())}function ed(){!Yr&&!Ls&&(Ls=!0,vo=Zc.then(nd))}function zl(e){const t=$t.indexOf(e);t>_n&&$t.splice(t,1)}function $l(e){et(e)?_r.push(...e):(!Pn||!Pn.includes(e,e.allowRecurse?tr+1:tr))&&_r.push(e),ed()}function Xo(e,t=Yr?_n+1:0){for(;t<$t.length;t++){const n=$t[t];n&&n.pre&&($t.splice(t,1),t--,n())}}function td(e){if(_r.length){const t=[...new Set(_r)];if(_r.length=0,Pn){Pn.push(...t);return}for(Pn=t,Pn.sort((n,l)=>Xr(n)-Xr(l)),tr=0;tr<Pn.length;tr++)Pn[tr]();Pn=null,tr=0}}const Xr=e=>e.id==null?1/0:e.id,Wl=(e,t)=>{const n=Xr(e)-Xr(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function nd(e){Ls=!1,Yr=!0,$t.sort(Wl);const t=fn;try{for(_n=0;_n<$t.length;_n++){const n=$t[_n];n&&n.active!==!1&&Kn(n,null,14)}}finally{_n=0,$t.length=0,td(),Yr=!1,vo=null,($t.length||_r.length)&&nd()}}function Kl(e,t,...n){if(e.isUnmounted)return;const l=e.vnode.props||Et;let v=n;const S=t.startsWith("update:"),D=S&&t.slice(7);if(D&&D in l){const X=`${D==="modelValue"?"model":D}Modifiers`,{number:b,trim:ie}=l[X]||Et;ie&&(v=n.map(_e=>_e.trim())),b&&(v=n.map(sl))}let $,z=l[$=is(t)]||l[$=is(Sn(t))];!z&&S&&(z=l[$=is(Rr(t))]),z&&ln(z,e,6,v);const W=l[$+"Once"];if(W){if(!e.emitted)e.emitted={};else if(e.emitted[$])return;e.emitted[$]=!0,ln(W,e,6,v)}}function rd(e,t,n=!1){const l=t.emitsCache,v=l.get(e);if(v!==void 0)return v;const S=e.emits;let D={},$=!1;if(!nt(e)){const z=W=>{const X=rd(W,t,!0);X&&($=!0,qt(D,X))};!n&&t.mixins.length&&t.mixins.forEach(z),e.extends&&z(e.extends),e.mixins&&e.mixins.forEach(z)}return!S&&!$?(Pt(e)&&l.set(e,null),null):(et(S)?S.forEach(z=>D[z]=null):qt(D,S),Pt(e)&&l.set(e,D),D)}function Wi(e,t){return!e||!Ui(t)?!1:(t=t.slice(2).replace(/Once$/,""),it(e,t[0].toLowerCase()+t.slice(1))||it(e,Rr(t))||it(e,t))}let wn=null,Ki=null;function Pi(e){const t=wn;return wn=e,Ki=e&&e.type.__scopeId||null,t}function Gi(e){Ki=e}function Vi(){Ki=null}function jr(e,t=wn,n){if(!t||e._n)return e;const l=(...v)=>{l._d&&aa(-1);const S=Pi(t),D=e(...v);return Pi(S),l._d&&aa(1),D};return l._n=!0,l._c=!0,l._d=!0,l}function os(e){const{type:t,vnode:n,proxy:l,withProxy:v,props:S,propsOptions:[D],slots:$,attrs:z,emit:W,render:X,renderCache:b,data:ie,setupState:_e,ctx:be,inheritAttrs:Ee}=e;let ke,Te;const x=Pi(e);try{if(n.shapeFlag&4){const O=v||l;ke=yn(X.call(O,O,b,S,_e,ie,be)),Te=z}else{const O=t;ke=yn(O.length>1?O(S,{attrs:z,slots:$,emit:W}):O(S,null)),Te=t.props?z:Gl(z)}}catch(O){$r.length=0,$i(O,e,1),ke=Ot(sr)}let V=ke;if(Te&&Ee!==!1){const O=Object.keys(Te),{shapeFlag:g}=V;O.length&&g&7&&(D&&O.some(so)&&(Te=Vl(Te,D)),V=Er(V,Te))}return n.dirs&&(V=Er(V),V.dirs=V.dirs?V.dirs.concat(n.dirs):n.dirs),n.transition&&(V.transition=n.transition),ke=V,Pi(x),ke}const Gl=e=>{let t;for(const n in e)(n==="class"||n==="style"||Ui(n))&&((t||(t={}))[n]=e[n]);return t},Vl=(e,t)=>{const n={};for(const l in e)(!so(l)||!(l.slice(9)in t))&&(n[l]=e[l]);return n};function ql(e,t,n){const{props:l,children:v,component:S}=e,{props:D,children:$,patchFlag:z}=t,W=S.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&z>=0){if(z&1024)return!0;if(z&16)return l?Zo(l,D,W):!!D;if(z&8){const X=t.dynamicProps;for(let b=0;b<X.length;b++){const ie=X[b];if(D[ie]!==l[ie]&&!Wi(W,ie))return!0}}}else return(v||$)&&(!$||!$.$stable)?!0:l===D?!1:l?D?Zo(l,D,W):!0:!!D;return!1}function Zo(e,t,n){const l=Object.keys(t);if(l.length!==Object.keys(e).length)return!0;for(let v=0;v<l.length;v++){const S=l[v];if(t[S]!==e[S]&&!Wi(n,S))return!0}return!1}function Jl({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const Yl=e=>e.__isSuspense;function Xl(e,t){t&&t.pendingBranch?et(e)?t.effects.push(...e):t.effects.push(e):$l(e)}function bi(e,t){if(Ut){let n=Ut.provides;const l=Ut.parent&&Ut.parent.provides;l===n&&(n=Ut.provides=Object.create(l)),n[e]=t}}function Gn(e,t,n=!1){const l=Ut||wn;if(l){const v=l.parent==null?l.vnode.appContext&&l.vnode.appContext.provides:l.parent.provides;if(v&&e in v)return v[e];if(arguments.length>1)return n&&nt(t)?t.call(l.proxy):t}}const Qo={};function yi(e,t,n){return id(e,t,n)}function id(e,t,{immediate:n,deep:l,flush:v,onTrack:S,onTrigger:D}=Et){const $=Ut;let z,W=!1,X=!1;if(Wt(e)?(z=()=>e.value,W=Ii(e)):br(e)?(z=()=>e,l=!0):et(e)?(X=!0,W=e.some(Te=>br(Te)||Ii(Te)),z=()=>e.map(Te=>{if(Wt(Te))return Te.value;if(br(Te))return mr(Te);if(nt(Te))return Kn(Te,$,2)})):nt(e)?t?z=()=>Kn(e,$,2):z=()=>{if(!($&&$.isUnmounted))return b&&b(),ln(e,$,3,[ie])}:z=fn,t&&l){const Te=z;z=()=>mr(Te())}let b,ie=Te=>{b=ke.onStop=()=>{Kn(Te,$,4)}};if(Qr)return ie=fn,t?n&&ln(t,$,3,[z(),X?[]:void 0,ie]):z(),fn;let _e=X?[]:Qo;const be=()=>{if(!!ke.active)if(t){const Te=ke.run();(l||W||(X?Te.some((x,V)=>qr(x,_e[V])):qr(Te,_e)))&&(b&&b(),ln(t,$,3,[Te,_e===Qo?void 0:_e,ie]),_e=Te)}else ke.run()};be.allowRecurse=!!t;let Ee;v==="sync"?Ee=be:v==="post"?Ee=()=>Yt(be,$&&$.suspense):(be.pre=!0,$&&(be.id=$.uid),Ee=()=>bo(be));const ke=new lo(z,Ee);return t?n?be():_e=ke.run():v==="post"?Yt(ke.run.bind(ke),$&&$.suspense):ke.run(),()=>{ke.stop(),$&&$.scope&&oo($.scope.effects,ke)}}function Zl(e,t,n){const l=this.proxy,v=Mt(e)?e.includes(".")?sd(l,e):()=>l[e]:e.bind(l,l);let S;nt(t)?S=t:(S=t.handler,n=t);const D=Ut;Sr(this);const $=id(v,S.bind(l),n);return D?Sr(D):ir(),$}function sd(e,t){const n=t.split(".");return()=>{let l=e;for(let v=0;v<n.length&&l;v++)l=l[n[v]];return l}}function mr(e,t){if(!Pt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Wt(e))mr(e.value,t);else if(et(e))for(let n=0;n<e.length;n++)mr(e[n],t);else if(Ic(e)||vr(e))e.forEach(n=>{mr(n,t)});else if(Oc(e))for(const n in e)mr(e[n],t);return e}function yo(e){return nt(e)?{setup:e,name:e.name}:e}const _i=e=>!!e.type.__asyncLoader,od=e=>e.type.__isKeepAlive;function Ql(e,t){ad(e,"a",t)}function eh(e,t){ad(e,"da",t)}function ad(e,t,n=Ut){const l=e.__wdc||(e.__wdc=()=>{let v=n;for(;v;){if(v.isDeactivated)return;v=v.parent}return e()});if(qi(t,l,n),n){let v=n.parent;for(;v&&v.parent;)od(v.parent.vnode)&&th(l,t,n,v),v=v.parent}}function th(e,t,n,l){const v=qi(t,e,l,!0);cd(()=>{oo(l[t],v)},n)}function qi(e,t,n=Ut,l=!1){if(n){const v=n[e]||(n[e]=[]),S=t.__weh||(t.__weh=(...D)=>{if(n.isUnmounted)return;Ar(),Sr(n);const $=ln(t,n,e,D);return ir(),Ir(),$});return l?v.unshift(S):v.push(S),S}}const Mn=e=>(t,n=Ut)=>(!Qr||e==="sp")&&qi(e,t,n),nh=Mn("bm"),rh=Mn("m"),ih=Mn("bu"),sh=Mn("u"),oh=Mn("bum"),cd=Mn("um"),ah=Mn("sp"),ch=Mn("rtg"),dh=Mn("rtc");function fh(e,t=Ut){qi("ec",e,t)}function Jn(e,t,n,l){const v=e.dirs,S=t&&t.dirs;for(let D=0;D<v.length;D++){const $=v[D];S&&($.oldValue=S[D].value);let z=$.dir[l];z&&(Ar(),ln(z,n,8,[e.el,$,e,t]),Ir())}}const dd="components";function Ms(e,t){return hh(dd,e,!0,t)||e}const lh=Symbol();function hh(e,t,n=!0,l=!1){const v=wn||Ut;if(v){const S=v.type;if(e===dd){const $=Kh(S,!1);if($&&($===t||$===Sn(t)||$===Hi(Sn(t))))return S}const D=ea(v[e]||S[e],t)||ea(v.appContext[e],t);return!D&&l?S:D}}function ea(e,t){return e&&(e[t]||e[Sn(t)]||e[Hi(Sn(t))])}function uh(e,t,n,l){let v;const S=n&&n[l];if(et(e)||Mt(e)){v=new Array(e.length);for(let D=0,$=e.length;D<$;D++)v[D]=t(e[D],D,void 0,S&&S[D])}else if(typeof e=="number"){v=new Array(e);for(let D=0;D<e;D++)v[D]=t(D+1,D,void 0,S&&S[D])}else if(Pt(e))if(e[Symbol.iterator])v=Array.from(e,(D,$)=>t(D,$,void 0,S&&S[$]));else{const D=Object.keys(e);v=new Array(D.length);for(let $=0,z=D.length;$<z;$++){const W=D[$];v[$]=t(e[W],W,$,S&&S[$])}}else v=[];return n&&(n[l]=v),v}const Ns=e=>e?_d(e)?xo(e)||e.proxy:Ns(e.parent):null,Bi=qt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ns(e.parent),$root:e=>Ns(e.root),$emit:e=>e.emit,$options:e=>_o(e),$forceUpdate:e=>e.f||(e.f=()=>bo(e.update)),$nextTick:e=>e.n||(e.n=Qc.bind(e.proxy)),$watch:e=>Zl.bind(e)}),ph={get({_:e},t){const{ctx:n,setupState:l,data:v,props:S,accessCache:D,type:$,appContext:z}=e;let W;if(t[0]!=="$"){const _e=D[t];if(_e!==void 0)switch(_e){case 1:return l[t];case 2:return v[t];case 4:return n[t];case 3:return S[t]}else{if(l!==Et&&it(l,t))return D[t]=1,l[t];if(v!==Et&&it(v,t))return D[t]=2,v[t];if((W=e.propsOptions[0])&&it(W,t))return D[t]=3,S[t];if(n!==Et&&it(n,t))return D[t]=4,n[t];Us&&(D[t]=0)}}const X=Bi[t];let b,ie;if(X)return t==="$attrs"&&tn(e,"get",t),X(e);if((b=$.__cssModules)&&(b=b[t]))return b;if(n!==Et&&it(n,t))return D[t]=4,n[t];if(ie=z.config.globalProperties,it(ie,t))return ie[t]},set({_:e},t,n){const{data:l,setupState:v,ctx:S}=e;return v!==Et&&it(v,t)?(v[t]=n,!0):l!==Et&&it(l,t)?(l[t]=n,!0):it(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(S[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:l,appContext:v,propsOptions:S}},D){let $;return!!n[D]||e!==Et&&it(e,D)||t!==Et&&it(t,D)||($=S[0])&&it($,D)||it(l,D)||it(Bi,D)||it(v.config.globalProperties,D)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:it(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let Us=!0;function mh(e){const t=_o(e),n=e.proxy,l=e.ctx;Us=!1,t.beforeCreate&&ta(t.beforeCreate,e,"bc");const{data:v,computed:S,methods:D,watch:$,provide:z,inject:W,created:X,beforeMount:b,mounted:ie,beforeUpdate:_e,updated:be,activated:Ee,deactivated:ke,beforeDestroy:Te,beforeUnmount:x,destroyed:V,unmounted:O,render:g,renderTracked:C,renderTriggered:E,errorCaptured:y,serverPrefetch:i,expose:m,inheritAttrs:a,components:o,directives:h,filters:s}=t;if(W&&gh(W,l,null,e.appContext.config.unwrapInjectedRef),D)for(const c in D){const f=D[c];nt(f)&&(l[c]=f.bind(n))}if(v){const c=v.call(n,n);Pt(c)&&(e.data=ni(c))}if(Us=!0,S)for(const c in S){const f=S[c],u=nt(f)?f.bind(n,n):nt(f.get)?f.get.bind(n,n):fn,k=!nt(f)&&nt(f.set)?f.set.bind(n):fn,R=rn({get:u,set:k});Object.defineProperty(l,c,{enumerable:!0,configurable:!0,get:()=>R.value,set:A=>R.value=A})}if($)for(const c in $)fd($[c],l,n,c);if(z){const c=nt(z)?z.call(n):z;Reflect.ownKeys(c).forEach(f=>{bi(f,c[f])})}X&&ta(X,e,"c");function d(c,f){et(f)?f.forEach(u=>c(u.bind(n))):f&&c(f.bind(n))}if(d(nh,b),d(rh,ie),d(ih,_e),d(sh,be),d(Ql,Ee),d(eh,ke),d(fh,y),d(dh,C),d(ch,E),d(oh,x),d(cd,O),d(ah,i),et(m))if(m.length){const c=e.exposed||(e.exposed={});m.forEach(f=>{Object.defineProperty(c,f,{get:()=>n[f],set:u=>n[f]=u})})}else e.exposed||(e.exposed={});g&&e.render===fn&&(e.render=g),a!=null&&(e.inheritAttrs=a),o&&(e.components=o),h&&(e.directives=h)}function gh(e,t,n=fn,l=!1){et(e)&&(e=js(e));for(const v in e){const S=e[v];let D;Pt(S)?"default"in S?D=Gn(S.from||v,S.default,!0):D=Gn(S.from||v):D=Gn(S),Wt(D)&&l?Object.defineProperty(t,v,{enumerable:!0,configurable:!0,get:()=>D.value,set:$=>D.value=$}):t[v]=D}}function ta(e,t,n){ln(et(e)?e.map(l=>l.bind(t.proxy)):e.bind(t.proxy),t,n)}function fd(e,t,n,l){const v=l.includes(".")?sd(n,l):()=>n[l];if(Mt(e)){const S=t[e];nt(S)&&yi(v,S)}else if(nt(e))yi(v,e.bind(n));else if(Pt(e))if(et(e))e.forEach(S=>fd(S,t,n,l));else{const S=nt(e.handler)?e.handler.bind(n):t[e.handler];nt(S)&&yi(v,S,e)}}function _o(e){const t=e.type,{mixins:n,extends:l}=t,{mixins:v,optionsCache:S,config:{optionMergeStrategies:D}}=e.appContext,$=S.get(t);let z;return $?z=$:!v.length&&!n&&!l?z=t:(z={},v.length&&v.forEach(W=>Oi(z,W,D,!0)),Oi(z,t,D)),Pt(t)&&S.set(t,z),z}function Oi(e,t,n,l=!1){const{mixins:v,extends:S}=t;S&&Oi(e,S,n,!0),v&&v.forEach(D=>Oi(e,D,n,!0));for(const D in t)if(!(l&&D==="expose")){const $=vh[D]||n&&n[D];e[D]=$?$(e[D],t[D]):t[D]}return e}const vh={data:na,props:er,emits:er,methods:er,computed:er,beforeCreate:Vt,created:Vt,beforeMount:Vt,mounted:Vt,beforeUpdate:Vt,updated:Vt,beforeDestroy:Vt,beforeUnmount:Vt,destroyed:Vt,unmounted:Vt,activated:Vt,deactivated:Vt,errorCaptured:Vt,serverPrefetch:Vt,components:er,directives:er,watch:yh,provide:na,inject:bh};function na(e,t){return t?e?function(){return qt(nt(e)?e.call(this,this):e,nt(t)?t.call(this,this):t)}:t:e}function bh(e,t){return er(js(e),js(t))}function js(e){if(et(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Vt(e,t){return e?[...new Set([].concat(e,t))]:t}function er(e,t){return e?qt(qt(Object.create(null),e),t):t}function yh(e,t){if(!e)return t;if(!t)return e;const n=qt(Object.create(null),e);for(const l in t)n[l]=Vt(e[l],t[l]);return n}function _h(e,t,n,l=!1){const v={},S={};Ai(S,Ji,1),e.propsDefaults=Object.create(null),ld(e,t,v,S);for(const D in e.propsOptions[0])D in v||(v[D]=void 0);n?e.props=l?v:Dl(v):e.type.props?e.props=v:e.props=S,e.attrs=S}function wh(e,t,n,l){const{props:v,attrs:S,vnode:{patchFlag:D}}=e,$=ft(v),[z]=e.propsOptions;let W=!1;if((l||D>0)&&!(D&16)){if(D&8){const X=e.vnode.dynamicProps;for(let b=0;b<X.length;b++){let ie=X[b];if(Wi(e.emitsOptions,ie))continue;const _e=t[ie];if(z)if(it(S,ie))_e!==S[ie]&&(S[ie]=_e,W=!0);else{const be=Sn(ie);v[be]=Fs(z,$,be,_e,e,!1)}else _e!==S[ie]&&(S[ie]=_e,W=!0)}}}else{ld(e,t,v,S)&&(W=!0);let X;for(const b in $)(!t||!it(t,b)&&((X=Rr(b))===b||!it(t,X)))&&(z?n&&(n[b]!==void 0||n[X]!==void 0)&&(v[b]=Fs(z,$,b,void 0,e,!0)):delete v[b]);if(S!==$)for(const b in S)(!t||!it(t,b)&&!0)&&(delete S[b],W=!0)}W&&Ln(e,"set","$attrs")}function ld(e,t,n,l){const[v,S]=e.propsOptions;let D=!1,$;if(t)for(let z in t){if(vi(z))continue;const W=t[z];let X;v&&it(v,X=Sn(z))?!S||!S.includes(X)?n[X]=W:($||($={}))[X]=W:Wi(e.emitsOptions,z)||(!(z in l)||W!==l[z])&&(l[z]=W,D=!0)}if(S){const z=ft(n),W=$||Et;for(let X=0;X<S.length;X++){const b=S[X];n[b]=Fs(v,z,b,W[b],e,!it(W,b))}}return D}function Fs(e,t,n,l,v,S){const D=e[n];if(D!=null){const $=it(D,"default");if($&&l===void 0){const z=D.default;if(D.type!==Function&&nt(z)){const{propsDefaults:W}=v;n in W?l=W[n]:(Sr(v),l=W[n]=z.call(null,t),ir())}else l=z}D[0]&&(S&&!$?l=!1:D[1]&&(l===""||l===Rr(n))&&(l=!0))}return l}function hd(e,t,n=!1){const l=t.propsCache,v=l.get(e);if(v)return v;const S=e.props,D={},$=[];let z=!1;if(!nt(e)){const X=b=>{z=!0;const[ie,_e]=hd(b,t,!0);qt(D,ie),_e&&$.push(..._e)};!n&&t.mixins.length&&t.mixins.forEach(X),e.extends&&X(e.extends),e.mixins&&e.mixins.forEach(X)}if(!S&&!z)return Pt(e)&&l.set(e,gr),gr;if(et(S))for(let X=0;X<S.length;X++){const b=Sn(S[X]);ra(b)&&(D[b]=Et)}else if(S)for(const X in S){const b=Sn(X);if(ra(b)){const ie=S[X],_e=D[b]=et(ie)||nt(ie)?{type:ie}:ie;if(_e){const be=oa(Boolean,_e.type),Ee=oa(String,_e.type);_e[0]=be>-1,_e[1]=Ee<0||be<Ee,(be>-1||it(_e,"default"))&&$.push(b)}}}const W=[D,$];return Pt(e)&&l.set(e,W),W}function ra(e){return e[0]!=="$"}function ia(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function sa(e,t){return ia(e)===ia(t)}function oa(e,t){return et(t)?t.findIndex(n=>sa(n,e)):nt(t)&&sa(t,e)?0:-1}const ud=e=>e[0]==="_"||e==="$stable",wo=e=>et(e)?e.map(yn):[yn(e)],Eh=(e,t,n)=>{if(t._n)return t;const l=jr((...v)=>wo(t(...v)),n);return l._c=!1,l},pd=(e,t,n)=>{const l=e._ctx;for(const v in e){if(ud(v))continue;const S=e[v];if(nt(S))t[v]=Eh(v,S,l);else if(S!=null){const D=wo(S);t[v]=()=>D}}},md=(e,t)=>{const n=wo(t);e.slots.default=()=>n},Sh=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=ft(t),Ai(t,"_",n)):pd(t,e.slots={})}else e.slots={},t&&md(e,t);Ai(e.slots,Ji,1)},xh=(e,t,n)=>{const{vnode:l,slots:v}=e;let S=!0,D=Et;if(l.shapeFlag&32){const $=t._;$?n&&$===1?S=!1:(qt(v,t),!n&&$===1&&delete v._):(S=!t.$stable,pd(t,v)),D=t}else t&&(md(e,t),D={default:1});if(S)for(const $ in v)!ud($)&&!($ in D)&&delete v[$]};function gd(){return{app:null,config:{isNativeTag:Qf,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let kh=0;function Ch(e,t){return function(l,v=null){nt(l)||(l=Object.assign({},l)),v!=null&&!Pt(v)&&(v=null);const S=gd(),D=new Set;let $=!1;const z=S.app={_uid:kh++,_component:l,_props:v,_container:null,_context:S,_instance:null,version:Vh,get config(){return S.config},set config(W){},use(W,...X){return D.has(W)||(W&&nt(W.install)?(D.add(W),W.install(z,...X)):nt(W)&&(D.add(W),W(z,...X))),z},mixin(W){return S.mixins.includes(W)||S.mixins.push(W),z},component(W,X){return X?(S.components[W]=X,z):S.components[W]},directive(W,X){return X?(S.directives[W]=X,z):S.directives[W]},mount(W,X,b){if(!$){const ie=Ot(l,v);return ie.appContext=S,X&&t?t(ie,W):e(ie,W,b),$=!0,z._container=W,W.__vue_app__=z,xo(ie.component)||ie.component.proxy}},unmount(){$&&(e(null,z._container),delete z._container.__vue_app__)},provide(W,X){return S.provides[W]=X,z}};return z}}function Hs(e,t,n,l,v=!1){if(et(e)){e.forEach((ie,_e)=>Hs(ie,t&&(et(t)?t[_e]:t),n,l,v));return}if(_i(l)&&!v)return;const S=l.shapeFlag&4?xo(l.component)||l.component.proxy:l.el,D=v?null:S,{i:$,r:z}=e,W=t&&t.r,X=$.refs===Et?$.refs={}:$.refs,b=$.setupState;if(W!=null&&W!==z&&(Mt(W)?(X[W]=null,it(b,W)&&(b[W]=null)):Wt(W)&&(W.value=null)),nt(z))Kn(z,$,12,[D,X]);else{const ie=Mt(z),_e=Wt(z);if(ie||_e){const be=()=>{if(e.f){const Ee=ie?X[z]:z.value;v?et(Ee)&&oo(Ee,S):et(Ee)?Ee.includes(S)||Ee.push(S):ie?(X[z]=[S],it(b,z)&&(b[z]=X[z])):(z.value=[S],e.k&&(X[e.k]=z.value))}else ie?(X[z]=D,it(b,z)&&(b[z]=D)):_e&&(z.value=D,e.k&&(X[e.k]=D))};D?(be.id=-1,Yt(be,n)):be()}}}const Yt=Xl;function Th(e){return Rh(e)}function Rh(e,t){const n=ol();n.__VUE__=!0;const{insert:l,remove:v,patchProp:S,createElement:D,createText:$,createComment:z,setText:W,setElementText:X,parentNode:b,nextSibling:ie,setScopeId:_e=fn,cloneNode:be,insertStaticContent:Ee}=e,ke=(_,p,T,M=null,F=null,j=null,U=!1,K=null,Q=!!p.dynamicChildren)=>{if(_===p)return;_&&!Or(_,p)&&(M=J(_),w(_,F,j,!0),_=null),p.patchFlag===-2&&(Q=!1,p.dynamicChildren=null);const{type:ee,ref:fe,shapeFlag:ae}=p;switch(ee){case Eo:Te(_,p,T,M);break;case sr:x(_,p,T,M);break;case wi:_==null&&V(p,T,M,U);break;case nn:h(_,p,T,M,F,j,U,K,Q);break;default:ae&1?C(_,p,T,M,F,j,U,K,Q):ae&6?s(_,p,T,M,F,j,U,K,Q):(ae&64||ae&128)&&ee.process(_,p,T,M,F,j,U,K,Q,ce)}fe!=null&&F&&Hs(fe,_&&_.ref,j,p||_,!p)},Te=(_,p,T,M)=>{if(_==null)l(p.el=$(p.children),T,M);else{const F=p.el=_.el;p.children!==_.children&&W(F,p.children)}},x=(_,p,T,M)=>{_==null?l(p.el=z(p.children||""),T,M):p.el=_.el},V=(_,p,T,M)=>{[_.el,_.anchor]=Ee(_.children,p,T,M,_.el,_.anchor)},O=({el:_,anchor:p},T,M)=>{let F;for(;_&&_!==p;)F=ie(_),l(_,T,M),_=F;l(p,T,M)},g=({el:_,anchor:p})=>{let T;for(;_&&_!==p;)T=ie(_),v(_),_=T;v(p)},C=(_,p,T,M,F,j,U,K,Q)=>{U=U||p.type==="svg",_==null?E(p,T,M,F,j,U,K,Q):m(_,p,F,j,U,K,Q)},E=(_,p,T,M,F,j,U,K)=>{let Q,ee;const{type:fe,props:ae,shapeFlag:me,transition:he,patchFlag:Se,dirs:Ae}=_;if(_.el&&be!==void 0&&Se===-1)Q=_.el=be(_.el);else{if(Q=_.el=D(_.type,j,ae&&ae.is,ae),me&8?X(Q,_.children):me&16&&i(_.children,Q,null,M,F,j&&fe!=="foreignObject",U,K),Ae&&Jn(_,null,M,"created"),ae){for(const ge in ae)ge!=="value"&&!vi(ge)&&S(Q,ge,null,ae[ge],j,_.children,M,F,G);"value"in ae&&S(Q,"value",null,ae.value),(ee=ae.onVnodeBeforeMount)&&vn(ee,M,_)}y(Q,_,_.scopeId,U,M)}Ae&&Jn(_,null,M,"beforeMount");const pe=(!F||F&&!F.pendingBranch)&&he&&!he.persisted;pe&&he.beforeEnter(Q),l(Q,p,T),((ee=ae&&ae.onVnodeMounted)||pe||Ae)&&Yt(()=>{ee&&vn(ee,M,_),pe&&he.enter(Q),Ae&&Jn(_,null,M,"mounted")},F)},y=(_,p,T,M,F)=>{if(T&&_e(_,T),M)for(let j=0;j<M.length;j++)_e(_,M[j]);if(F){let j=F.subTree;if(p===j){const U=F.vnode;y(_,U,U.scopeId,U.slotScopeIds,F.parent)}}},i=(_,p,T,M,F,j,U,K,Q=0)=>{for(let ee=Q;ee<_.length;ee++){const fe=_[ee]=K?Hn(_[ee]):yn(_[ee]);ke(null,fe,p,T,M,F,j,U,K)}},m=(_,p,T,M,F,j,U)=>{const K=p.el=_.el;let{patchFlag:Q,dynamicChildren:ee,dirs:fe}=p;Q|=_.patchFlag&16;const ae=_.props||Et,me=p.props||Et;let he;T&&Yn(T,!1),(he=me.onVnodeBeforeUpdate)&&vn(he,T,p,_),fe&&Jn(p,_,T,"beforeUpdate"),T&&Yn(T,!0);const Se=F&&p.type!=="foreignObject";if(ee?a(_.dynamicChildren,ee,K,T,M,Se,j):U||u(_,p,K,null,T,M,Se,j,!1),Q>0){if(Q&16)o(K,p,ae,me,T,M,F);else if(Q&2&&ae.class!==me.class&&S(K,"class",null,me.class,F),Q&4&&S(K,"style",ae.style,me.style,F),Q&8){const Ae=p.dynamicProps;for(let pe=0;pe<Ae.length;pe++){const ge=Ae[pe],xe=ae[ge],Ce=me[ge];(Ce!==xe||ge==="value")&&S(K,ge,xe,Ce,F,_.children,T,M,G)}}Q&1&&_.children!==p.children&&X(K,p.children)}else!U&&ee==null&&o(K,p,ae,me,T,M,F);((he=me.onVnodeUpdated)||fe)&&Yt(()=>{he&&vn(he,T,p,_),fe&&Jn(p,_,T,"updated")},M)},a=(_,p,T,M,F,j,U)=>{for(let K=0;K<p.length;K++){const Q=_[K],ee=p[K],fe=Q.el&&(Q.type===nn||!Or(Q,ee)||Q.shapeFlag&70)?b(Q.el):T;ke(Q,ee,fe,null,M,F,j,U,!0)}},o=(_,p,T,M,F,j,U)=>{if(T!==M){for(const K in M){if(vi(K))continue;const Q=M[K],ee=T[K];Q!==ee&&K!=="value"&&S(_,K,ee,Q,U,p.children,F,j,G)}if(T!==Et)for(const K in T)!vi(K)&&!(K in M)&&S(_,K,T[K],null,U,p.children,F,j,G);"value"in M&&S(_,"value",T.value,M.value)}},h=(_,p,T,M,F,j,U,K,Q)=>{const ee=p.el=_?_.el:$(""),fe=p.anchor=_?_.anchor:$("");let{patchFlag:ae,dynamicChildren:me,slotScopeIds:he}=p;he&&(K=K?K.concat(he):he),_==null?(l(ee,T,M),l(fe,T,M),i(p.children,T,fe,F,j,U,K,Q)):ae>0&&ae&64&&me&&_.dynamicChildren?(a(_.dynamicChildren,me,T,F,j,U,K),(p.key!=null||F&&p===F.subTree)&&vd(_,p,!0)):u(_,p,T,fe,F,j,U,K,Q)},s=(_,p,T,M,F,j,U,K,Q)=>{p.slotScopeIds=K,_==null?p.shapeFlag&512?F.ctx.activate(p,T,M,U,Q):r(p,T,M,F,j,U,Q):d(_,p,Q)},r=(_,p,T,M,F,j,U)=>{const K=_.component=Fh(_,M,F);if(od(_)&&(K.ctx.renderer=ce),Hh(K),K.asyncDep){if(F&&F.registerDep(K,c),!_.el){const Q=K.subTree=Ot(sr);x(null,Q,p,T)}return}c(K,_,p,T,F,j,U)},d=(_,p,T)=>{const M=p.component=_.component;if(ql(_,p,T))if(M.asyncDep&&!M.asyncResolved){f(M,p,T);return}else M.next=p,zl(M.update),M.update();else p.el=_.el,M.vnode=p},c=(_,p,T,M,F,j,U)=>{const K=()=>{if(_.isMounted){let{next:fe,bu:ae,u:me,parent:he,vnode:Se}=_,Ae=fe,pe;Yn(_,!1),fe?(fe.el=Se.el,f(_,fe,U)):fe=Se,ae&&ss(ae),(pe=fe.props&&fe.props.onVnodeBeforeUpdate)&&vn(pe,he,fe,Se),Yn(_,!0);const ge=os(_),xe=_.subTree;_.subTree=ge,ke(xe,ge,b(xe.el),J(xe),_,F,j),fe.el=ge.el,Ae===null&&Jl(_,ge.el),me&&Yt(me,F),(pe=fe.props&&fe.props.onVnodeUpdated)&&Yt(()=>vn(pe,he,fe,Se),F)}else{let fe;const{el:ae,props:me}=p,{bm:he,m:Se,parent:Ae}=_,pe=_i(p);if(Yn(_,!1),he&&ss(he),!pe&&(fe=me&&me.onVnodeBeforeMount)&&vn(fe,Ae,p),Yn(_,!0),ae&&B){const ge=()=>{_.subTree=os(_),B(ae,_.subTree,_,F,null)};pe?p.type.__asyncLoader().then(()=>!_.isUnmounted&&ge()):ge()}else{const ge=_.subTree=os(_);ke(null,ge,T,M,_,F,j),p.el=ge.el}if(Se&&Yt(Se,F),!pe&&(fe=me&&me.onVnodeMounted)){const ge=p;Yt(()=>vn(fe,Ae,ge),F)}(p.shapeFlag&256||Ae&&_i(Ae.vnode)&&Ae.vnode.shapeFlag&256)&&_.a&&Yt(_.a,F),_.isMounted=!0,p=T=M=null}},Q=_.effect=new lo(K,()=>bo(ee),_.scope),ee=_.update=()=>Q.run();ee.id=_.uid,Yn(_,!0),ee()},f=(_,p,T)=>{p.component=_;const M=_.vnode.props;_.vnode=p,_.next=null,wh(_,p.props,M,T),xh(_,p.children,T),Ar(),Xo(),Ir()},u=(_,p,T,M,F,j,U,K,Q=!1)=>{const ee=_&&_.children,fe=_?_.shapeFlag:0,ae=p.children,{patchFlag:me,shapeFlag:he}=p;if(me>0){if(me&128){R(ee,ae,T,M,F,j,U,K,Q);return}else if(me&256){k(ee,ae,T,M,F,j,U,K,Q);return}}he&8?(fe&16&&G(ee,F,j),ae!==ee&&X(T,ae)):fe&16?he&16?R(ee,ae,T,M,F,j,U,K,Q):G(ee,F,j,!0):(fe&8&&X(T,""),he&16&&i(ae,T,M,F,j,U,K,Q))},k=(_,p,T,M,F,j,U,K,Q)=>{_=_||gr,p=p||gr;const ee=_.length,fe=p.length,ae=Math.min(ee,fe);let me;for(me=0;me<ae;me++){const he=p[me]=Q?Hn(p[me]):yn(p[me]);ke(_[me],he,T,null,F,j,U,K,Q)}ee>fe?G(_,F,j,!0,!1,ae):i(p,T,M,F,j,U,K,Q,ae)},R=(_,p,T,M,F,j,U,K,Q)=>{let ee=0;const fe=p.length;let ae=_.length-1,me=fe-1;for(;ee<=ae&&ee<=me;){const he=_[ee],Se=p[ee]=Q?Hn(p[ee]):yn(p[ee]);if(Or(he,Se))ke(he,Se,T,null,F,j,U,K,Q);else break;ee++}for(;ee<=ae&&ee<=me;){const he=_[ae],Se=p[me]=Q?Hn(p[me]):yn(p[me]);if(Or(he,Se))ke(he,Se,T,null,F,j,U,K,Q);else break;ae--,me--}if(ee>ae){if(ee<=me){const he=me+1,Se=he<fe?p[he].el:M;for(;ee<=me;)ke(null,p[ee]=Q?Hn(p[ee]):yn(p[ee]),T,Se,F,j,U,K,Q),ee++}}else if(ee>me)for(;ee<=ae;)w(_[ee],F,j,!0),ee++;else{const he=ee,Se=ee,Ae=new Map;for(ee=Se;ee<=me;ee++){const H=p[ee]=Q?Hn(p[ee]):yn(p[ee]);H.key!=null&&Ae.set(H.key,ee)}let pe,ge=0;const xe=me-Se+1;let Ce=!1,de=0;const q=new Array(xe);for(ee=0;ee<xe;ee++)q[ee]=0;for(ee=he;ee<=ae;ee++){const H=_[ee];if(ge>=xe){w(H,F,j,!0);continue}let Z;if(H.key!=null)Z=Ae.get(H.key);else for(pe=Se;pe<=me;pe++)if(q[pe-Se]===0&&Or(H,p[pe])){Z=pe;break}Z===void 0?w(H,F,j,!0):(q[Z-Se]=ee+1,Z>=de?de=Z:Ce=!0,ke(H,p[Z],T,null,F,j,U,K,Q),ge++)}const P=Ce?Ah(q):gr;for(pe=P.length-1,ee=xe-1;ee>=0;ee--){const H=Se+ee,Z=p[H],oe=H+1<fe?p[H+1].el:M;q[ee]===0?ke(null,Z,T,oe,F,j,U,K,Q):Ce&&(pe<0||ee!==P[pe]?A(Z,T,oe,2):pe--)}}},A=(_,p,T,M,F=null)=>{const{el:j,type:U,transition:K,children:Q,shapeFlag:ee}=_;if(ee&6){A(_.component.subTree,p,T,M);return}if(ee&128){_.suspense.move(p,T,M);return}if(ee&64){U.move(_,p,T,ce);return}if(U===nn){l(j,p,T);for(let ae=0;ae<Q.length;ae++)A(Q[ae],p,T,M);l(_.anchor,p,T);return}if(U===wi){O(_,p,T);return}if(M!==2&&ee&1&&K)if(M===0)K.beforeEnter(j),l(j,p,T),Yt(()=>K.enter(j),F);else{const{leave:ae,delayLeave:me,afterLeave:he}=K,Se=()=>l(j,p,T),Ae=()=>{ae(j,()=>{Se(),he&&he()})};me?me(j,Se,Ae):Ae()}else l(j,p,T)},w=(_,p,T,M=!1,F=!1)=>{const{type:j,props:U,ref:K,children:Q,dynamicChildren:ee,shapeFlag:fe,patchFlag:ae,dirs:me}=_;if(K!=null&&Hs(K,null,T,_,!0),fe&256){p.ctx.deactivate(_);return}const he=fe&1&&me,Se=!_i(_);let Ae;if(Se&&(Ae=U&&U.onVnodeBeforeUnmount)&&vn(Ae,p,_),fe&6)L(_.component,T,M);else{if(fe&128){_.suspense.unmount(T,M);return}he&&Jn(_,null,p,"beforeUnmount"),fe&64?_.type.remove(_,p,T,F,ce,M):ee&&(j!==nn||ae>0&&ae&64)?G(ee,p,T,!1,!0):(j===nn&&ae&384||!F&&fe&16)&&G(Q,p,T),M&&I(_)}(Se&&(Ae=U&&U.onVnodeUnmounted)||he)&&Yt(()=>{Ae&&vn(Ae,p,_),he&&Jn(_,null,p,"unmounted")},T)},I=_=>{const{type:p,el:T,anchor:M,transition:F}=_;if(p===nn){N(T,M);return}if(p===wi){g(_);return}const j=()=>{v(T),F&&!F.persisted&&F.afterLeave&&F.afterLeave()};if(_.shapeFlag&1&&F&&!F.persisted){const{leave:U,delayLeave:K}=F,Q=()=>U(T,j);K?K(_.el,j,Q):Q()}else j()},N=(_,p)=>{let T;for(;_!==p;)T=ie(_),v(_),_=T;v(p)},L=(_,p,T)=>{const{bum:M,scope:F,update:j,subTree:U,um:K}=_;M&&ss(M),F.stop(),j&&(j.active=!1,w(U,_,p,T)),K&&Yt(K,p),Yt(()=>{_.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&_.asyncDep&&!_.asyncResolved&&_.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},G=(_,p,T,M=!1,F=!1,j=0)=>{for(let U=j;U<_.length;U++)w(_[U],p,T,M,F)},J=_=>_.shapeFlag&6?J(_.component.subTree):_.shapeFlag&128?_.suspense.next():ie(_.anchor||_.el),se=(_,p,T)=>{_==null?p._vnode&&w(p._vnode,null,null,!0):ke(p._vnode||null,_,p,null,null,null,T),Xo(),td(),p._vnode=_},ce={p:ke,um:w,m:A,r:I,mt:r,mc:i,pc:u,pbc:a,n:J,o:e};let Y,B;return t&&([Y,B]=t(ce)),{render:se,hydrate:Y,createApp:Ch(se,Y)}}function Yn({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function vd(e,t,n=!1){const l=e.children,v=t.children;if(et(l)&&et(v))for(let S=0;S<l.length;S++){const D=l[S];let $=v[S];$.shapeFlag&1&&!$.dynamicChildren&&(($.patchFlag<=0||$.patchFlag===32)&&($=v[S]=Hn(v[S]),$.el=D.el),n||vd(D,$))}}function Ah(e){const t=e.slice(),n=[0];let l,v,S,D,$;const z=e.length;for(l=0;l<z;l++){const W=e[l];if(W!==0){if(v=n[n.length-1],e[v]<W){t[l]=v,n.push(l);continue}for(S=0,D=n.length-1;S<D;)$=S+D>>1,e[n[$]]<W?S=$+1:D=$;W<e[n[S]]&&(S>0&&(t[l]=n[S-1]),n[S]=l)}}for(S=n.length,D=n[S-1];S-- >0;)n[S]=D,D=t[D];return n}const Ih=e=>e.__isTeleport,nn=Symbol(void 0),Eo=Symbol(void 0),sr=Symbol(void 0),wi=Symbol(void 0),$r=[];let dn=null;function En(e=!1){$r.push(dn=e?null:[])}function Ph(){$r.pop(),dn=$r[$r.length-1]||null}let Zr=1;function aa(e){Zr+=e}function bd(e){return e.dynamicChildren=Zr>0?dn||gr:null,Ph(),Zr>0&&dn&&dn.push(e),e}function On(e,t,n,l,v,S){return bd(Oe(e,t,n,l,v,S,!0))}function Bh(e,t,n,l,v){return bd(Ot(e,t,n,l,v,!0))}function zs(e){return e?e.__v_isVNode===!0:!1}function Or(e,t){return e.type===t.type&&e.key===t.key}const Ji="__vInternal",yd=({key:e})=>e!=null?e:null,Ei=({ref:e,ref_key:t,ref_for:n})=>e!=null?Mt(e)||Wt(e)||nt(e)?{i:wn,r:e,k:t,f:!!n}:e:null;function Oe(e,t=null,n=null,l=0,v=null,S=e===nn?0:1,D=!1,$=!1){const z={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&yd(t),ref:t&&Ei(t),scopeId:Ki,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:S,patchFlag:l,dynamicProps:v,dynamicChildren:null,appContext:null};return $?(So(z,n),S&128&&e.normalize(z)):n&&(z.shapeFlag|=Mt(n)?8:16),Zr>0&&!D&&dn&&(z.patchFlag>0||S&6)&&z.patchFlag!==32&&dn.push(z),z}const Ot=Oh;function Oh(e,t=null,n=null,l=0,v=null,S=!1){if((!e||e===lh)&&(e=sr),zs(e)){const $=Er(e,t,!0);return n&&So($,n),Zr>0&&!S&&dn&&($.shapeFlag&6?dn[dn.indexOf(e)]=$:dn.push($)),$.patchFlag|=-2,$}if(Gh(e)&&(e=e.__vccOpts),t){t=Dh(t);let{class:$,style:z}=t;$&&!Mt($)&&(t.class=Vr($)),Pt(z)&&(Kc(z)&&!et(z)&&(z=qt({},z)),t.style=io(z))}const D=Mt(e)?1:Yl(e)?128:Ih(e)?64:Pt(e)?4:nt(e)?2:0;return Oe(e,t,n,l,v,D,S,!0)}function Dh(e){return e?Kc(e)||Ji in e?qt({},e):e:null}function Er(e,t,n=!1){const{props:l,ref:v,patchFlag:S,children:D}=e,$=t?Nh(l||{},t):l;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:$,key:$&&yd($),ref:t&&t.ref?n&&v?et(v)?v.concat(Ei(t)):[v,Ei(t)]:Ei(t):v,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:D,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==nn?S===-1?16:S|16:S,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Er(e.ssContent),ssFallback:e.ssFallback&&Er(e.ssFallback),el:e.el,anchor:e.anchor}}function Nn(e=" ",t=0){return Ot(Eo,null,e,t)}function Lh(e,t){const n=Ot(wi,null,e);return n.staticCount=t,n}function Mh(e="",t=!1){return t?(En(),Bh(sr,null,e)):Ot(sr,null,e)}function yn(e){return e==null||typeof e=="boolean"?Ot(sr):et(e)?Ot(nn,null,e.slice()):typeof e=="object"?Hn(e):Ot(Eo,null,String(e))}function Hn(e){return e.el===null||e.memo?e:Er(e)}function So(e,t){let n=0;const{shapeFlag:l}=e;if(t==null)t=null;else if(et(t))n=16;else if(typeof t=="object")if(l&65){const v=t.default;v&&(v._c&&(v._d=!1),So(e,v()),v._c&&(v._d=!0));return}else{n=32;const v=t._;!v&&!(Ji in t)?t._ctx=wn:v===3&&wn&&(wn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else nt(t)?(t={default:t,_ctx:wn},n=32):(t=String(t),l&64?(n=16,t=[Nn(t)]):n=8);e.children=t,e.shapeFlag|=n}function Nh(...e){const t={};for(let n=0;n<e.length;n++){const l=e[n];for(const v in l)if(v==="class")t.class!==l.class&&(t.class=Vr([t.class,l.class]));else if(v==="style")t.style=io([t.style,l.style]);else if(Ui(v)){const S=t[v],D=l[v];D&&S!==D&&!(et(S)&&S.includes(D))&&(t[v]=S?[].concat(S,D):D)}else v!==""&&(t[v]=l[v])}return t}function vn(e,t,n,l=null){ln(e,t,7,[n,l])}const Uh=gd();let jh=0;function Fh(e,t,n){const l=e.type,v=(t?t.appContext:e.appContext)||Uh,S={uid:jh++,vnode:e,type:l,parent:t,appContext:v,root:null,next:null,subTree:null,effect:null,update:null,scope:new al(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(v.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:hd(l,v),emitsOptions:rd(l,v),emit:null,emitted:null,propsDefaults:Et,inheritAttrs:l.inheritAttrs,ctx:Et,data:Et,props:Et,attrs:Et,slots:Et,refs:Et,setupState:Et,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return S.ctx={_:S},S.root=t?t.root:S,S.emit=Kl.bind(null,S),e.ce&&e.ce(S),S}let Ut=null;const Sr=e=>{Ut=e,e.scope.on()},ir=()=>{Ut&&Ut.scope.off(),Ut=null};function _d(e){return e.vnode.shapeFlag&4}let Qr=!1;function Hh(e,t=!1){Qr=t;const{props:n,children:l}=e.vnode,v=_d(e);_h(e,n,v,t),Sh(e,l);const S=v?zh(e,t):void 0;return Qr=!1,S}function zh(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Gc(new Proxy(e.ctx,ph));const{setup:l}=n;if(l){const v=e.setupContext=l.length>1?Wh(e):null;Sr(e),Ar();const S=Kn(l,e,0,[e.props,v]);if(Ir(),ir(),Pc(S)){if(S.then(ir,ir),t)return S.then(D=>{ca(e,D,t)}).catch(D=>{$i(D,e,0)});e.asyncDep=S}else ca(e,S,t)}else wd(e,t)}function ca(e,t,n){nt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Pt(t)&&(e.setupState=Yc(t)),wd(e,n)}let da;function wd(e,t,n){const l=e.type;if(!e.render){if(!t&&da&&!l.render){const v=l.template||_o(e).template;if(v){const{isCustomElement:S,compilerOptions:D}=e.appContext.config,{delimiters:$,compilerOptions:z}=l,W=qt(qt({isCustomElement:S,delimiters:$},D),z);l.render=da(v,W)}}e.render=l.render||fn}Sr(e),Ar(),mh(e),Ir(),ir()}function $h(e){return new Proxy(e.attrs,{get(t,n){return tn(e,"get","$attrs"),t[n]}})}function Wh(e){const t=l=>{e.exposed=l||{}};let n;return{get attrs(){return n||(n=$h(e))},slots:e.slots,emit:e.emit,expose:t}}function xo(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Yc(Gc(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Bi)return Bi[n](e)}}))}function Kh(e,t=!0){return nt(e)?e.displayName||e.name:e.name||t&&e.__name}function Gh(e){return nt(e)&&"__vccOpts"in e}const rn=(e,t)=>jl(e,t,Qr);function Ed(e,t,n){const l=arguments.length;return l===2?Pt(t)&&!et(t)?zs(t)?Ot(e,null,[t]):Ot(e,t):Ot(e,null,t):(l>3?n=Array.prototype.slice.call(arguments,2):l===3&&zs(n)&&(n=[n]),Ot(e,t,n))}const Vh="3.2.39",qh="http://www.w3.org/2000/svg",nr=typeof document<"u"?document:null,fa=nr&&nr.createElement("template"),Jh={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,l)=>{const v=t?nr.createElementNS(qh,e):nr.createElement(e,n?{is:n}:void 0);return e==="select"&&l&&l.multiple!=null&&v.setAttribute("multiple",l.multiple),v},createText:e=>nr.createTextNode(e),createComment:e=>nr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>nr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,l,v,S){const D=n?n.previousSibling:t.lastChild;if(v&&(v===S||v.nextSibling))for(;t.insertBefore(v.cloneNode(!0),n),!(v===S||!(v=v.nextSibling)););else{fa.innerHTML=l?`<svg>${e}</svg>`:e;const $=fa.content;if(l){const z=$.firstChild;for(;z.firstChild;)$.appendChild(z.firstChild);$.removeChild(z)}t.insertBefore($,n)}return[D?D.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function Yh(e,t,n){const l=e._vtc;l&&(t=(t?[t,...l]:[...l]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function Xh(e,t,n){const l=e.style,v=Mt(n);if(n&&!v){for(const S in n)$s(l,S,n[S]);if(t&&!Mt(t))for(const S in t)n[S]==null&&$s(l,S,"")}else{const S=l.display;v?t!==n&&(l.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(l.display=S)}}const la=/\s*!important$/;function $s(e,t,n){if(et(n))n.forEach(l=>$s(e,t,l));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const l=Zh(e,t);la.test(n)?e.setProperty(Rr(l),n.replace(la,""),"important"):e[l]=n}}const ha=["Webkit","Moz","ms"],as={};function Zh(e,t){const n=as[t];if(n)return n;let l=Sn(t);if(l!=="filter"&&l in e)return as[t]=l;l=Hi(l);for(let v=0;v<ha.length;v++){const S=ha[v]+l;if(S in e)return as[t]=S}return t}const ua="http://www.w3.org/1999/xlink";function Qh(e,t,n,l,v){if(l&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(ua,t.slice(6,t.length)):e.setAttributeNS(ua,t,n);else{const S=qf(t);n==null||S&&!Rc(n)?e.removeAttribute(t):e.setAttribute(t,S?"":n)}}function eu(e,t,n,l,v,S,D){if(t==="innerHTML"||t==="textContent"){l&&D(l,v,S),e[t]=n==null?"":n;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const z=n==null?"":n;(e.value!==z||e.tagName==="OPTION")&&(e.value=z),n==null&&e.removeAttribute(t);return}let $=!1;if(n===""||n==null){const z=typeof e[t];z==="boolean"?n=Rc(n):n==null&&z==="string"?(n="",$=!0):z==="number"&&(n=0,$=!0)}try{e[t]=n}catch{}$&&e.removeAttribute(t)}const[Sd,tu]=(()=>{let e=Date.now,t=!1;if(typeof window<"u"){Date.now()>document.createEvent("Event").timeStamp&&(e=performance.now.bind(performance));const n=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(n&&Number(n[1])<=53)}return[e,t]})();let Ws=0;const nu=Promise.resolve(),ru=()=>{Ws=0},iu=()=>Ws||(nu.then(ru),Ws=Sd());function su(e,t,n,l){e.addEventListener(t,n,l)}function ou(e,t,n,l){e.removeEventListener(t,n,l)}function au(e,t,n,l,v=null){const S=e._vei||(e._vei={}),D=S[t];if(l&&D)D.value=l;else{const[$,z]=cu(t);if(l){const W=S[t]=du(l,v);su(e,$,W,z)}else D&&(ou(e,$,D,z),S[t]=void 0)}}const pa=/(?:Once|Passive|Capture)$/;function cu(e){let t;if(pa.test(e)){t={};let l;for(;l=e.match(pa);)e=e.slice(0,e.length-l[0].length),t[l[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Rr(e.slice(2)),t]}function du(e,t){const n=l=>{const v=l.timeStamp||Sd();(tu||v>=n.attached-1)&&ln(fu(l,n.value),t,5,[l])};return n.value=e,n.attached=iu(),n}function fu(e,t){if(et(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(l=>v=>!v._stopped&&l&&l(v))}else return t}const ma=/^on[a-z]/,lu=(e,t,n,l,v=!1,S,D,$,z)=>{t==="class"?Yh(e,l,v):t==="style"?Xh(e,n,l):Ui(t)?so(t)||au(e,t,n,l,D):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):hu(e,t,l,v))?eu(e,t,l,S,D,$,z):(t==="true-value"?e._trueValue=l:t==="false-value"&&(e._falseValue=l),Qh(e,t,l,v))};function hu(e,t,n,l){return l?!!(t==="innerHTML"||t==="textContent"||t in e&&ma.test(t)&&nt(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||ma.test(t)&&Mt(n)?!1:t in e}const uu=qt({patchProp:lu},Jh);let ga;function pu(){return ga||(ga=Th(uu))}const xd=(...e)=>{const t=pu().createApp(...e),{mount:n}=t;return t.mount=l=>{const v=mu(l);if(!v)return;const S=t._component;!nt(S)&&!S.render&&!S.template&&(S.template=v.innerHTML),v.innerHTML="";const D=n(v,!1,v instanceof SVGElement);return v instanceof Element&&(v.removeAttribute("v-cloak"),v.setAttribute("data-v-app","")),D},t};function mu(e){return Mt(e)?document.querySelector(e):e}/*!
  * vue-router v4.1.5
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const pr=typeof window<"u";function gu(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const pt=Object.assign;function cs(e,t){const n={};for(const l in t){const v=t[l];n[l]=hn(v)?v.map(e):e(v)}return n}const Wr=()=>{},hn=Array.isArray,vu=/\/$/,bu=e=>e.replace(vu,"");function ds(e,t,n="/"){let l,v={},S="",D="";const $=t.indexOf("#");let z=t.indexOf("?");return $<z&&$>=0&&(z=-1),z>-1&&(l=t.slice(0,z),S=t.slice(z+1,$>-1?$:t.length),v=e(S)),$>-1&&(l=l||t.slice(0,$),D=t.slice($,t.length)),l=Eu(l!=null?l:t,n),{fullPath:l+(S&&"?")+S+D,path:l,query:v,hash:D}}function yu(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function va(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function _u(e,t,n){const l=t.matched.length-1,v=n.matched.length-1;return l>-1&&l===v&&xr(t.matched[l],n.matched[v])&&kd(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function xr(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function kd(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!wu(e[n],t[n]))return!1;return!0}function wu(e,t){return hn(e)?ba(e,t):hn(t)?ba(t,e):e===t}function ba(e,t){return hn(t)?e.length===t.length&&e.every((n,l)=>n===t[l]):e.length===1&&e[0]===t}function Eu(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),l=e.split("/");let v=n.length-1,S,D;for(S=0;S<l.length;S++)if(D=l[S],D!==".")if(D==="..")v>1&&v--;else break;return n.slice(0,v).join("/")+"/"+l.slice(S-(S===l.length?1:0)).join("/")}var ei;(function(e){e.pop="pop",e.push="push"})(ei||(ei={}));var Kr;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Kr||(Kr={}));function Su(e){if(!e)if(pr){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),bu(e)}const xu=/^[^#]+#/;function ku(e,t){return e.replace(xu,"#")+t}function Cu(e,t){const n=document.documentElement.getBoundingClientRect(),l=e.getBoundingClientRect();return{behavior:t.behavior,left:l.left-n.left-(t.left||0),top:l.top-n.top-(t.top||0)}}const Yi=()=>({left:window.pageXOffset,top:window.pageYOffset});function Tu(e){let t;if("el"in e){const n=e.el,l=typeof n=="string"&&n.startsWith("#"),v=typeof n=="string"?l?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!v)return;t=Cu(v,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function ya(e,t){return(history.state?history.state.position-t:-1)+e}const Ks=new Map;function Ru(e,t){Ks.set(e,t)}function Au(e){const t=Ks.get(e);return Ks.delete(e),t}let Iu=()=>location.protocol+"//"+location.host;function Cd(e,t){const{pathname:n,search:l,hash:v}=t,S=e.indexOf("#");if(S>-1){let $=v.includes(e.slice(S))?e.slice(S).length:1,z=v.slice($);return z[0]!=="/"&&(z="/"+z),va(z,"")}return va(n,e)+l+v}function Pu(e,t,n,l){let v=[],S=[],D=null;const $=({state:ie})=>{const _e=Cd(e,location),be=n.value,Ee=t.value;let ke=0;if(ie){if(n.value=_e,t.value=ie,D&&D===be){D=null;return}ke=Ee?ie.position-Ee.position:0}else l(_e);v.forEach(Te=>{Te(n.value,be,{delta:ke,type:ei.pop,direction:ke?ke>0?Kr.forward:Kr.back:Kr.unknown})})};function z(){D=n.value}function W(ie){v.push(ie);const _e=()=>{const be=v.indexOf(ie);be>-1&&v.splice(be,1)};return S.push(_e),_e}function X(){const{history:ie}=window;!ie.state||ie.replaceState(pt({},ie.state,{scroll:Yi()}),"")}function b(){for(const ie of S)ie();S=[],window.removeEventListener("popstate",$),window.removeEventListener("beforeunload",X)}return window.addEventListener("popstate",$),window.addEventListener("beforeunload",X),{pauseListeners:z,listen:W,destroy:b}}function _a(e,t,n,l=!1,v=!1){return{back:e,current:t,forward:n,replaced:l,position:window.history.length,scroll:v?Yi():null}}function Bu(e){const{history:t,location:n}=window,l={value:Cd(e,n)},v={value:t.state};v.value||S(l.value,{back:null,current:l.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function S(z,W,X){const b=e.indexOf("#"),ie=b>-1?(n.host&&document.querySelector("base")?e:e.slice(b))+z:Iu()+e+z;try{t[X?"replaceState":"pushState"](W,"",ie),v.value=W}catch(_e){console.error(_e),n[X?"replace":"assign"](ie)}}function D(z,W){const X=pt({},t.state,_a(v.value.back,z,v.value.forward,!0),W,{position:v.value.position});S(z,X,!0),l.value=z}function $(z,W){const X=pt({},v.value,t.state,{forward:z,scroll:Yi()});S(X.current,X,!0);const b=pt({},_a(l.value,z,null),{position:X.position+1},W);S(z,b,!1),l.value=z}return{location:l,state:v,push:$,replace:D}}function Ou(e){e=Su(e);const t=Bu(e),n=Pu(e,t.state,t.location,t.replace);function l(S,D=!0){D||n.pauseListeners(),history.go(S)}const v=pt({location:"",base:e,go:l,createHref:ku.bind(null,e)},t,n);return Object.defineProperty(v,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(v,"state",{enumerable:!0,get:()=>t.state.value}),v}function Du(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),Ou(e)}function Lu(e){return typeof e=="string"||e&&typeof e=="object"}function Td(e){return typeof e=="string"||typeof e=="symbol"}const jn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Rd=Symbol("");var wa;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(wa||(wa={}));function kr(e,t){return pt(new Error,{type:e,[Rd]:!0},t)}function In(e,t){return e instanceof Error&&Rd in e&&(t==null||!!(e.type&t))}const Ea="[^/]+?",Mu={sensitive:!1,strict:!1,start:!0,end:!0},Nu=/[.+*?^${}()[\]/\\]/g;function Uu(e,t){const n=pt({},Mu,t),l=[];let v=n.start?"^":"";const S=[];for(const W of e){const X=W.length?[]:[90];n.strict&&!W.length&&(v+="/");for(let b=0;b<W.length;b++){const ie=W[b];let _e=40+(n.sensitive?.25:0);if(ie.type===0)b||(v+="/"),v+=ie.value.replace(Nu,"\\$&"),_e+=40;else if(ie.type===1){const{value:be,repeatable:Ee,optional:ke,regexp:Te}=ie;S.push({name:be,repeatable:Ee,optional:ke});const x=Te||Ea;if(x!==Ea){_e+=10;try{new RegExp(`(${x})`)}catch(O){throw new Error(`Invalid custom RegExp for param "${be}" (${x}): `+O.message)}}let V=Ee?`((?:${x})(?:/(?:${x}))*)`:`(${x})`;b||(V=ke&&W.length<2?`(?:/${V})`:"/"+V),ke&&(V+="?"),v+=V,_e+=20,ke&&(_e+=-8),Ee&&(_e+=-20),x===".*"&&(_e+=-50)}X.push(_e)}l.push(X)}if(n.strict&&n.end){const W=l.length-1;l[W][l[W].length-1]+=.7000000000000001}n.strict||(v+="/?"),n.end?v+="$":n.strict&&(v+="(?:/|$)");const D=new RegExp(v,n.sensitive?"":"i");function $(W){const X=W.match(D),b={};if(!X)return null;for(let ie=1;ie<X.length;ie++){const _e=X[ie]||"",be=S[ie-1];b[be.name]=_e&&be.repeatable?_e.split("/"):_e}return b}function z(W){let X="",b=!1;for(const ie of e){(!b||!X.endsWith("/"))&&(X+="/"),b=!1;for(const _e of ie)if(_e.type===0)X+=_e.value;else if(_e.type===1){const{value:be,repeatable:Ee,optional:ke}=_e,Te=be in W?W[be]:"";if(hn(Te)&&!Ee)throw new Error(`Provided param "${be}" is an array but it is not repeatable (* or + modifiers)`);const x=hn(Te)?Te.join("/"):Te;if(!x)if(ke)ie.length<2&&(X.endsWith("/")?X=X.slice(0,-1):b=!0);else throw new Error(`Missing required param "${be}"`);X+=x}}return X||"/"}return{re:D,score:l,keys:S,parse:$,stringify:z}}function ju(e,t){let n=0;for(;n<e.length&&n<t.length;){const l=t[n]-e[n];if(l)return l;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function Fu(e,t){let n=0;const l=e.score,v=t.score;for(;n<l.length&&n<v.length;){const S=ju(l[n],v[n]);if(S)return S;n++}if(Math.abs(v.length-l.length)===1){if(Sa(l))return 1;if(Sa(v))return-1}return v.length-l.length}function Sa(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Hu={type:0,value:""},zu=/[a-zA-Z0-9_]/;function $u(e){if(!e)return[[]];if(e==="/")return[[Hu]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(_e){throw new Error(`ERR (${n})/"${W}": ${_e}`)}let n=0,l=n;const v=[];let S;function D(){S&&v.push(S),S=[]}let $=0,z,W="",X="";function b(){!W||(n===0?S.push({type:0,value:W}):n===1||n===2||n===3?(S.length>1&&(z==="*"||z==="+")&&t(`A repeatable param (${W}) must be alone in its segment. eg: '/:ids+.`),S.push({type:1,value:W,regexp:X,repeatable:z==="*"||z==="+",optional:z==="*"||z==="?"})):t("Invalid state to consume buffer"),W="")}function ie(){W+=z}for(;$<e.length;){if(z=e[$++],z==="\\"&&n!==2){l=n,n=4;continue}switch(n){case 0:z==="/"?(W&&b(),D()):z===":"?(b(),n=1):ie();break;case 4:ie(),n=l;break;case 1:z==="("?n=2:zu.test(z)?ie():(b(),n=0,z!=="*"&&z!=="?"&&z!=="+"&&$--);break;case 2:z===")"?X[X.length-1]=="\\"?X=X.slice(0,-1)+z:n=3:X+=z;break;case 3:b(),n=0,z!=="*"&&z!=="?"&&z!=="+"&&$--,X="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${W}"`),b(),D(),v}function Wu(e,t,n){const l=Uu($u(e.path),n),v=pt(l,{record:e,parent:t,children:[],alias:[]});return t&&!v.record.aliasOf==!t.record.aliasOf&&t.children.push(v),v}function Ku(e,t){const n=[],l=new Map;t=Ca({strict:!1,end:!0,sensitive:!1},t);function v(X){return l.get(X)}function S(X,b,ie){const _e=!ie,be=Gu(X);be.aliasOf=ie&&ie.record;const Ee=Ca(t,X),ke=[be];if("alias"in X){const V=typeof X.alias=="string"?[X.alias]:X.alias;for(const O of V)ke.push(pt({},be,{components:ie?ie.record.components:be.components,path:O,aliasOf:ie?ie.record:be}))}let Te,x;for(const V of ke){const{path:O}=V;if(b&&O[0]!=="/"){const g=b.record.path,C=g[g.length-1]==="/"?"":"/";V.path=b.record.path+(O&&C+O)}if(Te=Wu(V,b,Ee),ie?ie.alias.push(Te):(x=x||Te,x!==Te&&x.alias.push(Te),_e&&X.name&&!ka(Te)&&D(X.name)),be.children){const g=be.children;for(let C=0;C<g.length;C++)S(g[C],Te,ie&&ie.children[C])}ie=ie||Te,z(Te)}return x?()=>{D(x)}:Wr}function D(X){if(Td(X)){const b=l.get(X);b&&(l.delete(X),n.splice(n.indexOf(b),1),b.children.forEach(D),b.alias.forEach(D))}else{const b=n.indexOf(X);b>-1&&(n.splice(b,1),X.record.name&&l.delete(X.record.name),X.children.forEach(D),X.alias.forEach(D))}}function $(){return n}function z(X){let b=0;for(;b<n.length&&Fu(X,n[b])>=0&&(X.record.path!==n[b].record.path||!Ad(X,n[b]));)b++;n.splice(b,0,X),X.record.name&&!ka(X)&&l.set(X.record.name,X)}function W(X,b){let ie,_e={},be,Ee;if("name"in X&&X.name){if(ie=l.get(X.name),!ie)throw kr(1,{location:X});Ee=ie.record.name,_e=pt(xa(b.params,ie.keys.filter(x=>!x.optional).map(x=>x.name)),X.params&&xa(X.params,ie.keys.map(x=>x.name))),be=ie.stringify(_e)}else if("path"in X)be=X.path,ie=n.find(x=>x.re.test(be)),ie&&(_e=ie.parse(be),Ee=ie.record.name);else{if(ie=b.name?l.get(b.name):n.find(x=>x.re.test(b.path)),!ie)throw kr(1,{location:X,currentLocation:b});Ee=ie.record.name,_e=pt({},b.params,X.params),be=ie.stringify(_e)}const ke=[];let Te=ie;for(;Te;)ke.unshift(Te.record),Te=Te.parent;return{name:Ee,path:be,params:_e,matched:ke,meta:qu(ke)}}return e.forEach(X=>S(X)),{addRoute:S,resolve:W,removeRoute:D,getRoutes:$,getRecordMatcher:v}}function xa(e,t){const n={};for(const l of t)l in e&&(n[l]=e[l]);return n}function Gu(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Vu(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function Vu(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const l in e.components)t[l]=typeof n=="boolean"?n:n[l];return t}function ka(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function qu(e){return e.reduce((t,n)=>pt(t,n.meta),{})}function Ca(e,t){const n={};for(const l in e)n[l]=l in t?t[l]:e[l];return n}function Ad(e,t){return t.children.some(n=>n===e||Ad(e,n))}const Id=/#/g,Ju=/&/g,Yu=/\//g,Xu=/=/g,Zu=/\?/g,Pd=/\+/g,Qu=/%5B/g,ep=/%5D/g,Bd=/%5E/g,tp=/%60/g,Od=/%7B/g,np=/%7C/g,Dd=/%7D/g,rp=/%20/g;function ko(e){return encodeURI(""+e).replace(np,"|").replace(Qu,"[").replace(ep,"]")}function ip(e){return ko(e).replace(Od,"{").replace(Dd,"}").replace(Bd,"^")}function Gs(e){return ko(e).replace(Pd,"%2B").replace(rp,"+").replace(Id,"%23").replace(Ju,"%26").replace(tp,"`").replace(Od,"{").replace(Dd,"}").replace(Bd,"^")}function sp(e){return Gs(e).replace(Xu,"%3D")}function op(e){return ko(e).replace(Id,"%23").replace(Zu,"%3F")}function ap(e){return e==null?"":op(e).replace(Yu,"%2F")}function Di(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function cp(e){const t={};if(e===""||e==="?")return t;const l=(e[0]==="?"?e.slice(1):e).split("&");for(let v=0;v<l.length;++v){const S=l[v].replace(Pd," "),D=S.indexOf("="),$=Di(D<0?S:S.slice(0,D)),z=D<0?null:Di(S.slice(D+1));if($ in t){let W=t[$];hn(W)||(W=t[$]=[W]),W.push(z)}else t[$]=z}return t}function Ta(e){let t="";for(let n in e){const l=e[n];if(n=sp(n),l==null){l!==void 0&&(t+=(t.length?"&":"")+n);continue}(hn(l)?l.map(S=>S&&Gs(S)):[l&&Gs(l)]).forEach(S=>{S!==void 0&&(t+=(t.length?"&":"")+n,S!=null&&(t+="="+S))})}return t}function dp(e){const t={};for(const n in e){const l=e[n];l!==void 0&&(t[n]=hn(l)?l.map(v=>v==null?null:""+v):l==null?l:""+l)}return t}const fp=Symbol(""),Ra=Symbol(""),Co=Symbol(""),Ld=Symbol(""),Vs=Symbol("");function Dr(){let e=[];function t(l){return e.push(l),()=>{const v=e.indexOf(l);v>-1&&e.splice(v,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function zn(e,t,n,l,v){const S=l&&(l.enterCallbacks[v]=l.enterCallbacks[v]||[]);return()=>new Promise((D,$)=>{const z=b=>{b===!1?$(kr(4,{from:n,to:t})):b instanceof Error?$(b):Lu(b)?$(kr(2,{from:t,to:b})):(S&&l.enterCallbacks[v]===S&&typeof b=="function"&&S.push(b),D())},W=e.call(l&&l.instances[v],t,n,z);let X=Promise.resolve(W);e.length<3&&(X=X.then(z)),X.catch(b=>$(b))})}function fs(e,t,n,l){const v=[];for(const S of e)for(const D in S.components){let $=S.components[D];if(!(t!=="beforeRouteEnter"&&!S.instances[D]))if(lp($)){const W=($.__vccOpts||$)[t];W&&v.push(zn(W,n,l,S,D))}else{let z=$();v.push(()=>z.then(W=>{if(!W)return Promise.reject(new Error(`Couldn't resolve component "${D}" at "${S.path}"`));const X=gu(W)?W.default:W;S.components[D]=X;const ie=(X.__vccOpts||X)[t];return ie&&zn(ie,n,l,S,D)()}))}}return v}function lp(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Aa(e){const t=Gn(Co),n=Gn(Ld),l=rn(()=>t.resolve(yr(e.to))),v=rn(()=>{const{matched:z}=l.value,{length:W}=z,X=z[W-1],b=n.matched;if(!X||!b.length)return-1;const ie=b.findIndex(xr.bind(null,X));if(ie>-1)return ie;const _e=Ia(z[W-2]);return W>1&&Ia(X)===_e&&b[b.length-1].path!==_e?b.findIndex(xr.bind(null,z[W-2])):ie}),S=rn(()=>v.value>-1&&mp(n.params,l.value.params)),D=rn(()=>v.value>-1&&v.value===n.matched.length-1&&kd(n.params,l.value.params));function $(z={}){return pp(z)?t[yr(e.replace)?"replace":"push"](yr(e.to)).catch(Wr):Promise.resolve()}return{route:l,href:rn(()=>l.value.href),isActive:S,isExactActive:D,navigate:$}}const hp=yo({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Aa,setup(e,{slots:t}){const n=ni(Aa(e)),{options:l}=Gn(Co),v=rn(()=>({[Pa(e.activeClass,l.linkActiveClass,"router-link-active")]:n.isActive,[Pa(e.exactActiveClass,l.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const S=t.default&&t.default(n);return e.custom?S:Ed("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:v.value},S)}}}),up=hp;function pp(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function mp(e,t){for(const n in t){const l=t[n],v=e[n];if(typeof l=="string"){if(l!==v)return!1}else if(!hn(v)||v.length!==l.length||l.some((S,D)=>S!==v[D]))return!1}return!0}function Ia(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Pa=(e,t,n)=>e!=null?e:t!=null?t:n,gp=yo({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const l=Gn(Vs),v=rn(()=>e.route||l.value),S=Gn(Ra,0),D=rn(()=>{let W=yr(S);const{matched:X}=v.value;let b;for(;(b=X[W])&&!b.components;)W++;return W}),$=rn(()=>v.value.matched[D.value]);bi(Ra,rn(()=>D.value+1)),bi(fp,$),bi(Vs,v);const z=Ds();return yi(()=>[z.value,$.value,e.name],([W,X,b],[ie,_e,be])=>{X&&(X.instances[b]=W,_e&&_e!==X&&W&&W===ie&&(X.leaveGuards.size||(X.leaveGuards=_e.leaveGuards),X.updateGuards.size||(X.updateGuards=_e.updateGuards))),W&&X&&(!_e||!xr(X,_e)||!ie)&&(X.enterCallbacks[b]||[]).forEach(Ee=>Ee(W))},{flush:"post"}),()=>{const W=v.value,X=e.name,b=$.value,ie=b&&b.components[X];if(!ie)return Ba(n.default,{Component:ie,route:W});const _e=b.props[X],be=_e?_e===!0?W.params:typeof _e=="function"?_e(W):_e:null,ke=Ed(ie,pt({},be,t,{onVnodeUnmounted:Te=>{Te.component.isUnmounted&&(b.instances[X]=null)},ref:z}));return Ba(n.default,{Component:ke,route:W})||ke}}});function Ba(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const vp=gp;function bp(e){const t=Ku(e.routes,e),n=e.parseQuery||cp,l=e.stringifyQuery||Ta,v=e.history,S=Dr(),D=Dr(),$=Dr(),z=Ll(jn);let W=jn;pr&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const X=cs.bind(null,N=>""+N),b=cs.bind(null,ap),ie=cs.bind(null,Di);function _e(N,L){let G,J;return Td(N)?(G=t.getRecordMatcher(N),J=L):J=N,t.addRoute(J,G)}function be(N){const L=t.getRecordMatcher(N);L&&t.removeRoute(L)}function Ee(){return t.getRoutes().map(N=>N.record)}function ke(N){return!!t.getRecordMatcher(N)}function Te(N,L){if(L=pt({},L||z.value),typeof N=="string"){const B=ds(n,N,L.path),_=t.resolve({path:B.path},L),p=v.createHref(B.fullPath);return pt(B,_,{params:ie(_.params),hash:Di(B.hash),redirectedFrom:void 0,href:p})}let G;if("path"in N)G=pt({},N,{path:ds(n,N.path,L.path).path});else{const B=pt({},N.params);for(const _ in B)B[_]==null&&delete B[_];G=pt({},N,{params:b(N.params)}),L.params=b(L.params)}const J=t.resolve(G,L),se=N.hash||"";J.params=X(ie(J.params));const ce=yu(l,pt({},N,{hash:ip(se),path:J.path})),Y=v.createHref(ce);return pt({fullPath:ce,hash:se,query:l===Ta?dp(N.query):N.query||{}},J,{redirectedFrom:void 0,href:Y})}function x(N){return typeof N=="string"?ds(n,N,z.value.path):pt({},N)}function V(N,L){if(W!==N)return kr(8,{from:L,to:N})}function O(N){return E(N)}function g(N){return O(pt(x(N),{replace:!0}))}function C(N){const L=N.matched[N.matched.length-1];if(L&&L.redirect){const{redirect:G}=L;let J=typeof G=="function"?G(N):G;return typeof J=="string"&&(J=J.includes("?")||J.includes("#")?J=x(J):{path:J},J.params={}),pt({query:N.query,hash:N.hash,params:"path"in J?{}:N.params},J)}}function E(N,L){const G=W=Te(N),J=z.value,se=N.state,ce=N.force,Y=N.replace===!0,B=C(G);if(B)return E(pt(x(B),{state:typeof B=="object"?pt({},se,B.state):se,force:ce,replace:Y}),L||G);const _=G;_.redirectedFrom=L;let p;return!ce&&_u(l,J,G)&&(p=kr(16,{to:_,from:J}),k(J,J,!0,!1)),(p?Promise.resolve(p):i(_,J)).catch(T=>In(T)?In(T,2)?T:u(T):c(T,_,J)).then(T=>{if(T){if(In(T,2))return E(pt({replace:Y},x(T.to),{state:typeof T.to=="object"?pt({},se,T.to.state):se,force:ce}),L||_)}else T=a(_,J,!0,Y,se);return m(_,J,T),T})}function y(N,L){const G=V(N,L);return G?Promise.reject(G):Promise.resolve()}function i(N,L){let G;const[J,se,ce]=yp(N,L);G=fs(J.reverse(),"beforeRouteLeave",N,L);for(const B of J)B.leaveGuards.forEach(_=>{G.push(zn(_,N,L))});const Y=y.bind(null,N,L);return G.push(Y),fr(G).then(()=>{G=[];for(const B of S.list())G.push(zn(B,N,L));return G.push(Y),fr(G)}).then(()=>{G=fs(se,"beforeRouteUpdate",N,L);for(const B of se)B.updateGuards.forEach(_=>{G.push(zn(_,N,L))});return G.push(Y),fr(G)}).then(()=>{G=[];for(const B of N.matched)if(B.beforeEnter&&!L.matched.includes(B))if(hn(B.beforeEnter))for(const _ of B.beforeEnter)G.push(zn(_,N,L));else G.push(zn(B.beforeEnter,N,L));return G.push(Y),fr(G)}).then(()=>(N.matched.forEach(B=>B.enterCallbacks={}),G=fs(ce,"beforeRouteEnter",N,L),G.push(Y),fr(G))).then(()=>{G=[];for(const B of D.list())G.push(zn(B,N,L));return G.push(Y),fr(G)}).catch(B=>In(B,8)?B:Promise.reject(B))}function m(N,L,G){for(const J of $.list())J(N,L,G)}function a(N,L,G,J,se){const ce=V(N,L);if(ce)return ce;const Y=L===jn,B=pr?history.state:{};G&&(J||Y?v.replace(N.fullPath,pt({scroll:Y&&B&&B.scroll},se)):v.push(N.fullPath,se)),z.value=N,k(N,L,G,Y),u()}let o;function h(){o||(o=v.listen((N,L,G)=>{if(!I.listening)return;const J=Te(N),se=C(J);if(se){E(pt(se,{replace:!0}),J).catch(Wr);return}W=J;const ce=z.value;pr&&Ru(ya(ce.fullPath,G.delta),Yi()),i(J,ce).catch(Y=>In(Y,12)?Y:In(Y,2)?(E(Y.to,J).then(B=>{In(B,20)&&!G.delta&&G.type===ei.pop&&v.go(-1,!1)}).catch(Wr),Promise.reject()):(G.delta&&v.go(-G.delta,!1),c(Y,J,ce))).then(Y=>{Y=Y||a(J,ce,!1),Y&&(G.delta&&!In(Y,8)?v.go(-G.delta,!1):G.type===ei.pop&&In(Y,20)&&v.go(-1,!1)),m(J,ce,Y)}).catch(Wr)}))}let s=Dr(),r=Dr(),d;function c(N,L,G){u(N);const J=r.list();return J.length?J.forEach(se=>se(N,L,G)):console.error(N),Promise.reject(N)}function f(){return d&&z.value!==jn?Promise.resolve():new Promise((N,L)=>{s.add([N,L])})}function u(N){return d||(d=!N,h(),s.list().forEach(([L,G])=>N?G(N):L()),s.reset()),N}function k(N,L,G,J){const{scrollBehavior:se}=e;if(!pr||!se)return Promise.resolve();const ce=!G&&Au(ya(N.fullPath,0))||(J||!G)&&history.state&&history.state.scroll||null;return Qc().then(()=>se(N,L,ce)).then(Y=>Y&&Tu(Y)).catch(Y=>c(Y,N,L))}const R=N=>v.go(N);let A;const w=new Set,I={currentRoute:z,listening:!0,addRoute:_e,removeRoute:be,hasRoute:ke,getRoutes:Ee,resolve:Te,options:e,push:O,replace:g,go:R,back:()=>R(-1),forward:()=>R(1),beforeEach:S.add,beforeResolve:D.add,afterEach:$.add,onError:r.add,isReady:f,install(N){const L=this;N.component("RouterLink",up),N.component("RouterView",vp),N.config.globalProperties.$router=L,Object.defineProperty(N.config.globalProperties,"$route",{enumerable:!0,get:()=>yr(z)}),pr&&!A&&z.value===jn&&(A=!0,O(v.location).catch(se=>{}));const G={};for(const se in jn)G[se]=rn(()=>z.value[se]);N.provide(Co,L),N.provide(Ld,ni(G)),N.provide(Vs,z);const J=N.unmount;w.add(N),N.unmount=function(){w.delete(N),w.size<1&&(W=jn,o&&o(),o=null,z.value=jn,A=!1,d=!1),J()}}};return I}function fr(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function yp(e,t){const n=[],l=[],v=[],S=Math.max(t.matched.length,e.matched.length);for(let D=0;D<S;D++){const $=t.matched[D];$&&(e.matched.find(W=>xr(W,$))?l.push($):n.push($));const z=e.matched[D];z&&(t.matched.find(W=>xr(W,z))||v.push(z))}return[n,l,v]}var ut=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Md(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var To={exports:{}};(function(e){var t={};t.useBlobBuilder=function(){try{return new Blob([]),!1}catch{return!0}}(),t.useArrayBufferView=!t.useBlobBuilder&&function(){try{return new Blob([new Uint8Array([])]).size===0}catch{return!0}}(),e.exports.binaryFeatures=t;var n=e.exports.BlobBuilder;typeof window<"u"&&(n=e.exports.BlobBuilder=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder);function l(){this._pieces=[],this._parts=[]}l.prototype.append=function(v){typeof v=="number"?this._pieces.push(v):(this.flush(),this._parts.push(v))},l.prototype.flush=function(){if(this._pieces.length>0){var v=new Uint8Array(this._pieces);t.useArrayBufferView||(v=v.buffer),this._parts.push(v),this._pieces=[]}},l.prototype.getBuffer=function(){if(this.flush(),t.useBlobBuilder){for(var v=new n,S=0,D=this._parts.length;S<D;S++)v.append(this._parts[S]);return v.getBlob()}else return new Blob(this._parts)},e.exports.BufferBuilder=l})(To);var _p=To.exports.BufferBuilder,Oa=To.exports.binaryFeatures,wp={unpack:function(e){var t=new jt(e);return t.unpack()},pack:function(e){var t=new Ft;t.pack(e);var n=t.getBuffer();return n}},Da=wp;function jt(e){this.index=0,this.dataBuffer=e,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}jt.prototype.unpack=function(){var e=this.unpack_uint8();if(e<128)return e;if((e^224)<32)return(e^224)-32;var t;if((t=e^160)<=15)return this.unpack_raw(t);if((t=e^176)<=15)return this.unpack_string(t);if((t=e^144)<=15)return this.unpack_array(t);if((t=e^128)<=15)return this.unpack_map(t);switch(e){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return t=this.unpack_uint16(),this.unpack_string(t);case 217:return t=this.unpack_uint32(),this.unpack_string(t);case 218:return t=this.unpack_uint16(),this.unpack_raw(t);case 219:return t=this.unpack_uint32(),this.unpack_raw(t);case 220:return t=this.unpack_uint16(),this.unpack_array(t);case 221:return t=this.unpack_uint32(),this.unpack_array(t);case 222:return t=this.unpack_uint16(),this.unpack_map(t);case 223:return t=this.unpack_uint32(),this.unpack_map(t)}};jt.prototype.unpack_uint8=function(){var e=this.dataView[this.index]&255;return this.index++,e};jt.prototype.unpack_uint16=function(){var e=this.read(2),t=(e[0]&255)*256+(e[1]&255);return this.index+=2,t};jt.prototype.unpack_uint32=function(){var e=this.read(4),t=((e[0]*256+e[1])*256+e[2])*256+e[3];return this.index+=4,t};jt.prototype.unpack_uint64=function(){var e=this.read(8),t=((((((e[0]*256+e[1])*256+e[2])*256+e[3])*256+e[4])*256+e[5])*256+e[6])*256+e[7];return this.index+=8,t};jt.prototype.unpack_int8=function(){var e=this.unpack_uint8();return e<128?e:e-(1<<8)};jt.prototype.unpack_int16=function(){var e=this.unpack_uint16();return e<32768?e:e-(1<<16)};jt.prototype.unpack_int32=function(){var e=this.unpack_uint32();return e<Math.pow(2,31)?e:e-Math.pow(2,32)};jt.prototype.unpack_int64=function(){var e=this.unpack_uint64();return e<Math.pow(2,63)?e:e-Math.pow(2,64)};jt.prototype.unpack_raw=function(e){if(this.length<this.index+e)throw new Error("BinaryPackFailure: index is out of range "+this.index+" "+e+" "+this.length);var t=this.dataBuffer.slice(this.index,this.index+e);return this.index+=e,t};jt.prototype.unpack_string=function(e){for(var t=this.read(e),n=0,l="",v,S;n<e;)v=t[n],v<128?(l+=String.fromCharCode(v),n++):(v^192)<32?(S=(v^192)<<6|t[n+1]&63,l+=String.fromCharCode(S),n+=2):(S=(v&15)<<12|(t[n+1]&63)<<6|t[n+2]&63,l+=String.fromCharCode(S),n+=3);return this.index+=e,l};jt.prototype.unpack_array=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=this.unpack();return t};jt.prototype.unpack_map=function(e){for(var t={},n=0;n<e;n++){var l=this.unpack(),v=this.unpack();t[l]=v}return t};jt.prototype.unpack_float=function(){var e=this.unpack_uint32(),t=e>>31,n=(e>>23&255)-127,l=e&8388607|8388608;return(t===0?1:-1)*l*Math.pow(2,n-23)};jt.prototype.unpack_double=function(){var e=this.unpack_uint32(),t=this.unpack_uint32(),n=e>>31,l=(e>>20&2047)-1023,v=e&1048575|1048576,S=v*Math.pow(2,l-20)+t*Math.pow(2,l-52);return(n===0?1:-1)*S};jt.prototype.read=function(e){var t=this.index;if(t+e<=this.length)return this.dataView.subarray(t,t+e);throw new Error("BinaryPackFailure: read index out of range")};function Ft(){this.bufferBuilder=new _p}Ft.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()};Ft.prototype.pack=function(e){var t=typeof e;if(t==="string")this.pack_string(e);else if(t==="number")Math.floor(e)===e?this.pack_integer(e):this.pack_double(e);else if(t==="boolean")e===!0?this.bufferBuilder.append(195):e===!1&&this.bufferBuilder.append(194);else if(t==="undefined")this.bufferBuilder.append(192);else if(t==="object")if(e===null)this.bufferBuilder.append(192);else{var n=e.constructor;if(n==Array)this.pack_array(e);else if(n==Blob||n==File||e instanceof Blob||e instanceof File)this.pack_bin(e);else if(n==ArrayBuffer)Oa.useArrayBufferView?this.pack_bin(new Uint8Array(e)):this.pack_bin(e);else if("BYTES_PER_ELEMENT"in e)Oa.useArrayBufferView?this.pack_bin(new Uint8Array(e.buffer)):this.pack_bin(e.buffer);else if(n==Object||n.toString().startsWith("class"))this.pack_object(e);else if(n==Date)this.pack_string(e.toString());else if(typeof e.toBinaryPack=="function")this.bufferBuilder.append(e.toBinaryPack());else throw new Error('Type "'+n.toString()+'" not yet supported')}else throw new Error('Type "'+t+'" not yet supported');this.bufferBuilder.flush()};Ft.prototype.pack_bin=function(e){var t=e.length||e.byteLength||e.size;if(t<=15)this.pack_uint8(160+t);else if(t<=65535)this.bufferBuilder.append(218),this.pack_uint16(t);else if(t<=4294967295)this.bufferBuilder.append(219),this.pack_uint32(t);else throw new Error("Invalid length");this.bufferBuilder.append(e)};Ft.prototype.pack_string=function(e){var t=Sp(e);if(t<=15)this.pack_uint8(176+t);else if(t<=65535)this.bufferBuilder.append(216),this.pack_uint16(t);else if(t<=4294967295)this.bufferBuilder.append(217),this.pack_uint32(t);else throw new Error("Invalid length");this.bufferBuilder.append(e)};Ft.prototype.pack_array=function(e){var t=e.length;if(t<=15)this.pack_uint8(144+t);else if(t<=65535)this.bufferBuilder.append(220),this.pack_uint16(t);else if(t<=4294967295)this.bufferBuilder.append(221),this.pack_uint32(t);else throw new Error("Invalid length");for(var n=0;n<t;n++)this.pack(e[n])};Ft.prototype.pack_integer=function(e){if(e>=-32&&e<=127)this.bufferBuilder.append(e&255);else if(e>=0&&e<=255)this.bufferBuilder.append(204),this.pack_uint8(e);else if(e>=-128&&e<=127)this.bufferBuilder.append(208),this.pack_int8(e);else if(e>=0&&e<=65535)this.bufferBuilder.append(205),this.pack_uint16(e);else if(e>=-32768&&e<=32767)this.bufferBuilder.append(209),this.pack_int16(e);else if(e>=0&&e<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(e);else if(e>=-2147483648&&e<=2147483647)this.bufferBuilder.append(210),this.pack_int32(e);else if(e>=-9223372036854776e3&&e<=9223372036854776e3)this.bufferBuilder.append(211),this.pack_int64(e);else if(e>=0&&e<=18446744073709552e3)this.bufferBuilder.append(207),this.pack_uint64(e);else throw new Error("Invalid integer")};Ft.prototype.pack_double=function(e){var t=0;e<0&&(t=1,e=-e);var n=Math.floor(Math.log(e)/Math.LN2),l=e/Math.pow(2,n)-1,v=Math.floor(l*Math.pow(2,52)),S=Math.pow(2,32),D=t<<31|n+1023<<20|v/S&1048575,$=v%S;this.bufferBuilder.append(203),this.pack_int32(D),this.pack_int32($)};Ft.prototype.pack_object=function(e){var t=Object.keys(e),n=t.length;if(n<=15)this.pack_uint8(128+n);else if(n<=65535)this.bufferBuilder.append(222),this.pack_uint16(n);else if(n<=4294967295)this.bufferBuilder.append(223),this.pack_uint32(n);else throw new Error("Invalid length");for(var l in e)e.hasOwnProperty(l)&&(this.pack(l),this.pack(e[l]))};Ft.prototype.pack_uint8=function(e){this.bufferBuilder.append(e)};Ft.prototype.pack_uint16=function(e){this.bufferBuilder.append(e>>8),this.bufferBuilder.append(e&255)};Ft.prototype.pack_uint32=function(e){var t=e&4294967295;this.bufferBuilder.append((t&4278190080)>>>24),this.bufferBuilder.append((t&16711680)>>>16),this.bufferBuilder.append((t&65280)>>>8),this.bufferBuilder.append(t&255)};Ft.prototype.pack_uint64=function(e){var t=e/Math.pow(2,32),n=e%Math.pow(2,32);this.bufferBuilder.append((t&4278190080)>>>24),this.bufferBuilder.append((t&16711680)>>>16),this.bufferBuilder.append((t&65280)>>>8),this.bufferBuilder.append(t&255),this.bufferBuilder.append((n&4278190080)>>>24),this.bufferBuilder.append((n&16711680)>>>16),this.bufferBuilder.append((n&65280)>>>8),this.bufferBuilder.append(n&255)};Ft.prototype.pack_int8=function(e){this.bufferBuilder.append(e&255)};Ft.prototype.pack_int16=function(e){this.bufferBuilder.append((e&65280)>>8),this.bufferBuilder.append(e&255)};Ft.prototype.pack_int32=function(e){this.bufferBuilder.append(e>>>24&255),this.bufferBuilder.append((e&16711680)>>>16),this.bufferBuilder.append((e&65280)>>>8),this.bufferBuilder.append(e&255)};Ft.prototype.pack_int64=function(e){var t=Math.floor(e/Math.pow(2,32)),n=e%Math.pow(2,32);this.bufferBuilder.append((t&4278190080)>>>24),this.bufferBuilder.append((t&16711680)>>>16),this.bufferBuilder.append((t&65280)>>>8),this.bufferBuilder.append(t&255),this.bufferBuilder.append((n&4278190080)>>>24),this.bufferBuilder.append((n&16711680)>>>16),this.bufferBuilder.append((n&65280)>>>8),this.bufferBuilder.append(n&255)};function Ep(e){var t=e.charCodeAt(0);return t<=2047?"00":t<=65535?"000":t<=2097151?"0000":t<=67108863?"00000":"000000"}function Sp(e){return e.length>600?new Blob([e]).size:e.replace(/[^\u0000-\u007F]/g,Ep).length}let Nd=!0,Ud=!0;function Fr(e,t,n){const l=e.match(t);return l&&l.length>=n&&parseInt(l[n],10)}function Pr(e,t,n){if(!e.RTCPeerConnection)return;const l=e.RTCPeerConnection.prototype,v=l.addEventListener;l.addEventListener=function(D,$){if(D!==t)return v.apply(this,arguments);const z=W=>{const X=n(W);X&&($.handleEvent?$.handleEvent(X):$(X))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set($,z),v.apply(this,[D,z])};const S=l.removeEventListener;l.removeEventListener=function(D,$){if(D!==t||!this._eventMap||!this._eventMap[t])return S.apply(this,arguments);if(!this._eventMap[t].has($))return S.apply(this,arguments);const z=this._eventMap[t].get($);return this._eventMap[t].delete($),this._eventMap[t].size===0&&delete this._eventMap[t],Object.keys(this._eventMap).length===0&&delete this._eventMap,S.apply(this,[D,z])},Object.defineProperty(l,"on"+t,{get(){return this["_on"+t]},set(D){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),D&&this.addEventListener(t,this["_on"+t]=D)},enumerable:!0,configurable:!0})}function xp(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(Nd=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function kp(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(Ud=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function Ro(){if(typeof window=="object"){if(Nd)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function Xi(e,t){!Ud||console.warn(e+" is deprecated, please use "+t+" instead.")}function Cp(e){const t={browser:null,version:null};if(typeof e>"u"||!e.navigator)return t.browser="Not a browser.",t;const{navigator:n}=e;if(n.mozGetUserMedia)t.browser="firefox",t.version=Fr(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||e.isSecureContext===!1&&e.webkitRTCPeerConnection&&!e.RTCIceGatherer)t.browser="chrome",t.version=Fr(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(n.mediaDevices&&n.userAgent.match(/Edge\/(\d+).(\d+)$/))t.browser="edge",t.version=Fr(n.userAgent,/Edge\/(\d+).(\d+)$/,2);else if(e.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))t.browser="safari",t.version=Fr(n.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype;else return t.browser="Not a supported browser.",t;return t}function La(e){return Object.prototype.toString.call(e)==="[object Object]"}function jd(e){return La(e)?Object.keys(e).reduce(function(t,n){const l=La(e[n]),v=l?jd(e[n]):e[n],S=l&&!Object.keys(v).length;return v===void 0||S?t:Object.assign(t,{[n]:v})},{}):e}function qs(e,t,n){!t||n.has(t.id)||(n.set(t.id,t),Object.keys(t).forEach(l=>{l.endsWith("Id")?qs(e,e.get(t[l]),n):l.endsWith("Ids")&&t[l].forEach(v=>{qs(e,e.get(v),n)})}))}function Ma(e,t,n){const l=n?"outbound-rtp":"inbound-rtp",v=new Map;if(t===null)return v;const S=[];return e.forEach(D=>{D.type==="track"&&D.trackIdentifier===t.id&&S.push(D)}),S.forEach(D=>{e.forEach($=>{$.type===l&&$.trackId===D.id&&qs(e,$,v)})}),v}const Na=Ro;function Fd(e,t){const n=e&&e.navigator;if(!n.mediaDevices)return;const l=function($){if(typeof $!="object"||$.mandatory||$.optional)return $;const z={};return Object.keys($).forEach(W=>{if(W==="require"||W==="advanced"||W==="mediaSource")return;const X=typeof $[W]=="object"?$[W]:{ideal:$[W]};X.exact!==void 0&&typeof X.exact=="number"&&(X.min=X.max=X.exact);const b=function(ie,_e){return ie?ie+_e.charAt(0).toUpperCase()+_e.slice(1):_e==="deviceId"?"sourceId":_e};if(X.ideal!==void 0){z.optional=z.optional||[];let ie={};typeof X.ideal=="number"?(ie[b("min",W)]=X.ideal,z.optional.push(ie),ie={},ie[b("max",W)]=X.ideal,z.optional.push(ie)):(ie[b("",W)]=X.ideal,z.optional.push(ie))}X.exact!==void 0&&typeof X.exact!="number"?(z.mandatory=z.mandatory||{},z.mandatory[b("",W)]=X.exact):["min","max"].forEach(ie=>{X[ie]!==void 0&&(z.mandatory=z.mandatory||{},z.mandatory[b(ie,W)]=X[ie])})}),$.advanced&&(z.optional=(z.optional||[]).concat($.advanced)),z},v=function($,z){if(t.version>=61)return z($);if($=JSON.parse(JSON.stringify($)),$&&typeof $.audio=="object"){const W=function(X,b,ie){b in X&&!(ie in X)&&(X[ie]=X[b],delete X[b])};$=JSON.parse(JSON.stringify($)),W($.audio,"autoGainControl","googAutoGainControl"),W($.audio,"noiseSuppression","googNoiseSuppression"),$.audio=l($.audio)}if($&&typeof $.video=="object"){let W=$.video.facingMode;W=W&&(typeof W=="object"?W:{ideal:W});const X=t.version<66;if(W&&(W.exact==="user"||W.exact==="environment"||W.ideal==="user"||W.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!X)){delete $.video.facingMode;let b;if(W.exact==="environment"||W.ideal==="environment"?b=["back","rear"]:(W.exact==="user"||W.ideal==="user")&&(b=["front"]),b)return n.mediaDevices.enumerateDevices().then(ie=>{ie=ie.filter(be=>be.kind==="videoinput");let _e=ie.find(be=>b.some(Ee=>be.label.toLowerCase().includes(Ee)));return!_e&&ie.length&&b.includes("back")&&(_e=ie[ie.length-1]),_e&&($.video.deviceId=W.exact?{exact:_e.deviceId}:{ideal:_e.deviceId}),$.video=l($.video),Na("chrome: "+JSON.stringify($)),z($)})}$.video=l($.video)}return Na("chrome: "+JSON.stringify($)),z($)},S=function($){return t.version>=64?$:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[$.name]||$.name,message:$.message,constraint:$.constraint||$.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},D=function($,z,W){v($,X=>{n.webkitGetUserMedia(X,z,b=>{W&&W(S(b))})})};if(n.getUserMedia=D.bind(n),n.mediaDevices.getUserMedia){const $=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(z){return v(z,W=>$(W).then(X=>{if(W.audio&&!X.getAudioTracks().length||W.video&&!X.getVideoTracks().length)throw X.getTracks().forEach(b=>{b.stop()}),new DOMException("","NotFoundError");return X},X=>Promise.reject(S(X))))}}}function Tp(e,t){if(!(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices)&&!!e.navigator.mediaDevices){if(typeof t!="function"){console.error("shimGetDisplayMedia: getSourceId argument is not a function");return}e.navigator.mediaDevices.getDisplayMedia=function(l){return t(l).then(v=>{const S=l.video&&l.video.width,D=l.video&&l.video.height,$=l.video&&l.video.frameRate;return l.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:v,maxFrameRate:$||3}},S&&(l.video.mandatory.maxWidth=S),D&&(l.video.mandatory.maxHeight=D),e.navigator.mediaDevices.getUserMedia(l)})}}}function Hd(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function zd(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=l=>{l.stream.addEventListener("addtrack",v=>{let S;e.RTCPeerConnection.prototype.getReceivers?S=this.getReceivers().find($=>$.track&&$.track.id===v.track.id):S={track:v.track};const D=new Event("track");D.track=v.track,D.receiver=S,D.transceiver={receiver:S},D.streams=[l.stream],this.dispatchEvent(D)}),l.stream.getTracks().forEach(v=>{let S;e.RTCPeerConnection.prototype.getReceivers?S=this.getReceivers().find($=>$.track&&$.track.id===v.id):S={track:v};const D=new Event("track");D.track=v,D.receiver=S,D.transceiver={receiver:S},D.streams=[l.stream],this.dispatchEvent(D)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else Pr(e,"track",t=>(t.transceiver||Object.defineProperty(t,"transceiver",{value:{receiver:t.receiver}}),t))}function $d(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(v,S){return{track:S,get dtmf(){return this._dtmf===void 0&&(S.kind==="audio"?this._dtmf=v.createDTMFSender(S):this._dtmf=null),this._dtmf},_pc:v}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const v=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function($,z){let W=v.apply(this,arguments);return W||(W=t(this,$),this._senders.push(W)),W};const S=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function($){S.apply(this,arguments);const z=this._senders.indexOf($);z!==-1&&this._senders.splice(z,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(S){this._senders=this._senders||[],n.apply(this,[S]),S.getTracks().forEach(D=>{this._senders.push(t(this,D))})};const l=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(S){this._senders=this._senders||[],l.apply(this,[S]),S.getTracks().forEach(D=>{const $=this._senders.find(z=>z.track===D);$&&this._senders.splice(this._senders.indexOf($),1)})}}else if(typeof e=="object"&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const l=t.apply(this,[]);return l.forEach(v=>v._pc=this),l},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function Wd(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[l,v,S]=arguments;if(arguments.length>0&&typeof l=="function")return t.apply(this,arguments);if(t.length===0&&(arguments.length===0||typeof l!="function"))return t.apply(this,[]);const D=function(z){const W={};return z.result().forEach(b=>{const ie={id:b.id,timestamp:b.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[b.type]||b.type};b.names().forEach(_e=>{ie[_e]=b.stat(_e)}),W[ie.id]=ie}),W},$=function(z){return new Map(Object.keys(z).map(W=>[W,z[W]]))};if(arguments.length>=2){const z=function(W){v($(D(W)))};return t.apply(this,[z,l])}return new Promise((z,W)=>{t.apply(this,[function(X){z($(D(X)))},W])}).then(v,S)}}function Kd(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const n=e.RTCPeerConnection.prototype.getSenders;n&&(e.RTCPeerConnection.prototype.getSenders=function(){const S=n.apply(this,[]);return S.forEach(D=>D._pc=this),S});const l=e.RTCPeerConnection.prototype.addTrack;l&&(e.RTCPeerConnection.prototype.addTrack=function(){const S=l.apply(this,arguments);return S._pc=this,S}),e.RTCRtpSender.prototype.getStats=function(){const S=this;return this._pc.getStats().then(D=>Ma(D,S.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const n=e.RTCPeerConnection.prototype.getReceivers;n&&(e.RTCPeerConnection.prototype.getReceivers=function(){const v=n.apply(this,[]);return v.forEach(S=>S._pc=this),v}),Pr(e,"track",l=>(l.receiver._pc=l.srcElement,l)),e.RTCRtpReceiver.prototype.getStats=function(){const v=this;return this._pc.getStats().then(S=>Ma(S,v.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const l=arguments[0];let v,S,D;return this.getSenders().forEach($=>{$.track===l&&(v?D=!0:v=$)}),this.getReceivers().forEach($=>($.track===l&&(S?D=!0:S=$),$.track===l)),D||v&&S?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):v?v.getStats():S?S.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function Gd(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(D=>this._shimmedLocalStreams[D][0])};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(D,$){if(!$)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const z=t.apply(this,arguments);return this._shimmedLocalStreams[$.id]?this._shimmedLocalStreams[$.id].indexOf(z)===-1&&this._shimmedLocalStreams[$.id].push(z):this._shimmedLocalStreams[$.id]=[$,z],z};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(D){this._shimmedLocalStreams=this._shimmedLocalStreams||{},D.getTracks().forEach(W=>{if(this.getSenders().find(b=>b.track===W))throw new DOMException("Track already exists.","InvalidAccessError")});const $=this.getSenders();n.apply(this,arguments);const z=this.getSenders().filter(W=>$.indexOf(W)===-1);this._shimmedLocalStreams[D.id]=[D].concat(z)};const l=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(D){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[D.id],l.apply(this,arguments)};const v=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(D){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},D&&Object.keys(this._shimmedLocalStreams).forEach($=>{const z=this._shimmedLocalStreams[$].indexOf(D);z!==-1&&this._shimmedLocalStreams[$].splice(z,1),this._shimmedLocalStreams[$].length===1&&delete this._shimmedLocalStreams[$]}),v.apply(this,arguments)}}function Vd(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return Gd(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const X=n.apply(this);return this._reverseStreams=this._reverseStreams||{},X.map(b=>this._reverseStreams[b.id])};const l=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(X){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},X.getTracks().forEach(b=>{if(this.getSenders().find(_e=>_e.track===b))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[X.id]){const b=new e.MediaStream(X.getTracks());this._streams[X.id]=b,this._reverseStreams[b.id]=X,X=b}l.apply(this,[X])};const v=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(X){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},v.apply(this,[this._streams[X.id]||X]),delete this._reverseStreams[this._streams[X.id]?this._streams[X.id].id:X.id],delete this._streams[X.id]},e.RTCPeerConnection.prototype.addTrack=function(X,b){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const ie=[].slice.call(arguments,1);if(ie.length!==1||!ie[0].getTracks().find(Ee=>Ee===X))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(Ee=>Ee.track===X))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const be=this._streams[b.id];if(be)be.addTrack(X),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const Ee=new e.MediaStream([X]);this._streams[b.id]=Ee,this._reverseStreams[Ee.id]=b,this.addStream(Ee)}return this.getSenders().find(Ee=>Ee.track===X)};function S(W,X){let b=X.sdp;return Object.keys(W._reverseStreams||[]).forEach(ie=>{const _e=W._reverseStreams[ie],be=W._streams[_e.id];b=b.replace(new RegExp(be.id,"g"),_e.id)}),new RTCSessionDescription({type:X.type,sdp:b})}function D(W,X){let b=X.sdp;return Object.keys(W._reverseStreams||[]).forEach(ie=>{const _e=W._reverseStreams[ie],be=W._streams[_e.id];b=b.replace(new RegExp(_e.id,"g"),be.id)}),new RTCSessionDescription({type:X.type,sdp:b})}["createOffer","createAnswer"].forEach(function(W){const X=e.RTCPeerConnection.prototype[W],b={[W](){const ie=arguments;return arguments.length&&typeof arguments[0]=="function"?X.apply(this,[be=>{const Ee=S(this,be);ie[0].apply(null,[Ee])},be=>{ie[1]&&ie[1].apply(null,be)},arguments[2]]):X.apply(this,arguments).then(be=>S(this,be))}};e.RTCPeerConnection.prototype[W]=b[W]});const $=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?$.apply(this,arguments):(arguments[0]=D(this,arguments[0]),$.apply(this,arguments))};const z=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const W=z.get.apply(this);return W.type===""?W:S(this,W)}}),e.RTCPeerConnection.prototype.removeTrack=function(X){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!X._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(X._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let ie;Object.keys(this._streams).forEach(_e=>{this._streams[_e].getTracks().find(Ee=>X.track===Ee)&&(ie=this._streams[_e])}),ie&&(ie.getTracks().length===1?this.removeStream(this._reverseStreams[ie.id]):ie.removeTrack(X.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Js(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),!!e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const l=e.RTCPeerConnection.prototype[n],v={[n](){return arguments[0]=new(n==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),l.apply(this,arguments)}};e.RTCPeerConnection.prototype[n]=v[n]})}function qd(e,t){Pr(e,"negotiationneeded",n=>{const l=n.target;if(!((t.version<72||l.getConfiguration&&l.getConfiguration().sdpSemantics==="plan-b")&&l.signalingState!=="stable"))return n})}const Ua=Object.freeze(Object.defineProperty({__proto__:null,shimMediaStream:Hd,shimOnTrack:zd,shimGetSendersWithDtmf:$d,shimGetStats:Wd,shimSenderReceiverGetStats:Kd,shimAddTrackRemoveTrackWithNative:Gd,shimAddTrackRemoveTrack:Vd,shimPeerConnection:Js,fixNegotiationNeeded:qd,shimGetUserMedia:Fd,shimGetDisplayMedia:Tp},Symbol.toStringTag,{value:"Module"}));function Rp(e,t){let n=!1;return e=JSON.parse(JSON.stringify(e)),e.filter(l=>{if(l&&(l.urls||l.url)){let v=l.urls||l.url;l.url&&!l.urls&&Xi("RTCIceServer.url","RTCIceServer.urls");const S=typeof v=="string";return S&&(v=[v]),v=v.filter(D=>{if(D.indexOf("stun:")===0)return!1;const $=D.startsWith("turn")&&!D.startsWith("turn:[")&&D.includes("transport=udp");return $&&!n?(n=!0,!0):$&&!n}),delete l.url,l.urls=S?v[0]:v,!!v.length}})}var Ao={exports:{}};(function(e){var t={};t.generateIdentifier=function(){return Math.random().toString(36).substr(2,10)},t.localCName=t.generateIdentifier(),t.splitLines=function(n){return n.trim().split(`
`).map(function(l){return l.trim()})},t.splitSections=function(n){var l=n.split(`
m=`);return l.map(function(v,S){return(S>0?"m="+v:v).trim()+`\r
`})},t.getDescription=function(n){var l=t.splitSections(n);return l&&l[0]},t.getMediaSections=function(n){var l=t.splitSections(n);return l.shift(),l},t.matchPrefix=function(n,l){return t.splitLines(n).filter(function(v){return v.indexOf(l)===0})},t.parseCandidate=function(n){var l;n.indexOf("a=candidate:")===0?l=n.substring(12).split(" "):l=n.substring(10).split(" ");for(var v={foundation:l[0],component:parseInt(l[1],10),protocol:l[2].toLowerCase(),priority:parseInt(l[3],10),ip:l[4],address:l[4],port:parseInt(l[5],10),type:l[7]},S=8;S<l.length;S+=2)switch(l[S]){case"raddr":v.relatedAddress=l[S+1];break;case"rport":v.relatedPort=parseInt(l[S+1],10);break;case"tcptype":v.tcpType=l[S+1];break;case"ufrag":v.ufrag=l[S+1],v.usernameFragment=l[S+1];break;default:v[l[S]]=l[S+1];break}return v},t.writeCandidate=function(n){var l=[];l.push(n.foundation),l.push(n.component),l.push(n.protocol.toUpperCase()),l.push(n.priority),l.push(n.address||n.ip),l.push(n.port);var v=n.type;return l.push("typ"),l.push(v),v!=="host"&&n.relatedAddress&&n.relatedPort&&(l.push("raddr"),l.push(n.relatedAddress),l.push("rport"),l.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(l.push("tcptype"),l.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(l.push("ufrag"),l.push(n.usernameFragment||n.ufrag)),"candidate:"+l.join(" ")},t.parseIceOptions=function(n){return n.substr(14).split(" ")},t.parseRtpMap=function(n){var l=n.substr(9).split(" "),v={payloadType:parseInt(l.shift(),10)};return l=l[0].split("/"),v.name=l[0],v.clockRate=parseInt(l[1],10),v.channels=l.length===3?parseInt(l[2],10):1,v.numChannels=v.channels,v},t.writeRtpMap=function(n){var l=n.payloadType;n.preferredPayloadType!==void 0&&(l=n.preferredPayloadType);var v=n.channels||n.numChannels||1;return"a=rtpmap:"+l+" "+n.name+"/"+n.clockRate+(v!==1?"/"+v:"")+`\r
`},t.parseExtmap=function(n){var l=n.substr(9).split(" ");return{id:parseInt(l[0],10),direction:l[0].indexOf("/")>0?l[0].split("/")[1]:"sendrecv",uri:l[1]}},t.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+`\r
`},t.parseFmtp=function(n){for(var l={},v,S=n.substr(n.indexOf(" ")+1).split(";"),D=0;D<S.length;D++)v=S[D].trim().split("="),l[v[0].trim()]=v[1];return l},t.writeFmtp=function(n){var l="",v=n.payloadType;if(n.preferredPayloadType!==void 0&&(v=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){var S=[];Object.keys(n.parameters).forEach(function(D){n.parameters[D]?S.push(D+"="+n.parameters[D]):S.push(D)}),l+="a=fmtp:"+v+" "+S.join(";")+`\r
`}return l},t.parseRtcpFb=function(n){var l=n.substr(n.indexOf(" ")+1).split(" ");return{type:l.shift(),parameter:l.join(" ")}},t.writeRtcpFb=function(n){var l="",v=n.payloadType;return n.preferredPayloadType!==void 0&&(v=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(function(S){l+="a=rtcp-fb:"+v+" "+S.type+(S.parameter&&S.parameter.length?" "+S.parameter:"")+`\r
`}),l},t.parseSsrcMedia=function(n){var l=n.indexOf(" "),v={ssrc:parseInt(n.substr(7,l-7),10)},S=n.indexOf(":",l);return S>-1?(v.attribute=n.substr(l+1,S-l-1),v.value=n.substr(S+1)):v.attribute=n.substr(l+1),v},t.parseSsrcGroup=function(n){var l=n.substr(13).split(" ");return{semantics:l.shift(),ssrcs:l.map(function(v){return parseInt(v,10)})}},t.getMid=function(n){var l=t.matchPrefix(n,"a=mid:")[0];if(l)return l.substr(6)},t.parseFingerprint=function(n){var l=n.substr(14).split(" ");return{algorithm:l[0].toLowerCase(),value:l[1]}},t.getDtlsParameters=function(n,l){var v=t.matchPrefix(n+l,"a=fingerprint:");return{role:"auto",fingerprints:v.map(t.parseFingerprint)}},t.writeDtlsParameters=function(n,l){var v="a=setup:"+l+`\r
`;return n.fingerprints.forEach(function(S){v+="a=fingerprint:"+S.algorithm+" "+S.value+`\r
`}),v},t.parseCryptoLine=function(n){var l=n.substr(9).split(" ");return{tag:parseInt(l[0],10),cryptoSuite:l[1],keyParams:l[2],sessionParams:l.slice(3)}},t.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?t.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},t.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;var l=n.substr(7).split("|");return{keyMethod:"inline",keySalt:l[0],lifeTime:l[1],mkiValue:l[2]?l[2].split(":")[0]:void 0,mkiLength:l[2]?l[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},t.getCryptoParameters=function(n,l){var v=t.matchPrefix(n+l,"a=crypto:");return v.map(t.parseCryptoLine)},t.getIceParameters=function(n,l){var v=t.matchPrefix(n+l,"a=ice-ufrag:")[0],S=t.matchPrefix(n+l,"a=ice-pwd:")[0];return v&&S?{usernameFragment:v.substr(12),password:S.substr(10)}:null},t.writeIceParameters=function(n){return"a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`},t.parseRtpParameters=function(n){for(var l={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},v=t.splitLines(n),S=v[0].split(" "),D=3;D<S.length;D++){var $=S[D],z=t.matchPrefix(n,"a=rtpmap:"+$+" ")[0];if(z){var W=t.parseRtpMap(z),X=t.matchPrefix(n,"a=fmtp:"+$+" ");switch(W.parameters=X.length?t.parseFmtp(X[0]):{},W.rtcpFeedback=t.matchPrefix(n,"a=rtcp-fb:"+$+" ").map(t.parseRtcpFb),l.codecs.push(W),W.name.toUpperCase()){case"RED":case"ULPFEC":l.fecMechanisms.push(W.name.toUpperCase());break}}}return t.matchPrefix(n,"a=extmap:").forEach(function(b){l.headerExtensions.push(t.parseExtmap(b))}),l},t.writeRtpDescription=function(n,l){var v="";v+="m="+n+" ",v+=l.codecs.length>0?"9":"0",v+=" UDP/TLS/RTP/SAVPF ",v+=l.codecs.map(function(D){return D.preferredPayloadType!==void 0?D.preferredPayloadType:D.payloadType}).join(" ")+`\r
`,v+=`c=IN IP4 0.0.0.0\r
`,v+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,l.codecs.forEach(function(D){v+=t.writeRtpMap(D),v+=t.writeFmtp(D),v+=t.writeRtcpFb(D)});var S=0;return l.codecs.forEach(function(D){D.maxptime>S&&(S=D.maxptime)}),S>0&&(v+="a=maxptime:"+S+`\r
`),v+=`a=rtcp-mux\r
`,l.headerExtensions&&l.headerExtensions.forEach(function(D){v+=t.writeExtmap(D)}),v},t.parseRtpEncodingParameters=function(n){var l=[],v=t.parseRtpParameters(n),S=v.fecMechanisms.indexOf("RED")!==-1,D=v.fecMechanisms.indexOf("ULPFEC")!==-1,$=t.matchPrefix(n,"a=ssrc:").map(function(ie){return t.parseSsrcMedia(ie)}).filter(function(ie){return ie.attribute==="cname"}),z=$.length>0&&$[0].ssrc,W,X=t.matchPrefix(n,"a=ssrc-group:FID").map(function(ie){var _e=ie.substr(17).split(" ");return _e.map(function(be){return parseInt(be,10)})});X.length>0&&X[0].length>1&&X[0][0]===z&&(W=X[0][1]),v.codecs.forEach(function(ie){if(ie.name.toUpperCase()==="RTX"&&ie.parameters.apt){var _e={ssrc:z,codecPayloadType:parseInt(ie.parameters.apt,10)};z&&W&&(_e.rtx={ssrc:W}),l.push(_e),S&&(_e=JSON.parse(JSON.stringify(_e)),_e.fec={ssrc:z,mechanism:D?"red+ulpfec":"red"},l.push(_e))}}),l.length===0&&z&&l.push({ssrc:z});var b=t.matchPrefix(n,"b=");return b.length&&(b[0].indexOf("b=TIAS:")===0?b=parseInt(b[0].substr(7),10):b[0].indexOf("b=AS:")===0?b=parseInt(b[0].substr(5),10)*1e3*.95-50*40*8:b=void 0,l.forEach(function(ie){ie.maxBitrate=b})),l},t.parseRtcpParameters=function(n){var l={},v=t.matchPrefix(n,"a=ssrc:").map(function($){return t.parseSsrcMedia($)}).filter(function($){return $.attribute==="cname"})[0];v&&(l.cname=v.value,l.ssrc=v.ssrc);var S=t.matchPrefix(n,"a=rtcp-rsize");l.reducedSize=S.length>0,l.compound=S.length===0;var D=t.matchPrefix(n,"a=rtcp-mux");return l.mux=D.length>0,l},t.parseMsid=function(n){var l,v=t.matchPrefix(n,"a=msid:");if(v.length===1)return l=v[0].substr(7).split(" "),{stream:l[0],track:l[1]};var S=t.matchPrefix(n,"a=ssrc:").map(function(D){return t.parseSsrcMedia(D)}).filter(function(D){return D.attribute==="msid"});if(S.length>0)return l=S[0].value.split(" "),{stream:l[0],track:l[1]}},t.parseSctpDescription=function(n){var l=t.parseMLine(n),v=t.matchPrefix(n,"a=max-message-size:"),S;v.length>0&&(S=parseInt(v[0].substr(19),10)),isNaN(S)&&(S=65536);var D=t.matchPrefix(n,"a=sctp-port:");if(D.length>0)return{port:parseInt(D[0].substr(12),10),protocol:l.fmt,maxMessageSize:S};var $=t.matchPrefix(n,"a=sctpmap:");if($.length>0){var z=t.matchPrefix(n,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(z[0],10),protocol:z[1],maxMessageSize:S}}},t.writeSctpDescription=function(n,l){var v=[];return n.protocol!=="DTLS/SCTP"?v=["m="+n.kind+" 9 "+n.protocol+" "+l.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+l.port+`\r
`]:v=["m="+n.kind+" 9 "+n.protocol+" "+l.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+l.port+" "+l.protocol+` 65535\r
`],l.maxMessageSize!==void 0&&v.push("a=max-message-size:"+l.maxMessageSize+`\r
`),v.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,21)},t.writeSessionBoilerplate=function(n,l,v){var S,D=l!==void 0?l:2;n?S=n:S=t.generateSessionId();var $=v||"thisisadapterortc";return`v=0\r
o=`+$+" "+S+" "+D+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},t.writeMediaSection=function(n,l,v,S){var D=t.writeRtpDescription(n.kind,l);if(D+=t.writeIceParameters(n.iceGatherer.getLocalParameters()),D+=t.writeDtlsParameters(n.dtlsTransport.getLocalParameters(),v==="offer"?"actpass":"active"),D+="a=mid:"+n.mid+`\r
`,n.direction?D+="a="+n.direction+`\r
`:n.rtpSender&&n.rtpReceiver?D+=`a=sendrecv\r
`:n.rtpSender?D+=`a=sendonly\r
`:n.rtpReceiver?D+=`a=recvonly\r
`:D+=`a=inactive\r
`,n.rtpSender){var $="msid:"+S.id+" "+n.rtpSender.track.id+`\r
`;D+="a="+$,D+="a=ssrc:"+n.sendEncodingParameters[0].ssrc+" "+$,n.sendEncodingParameters[0].rtx&&(D+="a=ssrc:"+n.sendEncodingParameters[0].rtx.ssrc+" "+$,D+="a=ssrc-group:FID "+n.sendEncodingParameters[0].ssrc+" "+n.sendEncodingParameters[0].rtx.ssrc+`\r
`)}return D+="a=ssrc:"+n.sendEncodingParameters[0].ssrc+" cname:"+t.localCName+`\r
`,n.rtpSender&&n.sendEncodingParameters[0].rtx&&(D+="a=ssrc:"+n.sendEncodingParameters[0].rtx.ssrc+" cname:"+t.localCName+`\r
`),D},t.getDirection=function(n,l){for(var v=t.splitLines(n),S=0;S<v.length;S++)switch(v[S]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return v[S].substr(2)}return l?t.getDirection(l):"sendrecv"},t.getKind=function(n){var l=t.splitLines(n),v=l[0].split(" ");return v[0].substr(2)},t.isRejected=function(n){return n.split(" ",2)[1]==="0"},t.parseMLine=function(n){var l=t.splitLines(n),v=l[0].substr(2).split(" ");return{kind:v[0],port:parseInt(v[1],10),protocol:v[2],fmt:v.slice(3).join(" ")}},t.parseOLine=function(n){var l=t.matchPrefix(n,"o=")[0],v=l.substr(2).split(" ");return{username:v[0],sessionId:v[1],sessionVersion:parseInt(v[2],10),netType:v[3],addressType:v[4],address:v[5]}},t.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;for(var l=t.splitLines(n),v=0;v<l.length;v++)if(l[v].length<2||l[v].charAt(1)!=="=")return!1;return!0},e.exports=t})(Ao);const Si=Ao.exports;var $e=Ao.exports;function Ap(e){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type}function ja(e,t,n,l,v){var S=$e.writeRtpDescription(e.kind,t);if(S+=$e.writeIceParameters(e.iceGatherer.getLocalParameters()),S+=$e.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),n==="offer"?"actpass":v||"active"),S+="a=mid:"+e.mid+`\r
`,e.rtpSender&&e.rtpReceiver?S+=`a=sendrecv\r
`:e.rtpSender?S+=`a=sendonly\r
`:e.rtpReceiver?S+=`a=recvonly\r
`:S+=`a=inactive\r
`,e.rtpSender){var D=e.rtpSender._initialTrackId||e.rtpSender.track.id;e.rtpSender._initialTrackId=D;var $="msid:"+(l?l.id:"-")+" "+D+`\r
`;S+="a="+$,S+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+$,e.sendEncodingParameters[0].rtx&&(S+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+$,S+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+`\r
`)}return S+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+$e.localCName+`\r
`,e.rtpSender&&e.sendEncodingParameters[0].rtx&&(S+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+$e.localCName+`\r
`),S}function Ip(e,t){var n=!1;return e=JSON.parse(JSON.stringify(e)),e.filter(function(l){if(l&&(l.urls||l.url)){var v=l.urls||l.url;l.url&&!l.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var S=typeof v=="string";return S&&(v=[v]),v=v.filter(function(D){var $=D.indexOf("turn:")===0&&D.indexOf("transport=udp")!==-1&&D.indexOf("turn:[")===-1&&!n;return $?(n=!0,!0):D.indexOf("stun:")===0&&t>=14393&&D.indexOf("?transport=udp")===-1}),delete l.url,l.urls=S?v[0]:v,!!v.length}})}function fi(e,t){var n={codecs:[],headerExtensions:[],fecMechanisms:[]},l=function(S,D){S=parseInt(S,10);for(var $=0;$<D.length;$++)if(D[$].payloadType===S||D[$].preferredPayloadType===S)return D[$]},v=function(S,D,$,z){var W=l(S.parameters.apt,$),X=l(D.parameters.apt,z);return W&&X&&W.name.toLowerCase()===X.name.toLowerCase()};return e.codecs.forEach(function(S){for(var D=0;D<t.codecs.length;D++){var $=t.codecs[D];if(S.name.toLowerCase()===$.name.toLowerCase()&&S.clockRate===$.clockRate){if(S.name.toLowerCase()==="rtx"&&S.parameters&&$.parameters.apt&&!v(S,$,e.codecs,t.codecs))continue;$=JSON.parse(JSON.stringify($)),$.numChannels=Math.min(S.numChannels,$.numChannels),n.codecs.push($),$.rtcpFeedback=$.rtcpFeedback.filter(function(z){for(var W=0;W<S.rtcpFeedback.length;W++)if(S.rtcpFeedback[W].type===z.type&&S.rtcpFeedback[W].parameter===z.parameter)return!0;return!1});break}}}),e.headerExtensions.forEach(function(S){for(var D=0;D<t.headerExtensions.length;D++){var $=t.headerExtensions[D];if(S.uri===$.uri){n.headerExtensions.push($);break}}}),n}function Fa(e,t,n){return{offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(n)!==-1}function ls(e,t){var n=e.getRemoteCandidates().find(function(l){return t.foundation===l.foundation&&t.ip===l.ip&&t.port===l.port&&t.priority===l.priority&&t.protocol===l.protocol&&t.type===l.type});return n||e.addRemoteCandidate(t),!n}function zt(e,t){var n=new Error(t);return n.name=e,n.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],n}var Pp=function(e,t){function n(z,W){W.addTrack(z),W.dispatchEvent(new e.MediaStreamTrackEvent("addtrack",{track:z}))}function l(z,W){W.removeTrack(z),W.dispatchEvent(new e.MediaStreamTrackEvent("removetrack",{track:z}))}function v(z,W,X,b){var ie=new Event("track");ie.track=W,ie.receiver=X,ie.transceiver={receiver:X},ie.streams=b,e.setTimeout(function(){z._dispatchEvent("track",ie)})}var S=function(z){var W=this,X=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(ie){W[ie]=X[ie].bind(X)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",z=JSON.parse(JSON.stringify(z||{})),this.usingBundle=z.bundlePolicy==="max-bundle",z.rtcpMuxPolicy==="negotiate")throw zt("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(z.rtcpMuxPolicy||(z.rtcpMuxPolicy="require"),z.iceTransportPolicy){case"all":case"relay":break;default:z.iceTransportPolicy="all";break}switch(z.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:z.bundlePolicy="balanced";break}if(z.iceServers=Ip(z.iceServers||[],t),this._iceGatherers=[],z.iceCandidatePoolSize)for(var b=z.iceCandidatePoolSize;b>0;b--)this._iceGatherers.push(new e.RTCIceGatherer({iceServers:z.iceServers,gatherPolicy:z.iceTransportPolicy}));else z.iceCandidatePoolSize=0;this._config=z,this.transceivers=[],this._sdpSessionId=$e.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(S.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(S.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),S.prototype.onicecandidate=null,S.prototype.onaddstream=null,S.prototype.ontrack=null,S.prototype.onremovestream=null,S.prototype.onsignalingstatechange=null,S.prototype.oniceconnectionstatechange=null,S.prototype.onconnectionstatechange=null,S.prototype.onicegatheringstatechange=null,S.prototype.onnegotiationneeded=null,S.prototype.ondatachannel=null,S.prototype._dispatchEvent=function(z,W){this._isClosed||(this.dispatchEvent(W),typeof this["on"+z]=="function"&&this["on"+z](W))},S.prototype._emitGatheringStateChange=function(){var z=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",z)},S.prototype.getConfiguration=function(){return this._config},S.prototype.getLocalStreams=function(){return this.localStreams},S.prototype.getRemoteStreams=function(){return this.remoteStreams},S.prototype._createTransceiver=function(z,W){var X=this.transceivers.length>0,b={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:z,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&X)b.iceTransport=this.transceivers[0].iceTransport,b.dtlsTransport=this.transceivers[0].dtlsTransport;else{var ie=this._createIceAndDtlsTransports();b.iceTransport=ie.iceTransport,b.dtlsTransport=ie.dtlsTransport}return W||this.transceivers.push(b),b},S.prototype.addTrack=function(z,W){if(this._isClosed)throw zt("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var X=this.transceivers.find(function(_e){return _e.track===z});if(X)throw zt("InvalidAccessError","Track already exists.");for(var b,ie=0;ie<this.transceivers.length;ie++)!this.transceivers[ie].track&&this.transceivers[ie].kind===z.kind&&(b=this.transceivers[ie]);return b||(b=this._createTransceiver(z.kind)),this._maybeFireNegotiationNeeded(),this.localStreams.indexOf(W)===-1&&this.localStreams.push(W),b.track=z,b.stream=W,b.rtpSender=new e.RTCRtpSender(z,b.dtlsTransport),b.rtpSender},S.prototype.addStream=function(z){var W=this;if(t>=15025)z.getTracks().forEach(function(b){W.addTrack(b,z)});else{var X=z.clone();z.getTracks().forEach(function(b,ie){var _e=X.getTracks()[ie];b.addEventListener("enabled",function(be){_e.enabled=be.enabled})}),X.getTracks().forEach(function(b){W.addTrack(b,X)})}},S.prototype.removeTrack=function(z){if(this._isClosed)throw zt("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(z instanceof e.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var W=this.transceivers.find(function(ie){return ie.rtpSender===z});if(!W)throw zt("InvalidAccessError","Sender was not created by this connection.");var X=W.stream;W.rtpSender.stop(),W.rtpSender=null,W.track=null,W.stream=null;var b=this.transceivers.map(function(ie){return ie.stream});b.indexOf(X)===-1&&this.localStreams.indexOf(X)>-1&&this.localStreams.splice(this.localStreams.indexOf(X),1),this._maybeFireNegotiationNeeded()},S.prototype.removeStream=function(z){var W=this;z.getTracks().forEach(function(X){var b=W.getSenders().find(function(ie){return ie.track===X});b&&W.removeTrack(b)})},S.prototype.getSenders=function(){return this.transceivers.filter(function(z){return!!z.rtpSender}).map(function(z){return z.rtpSender})},S.prototype.getReceivers=function(){return this.transceivers.filter(function(z){return!!z.rtpReceiver}).map(function(z){return z.rtpReceiver})},S.prototype._createIceGatherer=function(z,W){var X=this;if(W&&z>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var b=new e.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(b,"state",{value:"new",writable:!0}),this.transceivers[z].bufferedCandidateEvents=[],this.transceivers[z].bufferCandidates=function(ie){var _e=!ie.candidate||Object.keys(ie.candidate).length===0;b.state=_e?"completed":"gathering",X.transceivers[z].bufferedCandidateEvents!==null&&X.transceivers[z].bufferedCandidateEvents.push(ie)},b.addEventListener("localcandidate",this.transceivers[z].bufferCandidates),b},S.prototype._gather=function(z,W){var X=this,b=this.transceivers[W].iceGatherer;if(!b.onlocalcandidate){var ie=this.transceivers[W].bufferedCandidateEvents;this.transceivers[W].bufferedCandidateEvents=null,b.removeEventListener("localcandidate",this.transceivers[W].bufferCandidates),b.onlocalcandidate=function(_e){if(!(X.usingBundle&&W>0)){var be=new Event("icecandidate");be.candidate={sdpMid:z,sdpMLineIndex:W};var Ee=_e.candidate,ke=!Ee||Object.keys(Ee).length===0;if(ke)(b.state==="new"||b.state==="gathering")&&(b.state="completed");else{b.state==="new"&&(b.state="gathering"),Ee.component=1,Ee.ufrag=b.getLocalParameters().usernameFragment;var Te=$e.writeCandidate(Ee);be.candidate=Object.assign(be.candidate,$e.parseCandidate(Te)),be.candidate.candidate=Te,be.candidate.toJSON=function(){return{candidate:be.candidate.candidate,sdpMid:be.candidate.sdpMid,sdpMLineIndex:be.candidate.sdpMLineIndex,usernameFragment:be.candidate.usernameFragment}}}var x=$e.getMediaSections(X._localDescription.sdp);ke?x[be.candidate.sdpMLineIndex]+=`a=end-of-candidates\r
`:x[be.candidate.sdpMLineIndex]+="a="+be.candidate.candidate+`\r
`,X._localDescription.sdp=$e.getDescription(X._localDescription.sdp)+x.join("");var V=X.transceivers.every(function(O){return O.iceGatherer&&O.iceGatherer.state==="completed"});X.iceGatheringState!=="gathering"&&(X.iceGatheringState="gathering",X._emitGatheringStateChange()),ke||X._dispatchEvent("icecandidate",be),V&&(X._dispatchEvent("icecandidate",new Event("icecandidate")),X.iceGatheringState="complete",X._emitGatheringStateChange())}},e.setTimeout(function(){ie.forEach(function(_e){b.onlocalcandidate(_e)})},0)}},S.prototype._createIceAndDtlsTransports=function(){var z=this,W=new e.RTCIceTransport(null);W.onicestatechange=function(){z._updateIceConnectionState(),z._updateConnectionState()};var X=new e.RTCDtlsTransport(W);return X.ondtlsstatechange=function(){z._updateConnectionState()},X.onerror=function(){Object.defineProperty(X,"state",{value:"failed",writable:!0}),z._updateConnectionState()},{iceTransport:W,dtlsTransport:X}},S.prototype._disposeIceAndDtlsTransports=function(z){var W=this.transceivers[z].iceGatherer;W&&(delete W.onlocalcandidate,delete this.transceivers[z].iceGatherer);var X=this.transceivers[z].iceTransport;X&&(delete X.onicestatechange,delete this.transceivers[z].iceTransport);var b=this.transceivers[z].dtlsTransport;b&&(delete b.ondtlsstatechange,delete b.onerror,delete this.transceivers[z].dtlsTransport)},S.prototype._transceive=function(z,W,X){var b=fi(z.localCapabilities,z.remoteCapabilities);W&&z.rtpSender&&(b.encodings=z.sendEncodingParameters,b.rtcp={cname:$e.localCName,compound:z.rtcpParameters.compound},z.recvEncodingParameters.length&&(b.rtcp.ssrc=z.recvEncodingParameters[0].ssrc),z.rtpSender.send(b)),X&&z.rtpReceiver&&b.codecs.length>0&&(z.kind==="video"&&z.recvEncodingParameters&&t<15019&&z.recvEncodingParameters.forEach(function(ie){delete ie.rtx}),z.recvEncodingParameters.length?b.encodings=z.recvEncodingParameters:b.encodings=[{}],b.rtcp={compound:z.rtcpParameters.compound},z.rtcpParameters.cname&&(b.rtcp.cname=z.rtcpParameters.cname),z.sendEncodingParameters.length&&(b.rtcp.ssrc=z.sendEncodingParameters[0].ssrc),z.rtpReceiver.receive(b))},S.prototype.setLocalDescription=function(z){var W=this;if(["offer","answer"].indexOf(z.type)===-1)return Promise.reject(zt("TypeError",'Unsupported type "'+z.type+'"'));if(!Fa("setLocalDescription",z.type,W.signalingState)||W._isClosed)return Promise.reject(zt("InvalidStateError","Can not set local "+z.type+" in state "+W.signalingState));var X,b;if(z.type==="offer")X=$e.splitSections(z.sdp),b=X.shift(),X.forEach(function(_e,be){var Ee=$e.parseRtpParameters(_e);W.transceivers[be].localCapabilities=Ee}),W.transceivers.forEach(function(_e,be){W._gather(_e.mid,be)});else if(z.type==="answer"){X=$e.splitSections(W._remoteDescription.sdp),b=X.shift();var ie=$e.matchPrefix(b,"a=ice-lite").length>0;X.forEach(function(_e,be){var Ee=W.transceivers[be],ke=Ee.iceGatherer,Te=Ee.iceTransport,x=Ee.dtlsTransport,V=Ee.localCapabilities,O=Ee.remoteCapabilities,g=$e.isRejected(_e)&&$e.matchPrefix(_e,"a=bundle-only").length===0;if(!g&&!Ee.rejected){var C=$e.getIceParameters(_e,b),E=$e.getDtlsParameters(_e,b);ie&&(E.role="server"),(!W.usingBundle||be===0)&&(W._gather(Ee.mid,be),Te.state==="new"&&Te.start(ke,C,ie?"controlling":"controlled"),x.state==="new"&&x.start(E));var y=fi(V,O);W._transceive(Ee,y.codecs.length>0,!1)}})}return W._localDescription={type:z.type,sdp:z.sdp},z.type==="offer"?W._updateSignalingState("have-local-offer"):W._updateSignalingState("stable"),Promise.resolve()},S.prototype.setRemoteDescription=function(z){var W=this;if(["offer","answer"].indexOf(z.type)===-1)return Promise.reject(zt("TypeError",'Unsupported type "'+z.type+'"'));if(!Fa("setRemoteDescription",z.type,W.signalingState)||W._isClosed)return Promise.reject(zt("InvalidStateError","Can not set remote "+z.type+" in state "+W.signalingState));var X={};W.remoteStreams.forEach(function(Te){X[Te.id]=Te});var b=[],ie=$e.splitSections(z.sdp),_e=ie.shift(),be=$e.matchPrefix(_e,"a=ice-lite").length>0,Ee=$e.matchPrefix(_e,"a=group:BUNDLE ").length>0;W.usingBundle=Ee;var ke=$e.matchPrefix(_e,"a=ice-options:")[0];return ke?W.canTrickleIceCandidates=ke.substr(14).split(" ").indexOf("trickle")>=0:W.canTrickleIceCandidates=!1,ie.forEach(function(Te,x){var V=$e.splitLines(Te),O=$e.getKind(Te),g=$e.isRejected(Te)&&$e.matchPrefix(Te,"a=bundle-only").length===0,C=V[0].substr(2).split(" ")[2],E=$e.getDirection(Te,_e),y=$e.parseMsid(Te),i=$e.getMid(Te)||$e.generateIdentifier();if(g||O==="application"&&(C==="DTLS/SCTP"||C==="UDP/DTLS/SCTP")){W.transceivers[x]={mid:i,kind:O,protocol:C,rejected:!0};return}!g&&W.transceivers[x]&&W.transceivers[x].rejected&&(W.transceivers[x]=W._createTransceiver(O,!0));var m,a,o,h,s,r,d,c,f,u=$e.parseRtpParameters(Te),k,R;g||(k=$e.getIceParameters(Te,_e),R=$e.getDtlsParameters(Te,_e),R.role="client"),d=$e.parseRtpEncodingParameters(Te);var A=$e.parseRtcpParameters(Te),w=$e.matchPrefix(Te,"a=end-of-candidates",_e).length>0,I=$e.matchPrefix(Te,"a=candidate:").map(function(se){return $e.parseCandidate(se)}).filter(function(se){return se.component===1});if((z.type==="offer"||z.type==="answer")&&!g&&Ee&&x>0&&W.transceivers[x]&&(W._disposeIceAndDtlsTransports(x),W.transceivers[x].iceGatherer=W.transceivers[0].iceGatherer,W.transceivers[x].iceTransport=W.transceivers[0].iceTransport,W.transceivers[x].dtlsTransport=W.transceivers[0].dtlsTransport,W.transceivers[x].rtpSender&&W.transceivers[x].rtpSender.setTransport(W.transceivers[0].dtlsTransport),W.transceivers[x].rtpReceiver&&W.transceivers[x].rtpReceiver.setTransport(W.transceivers[0].dtlsTransport)),z.type==="offer"&&!g){m=W.transceivers[x]||W._createTransceiver(O),m.mid=i,m.iceGatherer||(m.iceGatherer=W._createIceGatherer(x,Ee)),I.length&&m.iceTransport.state==="new"&&(w&&(!Ee||x===0)?m.iceTransport.setRemoteCandidates(I):I.forEach(function(se){ls(m.iceTransport,se)})),c=e.RTCRtpReceiver.getCapabilities(O),t<15019&&(c.codecs=c.codecs.filter(function(se){return se.name!=="rtx"})),r=m.sendEncodingParameters||[{ssrc:(2*x+2)*1001}];var N=!1;if(E==="sendrecv"||E==="sendonly"){if(N=!m.rtpReceiver,s=m.rtpReceiver||new e.RTCRtpReceiver(m.dtlsTransport,O),N){var L;f=s.track,y&&y.stream==="-"||(y?(X[y.stream]||(X[y.stream]=new e.MediaStream,Object.defineProperty(X[y.stream],"id",{get:function(){return y.stream}})),Object.defineProperty(f,"id",{get:function(){return y.track}}),L=X[y.stream]):(X.default||(X.default=new e.MediaStream),L=X.default)),L&&(n(f,L),m.associatedRemoteMediaStreams.push(L)),b.push([f,s,L])}}else m.rtpReceiver&&m.rtpReceiver.track&&(m.associatedRemoteMediaStreams.forEach(function(se){var ce=se.getTracks().find(function(Y){return Y.id===m.rtpReceiver.track.id});ce&&l(ce,se)}),m.associatedRemoteMediaStreams=[]);m.localCapabilities=c,m.remoteCapabilities=u,m.rtpReceiver=s,m.rtcpParameters=A,m.sendEncodingParameters=r,m.recvEncodingParameters=d,W._transceive(W.transceivers[x],!1,N)}else if(z.type==="answer"&&!g){m=W.transceivers[x],a=m.iceGatherer,o=m.iceTransport,h=m.dtlsTransport,s=m.rtpReceiver,r=m.sendEncodingParameters,c=m.localCapabilities,W.transceivers[x].recvEncodingParameters=d,W.transceivers[x].remoteCapabilities=u,W.transceivers[x].rtcpParameters=A,I.length&&o.state==="new"&&((be||w)&&(!Ee||x===0)?o.setRemoteCandidates(I):I.forEach(function(se){ls(m.iceTransport,se)})),(!Ee||x===0)&&(o.state==="new"&&o.start(a,k,"controlling"),h.state==="new"&&h.start(R));var G=fi(m.localCapabilities,m.remoteCapabilities),J=G.codecs.filter(function(se){return se.name.toLowerCase()==="rtx"}).length;!J&&m.sendEncodingParameters[0].rtx&&delete m.sendEncodingParameters[0].rtx,W._transceive(m,E==="sendrecv"||E==="recvonly",E==="sendrecv"||E==="sendonly"),s&&(E==="sendrecv"||E==="sendonly")?(f=s.track,y?(X[y.stream]||(X[y.stream]=new e.MediaStream),n(f,X[y.stream]),b.push([f,s,X[y.stream]])):(X.default||(X.default=new e.MediaStream),n(f,X.default),b.push([f,s,X.default]))):delete m.rtpReceiver}}),W._dtlsRole===void 0&&(W._dtlsRole=z.type==="offer"?"active":"passive"),W._remoteDescription={type:z.type,sdp:z.sdp},z.type==="offer"?W._updateSignalingState("have-remote-offer"):W._updateSignalingState("stable"),Object.keys(X).forEach(function(Te){var x=X[Te];if(x.getTracks().length){if(W.remoteStreams.indexOf(x)===-1){W.remoteStreams.push(x);var V=new Event("addstream");V.stream=x,e.setTimeout(function(){W._dispatchEvent("addstream",V)})}b.forEach(function(O){var g=O[0],C=O[1];x.id===O[2].id&&v(W,g,C,[x])})}}),b.forEach(function(Te){Te[2]||v(W,Te[0],Te[1],[])}),e.setTimeout(function(){!(W&&W.transceivers)||W.transceivers.forEach(function(Te){Te.iceTransport&&Te.iceTransport.state==="new"&&Te.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),Te.iceTransport.addRemoteCandidate({}))})},4e3),Promise.resolve()},S.prototype.close=function(){this.transceivers.forEach(function(z){z.iceTransport&&z.iceTransport.stop(),z.dtlsTransport&&z.dtlsTransport.stop(),z.rtpSender&&z.rtpSender.stop(),z.rtpReceiver&&z.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState("closed")},S.prototype._updateSignalingState=function(z){this.signalingState=z;var W=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",W)},S.prototype._maybeFireNegotiationNeeded=function(){var z=this;this.signalingState!=="stable"||this.needNegotiation===!0||(this.needNegotiation=!0,e.setTimeout(function(){if(z.needNegotiation){z.needNegotiation=!1;var W=new Event("negotiationneeded");z._dispatchEvent("negotiationneeded",W)}},0))},S.prototype._updateIceConnectionState=function(){var z,W={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(b){b.iceTransport&&!b.rejected&&W[b.iceTransport.state]++}),z="new",W.failed>0?z="failed":W.checking>0?z="checking":W.disconnected>0?z="disconnected":W.new>0?z="new":W.connected>0?z="connected":W.completed>0&&(z="completed"),z!==this.iceConnectionState){this.iceConnectionState=z;var X=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",X)}},S.prototype._updateConnectionState=function(){var z,W={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(b){b.iceTransport&&b.dtlsTransport&&!b.rejected&&(W[b.iceTransport.state]++,W[b.dtlsTransport.state]++)}),W.connected+=W.completed,z="new",W.failed>0?z="failed":W.connecting>0?z="connecting":W.disconnected>0?z="disconnected":W.new>0?z="new":W.connected>0&&(z="connected"),z!==this.connectionState){this.connectionState=z;var X=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",X)}},S.prototype.createOffer=function(){var z=this;if(z._isClosed)return Promise.reject(zt("InvalidStateError","Can not call createOffer after close"));var W=z.transceivers.filter(function(be){return be.kind==="audio"}).length,X=z.transceivers.filter(function(be){return be.kind==="video"}).length,b=arguments[0];if(b){if(b.mandatory||b.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");b.offerToReceiveAudio!==void 0&&(b.offerToReceiveAudio===!0?W=1:b.offerToReceiveAudio===!1?W=0:W=b.offerToReceiveAudio),b.offerToReceiveVideo!==void 0&&(b.offerToReceiveVideo===!0?X=1:b.offerToReceiveVideo===!1?X=0:X=b.offerToReceiveVideo)}for(z.transceivers.forEach(function(be){be.kind==="audio"?(W--,W<0&&(be.wantReceive=!1)):be.kind==="video"&&(X--,X<0&&(be.wantReceive=!1))});W>0||X>0;)W>0&&(z._createTransceiver("audio"),W--),X>0&&(z._createTransceiver("video"),X--);var ie=$e.writeSessionBoilerplate(z._sdpSessionId,z._sdpSessionVersion++);z.transceivers.forEach(function(be,Ee){var ke=be.track,Te=be.kind,x=be.mid||$e.generateIdentifier();be.mid=x,be.iceGatherer||(be.iceGatherer=z._createIceGatherer(Ee,z.usingBundle));var V=e.RTCRtpSender.getCapabilities(Te);t<15019&&(V.codecs=V.codecs.filter(function(g){return g.name!=="rtx"})),V.codecs.forEach(function(g){g.name==="H264"&&g.parameters["level-asymmetry-allowed"]===void 0&&(g.parameters["level-asymmetry-allowed"]="1"),be.remoteCapabilities&&be.remoteCapabilities.codecs&&be.remoteCapabilities.codecs.forEach(function(C){g.name.toLowerCase()===C.name.toLowerCase()&&g.clockRate===C.clockRate&&(g.preferredPayloadType=C.payloadType)})}),V.headerExtensions.forEach(function(g){var C=be.remoteCapabilities&&be.remoteCapabilities.headerExtensions||[];C.forEach(function(E){g.uri===E.uri&&(g.id=E.id)})});var O=be.sendEncodingParameters||[{ssrc:(2*Ee+1)*1001}];ke&&t>=15019&&Te==="video"&&!O[0].rtx&&(O[0].rtx={ssrc:O[0].ssrc+1}),be.wantReceive&&(be.rtpReceiver=new e.RTCRtpReceiver(be.dtlsTransport,Te)),be.localCapabilities=V,be.sendEncodingParameters=O}),z._config.bundlePolicy!=="max-compat"&&(ie+="a=group:BUNDLE "+z.transceivers.map(function(be){return be.mid}).join(" ")+`\r
`),ie+=`a=ice-options:trickle\r
`,z.transceivers.forEach(function(be,Ee){ie+=ja(be,be.localCapabilities,"offer",be.stream,z._dtlsRole),ie+=`a=rtcp-rsize\r
`,be.iceGatherer&&z.iceGatheringState!=="new"&&(Ee===0||!z.usingBundle)&&(be.iceGatherer.getLocalCandidates().forEach(function(ke){ke.component=1,ie+="a="+$e.writeCandidate(ke)+`\r
`}),be.iceGatherer.state==="completed"&&(ie+=`a=end-of-candidates\r
`))});var _e=new e.RTCSessionDescription({type:"offer",sdp:ie});return Promise.resolve(_e)},S.prototype.createAnswer=function(){var z=this;if(z._isClosed)return Promise.reject(zt("InvalidStateError","Can not call createAnswer after close"));if(!(z.signalingState==="have-remote-offer"||z.signalingState==="have-local-pranswer"))return Promise.reject(zt("InvalidStateError","Can not call createAnswer in signalingState "+z.signalingState));var W=$e.writeSessionBoilerplate(z._sdpSessionId,z._sdpSessionVersion++);z.usingBundle&&(W+="a=group:BUNDLE "+z.transceivers.map(function(ie){return ie.mid}).join(" ")+`\r
`),W+=`a=ice-options:trickle\r
`;var X=$e.getMediaSections(z._remoteDescription.sdp).length;z.transceivers.forEach(function(ie,_e){if(!(_e+1>X)){if(ie.rejected){ie.kind==="application"?ie.protocol==="DTLS/SCTP"?W+=`m=application 0 DTLS/SCTP 5000\r
`:W+="m=application 0 "+ie.protocol+` webrtc-datachannel\r
`:ie.kind==="audio"?W+=`m=audio 0 UDP/TLS/RTP/SAVPF 0\r
a=rtpmap:0 PCMU/8000\r
`:ie.kind==="video"&&(W+=`m=video 0 UDP/TLS/RTP/SAVPF 120\r
a=rtpmap:120 VP8/90000\r
`),W+=`c=IN IP4 0.0.0.0\r
a=inactive\r
a=mid:`+ie.mid+`\r
`;return}if(ie.stream){var be;ie.kind==="audio"?be=ie.stream.getAudioTracks()[0]:ie.kind==="video"&&(be=ie.stream.getVideoTracks()[0]),be&&t>=15019&&ie.kind==="video"&&!ie.sendEncodingParameters[0].rtx&&(ie.sendEncodingParameters[0].rtx={ssrc:ie.sendEncodingParameters[0].ssrc+1})}var Ee=fi(ie.localCapabilities,ie.remoteCapabilities),ke=Ee.codecs.filter(function(Te){return Te.name.toLowerCase()==="rtx"}).length;!ke&&ie.sendEncodingParameters[0].rtx&&delete ie.sendEncodingParameters[0].rtx,W+=ja(ie,Ee,"answer",ie.stream,z._dtlsRole),ie.rtcpParameters&&ie.rtcpParameters.reducedSize&&(W+=`a=rtcp-rsize\r
`)}});var b=new e.RTCSessionDescription({type:"answer",sdp:W});return Promise.resolve(b)},S.prototype.addIceCandidate=function(z){var W=this,X;return z&&!(z.sdpMLineIndex!==void 0||z.sdpMid)?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise(function(b,ie){if(W._remoteDescription)if(!z||z.candidate==="")for(var _e=0;_e<W.transceivers.length&&!(!W.transceivers[_e].rejected&&(W.transceivers[_e].iceTransport.addRemoteCandidate({}),X=$e.getMediaSections(W._remoteDescription.sdp),X[_e]+=`a=end-of-candidates\r
`,W._remoteDescription.sdp=$e.getDescription(W._remoteDescription.sdp)+X.join(""),W.usingBundle));_e++);else{var be=z.sdpMLineIndex;if(z.sdpMid){for(var Ee=0;Ee<W.transceivers.length;Ee++)if(W.transceivers[Ee].mid===z.sdpMid){be=Ee;break}}var ke=W.transceivers[be];if(ke){if(ke.rejected)return b();var Te=Object.keys(z.candidate).length>0?$e.parseCandidate(z.candidate):{};if(Te.protocol==="tcp"&&(Te.port===0||Te.port===9)||Te.component&&Te.component!==1)return b();if((be===0||be>0&&ke.iceTransport!==W.transceivers[0].iceTransport)&&!ls(ke.iceTransport,Te))return ie(zt("OperationError","Can not add ICE candidate"));var x=z.candidate.trim();x.indexOf("a=")===0&&(x=x.substr(2)),X=$e.getMediaSections(W._remoteDescription.sdp),X[be]+="a="+(Te.type?x:"end-of-candidates")+`\r
`,W._remoteDescription.sdp=$e.getDescription(W._remoteDescription.sdp)+X.join("")}else return ie(zt("OperationError","Can not add ICE candidate"))}else return ie(zt("InvalidStateError","Can not add ICE candidate without a remote description"));b()})},S.prototype.getStats=function(z){if(z&&z instanceof e.MediaStreamTrack){var W=null;if(this.transceivers.forEach(function(b){b.rtpSender&&b.rtpSender.track===z?W=b.rtpSender:b.rtpReceiver&&b.rtpReceiver.track===z&&(W=b.rtpReceiver)}),!W)throw zt("InvalidAccessError","Invalid selector.");return W.getStats()}var X=[];return this.transceivers.forEach(function(b){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(ie){b[ie]&&X.push(b[ie].getStats())})}),Promise.all(X).then(function(b){var ie=new Map;return b.forEach(function(_e){_e.forEach(function(be){ie.set(be.id,be)})}),ie})};var D=["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"];D.forEach(function(z){var W=e[z];if(W&&W.prototype&&W.prototype.getStats){var X=W.prototype.getStats;W.prototype.getStats=function(){return X.apply(this).then(function(b){var ie=new Map;return Object.keys(b).forEach(function(_e){b[_e].type=Ap(b[_e]),ie.set(_e,b[_e])}),ie})}}});var $=["createOffer","createAnswer"];return $.forEach(function(z){var W=S.prototype[z];S.prototype[z]=function(){var X=arguments;return typeof X[0]=="function"||typeof X[1]=="function"?W.apply(this,[arguments[2]]).then(function(b){typeof X[0]=="function"&&X[0].apply(null,[b])},function(b){typeof X[1]=="function"&&X[1].apply(null,[b])}):W.apply(this,arguments)}}),$=["setLocalDescription","setRemoteDescription","addIceCandidate"],$.forEach(function(z){var W=S.prototype[z];S.prototype[z]=function(){var X=arguments;return typeof X[1]=="function"||typeof X[2]=="function"?W.apply(this,arguments).then(function(){typeof X[1]=="function"&&X[1].apply(null)},function(b){typeof X[2]=="function"&&X[2].apply(null,[b])}):W.apply(this,arguments)}}),["getStats"].forEach(function(z){var W=S.prototype[z];S.prototype[z]=function(){var X=arguments;return typeof X[1]=="function"?W.apply(this,arguments).then(function(){typeof X[1]=="function"&&X[1].apply(null)}):W.apply(this,arguments)}}),S};function Jd(e){const t=e&&e.navigator,n=function(v){return{name:{PermissionDeniedError:"NotAllowedError"}[v.name]||v.name,message:v.message,constraint:v.constraint,toString(){return this.name}}},l=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(v){return l(v).catch(S=>Promise.reject(n(S)))}}function Yd(e){"getDisplayMedia"in e.navigator&&(!e.navigator.mediaDevices||e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=e.navigator.getDisplayMedia.bind(e.navigator)))}function Ys(e,t){if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(v){return v}),e.RTCSessionDescription||(e.RTCSessionDescription=function(v){return v}),t.version<15025)){const l=Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype,"enabled");Object.defineProperty(e.MediaStreamTrack.prototype,"enabled",{set(v){l.set.call(this,v);const S=new Event("enabled");S.enabled=v,this.dispatchEvent(S)}})}e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)&&Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=new e.RTCDtmfSender(this):this.track.kind==="video"&&(this._dtmf=null)),this._dtmf}}),e.RTCDtmfSender&&!e.RTCDTMFSender&&(e.RTCDTMFSender=e.RTCDtmfSender);const n=Pp(e,t.version);e.RTCPeerConnection=function(v){return v&&v.iceServers&&(v.iceServers=Rp(v.iceServers,t.version),Ro("ICE servers after filtering:",v.iceServers)),new n(v)},e.RTCPeerConnection.prototype=n.prototype}function Xd(e){e.RTCRtpSender&&!("replaceTrack"in e.RTCRtpSender.prototype)&&(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)}const Ha=Object.freeze(Object.defineProperty({__proto__:null,shimPeerConnection:Ys,shimReplaceTrack:Xd,shimGetUserMedia:Jd,shimGetDisplayMedia:Yd},Symbol.toStringTag,{value:"Module"}));function Zd(e,t){const n=e&&e.navigator,l=e&&e.MediaStreamTrack;if(n.getUserMedia=function(v,S,D){Xi("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(v).then(S,D)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const v=function(D,$,z){$ in D&&!(z in D)&&(D[z]=D[$],delete D[$])},S=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(D){return typeof D=="object"&&typeof D.audio=="object"&&(D=JSON.parse(JSON.stringify(D)),v(D.audio,"autoGainControl","mozAutoGainControl"),v(D.audio,"noiseSuppression","mozNoiseSuppression")),S(D)},l&&l.prototype.getSettings){const D=l.prototype.getSettings;l.prototype.getSettings=function(){const $=D.apply(this,arguments);return v($,"mozAutoGainControl","autoGainControl"),v($,"mozNoiseSuppression","noiseSuppression"),$}}if(l&&l.prototype.applyConstraints){const D=l.prototype.applyConstraints;l.prototype.applyConstraints=function($){return this.kind==="audio"&&typeof $=="object"&&($=JSON.parse(JSON.stringify($)),v($,"autoGainControl","mozAutoGainControl"),v($,"noiseSuppression","mozNoiseSuppression")),D.apply(this,[$])}}}}function Bp(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||!e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=function(l){if(!(l&&l.video)){const v=new DOMException("getDisplayMedia without video constraints is undefined");return v.name="NotFoundError",v.code=8,Promise.reject(v)}return l.video===!0?l.video={mediaSource:t}:l.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(l)})}function Qd(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Xs(e,t){if(typeof e!="object"||!(e.RTCPeerConnection||e.mozRTCPeerConnection))return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(v){const S=e.RTCPeerConnection.prototype[v],D={[v](){return arguments[0]=new(v==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),S.apply(this,arguments)}};e.RTCPeerConnection.prototype[v]=D[v]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},l=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[S,D,$]=arguments;return l.apply(this,[S||null]).then(z=>{if(t.version<53&&!D)try{z.forEach(W=>{W.type=n[W.type]||W.type})}catch(W){if(W.name!=="TypeError")throw W;z.forEach((X,b)=>{z.set(b,Object.assign({},X,{type:n[X.type]||X.type}))})}return z}).then(D,$)}}function ef(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const v=t.apply(this,[]);return v.forEach(S=>S._pc=this),v});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const v=n.apply(this,arguments);return v._pc=this,v}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function tf(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const l=t.apply(this,[]);return l.forEach(v=>v._pc=this),l}),Pr(e,"track",n=>(n.receiver._pc=n.srcElement,n)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function nf(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){Xi("removeStream","removeTrack"),this.getSenders().forEach(l=>{l.track&&n.getTracks().includes(l.track)&&this.removeTrack(l)})})}function rf(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function sf(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];const l=arguments[1],v=l&&"sendEncodings"in l;v&&l.sendEncodings.forEach(D=>{if("rid"in D&&!/^[a-z0-9]{0,16}$/i.test(D.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in D&&!(parseFloat(D.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in D&&!(parseFloat(D.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const S=t.apply(this,arguments);if(v){const{sender:D}=S,$=D.getParameters();(!("encodings"in $)||$.encodings.length===1&&Object.keys($.encodings[0]).length===0)&&($.encodings=l.sendEncodings,D.sendEncodings=l.sendEncodings,this.setParametersPromises.push(D.setParameters($).then(()=>{delete D.sendEncodings}).catch(()=>{delete D.sendEncodings})))}return S})}function of(e){if(!(typeof e=="object"&&e.RTCRtpSender))return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const l=t.apply(this,arguments);return"encodings"in l||(l.encodings=[].concat(this.sendEncodings||[{}])),l})}function af(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function cf(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}const za=Object.freeze(Object.defineProperty({__proto__:null,shimOnTrack:Qd,shimPeerConnection:Xs,shimSenderGetStats:ef,shimReceiverGetStats:tf,shimRemoveStream:nf,shimRTCDataChannel:rf,shimAddTransceiver:sf,shimGetParameters:of,shimCreateOffer:af,shimCreateAnswer:cf,shimGetUserMedia:Zd,shimGetDisplayMedia:Bp},Symbol.toStringTag,{value:"Module"}));function df(e){if(!(typeof e!="object"||!e.RTCPeerConnection)){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(l){this._localStreams||(this._localStreams=[]),this._localStreams.includes(l)||this._localStreams.push(l),l.getAudioTracks().forEach(v=>t.call(this,v,l)),l.getVideoTracks().forEach(v=>t.call(this,v,l))},e.RTCPeerConnection.prototype.addTrack=function(l,...v){return v&&v.forEach(S=>{this._localStreams?this._localStreams.includes(S)||this._localStreams.push(S):this._localStreams=[S]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const l=this._localStreams.indexOf(n);if(l===-1)return;this._localStreams.splice(l,1);const v=n.getTracks();this.getSenders().forEach(S=>{v.includes(S.track)&&this.removeTrack(S)})})}}function ff(e){if(!(typeof e!="object"||!e.RTCPeerConnection)&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=l=>{l.streams.forEach(v=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(v))return;this._remoteStreams.push(v);const S=new Event("addstream");S.stream=v,this.dispatchEvent(S)})})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const l=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(v){v.streams.forEach(S=>{if(l._remoteStreams||(l._remoteStreams=[]),l._remoteStreams.indexOf(S)>=0)return;l._remoteStreams.push(S);const D=new Event("addstream");D.stream=S,l.dispatchEvent(D)})}),t.apply(l,arguments)}}}function lf(e){if(typeof e!="object"||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,l=t.createAnswer,v=t.setLocalDescription,S=t.setRemoteDescription,D=t.addIceCandidate;t.createOffer=function(W,X){const b=arguments.length>=2?arguments[2]:arguments[0],ie=n.apply(this,[b]);return X?(ie.then(W,X),Promise.resolve()):ie},t.createAnswer=function(W,X){const b=arguments.length>=2?arguments[2]:arguments[0],ie=l.apply(this,[b]);return X?(ie.then(W,X),Promise.resolve()):ie};let $=function(z,W,X){const b=v.apply(this,[z]);return X?(b.then(W,X),Promise.resolve()):b};t.setLocalDescription=$,$=function(z,W,X){const b=S.apply(this,[z]);return X?(b.then(W,X),Promise.resolve()):b},t.setRemoteDescription=$,$=function(z,W,X){const b=D.apply(this,[z]);return X?(b.then(W,X),Promise.resolve()):b},t.addIceCandidate=$}function hf(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const n=t.mediaDevices,l=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=v=>l(uf(v))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(l,v,S){t.mediaDevices.getUserMedia(l).then(v,S)}.bind(t))}function uf(e){return e&&e.video!==void 0?Object.assign({},e,{video:jd(e.video)}):e}function pf(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(l,v){if(l&&l.iceServers){const S=[];for(let D=0;D<l.iceServers.length;D++){let $=l.iceServers[D];!$.hasOwnProperty("urls")&&$.hasOwnProperty("url")?(Xi("RTCIceServer.url","RTCIceServer.urls"),$=JSON.parse(JSON.stringify($)),$.urls=$.url,delete $.url,S.push($)):S.push(l.iceServers[D])}l.iceServers=S}return new t(l,v)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get(){return t.generateCertificate}})}function mf(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function gf(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(l){if(l){typeof l.offerToReceiveAudio<"u"&&(l.offerToReceiveAudio=!!l.offerToReceiveAudio);const v=this.getTransceivers().find(D=>D.receiver.track.kind==="audio");l.offerToReceiveAudio===!1&&v?v.direction==="sendrecv"?v.setDirection?v.setDirection("sendonly"):v.direction="sendonly":v.direction==="recvonly"&&(v.setDirection?v.setDirection("inactive"):v.direction="inactive"):l.offerToReceiveAudio===!0&&!v&&this.addTransceiver("audio"),typeof l.offerToReceiveVideo<"u"&&(l.offerToReceiveVideo=!!l.offerToReceiveVideo);const S=this.getTransceivers().find(D=>D.receiver.track.kind==="video");l.offerToReceiveVideo===!1&&S?S.direction==="sendrecv"?S.setDirection?S.setDirection("sendonly"):S.direction="sendonly":S.direction==="recvonly"&&(S.setDirection?S.setDirection("inactive"):S.direction="inactive"):l.offerToReceiveVideo===!0&&!S&&this.addTransceiver("video")}return t.apply(this,arguments)}}function vf(e){typeof e!="object"||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}const $a=Object.freeze(Object.defineProperty({__proto__:null,shimLocalStreamsAPI:df,shimRemoteStreamsAPI:ff,shimCallbacksAPI:lf,shimGetUserMedia:hf,shimConstraints:uf,shimRTCIceServerUrls:pf,shimTrackEventTransceiver:mf,shimCreateOfferLegacy:gf,shimAudioContext:vf},Symbol.toStringTag,{value:"Module"}));function xi(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(l){if(typeof l=="object"&&l.candidate&&l.candidate.indexOf("a=")===0&&(l=JSON.parse(JSON.stringify(l)),l.candidate=l.candidate.substr(2)),l.candidate&&l.candidate.length){const v=new t(l),S=Si.parseCandidate(l.candidate),D=Object.assign(v,S);return D.toJSON=function(){return{candidate:D.candidate,sdpMid:D.sdpMid,sdpMLineIndex:D.sdpMLineIndex,usernameFragment:D.usernameFragment}},D}return new t(l)},e.RTCIceCandidate.prototype=t.prototype,Pr(e,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new e.RTCIceCandidate(n.candidate),writable:"false"}),n))}function Hr(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function($){if(!$||!$.sdp)return!1;const z=Si.splitSections($.sdp);return z.shift(),z.some(W=>{const X=Si.parseMLine(W);return X&&X.kind==="application"&&X.protocol.indexOf("SCTP")!==-1})},l=function($){const z=$.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(z===null||z.length<2)return-1;const W=parseInt(z[1],10);return W!==W?-1:W},v=function($){let z=65536;return t.browser==="firefox"&&(t.version<57?$===-1?z=16384:z=2147483637:t.version<60?z=t.version===57?65535:65536:z=2147483637),z},S=function($,z){let W=65536;t.browser==="firefox"&&t.version===57&&(W=65535);const X=Si.matchPrefix($.sdp,"a=max-message-size:");return X.length>0?W=parseInt(X[0].substr(19),10):t.browser==="firefox"&&z!==-1&&(W=2147483637),W},D=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,t.browser==="chrome"&&t.version>=76){const{sdpSemantics:z}=this.getConfiguration();z==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const z=l(arguments[0]),W=v(z),X=S(arguments[0],z);let b;W===0&&X===0?b=Number.POSITIVE_INFINITY:W===0||X===0?b=Math.max(W,X):b=Math.min(W,X);const ie={};Object.defineProperty(ie,"maxMessageSize",{get(){return b}}),this._sctp=ie}return D.apply(this,arguments)}}function zr(e){if(!(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype))return;function t(l,v){const S=l.send;l.send=function(){const $=arguments[0],z=$.length||$.size||$.byteLength;if(l.readyState==="open"&&v.sctp&&z>v.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+v.sctp.maxMessageSize+" bytes)");return S.apply(l,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const v=n.apply(this,arguments);return t(v,this),v},Pr(e,"datachannel",l=>(t(l.channel,l.target),l))}function Zs(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const l=t[n];t[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=v=>{const S=v.target;if(S._lastConnectionState!==S.connectionState){S._lastConnectionState=S.connectionState;const D=new Event("connectionstatechange",v);S.dispatchEvent(D)}return v},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),l.apply(this,arguments)}})}function Qs(e,t){if(!e.RTCPeerConnection||t.browser==="chrome"&&t.version>=71||t.browser==="safari"&&t.version>=605)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(v){if(v&&v.sdp&&v.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const S=v.sdp.split(`
`).filter(D=>D.trim()!=="a=extmap-allow-mixed").join(`
`);e.RTCSessionDescription&&v instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:v.type,sdp:S}):v.sdp=S}return n.apply(this,arguments)}}function ki(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const n=e.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(t.browser==="chrome"&&t.version<78||t.browser==="firefox"&&t.version<68||t.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}const Op=Object.freeze(Object.defineProperty({__proto__:null,shimRTCIceCandidate:xi,shimMaxMessageSize:Hr,shimSendThrowTypeError:zr,shimConnectionState:Zs,removeExtmapAllowMixed:Qs,shimAddIceCandidateNullOrEmpty:ki},Symbol.toStringTag,{value:"Module"}));function Dp({window:e}={},t={shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0}){const n=Ro,l=Cp(e),v={browserDetails:l,commonShim:Op,extractVersion:Fr,disableLog:xp,disableWarnings:kp};switch(l.browser){case"chrome":if(!Ua||!Js||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),v;if(l.version===null)return n("Chrome shim can not determine version, not shimming."),v;n("adapter.js shimming chrome."),v.browserShim=Ua,ki(e,l),Fd(e,l),Hd(e),Js(e,l),zd(e),Vd(e,l),$d(e),Wd(e),Kd(e),qd(e,l),xi(e),Zs(e),Hr(e,l),zr(e),Qs(e,l);break;case"firefox":if(!za||!Xs||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),v;n("adapter.js shimming firefox."),v.browserShim=za,ki(e,l),Zd(e,l),Xs(e,l),Qd(e),nf(e),ef(e),tf(e),rf(e),sf(e),of(e),af(e),cf(e),xi(e),Zs(e),Hr(e,l),zr(e);break;case"edge":if(!Ha||!Ys||!t.shimEdge)return n("MS edge shim is not included in this adapter release."),v;n("adapter.js shimming edge."),v.browserShim=Ha,Jd(e),Yd(e),Ys(e,l),Xd(e),Hr(e,l),zr(e);break;case"safari":if(!$a||!t.shimSafari)return n("Safari shim is not included in this adapter release."),v;n("adapter.js shimming safari."),v.browserShim=$a,ki(e,l),pf(e),gf(e),lf(e),df(e),ff(e),mf(e),hf(e),vf(e),xi(e),Hr(e,l),zr(e),Qs(e,l);break;default:n("Unsupported browser!");break}return v}const Wa=Dp({window:typeof window>"u"?void 0:window});function xn(e,t,n,l){Object.defineProperty(e,t,{get:n,set:l,enumerable:!0,configurable:!0})}var hs=Wa.default||Wa,Lr=new(function(){function e(){this.isIOS=["iPad","iPhone","iPod"].includes(navigator.platform),this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}return e.prototype.isWebRTCSupported=function(){return typeof RTCPeerConnection<"u"},e.prototype.isBrowserSupported=function(){var t=this.getBrowser(),n=this.getVersion(),l=this.supportedBrowsers.includes(t);return l?t==="chrome"?n>=this.minChromeVersion:t==="firefox"?n>=this.minFirefoxVersion:t==="safari"?!this.isIOS&&n>=this.minSafariVersion:!1:!1},e.prototype.getBrowser=function(){return hs.browserDetails.browser},e.prototype.getVersion=function(){return hs.browserDetails.version||0},e.prototype.isUnifiedPlanSupported=function(){var t=this.getBrowser(),n=hs.browserDetails.version||0;if(t==="chrome"&&n<this.minChromeVersion)return!1;if(t==="firefox"&&n>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;var l,v=!1;try{l=new RTCPeerConnection,l.addTransceiver("audio"),v=!0}catch{}finally{l&&l.close()}return v},e.prototype.toString=function(){return`Supports:
    browser:`.concat(this.getBrowser(),`
    version:`).concat(this.getVersion(),`
    isIOS:`).concat(this.isIOS,`
    isWebRTCSupported:`).concat(this.isWebRTCSupported(),`
    isBrowserSupported:`).concat(this.isBrowserSupported(),`
    isUnifiedPlanSupported:`).concat(this.isUnifiedPlanSupported())},e}()),Ka={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"},Lp=function(){function e(){this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.chunkedMTU=16300,this.defaultConfig=Ka,this.browser=Lr.getBrowser(),this.browserVersion=Lr.getVersion(),this.supports=function(){var t={browser:Lr.isBrowserSupported(),webRTC:Lr.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!t.webRTC)return t;var n;try{n=new RTCPeerConnection(Ka),t.audioVideo=!0;var l=void 0;try{l=n.createDataChannel("_PEERJSTEST",{ordered:!0}),t.data=!0,t.reliable=!!l.ordered;try{l.binaryType="blob",t.binaryBlob=!Lr.isIOS}catch{}}catch{}finally{l&&l.close()}}catch{}finally{n&&n.close()}return t}(),this.pack=Da.pack,this.unpack=Da.unpack,this._dataCount=1}return e.prototype.noop=function(){},e.prototype.validateId=function(t){return!t||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(t)},e.prototype.chunk=function(t){for(var n=[],l=t.size,v=Math.ceil(l/dt.chunkedMTU),S=0,D=0;D<l;){var $=Math.min(l,D+dt.chunkedMTU),z=t.slice(D,$),W={__peerData:this._dataCount,n:S,data:z,total:v};n.push(W),D=$,S++}return this._dataCount++,n},e.prototype.blobToArrayBuffer=function(t,n){var l=new FileReader;return l.onload=function(v){v.target&&n(v.target.result)},l.readAsArrayBuffer(t),l},e.prototype.binaryStringToArrayBuffer=function(t){for(var n=new Uint8Array(t.length),l=0;l<t.length;l++)n[l]=t.charCodeAt(l)&255;return n.buffer},e.prototype.randomToken=function(){return Math.random().toString(36).slice(2)},e.prototype.isSecure=function(){return location.protocol==="https:"},e}(),dt=new Lp,bf={};xn(bf,"Peer",()=>nc,e=>nc=e);var ri={},Mp=Object.prototype.hasOwnProperty,Jt="~";function ti(){}Object.create&&(ti.prototype=Object.create(null),new ti().__proto__||(Jt=!1));function Np(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function yf(e,t,n,l,v){if(typeof n!="function")throw new TypeError("The listener must be a function");var S=new Np(n,l||e,v),D=Jt?Jt+t:t;return e._events[D]?e._events[D].fn?e._events[D]=[e._events[D],S]:e._events[D].push(S):(e._events[D]=S,e._eventsCount++),e}function Ci(e,t){--e._eventsCount===0?e._events=new ti:delete e._events[t]}function Kt(){this._events=new ti,this._eventsCount=0}Kt.prototype.eventNames=function(){var t=[],n,l;if(this._eventsCount===0)return t;for(l in n=this._events)Mp.call(n,l)&&t.push(Jt?l.slice(1):l);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(n)):t};Kt.prototype.listeners=function(t){var n=Jt?Jt+t:t,l=this._events[n];if(!l)return[];if(l.fn)return[l.fn];for(var v=0,S=l.length,D=new Array(S);v<S;v++)D[v]=l[v].fn;return D};Kt.prototype.listenerCount=function(t){var n=Jt?Jt+t:t,l=this._events[n];return l?l.fn?1:l.length:0};Kt.prototype.emit=function(t,n,l,v,S,D){var $=Jt?Jt+t:t;if(!this._events[$])return!1;var z=this._events[$],W=arguments.length,X,b;if(z.fn){switch(z.once&&this.removeListener(t,z.fn,void 0,!0),W){case 1:return z.fn.call(z.context),!0;case 2:return z.fn.call(z.context,n),!0;case 3:return z.fn.call(z.context,n,l),!0;case 4:return z.fn.call(z.context,n,l,v),!0;case 5:return z.fn.call(z.context,n,l,v,S),!0;case 6:return z.fn.call(z.context,n,l,v,S,D),!0}for(b=1,X=new Array(W-1);b<W;b++)X[b-1]=arguments[b];z.fn.apply(z.context,X)}else{var ie=z.length,_e;for(b=0;b<ie;b++)switch(z[b].once&&this.removeListener(t,z[b].fn,void 0,!0),W){case 1:z[b].fn.call(z[b].context);break;case 2:z[b].fn.call(z[b].context,n);break;case 3:z[b].fn.call(z[b].context,n,l);break;case 4:z[b].fn.call(z[b].context,n,l,v);break;default:if(!X)for(_e=1,X=new Array(W-1);_e<W;_e++)X[_e-1]=arguments[_e];z[b].fn.apply(z[b].context,X)}}return!0};Kt.prototype.on=function(t,n,l){return yf(this,t,n,l,!1)};Kt.prototype.once=function(t,n,l){return yf(this,t,n,l,!0)};Kt.prototype.removeListener=function(t,n,l,v){var S=Jt?Jt+t:t;if(!this._events[S])return this;if(!n)return Ci(this,S),this;var D=this._events[S];if(D.fn)D.fn===n&&(!v||D.once)&&(!l||D.context===l)&&Ci(this,S);else{for(var $=0,z=[],W=D.length;$<W;$++)(D[$].fn!==n||v&&!D[$].once||l&&D[$].context!==l)&&z.push(D[$]);z.length?this._events[S]=z.length===1?z[0]:z:Ci(this,S)}return this};Kt.prototype.removeAllListeners=function(t){var n;return t?(n=Jt?Jt+t:t,this._events[n]&&Ci(this,n)):(this._events=new ti,this._eventsCount=0),this};Kt.prototype.off=Kt.prototype.removeListener;Kt.prototype.addListener=Kt.prototype.on;Kt.prefixed=Jt;Kt.EventEmitter=Kt;ri=Kt;var Ue={};xn(Ue,"LogLevel",()=>Xt,e=>Xt=e);xn(Ue,"default",()=>Ga,e=>Ga=e);var Xn=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var l=n.call(e),v,S=[],D;try{for(;(t===void 0||t-- >0)&&!(v=l.next()).done;)S.push(v.value)}catch($){D={error:$}}finally{try{v&&!v.done&&(n=l.return)&&n.call(l)}finally{if(D)throw D.error}}return S},Zn=function(e,t,n){if(n||arguments.length===2)for(var l=0,v=t.length,S;l<v;l++)(S||!(l in t))&&(S||(S=Array.prototype.slice.call(t,0,l)),S[l]=t[l]);return e.concat(S||Array.prototype.slice.call(t))},Up="PeerJS: ",Xt;(function(e){e[e.Disabled=0]="Disabled",e[e.Errors=1]="Errors",e[e.Warnings=2]="Warnings",e[e.All=3]="All"})(Xt||(Xt={}));var jp=function(){function e(){this._logLevel=Xt.Disabled}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._logLevel>=Xt.All&&this._print.apply(this,Zn([Xt.All],Xn(t),!1))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._logLevel>=Xt.Warnings&&this._print.apply(this,Zn([Xt.Warnings],Xn(t),!1))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._logLevel>=Xt.Errors&&this._print.apply(this,Zn([Xt.Errors],Xn(t),!1))},e.prototype.setLogFunction=function(t){this._print=t},e.prototype._print=function(t){for(var n=[],l=1;l<arguments.length;l++)n[l-1]=arguments[l];var v=Zn([Up],Xn(n),!1);for(var S in v)v[S]instanceof Error&&(v[S]="("+v[S].name+") "+v[S].message);t>=Xt.All?console.log.apply(console,Zn([],Xn(v),!1)):t>=Xt.Warnings?console.warn.apply(console,Zn(["WARNING"],Xn(v),!1)):t>=Xt.Errors&&console.error.apply(console,Zn(["ERROR"],Xn(v),!1))},e}(),Ga=new jp,_f={};xn(_f,"Socket",()=>Va,e=>Va=e);var cn;(function(e){e.Data="data",e.Media="media"})(cn||(cn={}));var Bt;(function(e){e.BrowserIncompatible="browser-incompatible",e.Disconnected="disconnected",e.InvalidID="invalid-id",e.InvalidKey="invalid-key",e.Network="network",e.PeerUnavailable="peer-unavailable",e.SslUnavailable="ssl-unavailable",e.ServerError="server-error",e.SocketError="socket-error",e.SocketClosed="socket-closed",e.UnavailableID="unavailable-id",e.WebRTC="webrtc"})(Bt||(Bt={}));var Bn;(function(e){e.Binary="binary",e.BinaryUTF8="binary-utf8",e.JSON="json"})(Bn||(Bn={}));var Dn;(function(e){e.Message="message",e.Disconnected="disconnected",e.Error="error",e.Close="close"})(Dn||(Dn={}));var Nt;(function(e){e.Heartbeat="HEARTBEAT",e.Candidate="CANDIDATE",e.Offer="OFFER",e.Answer="ANSWER",e.Open="OPEN",e.Error="ERROR",e.IdTaken="ID-TAKEN",e.InvalidKey="INVALID-KEY",e.Leave="LEAVE",e.Expire="EXPIRE"})(Nt||(Nt={}));var Io={};Io=JSON.parse('{"name":"peerjs","version":"1.4.7","keywords":["peerjs","webrtc","p2p","rtc"],"description":"PeerJS client","homepage":"https://peerjs.com","bugs":{"url":"https://github.com/peers/peerjs/issues"},"repository":{"type":"git","url":"https://github.com/peers/peerjs"},"license":"MIT","contributors":["Michelle Bu <michelle@michellebu.com>","afrokick <devbyru@gmail.com>","ericz <really.ez@gmail.com>","Jairo <kidandcat@gmail.com>","Jonas Gloning <34194370+jonasgloning@users.noreply.github.com>","Jairo Caro-Accino Viciana <jairo@galax.be>","Carlos Caballero <carlos.caballero.gonzalez@gmail.com>","hc <hheennrryy@gmail.com>","Muhammad Asif <capripio@gmail.com>","PrashoonB <prashoonbhattacharjee@gmail.com>","Harsh Bardhan Mishra <47351025+HarshCasper@users.noreply.github.com>","akotynski <aleksanderkotbury@gmail.com>","lmb <i@lmb.io>","Jairooo <jairocaro@msn.com>","Moritz St\xFCckler <moritz.stueckler@gmail.com>","Simon <crydotsnakegithub@gmail.com>","Denis Lukov <denismassters@gmail.com>","Philipp Hancke <fippo@andyet.net>","Hans Oksendahl <hansoksendahl@gmail.com>","Jess <jessachandler@gmail.com>","khankuan <khankuan@gmail.com>","DUODVK <kurmanov.work@gmail.com>","XiZhao <kwang1imsa@gmail.com>","Matthias Lohr <matthias@lohr.me>","=frank tree <=frnktrb@googlemail.com>","Andre Eckardt <aeckardt@outlook.com>","Chris Cowan <agentme49@gmail.com>","Alex Chuev <alex@chuev.com>","alxnull <alxnull@e.mail.de>","Yemel Jardi <angel.jardi@gmail.com>","Ben Parnell <benjaminparnell.94@gmail.com>","Benny Lichtner <bennlich@gmail.com>","fresheneesz <bitetrudpublic@gmail.com>","bob.barstead@exaptive.com <bob.barstead@exaptive.com>","chandika <chandika@gmail.com>","emersion <contact@emersion.fr>","Christopher Van <cvan@users.noreply.github.com>","eddieherm <edhermoso@gmail.com>","Eduardo Pinho <enet4mikeenet@gmail.com>","Evandro Zanatta <ezanatta@tray.net.br>","Gardner Bickford <gardner@users.noreply.github.com>","Gian Luca <gianluca.cecchi@cynny.com>","PatrickJS <github@gdi2290.com>","jonnyf <github@jonathanfoss.co.uk>","Hizkia Felix <hizkifw@gmail.com>","Hristo Oskov <hristo.oskov@gmail.com>","Isaac Madwed <i.madwed@gmail.com>","Ilya Konanykhin <ilya.konanykhin@gmail.com>","jasonbarry <jasbarry@me.com>","Jonathan Burke <jonathan.burke.1311@googlemail.com>","Josh Hamit <josh.hamit@gmail.com>","Jordan Austin <jrax86@gmail.com>","Joel Wetzell <jwetzell@yahoo.com>","xizhao <kevin.wang@cloudera.com>","Alberto Torres <kungfoobar@gmail.com>","Jonathan Mayol <mayoljonathan@gmail.com>","Jefferson Felix <me@jsfelix.dev>","Rolf Erik Lekang <me@rolflekang.com>","Kevin Mai-Husan Chia <mhchia@users.noreply.github.com>","Pepijn de Vos <pepijndevos@gmail.com>","JooYoung <qkdlql@naver.com>","Tobias Speicher <rootcommander@gmail.com>","Steve Blaurock <sblaurock@gmail.com>","Kyrylo Shegeda <shegeda@ualberta.ca>","Diwank Singh Tomer <singh@diwank.name>","So\u0308ren Balko <Soeren.Balko@gmail.com>","Arpit Solanki <solankiarpit1997@gmail.com>","Yuki Ito <yuki@gnnk.net>","Artur Zayats <zag2art@gmail.com>"],"funding":{"type":"opencollective","url":"https://opencollective.com/peer"},"collective":{"type":"opencollective","url":"https://opencollective.com/peer"},"files":["dist/*"],"sideEffects":["lib/global.ts","lib/supports.ts"],"main":"dist/bundler.cjs","module":"dist/bundler.mjs","browser-minified":"dist/peerjs.min.js","browser-unminified":"dist/peerjs.js","types":"dist/types.d.ts","engines":{"node":">= 10"},"targets":{"types":{"source":"lib/exports.ts"},"main":{"source":"lib/exports.ts","sourceMap":{"inlineSources":true}},"module":{"source":"lib/exports.ts","includeNodeModules":["eventemitter3"],"sourceMap":{"inlineSources":true}},"browser-minified":{"context":"browser","outputFormat":"global","optimize":true,"engines":{"browsers":"cover 99%, not dead"},"source":"lib/global.ts"},"browser-unminified":{"context":"browser","outputFormat":"global","optimize":false,"engines":{"browsers":"cover 99%, not dead"},"source":"lib/global.ts"}},"scripts":{"contributors":"git-authors-cli --print=false && prettier --write package.json && git add package.json package-lock.json && git commit -m \\"chore(contributors): update and sort contributors list\\"","check":"tsc --noEmit","watch":"parcel watch","build":"rm -rf dist && parcel build","prepublishOnly":"npm run build","test":"mocha -r ts-node/register -r jsdom-global/register test/**/*.ts","format":"prettier --write .","semantic-release":"semantic-release"},"devDependencies":{"@parcel/config-default":"^2.5.0","@parcel/packager-ts":"^2.5.0","@parcel/transformer-typescript-tsc":"^2.5.0","@parcel/transformer-typescript-types":"^2.5.0","@semantic-release/changelog":"^6.0.1","@semantic-release/git":"^10.0.1","@types/chai":"^4.3.0","@types/mocha":"^9.1.0","@types/node":"^17.0.18","chai":"^4.3.6","git-authors-cli":"^1.0.40","jsdom":"^19.0.0","jsdom-global":"^3.0.2","mocha":"^9.2.0","mock-socket":"8.0.5","parcel":"^2.5.0","parcel-transformer-tsc-sourcemaps":"^1.0.2","prettier":"^2.6.2","semantic-release":"^19.0.2","standard":"^16.0.4","ts-node":"^10.5.0","typescript":"^4.5.5"},"dependencies":{"@swc/helpers":"^0.3.13","eventemitter3":"^4.0.7","peerjs-js-binarypack":"1.0.1","webrtc-adapter":"^7.7.1"}}');var Fp=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,v){l.__proto__=v}||function(l,v){for(var S in v)Object.prototype.hasOwnProperty.call(v,S)&&(l[S]=v[S])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function l(){this.constructor=t}t.prototype=n===null?Object.create(n):(l.prototype=n.prototype,new l)}}(),Hp=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var l=n.call(e),v,S=[],D;try{for(;(t===void 0||t-- >0)&&!(v=l.next()).done;)S.push(v.value)}catch($){D={error:$}}finally{try{v&&!v.done&&(n=l.return)&&n.call(l)}finally{if(D)throw D.error}}return S},zp=function(e,t,n){if(n||arguments.length===2)for(var l=0,v=t.length,S;l<v;l++)(S||!(l in t))&&(S||(S=Array.prototype.slice.call(t,0,l)),S[l]=t[l]);return e.concat(S||Array.prototype.slice.call(t))},$p=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],l=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&l>=e.length&&(e=void 0),{value:e&&e[l++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Va=function(e){Fp(t,e);function t(n,l,v,S,D,$){$===void 0&&($=5e3);var z=e.call(this)||this;z.pingInterval=$,z._disconnected=!0,z._messagesQueue=[];var W=n?"wss://":"ws://";return z._baseUrl=W+l+":"+v+S+"peerjs?key="+D,z}return t.prototype.start=function(n,l){var v=this;this._id=n;var S="".concat(this._baseUrl,"&id=").concat(n,"&token=").concat(l);!!this._socket||!this._disconnected||(this._socket=new WebSocket(S+"&version="+Io.version),this._disconnected=!1,this._socket.onmessage=function(D){var $;try{$=JSON.parse(D.data),Ue.default.log("Server message received:",$)}catch{Ue.default.log("Invalid server message",D.data);return}v.emit(Dn.Message,$)},this._socket.onclose=function(D){v._disconnected||(Ue.default.log("Socket closed.",D),v._cleanup(),v._disconnected=!0,v.emit(Dn.Disconnected))},this._socket.onopen=function(){v._disconnected||(v._sendQueuedMessages(),Ue.default.log("Socket open"),v._scheduleHeartbeat())})},t.prototype._scheduleHeartbeat=function(){var n=this;this._wsPingTimer=setTimeout(function(){n._sendHeartbeat()},this.pingInterval)},t.prototype._sendHeartbeat=function(){if(!this._wsOpen()){Ue.default.log("Cannot send heartbeat, because socket closed");return}var n=JSON.stringify({type:Nt.Heartbeat});this._socket.send(n),this._scheduleHeartbeat()},t.prototype._wsOpen=function(){return!!this._socket&&this._socket.readyState===1},t.prototype._sendQueuedMessages=function(){var n,l,v=zp([],Hp(this._messagesQueue),!1);this._messagesQueue=[];try{for(var S=$p(v),D=S.next();!D.done;D=S.next()){var $=D.value;this.send($)}}catch(z){n={error:z}}finally{try{D&&!D.done&&(l=S.return)&&l.call(S)}finally{if(n)throw n.error}}},t.prototype.send=function(n){if(!this._disconnected){if(!this._id){this._messagesQueue.push(n);return}if(!n.type){this.emit(Dn.Error,"Invalid message");return}if(!!this._wsOpen()){var l=JSON.stringify(n);this._socket.send(l)}}},t.prototype.close=function(){this._disconnected||(this._cleanup(),this._disconnected=!0)},t.prototype._cleanup=function(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)},t}(ri.EventEmitter),eo={};xn(eo,"MediaConnection",()=>Ya,e=>Ya=e);var Po={};xn(Po,"Negotiator",()=>qa,e=>qa=e);var Li=function(){return Li=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++){t=arguments[n];for(var v in t)Object.prototype.hasOwnProperty.call(t,v)&&(e[v]=t[v])}return e},Li.apply(this,arguments)},li=function(e,t,n,l){function v(S){return S instanceof n?S:new n(function(D){D(S)})}return new(n||(n=Promise))(function(S,D){function $(X){try{W(l.next(X))}catch(b){D(b)}}function z(X){try{W(l.throw(X))}catch(b){D(b)}}function W(X){X.done?S(X.value):v(X.value).then($,z)}W((l=l.apply(e,t||[])).next())})},hi=function(e,t){var n={label:0,sent:function(){if(S[0]&1)throw S[1];return S[1]},trys:[],ops:[]},l,v,S,D;return D={next:$(0),throw:$(1),return:$(2)},typeof Symbol=="function"&&(D[Symbol.iterator]=function(){return this}),D;function $(W){return function(X){return z([W,X])}}function z(W){if(l)throw new TypeError("Generator is already executing.");for(;n;)try{if(l=1,v&&(S=W[0]&2?v.return:W[0]?v.throw||((S=v.return)&&S.call(v),0):v.next)&&!(S=S.call(v,W[1])).done)return S;switch(v=0,S&&(W=[W[0]&2,S.value]),W[0]){case 0:case 1:S=W;break;case 4:return n.label++,{value:W[1],done:!1};case 5:n.label++,v=W[1],W=[0];continue;case 7:W=n.ops.pop(),n.trys.pop();continue;default:if(S=n.trys,!(S=S.length>0&&S[S.length-1])&&(W[0]===6||W[0]===2)){n=0;continue}if(W[0]===3&&(!S||W[1]>S[0]&&W[1]<S[3])){n.label=W[1];break}if(W[0]===6&&n.label<S[1]){n.label=S[1],S=W;break}if(S&&n.label<S[2]){n.label=S[2],n.ops.push(W);break}S[2]&&n.ops.pop(),n.trys.pop();continue}W=t.call(e,n)}catch(X){W=[6,X],v=0}finally{l=S=0}if(W[0]&5)throw W[1];return{value:W[0]?W[1]:void 0,done:!0}}},qa=function(){function e(t){this.connection=t}return e.prototype.startConnection=function(t){var n=this._startPeerConnection();if(this.connection.peerConnection=n,this.connection.type===cn.Media&&t._stream&&this._addTracksToConnection(t._stream,n),t.originator){if(this.connection.type===cn.Data){var l=this.connection,v={ordered:!!t.reliable},S=n.createDataChannel(l.label,v);l.initialize(S)}this._makeOffer()}else this.handleSDP("OFFER",t.sdp)},e.prototype._startPeerConnection=function(){Ue.default.log("Creating RTCPeerConnection.");var t=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(t),t},e.prototype._setupListeners=function(t){var n=this,l=this.connection.peer,v=this.connection.connectionId,S=this.connection.type,D=this.connection.provider;Ue.default.log("Listening for ICE candidates."),t.onicecandidate=function($){!$.candidate||!$.candidate.candidate||(Ue.default.log("Received ICE candidates for ".concat(l,":"),$.candidate),D.socket.send({type:Nt.Candidate,payload:{candidate:$.candidate,type:S,connectionId:v},dst:l}))},t.oniceconnectionstatechange=function(){switch(t.iceConnectionState){case"failed":Ue.default.log("iceConnectionState is failed, closing connections to "+l),n.connection.emit("error",new Error("Negotiation of connection to "+l+" failed.")),n.connection.close();break;case"closed":Ue.default.log("iceConnectionState is closed, closing connections to "+l),n.connection.emit("error",new Error("Connection to "+l+" closed.")),n.connection.close();break;case"disconnected":Ue.default.log("iceConnectionState changed to disconnected on the connection with "+l);break;case"completed":t.onicecandidate=dt.noop;break}n.connection.emit("iceStateChanged",t.iceConnectionState)},Ue.default.log("Listening for data channel"),t.ondatachannel=function($){Ue.default.log("Received data channel");var z=$.channel,W=D.getConnection(l,v);W.initialize(z)},Ue.default.log("Listening for remote stream"),t.ontrack=function($){Ue.default.log("Received remote stream");var z=$.streams[0],W=D.getConnection(l,v);if(W.type===cn.Media){var X=W;n._addStreamToMediaConnection(z,X)}}},e.prototype.cleanup=function(){Ue.default.log("Cleaning up PeerConnection to "+this.connection.peer);var t=this.connection.peerConnection;if(!!t){this.connection.peerConnection=null,t.onicecandidate=t.oniceconnectionstatechange=t.ondatachannel=t.ontrack=function(){};var n=t.signalingState!=="closed",l=!1;if(this.connection.type===cn.Data){var v=this.connection,S=v.dataChannel;S&&(l=!!S.readyState&&S.readyState!=="closed")}(n||l)&&t.close()}},e.prototype._makeOffer=function(){return li(this,void 0,Promise,function(){var t,n,l,v,S,D,$;return hi(this,function(z){switch(z.label){case 0:t=this.connection.peerConnection,n=this.connection.provider,z.label=1;case 1:return z.trys.push([1,7,,8]),[4,t.createOffer(this.connection.options.constraints)];case 2:l=z.sent(),Ue.default.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(l.sdp=this.connection.options.sdpTransform(l.sdp)||l.sdp),z.label=3;case 3:return z.trys.push([3,5,,6]),[4,t.setLocalDescription(l)];case 4:return z.sent(),Ue.default.log("Set localDescription:",l,"for:".concat(this.connection.peer)),v={sdp:l,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata,browser:dt.browser},this.connection.type===cn.Data&&(S=this.connection,v=Li(Li({},v),{label:S.label,reliable:S.reliable,serialization:S.serialization})),n.socket.send({type:Nt.Offer,payload:v,dst:this.connection.peer}),[3,6];case 5:return D=z.sent(),D!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(n.emitError(Bt.WebRTC,D),Ue.default.log("Failed to setLocalDescription, ",D)),[3,6];case 6:return[3,8];case 7:return $=z.sent(),n.emitError(Bt.WebRTC,$),Ue.default.log("Failed to createOffer, ",$),[3,8];case 8:return[2]}})})},e.prototype._makeAnswer=function(){return li(this,void 0,Promise,function(){var t,n,l,v,S;return hi(this,function(D){switch(D.label){case 0:t=this.connection.peerConnection,n=this.connection.provider,D.label=1;case 1:return D.trys.push([1,7,,8]),[4,t.createAnswer()];case 2:l=D.sent(),Ue.default.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(l.sdp=this.connection.options.sdpTransform(l.sdp)||l.sdp),D.label=3;case 3:return D.trys.push([3,5,,6]),[4,t.setLocalDescription(l)];case 4:return D.sent(),Ue.default.log("Set localDescription:",l,"for:".concat(this.connection.peer)),n.socket.send({type:Nt.Answer,payload:{sdp:l,type:this.connection.type,connectionId:this.connection.connectionId,browser:dt.browser},dst:this.connection.peer}),[3,6];case 5:return v=D.sent(),n.emitError(Bt.WebRTC,v),Ue.default.log("Failed to setLocalDescription, ",v),[3,6];case 6:return[3,8];case 7:return S=D.sent(),n.emitError(Bt.WebRTC,S),Ue.default.log("Failed to create answer, ",S),[3,8];case 8:return[2]}})})},e.prototype.handleSDP=function(t,n){return li(this,void 0,Promise,function(){var l,v,S,D;return hi(this,function($){switch($.label){case 0:n=new RTCSessionDescription(n),l=this.connection.peerConnection,v=this.connection.provider,Ue.default.log("Setting remote description",n),S=this,$.label=1;case 1:return $.trys.push([1,5,,6]),[4,l.setRemoteDescription(n)];case 2:return $.sent(),Ue.default.log("Set remoteDescription:".concat(t," for:").concat(this.connection.peer)),t!=="OFFER"?[3,4]:[4,S._makeAnswer()];case 3:$.sent(),$.label=4;case 4:return[3,6];case 5:return D=$.sent(),v.emitError(Bt.WebRTC,D),Ue.default.log("Failed to setRemoteDescription, ",D),[3,6];case 6:return[2]}})})},e.prototype.handleCandidate=function(t){return li(this,void 0,Promise,function(){var n,l,v,S,D,$;return hi(this,function(z){switch(z.label){case 0:Ue.default.log("handleCandidate:",t),n=t.candidate,l=t.sdpMLineIndex,v=t.sdpMid,S=this.connection.peerConnection,D=this.connection.provider,z.label=1;case 1:return z.trys.push([1,3,,4]),[4,S.addIceCandidate(new RTCIceCandidate({sdpMid:v,sdpMLineIndex:l,candidate:n}))];case 2:return z.sent(),Ue.default.log("Added ICE candidate for:".concat(this.connection.peer)),[3,4];case 3:return $=z.sent(),D.emitError(Bt.WebRTC,$),Ue.default.log("Failed to handleCandidate, ",$),[3,4];case 4:return[2]}})})},e.prototype._addTracksToConnection=function(t,n){if(Ue.default.log("add tracks from stream ".concat(t.id," to peer connection")),!n.addTrack)return Ue.default.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");t.getTracks().forEach(function(l){n.addTrack(l,t)})},e.prototype._addStreamToMediaConnection=function(t,n){Ue.default.log("add stream ".concat(t.id," to media connection ").concat(n.connectionId)),n.addStream(t)},e}(),Bo={};xn(Bo,"BaseConnection",()=>Ja,e=>Ja=e);var Wp=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,v){l.__proto__=v}||function(l,v){for(var S in v)Object.prototype.hasOwnProperty.call(v,S)&&(l[S]=v[S])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function l(){this.constructor=t}t.prototype=n===null?Object.create(n):(l.prototype=n.prototype,new l)}}(),Ja=function(e){Wp(t,e);function t(n,l,v){var S=e.call(this)||this;return S.peer=n,S.provider=l,S.options=v,S._open=!1,S.metadata=v.metadata,S}return Object.defineProperty(t.prototype,"open",{get:function(){return this._open},enumerable:!1,configurable:!0}),t}(ri.EventEmitter),Kp=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,v){l.__proto__=v}||function(l,v){for(var S in v)Object.prototype.hasOwnProperty.call(v,S)&&(l[S]=v[S])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function l(){this.constructor=t}t.prototype=n===null?Object.create(n):(l.prototype=n.prototype,new l)}}(),Mi=function(){return Mi=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++){t=arguments[n];for(var v in t)Object.prototype.hasOwnProperty.call(t,v)&&(e[v]=t[v])}return e},Mi.apply(this,arguments)},Gp=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],l=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&l>=e.length&&(e=void 0),{value:e&&e[l++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ya=function(e){Kp(t,e);function t(n,l,v){var S=e.call(this,n,l,v)||this;return S._localStream=S.options._stream,S.connectionId=S.options.connectionId||t.ID_PREFIX+dt.randomToken(),S._negotiator=new Po.Negotiator(S),S._localStream&&S._negotiator.startConnection({_stream:S._localStream,originator:!0}),S}return Object.defineProperty(t.prototype,"type",{get:function(){return cn.Media},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localStream",{get:function(){return this._localStream},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"remoteStream",{get:function(){return this._remoteStream},enumerable:!1,configurable:!0}),t.prototype.addStream=function(n){Ue.default.log("Receiving stream",n),this._remoteStream=n,e.prototype.emit.call(this,"stream",n)},t.prototype.handleMessage=function(n){var l=n.type,v=n.payload;switch(n.type){case Nt.Answer:this._negotiator.handleSDP(l,v.sdp),this._open=!0;break;case Nt.Candidate:this._negotiator.handleCandidate(v.candidate);break;default:Ue.default.warn("Unrecognized message type:".concat(l," from peer:").concat(this.peer));break}},t.prototype.answer=function(n,l){var v,S;if(l===void 0&&(l={}),this._localStream){Ue.default.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=n,l&&l.sdpTransform&&(this.options.sdpTransform=l.sdpTransform),this._negotiator.startConnection(Mi(Mi({},this.options._payload),{_stream:n}));var D=this.provider._getMessages(this.connectionId);try{for(var $=Gp(D),z=$.next();!z.done;z=$.next()){var W=z.value;this.handleMessage(W)}}catch(X){v={error:X}}finally{try{z&&!z.done&&(S=$.return)&&S.call($)}finally{if(v)throw v.error}}this._open=!0},t.prototype.close=function(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,e.prototype.emit.call(this,"close"))},t.ID_PREFIX="mc_",t}(Bo.BaseConnection),to={};xn(to,"DataConnection",()=>Za,e=>Za=e);var wf={};xn(wf,"EncodingQueue",()=>Xa,e=>Xa=e);var Vp=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,v){l.__proto__=v}||function(l,v){for(var S in v)Object.prototype.hasOwnProperty.call(v,S)&&(l[S]=v[S])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function l(){this.constructor=t}t.prototype=n===null?Object.create(n):(l.prototype=n.prototype,new l)}}(),Xa=function(e){Vp(t,e);function t(){var n=e.call(this)||this;return n.fileReader=new FileReader,n._queue=[],n._processing=!1,n.fileReader.onload=function(l){n._processing=!1,l.target&&n.emit("done",l.target.result),n.doNextTask()},n.fileReader.onerror=function(l){Ue.default.error("EncodingQueue error:",l),n._processing=!1,n.destroy(),n.emit("error",l)},n}return Object.defineProperty(t.prototype,"queue",{get:function(){return this._queue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"processing",{get:function(){return this._processing},enumerable:!1,configurable:!0}),t.prototype.enque=function(n){this.queue.push(n),!this.processing&&this.doNextTask()},t.prototype.destroy=function(){this.fileReader.abort(),this._queue=[]},t.prototype.doNextTask=function(){this.size!==0&&(this.processing||(this._processing=!0,this.fileReader.readAsArrayBuffer(this.queue.shift())))},t}(ri.EventEmitter),qp=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,v){l.__proto__=v}||function(l,v){for(var S in v)Object.prototype.hasOwnProperty.call(v,S)&&(l[S]=v[S])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function l(){this.constructor=t}t.prototype=n===null?Object.create(n):(l.prototype=n.prototype,new l)}}(),Jp=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],l=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&l>=e.length&&(e=void 0),{value:e&&e[l++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Za=function(e){qp(t,e);function t(n,l,v){var S=e.call(this,n,l,v)||this;return S.stringify=JSON.stringify,S.parse=JSON.parse,S._buffer=[],S._bufferSize=0,S._buffering=!1,S._chunkedData={},S._encodingQueue=new wf.EncodingQueue,S.connectionId=S.options.connectionId||t.ID_PREFIX+dt.randomToken(),S.label=S.options.label||S.connectionId,S.serialization=S.options.serialization||Bn.Binary,S.reliable=!!S.options.reliable,S._encodingQueue.on("done",function(D){S._bufferedSend(D)}),S._encodingQueue.on("error",function(){Ue.default.error("DC#".concat(S.connectionId,": Error occured in encoding from blob to arraybuffer, close DC")),S.close()}),S._negotiator=new Po.Negotiator(S),S._negotiator.startConnection(S.options._payload||{originator:!0}),S}return Object.defineProperty(t.prototype,"type",{get:function(){return cn.Data},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataChannel",{get:function(){return this._dc},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bufferSize",{get:function(){return this._bufferSize},enumerable:!1,configurable:!0}),t.prototype.initialize=function(n){this._dc=n,this._configureDataChannel()},t.prototype._configureDataChannel=function(){var n=this;(!dt.supports.binaryBlob||dt.supports.reliable)&&(this.dataChannel.binaryType="arraybuffer"),this.dataChannel.onopen=function(){Ue.default.log("DC#".concat(n.connectionId," dc connection success")),n._open=!0,n.emit("open")},this.dataChannel.onmessage=function(l){Ue.default.log("DC#".concat(n.connectionId," dc onmessage:"),l.data),n._handleDataMessage(l)},this.dataChannel.onclose=function(){Ue.default.log("DC#".concat(n.connectionId," dc closed for:"),n.peer),n.close()}},t.prototype._handleDataMessage=function(n){var l=this,v=n.data,S=v.constructor,D=this.serialization===Bn.Binary||this.serialization===Bn.BinaryUTF8,$=v;if(D){if(S===Blob){dt.blobToArrayBuffer(v,function(W){var X=dt.unpack(W);l.emit("data",X)});return}else if(S===ArrayBuffer)$=dt.unpack(v);else if(S===String){var z=dt.binaryStringToArrayBuffer(v);$=dt.unpack(z)}}else this.serialization===Bn.JSON&&($=this.parse(v));if($.__peerData){this._handleChunk($);return}e.prototype.emit.call(this,"data",$)},t.prototype._handleChunk=function(n){var l=n.__peerData,v=this._chunkedData[l]||{data:[],count:0,total:n.total};if(v.data[n.n]=n.data,v.count++,this._chunkedData[l]=v,v.total===v.count){delete this._chunkedData[l];var S=new Blob(v.data);this._handleDataMessage({data:S})}},t.prototype.close=function(){this._buffer=[],this._bufferSize=0,this._chunkedData={},this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this._dc=null),this._encodingQueue&&(this._encodingQueue.destroy(),this._encodingQueue.removeAllListeners(),this._encodingQueue=null),this.open&&(this._open=!1,e.prototype.emit.call(this,"close"))},t.prototype.send=function(n,l){if(!this.open){e.prototype.emit.call(this,"error",new Error("Connection is not open. You should listen for the `open` event before sending messages."));return}if(this.serialization===Bn.JSON)this._bufferedSend(this.stringify(n));else if(this.serialization===Bn.Binary||this.serialization===Bn.BinaryUTF8){var v=dt.pack(n);if(!l&&v.size>dt.chunkedMTU){this._sendChunks(v);return}dt.supports.binaryBlob?this._bufferedSend(v):this._encodingQueue.enque(v)}else this._bufferedSend(n)},t.prototype._bufferedSend=function(n){(this._buffering||!this._trySend(n))&&(this._buffer.push(n),this._bufferSize=this._buffer.length)},t.prototype._trySend=function(n){var l=this;if(!this.open)return!1;if(this.dataChannel.bufferedAmount>t.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(function(){l._buffering=!1,l._tryBuffer()},50),!1;try{this.dataChannel.send(n)}catch(v){return Ue.default.error("DC#:".concat(this.connectionId," Error when sending:"),v),this._buffering=!0,this.close(),!1}return!0},t.prototype._tryBuffer=function(){if(!!this.open&&this._buffer.length!==0){var n=this._buffer[0];this._trySend(n)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}},t.prototype._sendChunks=function(n){var l,v,S=dt.chunk(n);Ue.default.log("DC#".concat(this.connectionId," Try to send ").concat(S.length," chunks..."));try{for(var D=Jp(S),$=D.next();!$.done;$=D.next()){var z=$.value;this.send(z,!0)}}catch(W){l={error:W}}finally{try{$&&!$.done&&(v=D.return)&&v.call(D)}finally{if(l)throw l.error}}},t.prototype.handleMessage=function(n){var l=n.payload;switch(n.type){case Nt.Answer:this._negotiator.handleSDP(n.type,l.sdp);break;case Nt.Candidate:this._negotiator.handleCandidate(l.candidate);break;default:Ue.default.warn("Unrecognized message type:",n.type,"from peer:",this.peer);break}},t.ID_PREFIX="dc_",t.MAX_BUFFERED_AMOUNT=8388608,t}(Bo.BaseConnection),Ef={};xn(Ef,"API",()=>tc,e=>tc=e);var Qa=function(e,t,n,l){function v(S){return S instanceof n?S:new n(function(D){D(S)})}return new(n||(n=Promise))(function(S,D){function $(X){try{W(l.next(X))}catch(b){D(b)}}function z(X){try{W(l.throw(X))}catch(b){D(b)}}function W(X){X.done?S(X.value):v(X.value).then($,z)}W((l=l.apply(e,t||[])).next())})},ec=function(e,t){var n={label:0,sent:function(){if(S[0]&1)throw S[1];return S[1]},trys:[],ops:[]},l,v,S,D;return D={next:$(0),throw:$(1),return:$(2)},typeof Symbol=="function"&&(D[Symbol.iterator]=function(){return this}),D;function $(W){return function(X){return z([W,X])}}function z(W){if(l)throw new TypeError("Generator is already executing.");for(;n;)try{if(l=1,v&&(S=W[0]&2?v.return:W[0]?v.throw||((S=v.return)&&S.call(v),0):v.next)&&!(S=S.call(v,W[1])).done)return S;switch(v=0,S&&(W=[W[0]&2,S.value]),W[0]){case 0:case 1:S=W;break;case 4:return n.label++,{value:W[1],done:!1};case 5:n.label++,v=W[1],W=[0];continue;case 7:W=n.ops.pop(),n.trys.pop();continue;default:if(S=n.trys,!(S=S.length>0&&S[S.length-1])&&(W[0]===6||W[0]===2)){n=0;continue}if(W[0]===3&&(!S||W[1]>S[0]&&W[1]<S[3])){n.label=W[1];break}if(W[0]===6&&n.label<S[1]){n.label=S[1],S=W;break}if(S&&n.label<S[2]){n.label=S[2],n.ops.push(W);break}S[2]&&n.ops.pop(),n.trys.pop();continue}W=t.call(e,n)}catch(X){W=[6,X],v=0}finally{l=S=0}if(W[0]&5)throw W[1];return{value:W[0]?W[1]:void 0,done:!0}}},tc=function(){function e(t){this._options=t}return e.prototype._buildRequest=function(t){var n=this._options.secure?"https":"http",l=this._options,v=l.host,S=l.port,D=l.path,$=l.key,z=new URL("".concat(n,"://").concat(v,":").concat(S).concat(D).concat($,"/").concat(t));return z.searchParams.set("ts","".concat(Date.now()).concat(Math.random())),z.searchParams.set("version",Io.version),fetch(z.href,{referrerPolicy:this._options.referrerPolicy})},e.prototype.retrieveId=function(){return Qa(this,void 0,Promise,function(){var t,n,l;return ec(this,function(v){switch(v.label){case 0:return v.trys.push([0,2,,3]),[4,this._buildRequest("id")];case 1:if(t=v.sent(),t.status!==200)throw new Error("Error. Status:".concat(t.status));return[2,t.text()];case 2:throw n=v.sent(),Ue.default.error("Error retrieving ID",n),l="",this._options.path==="/"&&this._options.host!==dt.CLOUD_HOST&&(l=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+l);case 3:return[2]}})})},e.prototype.listAllPeers=function(){return Qa(this,void 0,Promise,function(){var t,n,l;return ec(this,function(v){switch(v.label){case 0:return v.trys.push([0,2,,3]),[4,this._buildRequest("peers")];case 1:if(t=v.sent(),t.status!==200)throw t.status===401?(n="",this._options.host===dt.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)):new Error("Error. Status:".concat(t.status));return[2,t.json()];case 2:throw l=v.sent(),Ue.default.error("Error retrieving list peers",l),new Error("Could not get list peers from the server."+l);case 3:return[2]}})})},e}(),Yp=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,v){l.__proto__=v}||function(l,v){for(var S in v)Object.prototype.hasOwnProperty.call(v,S)&&(l[S]=v[S])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function l(){this.constructor=t}t.prototype=n===null?Object.create(n):(l.prototype=n.prototype,new l)}}(),Gr=function(){return Gr=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++){t=arguments[n];for(var v in t)Object.prototype.hasOwnProperty.call(t,v)&&(e[v]=t[v])}return e},Gr.apply(this,arguments)},Mr=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],l=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&l>=e.length&&(e=void 0),{value:e&&e[l++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Xp=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var l=n.call(e),v,S=[],D;try{for(;(t===void 0||t-- >0)&&!(v=l.next()).done;)S.push(v.value)}catch($){D={error:$}}finally{try{v&&!v.done&&(n=l.return)&&n.call(l)}finally{if(D)throw D.error}}return S},nc=function(e){Yp(t,e);function t(n,l){var v=e.call(this)||this;v._id=null,v._lastServerId=null,v._destroyed=!1,v._disconnected=!1,v._open=!1,v._connections=new Map,v._lostMessages=new Map;var S;return n&&n.constructor==Object?l=n:n&&(S=n.toString()),l=Gr({debug:0,host:dt.CLOUD_HOST,port:dt.CLOUD_PORT,path:"/",key:t.DEFAULT_KEY,token:dt.randomToken(),config:dt.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin"},l),v._options=l,v._options.host==="/"&&(v._options.host=window.location.hostname),v._options.path&&(v._options.path[0]!=="/"&&(v._options.path="/"+v._options.path),v._options.path[v._options.path.length-1]!=="/"&&(v._options.path+="/")),v._options.secure===void 0&&v._options.host!==dt.CLOUD_HOST?v._options.secure=dt.isSecure():v._options.host==dt.CLOUD_HOST&&(v._options.secure=!0),v._options.logFunction&&Ue.default.setLogFunction(v._options.logFunction),Ue.default.logLevel=v._options.debug||0,v._api=new Ef.API(l),v._socket=v._createServerConnection(),!dt.supports.audioVideo&&!dt.supports.data?(v._delayedAbort(Bt.BrowserIncompatible,"The current browser does not support WebRTC"),v):!!S&&!dt.validateId(S)?(v._delayedAbort(Bt.InvalidID,'ID "'.concat(S,'" is invalid')),v):(S?v._initialize(S):v._api.retrieveId().then(function(D){return v._initialize(D)}).catch(function(D){return v._abort(Bt.ServerError,D)}),v)}return Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"open",{get:function(){return this._open},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"socket",{get:function(){return this._socket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"connections",{get:function(){var n,l,v=Object.create(null);try{for(var S=Mr(this._connections),D=S.next();!D.done;D=S.next()){var $=Xp(D.value,2),z=$[0],W=$[1];v[z]=W}}catch(X){n={error:X}}finally{try{D&&!D.done&&(l=S.return)&&l.call(S)}finally{if(n)throw n.error}}return v},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disconnected",{get:function(){return this._disconnected},enumerable:!1,configurable:!0}),t.prototype._createServerConnection=function(){var n=this,l=new _f.Socket(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return l.on(Dn.Message,function(v){n._handleMessage(v)}),l.on(Dn.Error,function(v){n._abort(Bt.SocketError,v)}),l.on(Dn.Disconnected,function(){n.disconnected||(n.emitError(Bt.Network,"Lost connection to server."),n.disconnect())}),l.on(Dn.Close,function(){n.disconnected||n._abort(Bt.SocketClosed,"Underlying socket is already closed.")}),l},t.prototype._initialize=function(n){this._id=n,this.socket.start(n,this._options.token)},t.prototype._handleMessage=function(n){var l,v,S=n.type,D=n.payload,$=n.src;switch(S){case Nt.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case Nt.Error:this._abort(Bt.ServerError,D.msg);break;case Nt.IdTaken:this._abort(Bt.UnavailableID,'ID "'.concat(this.id,'" is taken'));break;case Nt.InvalidKey:this._abort(Bt.InvalidKey,'API KEY "'.concat(this._options.key,'" is invalid'));break;case Nt.Leave:Ue.default.log("Received leave message from ".concat($)),this._cleanupPeer($),this._connections.delete($);break;case Nt.Expire:this.emitError(Bt.PeerUnavailable,"Could not connect to peer ".concat($));break;case Nt.Offer:var be=D.connectionId,Ee=this.getConnection($,be);if(Ee&&(Ee.close(),Ue.default.warn("Offer received for existing Connection ID:".concat(be))),D.type===cn.Media){var z=new eo.MediaConnection($,this,{connectionId:be,_payload:D,metadata:D.metadata});Ee=z,this._addConnection($,Ee),this.emit("call",z)}else if(D.type===cn.Data){var W=new to.DataConnection($,this,{connectionId:be,_payload:D,metadata:D.metadata,label:D.label,serialization:D.serialization,reliable:D.reliable});Ee=W,this._addConnection($,Ee),this.emit("connection",W)}else{Ue.default.warn("Received malformed connection type:".concat(D.type));return}var X=this._getMessages(be);try{for(var b=Mr(X),ie=b.next();!ie.done;ie=b.next()){var _e=ie.value;Ee.handleMessage(_e)}}catch(ke){l={error:ke}}finally{try{ie&&!ie.done&&(v=b.return)&&v.call(b)}finally{if(l)throw l.error}}break;default:if(!D){Ue.default.warn("You received a malformed message from ".concat($," of type ").concat(S));return}var be=D.connectionId,Ee=this.getConnection($,be);Ee&&Ee.peerConnection?Ee.handleMessage(n):be?this._storeMessage(be,n):Ue.default.warn("You received an unrecognized message:",n);break}},t.prototype._storeMessage=function(n,l){this._lostMessages.has(n)||this._lostMessages.set(n,[]),this._lostMessages.get(n).push(l)},t.prototype._getMessages=function(n){var l=this._lostMessages.get(n);return l?(this._lostMessages.delete(n),l):[]},t.prototype.connect=function(n,l){if(l===void 0&&(l={}),this.disconnected){Ue.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(Bt.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}var v=new to.DataConnection(n,this,l);return this._addConnection(n,v),v},t.prototype.call=function(n,l,v){if(v===void 0&&(v={}),this.disconnected){Ue.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(Bt.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!l){Ue.default.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}var S=new eo.MediaConnection(n,this,Gr(Gr({},v),{_stream:l}));return this._addConnection(n,S),S},t.prototype._addConnection=function(n,l){Ue.default.log("add connection ".concat(l.type,":").concat(l.connectionId," to peerId:").concat(n)),this._connections.has(n)||this._connections.set(n,[]),this._connections.get(n).push(l)},t.prototype._removeConnection=function(n){var l=this._connections.get(n.peer);if(l){var v=l.indexOf(n);v!==-1&&l.splice(v,1)}this._lostMessages.delete(n.connectionId)},t.prototype.getConnection=function(n,l){var v,S,D=this._connections.get(n);if(!D)return null;try{for(var $=Mr(D),z=$.next();!z.done;z=$.next()){var W=z.value;if(W.connectionId===l)return W}}catch(X){v={error:X}}finally{try{z&&!z.done&&(S=$.return)&&S.call($)}finally{if(v)throw v.error}}return null},t.prototype._delayedAbort=function(n,l){var v=this;setTimeout(function(){v._abort(n,l)},0)},t.prototype._abort=function(n,l){Ue.default.error("Aborting!"),this.emitError(n,l),this._lastServerId?this.disconnect():this.destroy()},t.prototype.emitError=function(n,l){Ue.default.error("Error:",l);var v;typeof l=="string"?v=new Error(l):v=l,v.type=n,this.emit("error",v)},t.prototype.destroy=function(){this.destroyed||(Ue.default.log("Destroy peer with ID:".concat(this.id)),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))},t.prototype._cleanup=function(){var n,l;try{for(var v=Mr(this._connections.keys()),S=v.next();!S.done;S=v.next()){var D=S.value;this._cleanupPeer(D),this._connections.delete(D)}}catch($){n={error:$}}finally{try{S&&!S.done&&(l=v.return)&&l.call(v)}finally{if(n)throw n.error}}this.socket.removeAllListeners()},t.prototype._cleanupPeer=function(n){var l,v,S=this._connections.get(n);if(!!S)try{for(var D=Mr(S),$=D.next();!$.done;$=D.next()){var z=$.value;z.close()}}catch(W){l={error:W}}finally{try{$&&!$.done&&(v=D.return)&&v.call(D)}finally{if(l)throw l.error}}},t.prototype.disconnect=function(){if(!this.disconnected){var n=this.id;Ue.default.log("Disconnect peer with ID:".concat(n)),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=n,this._id=null,this.emit("disconnected",n)}},t.prototype.reconnect=function(){if(this.disconnected&&!this.destroyed)Ue.default.log("Attempting reconnection to server with ID ".concat(this._lastServerId)),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)Ue.default.error("In a hurry? We're still trying to make the initial connection!");else throw new Error("Peer ".concat(this.id," cannot reconnect because it is not disconnected from the server!"))}},t.prototype.listAllPeers=function(n){var l=this;n===void 0&&(n=function(v){}),this._api.listAllPeers().then(function(v){return n(v)}).catch(function(v){return l._abort(Bt.ServerError,v)})},t.DEFAULT_KEY="peerjs",t}(ri.EventEmitter),Zi=bf.Peer;const or=(e,t)=>{const n=e.__vccOpts||e;for(const[l,v]of t)n[l]=v;return n},Zp={data(){return{boxStyle:{}}},components:{},setup(){let e=this;return{peer:ref(e.peer)}},mounted(){let e=this;this.lastPeerId=null,this.peer=null,this.conn=null,this.recvIdInput=document.getElementById("receiver-id"),this.status=document.getElementById("status"),this.message=document.getElementById("message"),this.goButton=document.getElementById("goButton"),this.resetButton=document.getElementById("resetButton"),this.fadeButton=document.getElementById("fadeButton"),this.offButton=document.getElementById("offButton"),this.sendMessageBox=document.getElementById("sendMessageBox"),this.sendButton=document.getElementById("sendButton"),this.clearMsgsButton=document.getElementById("clearMsgsButton"),this.connectButton=document.getElementById("connect-button"),this.cueString='<span class="cueMsg">Cue: </span>',this.goButton.addEventListener("click",function(){e.signal("Go")}),this.resetButton.addEventListener("click",function(){e.signal("Reset")}),this.fadeButton.addEventListener("click",function(){e.signal("Fade")}),this.offButton.addEventListener("click",function(){e.signal("Off")}),this.sendMessageBox.addEventListener("keypress",function(t){var n=t||window.event,l=n.which||n.keyCode;l=="13"&&e.sendButton.click()}),this.sendButton.addEventListener("click",function(){if(e.conn&&e.conn.open){var t=sendMessageBox.value;e.sendMessageBox.value="",e.conn.send(t),console.log("Sent: "+t),e.addMessage('<span class="selfMsg">Self: </span> '+t)}else console.log("Connection is closed")}),this.clearMsgsButton.addEventListener("click",e.clearMessages),this.connectButton.addEventListener("click",e.join),this.initialize()},created(){this.lastPeerId=null,this.peer=null,this.peerId=null,this.conn=null},methods:{initialize(){let e=this;e.peer=new Zi(null,{debug:2}),e.peer.on("open",function(t){e.peer.id===null?(console.log("Received null id from peer open"),e.peer.id=e.lastPeerId):e.lastPeerId=e.peer.id,console.log("ID: "+e.peer.id)}),e.peer.on("connection",function(t){t.on("open",function(){t.send("Sender does not accept incoming connections"),setTimeout(function(){t.close()},500)})}),e.peer.on("disconnected",function(){e.status.innerHTML="Connection lost. Please reconnect",console.log("Connection lost. Please reconnect"),e.peer.id=e.lastPeerId,e.peer._lastServerId=e.lastPeerId,e.peer.reconnect()}),e.peer.on("close",function(){e.conn=null,e.status.innerHTML="Connection destroyed. Please refresh",console.log("Connection destroyed")}),e.peer.on("error",function(t){console.log(t),alert(""+t)})},join(){let e=this;e.conn&&e.conn.close(),e.conn=e.peer.connect(e.recvIdInput.value,{reliable:!0}),e.conn.on("open",function(){e.status.innerHTML="Connected to: "+e.conn.peer,console.log("Connected to: "+e.conn.peer);var t=e.getUrlParam("command");t&&e.conn.send(t)}),e.conn.on("data",function(t){e.addMessage('<span class="peerMsg">Peer:</span> '+t)}),e.conn.on("close",function(){e.status.innerHTML="Connection closed"})},getUrlParam(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t),l=n.exec(window.location.href);return l==null?null:l[1]},signal(e){let t=this;t.conn&&t.conn.open?(t.conn.send(e),console.log(e+" signal sent"),t.addMessage(cueString+e)):console.log("Connection is closed")},addMessage(e){var t=new Date,n=t.getHours(),l=S(t.getMinutes()),v=S(t.getSeconds());n>12?n-=12:n===0&&(n=12);function S(D){return D<10&&(D="0"+D),D}this.message.innerHTML='<br><span class="msg-time">'+n+":"+l+":"+v+"</span>  -  "+e+message.innerHTML},clearMessages(){this.message.innerHTML="",that.addMessage("Msgs cleared")}}},Qp=Lh('<h1 data-v-70658925>Peer-to-Peer Cue System --- Sender</h1><table class="control" data-v-70658925><tr data-v-70658925><td class="title" data-v-70658925>Status:</td><td class="title" data-v-70658925>Messages:</td></tr><tr data-v-70658925><td data-v-70658925><span style="font-weight:bold;" data-v-70658925>ID: </span><input type="text" id="receiver-id" title="Input the ID from receive.html" data-v-70658925><button id="connect-button" data-v-70658925>Connect</button></td><td data-v-70658925><input type="text" id="sendMessageBox" placeholder="Enter a message..." autofocus="true" data-v-70658925><button type="button" id="sendButton" data-v-70658925>Send</button><button type="button" id="clearMsgsButton" data-v-70658925>Clear Msgs (Local)</button></td></tr><tr data-v-70658925><td data-v-70658925><div id="status" class="status" data-v-70658925></div></td><td data-v-70658925><div class="message" id="message" data-v-70658925></div></td></tr><tr data-v-70658925><td data-v-70658925><button type="button" class="control-button" id="resetButton" data-v-70658925>Reset</button></td><td data-v-70658925><button type="button" class="control-button" id="goButton" data-v-70658925>Go</button></td></tr><tr data-v-70658925><td data-v-70658925><button type="button" class="control-button" id="fadeButton" data-v-70658925>Fade</button></td><td data-v-70658925><button type="button" class="control-button" id="offButton" data-v-70658925>Off</button></td></tr></table>',2);function e0(e,t,n,l,v,S){return Qp}const t0=or(Zp,[["render",e0],["__scopeId","data-v-70658925"]]);const n0={data(){return{boxStyle:{}}},mounted(){let e=this;this.recvId=document.getElementById("receiver-id"),this.status=document.getElementById("status"),this.message=document.getElementById("message"),this.standbyBox=document.getElementById("standby"),this.goBox=document.getElementById("go"),this.fadeBox=document.getElementById("fade"),this.offBox=document.getElementById("off"),this.sendMessageBox=document.getElementById("sendMessageBox"),this.sendButton=document.getElementById("sendButton"),this.clearMsgsButton=document.getElementById("clearMsgsButton"),this.sendMessageBox.addEventListener("keypress",function(t){var n=t||window.event,l=n.which||n.keyCode;l=="13"&&e.sendButton.click()}),this.sendButton.addEventListener("click",function(){if(e.conn&&e.conn.open){var t=e.sendMessageBox.value;e.sendMessageBox.value="",e.conn.send(t),console.log("Sent: "+t),e.addMessage('<span class="selfMsg">Self: </span>'+t)}else console.log("Connection is closed")}),e.clearMsgsButton.addEventListener("click",e.clearMessages),this.initialize()},created(){this.lastPeerId=null,this.peer=null,this.peerId=null,this.conn=null},methods:{initialize(){let e=this;e.peer=new Zi(null,{debug:2}),e.peer.on("open",function(t){e.peer.id===null?(console.log("Received null id from peer open"),e.peer.id=e.lastPeerId):e.lastPeerId=e.peer.id,console.log("ID: "+e.peer.id),e.recvId.innerHTML="ID: "+e.peer.id,e.status.innerHTML="Awaiting connection..."}),e.peer.on("connection",function(t){if(e.conn&&e.conn.open){t.on("open",function(){t.send("Already connected to another client"),setTimeout(function(){t.close()},500)});return}e.conn=t,console.log("Connected to: "+e.conn.peer),e.status.innerHTML="Connected",e.ready()}),this.peer.on("disconnected",function(){this.status.innerHTML="Connection lost. Please reconnect",console.log("Connection lost. Please reconnect"),this.peer.id=this.lastPeerId,this.peer._lastServerId=this.lastPeerId,this.peer.reconnect()}),this.peer.on("close",function(){this.conn=null,this.status.innerHTML="Connection destroyed. Please refresh",console.log("Connection destroyed")}),this.peer.on("error",function(t){console.log(t),alert(""+t)})},ready(){let e=this;e.conn.on("data",function(t){console.log("Data recieved");var n='<span class="cueMsg">Cue: </span>';switch(t){case"Go":e.go(),e.addMessage(n+t);break;case"Fade":e.fade(),e.addMessage(n+t);break;case"Off":e.off(),e.addMessage(n+t);break;case"Reset":e.reset(),e.addMessage(n+t);break;default:e.addMessage('<span class="peerMsg">Peer: </span>'+t);break}}),e.conn.on("close",function(){e.status.innerHTML="Connection reset<br>Awaiting connection...",e.conn=null})},go(){this.standbyBox.className="display-box hidden",this.goBox.className="display-box go",this.fadeBox.className="display-box hidden",this.offBox.className="display-box hidden"},fade(){this.standbyBox.className="display-box hidden",this.goBox.className="display-box hidden",this.fadeBox.className="display-box fade",this.offBox.className="display-box hidden"},off(){this.standbyBox.className="display-box hidden",this.goBox.className="display-box hidden",this.fadeBox.className="display-box hidden",this.offBox.className="display-box off"},reset(){this.standbyBox.className="display-box standby",this.goBox.className="display-box hidden",this.fadeBox.className="display-box hidden",this.offBox.className="display-box hidden"},addMessage(e){var t=new Date,n=t.getHours(),l=S(t.getMinutes()),v=S(t.getSeconds());n>12?n-=12:n===0&&(n=12);function S(D){return D<10&&(D="0"+D),D}this.message.innerHTML='<br><span class="msg-time">'+n+":"+l+":"+v+"</span>  -  "+e+message.innerHTML},clearMessages(){this.message.innerHTML="",this.addMessage("Msgs cleared")}}},ii=e=>(Gi("data-v-5e87556a"),e=e(),Vi(),e),r0={class:"display"},i0=ii(()=>Oe("tr",null,[Oe("td",{class:"title"},"Status:"),Oe("td",{class:"title"},"Messages:")],-1)),s0=ii(()=>Oe("tr",null,[Oe("td",null,[Oe("div",{id:"receiver-id",style:{"font-weight":"bold"},title:"Copy this ID to the input on send.html."},"ID: ")]),Oe("td",null,[Oe("input",{type:"text",id:"sendMessageBox",placeholder:"Enter a message...",autofocus:"true"}),Oe("button",{type:"button",id:"sendButton"},"Send"),Oe("button",{type:"button",id:"clearMsgsButton"},"Clear Msgs (Local)")])],-1)),o0=ii(()=>Oe("tr",null,[Oe("td",null,[Oe("div",{id:"status",class:"status"})]),Oe("td",null,[Oe("div",{class:"message",id:"message"})])],-1)),a0=ii(()=>Oe("tr",null,[Oe("td",{class:"display-box standby",id:"standby"},[Oe("h2",null,"Standby")]),Oe("td",{class:"display-box hidden",id:"go"},[Oe("h2",null,"Go")])],-1)),c0=ii(()=>Oe("tr",null,[Oe("td",{class:"display-box hidden",id:"fade"},[Oe("h2",null,"Fade")]),Oe("td",{class:"display-box hidden",id:"off"},[Oe("h2",null,"All Off")])],-1)),d0=[i0,s0,o0,a0,c0];function f0(e,t,n,l,v,S){return En(),On("table",r0,d0)}const l0=or(n0,[["render",f0],["__scopeId","data-v-5e87556a"]]);var Sf={exports:{}},Oo={exports:{}},xf=function(t,n){return function(){for(var v=new Array(arguments.length),S=0;S<v.length;S++)v[S]=arguments[S];return t.apply(n,v)}},h0=xf,Do=Object.prototype.toString,Lo=function(e){return function(t){var n=Do.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())}}(Object.create(null));function ar(e){return e=e.toLowerCase(),function(n){return Lo(n)===e}}function Mo(e){return Array.isArray(e)}function Ni(e){return typeof e>"u"}function u0(e){return e!==null&&!Ni(e)&&e.constructor!==null&&!Ni(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}var kf=ar("ArrayBuffer");function p0(e){var t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&kf(e.buffer),t}function m0(e){return typeof e=="string"}function g0(e){return typeof e=="number"}function Cf(e){return e!==null&&typeof e=="object"}function Ti(e){if(Lo(e)!=="object")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}var v0=ar("Date"),b0=ar("File"),y0=ar("Blob"),_0=ar("FileList");function No(e){return Do.call(e)==="[object Function]"}function w0(e){return Cf(e)&&No(e.pipe)}function E0(e){var t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||Do.call(e)===t||No(e.toString)&&e.toString()===t)}var S0=ar("URLSearchParams");function x0(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function k0(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function Uo(e,t){if(!(e===null||typeof e>"u"))if(typeof e!="object"&&(e=[e]),Mo(e))for(var n=0,l=e.length;n<l;n++)t.call(null,e[n],n,e);else for(var v in e)Object.prototype.hasOwnProperty.call(e,v)&&t.call(null,e[v],v,e)}function no(){var e={};function t(v,S){Ti(e[S])&&Ti(v)?e[S]=no(e[S],v):Ti(v)?e[S]=no({},v):Mo(v)?e[S]=v.slice():e[S]=v}for(var n=0,l=arguments.length;n<l;n++)Uo(arguments[n],t);return e}function C0(e,t,n){return Uo(t,function(v,S){n&&typeof v=="function"?e[S]=h0(v,n):e[S]=v}),e}function T0(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}function R0(e,t,n,l){e.prototype=Object.create(t.prototype,l),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)}function A0(e,t,n){var l,v,S,D={};t=t||{};do{for(l=Object.getOwnPropertyNames(e),v=l.length;v-- >0;)S=l[v],D[S]||(t[S]=e[S],D[S]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t}function I0(e,t,n){e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;var l=e.indexOf(t,n);return l!==-1&&l===n}function P0(e){if(!e)return null;var t=e.length;if(Ni(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n}var B0=function(e){return function(t){return e&&t instanceof e}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array)),Ht={isArray:Mo,isArrayBuffer:kf,isBuffer:u0,isFormData:E0,isArrayBufferView:p0,isString:m0,isNumber:g0,isObject:Cf,isPlainObject:Ti,isUndefined:Ni,isDate:v0,isFile:b0,isBlob:y0,isFunction:No,isStream:w0,isURLSearchParams:S0,isStandardBrowserEnv:k0,forEach:Uo,merge:no,extend:C0,trim:x0,stripBOM:T0,inherits:R0,toFlatObject:A0,kindOf:Lo,kindOfTest:ar,endsWith:I0,toArray:P0,isTypedArray:B0,isFileList:_0},lr=Ht;function rc(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Tf=function(t,n,l){if(!n)return t;var v;if(l)v=l(n);else if(lr.isURLSearchParams(n))v=n.toString();else{var S=[];lr.forEach(n,function(z,W){z===null||typeof z>"u"||(lr.isArray(z)?W=W+"[]":z=[z],lr.forEach(z,function(b){lr.isDate(b)?b=b.toISOString():lr.isObject(b)&&(b=JSON.stringify(b)),S.push(rc(W)+"="+rc(b))}))}),v=S.join("&")}if(v){var D=t.indexOf("#");D!==-1&&(t=t.slice(0,D)),t+=(t.indexOf("?")===-1?"?":"&")+v}return t},O0=Ht;function Qi(){this.handlers=[]}Qi.prototype.use=function(t,n,l){return this.handlers.push({fulfilled:t,rejected:n,synchronous:l?l.synchronous:!1,runWhen:l?l.runWhen:null}),this.handlers.length-1};Qi.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};Qi.prototype.forEach=function(t){O0.forEach(this.handlers,function(l){l!==null&&t(l)})};var D0=Qi,L0=Ht,M0=function(t,n){L0.forEach(t,function(v,S){S!==n&&S.toUpperCase()===n.toUpperCase()&&(t[n]=v,delete t[S])})},Rf=Ht;function Cr(e,t,n,l,v){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),l&&(this.request=l),v&&(this.response=v)}Rf.inherits(Cr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Af=Cr.prototype,If={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(e){If[e]={value:e}});Object.defineProperties(Cr,If);Object.defineProperty(Af,"isAxiosError",{value:!0});Cr.from=function(e,t,n,l,v,S){var D=Object.create(Af);return Rf.toFlatObject(e,D,function(z){return z!==Error.prototype}),Cr.call(D,e.message,t,n,l,v),D.name=e.name,S&&Object.assign(D,S),D};var Br=Cr,Pf={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},on=Ht;function N0(e,t){t=t||new FormData;var n=[];function l(S){return S===null?"":on.isDate(S)?S.toISOString():on.isArrayBuffer(S)||on.isTypedArray(S)?typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function v(S,D){if(on.isPlainObject(S)||on.isArray(S)){if(n.indexOf(S)!==-1)throw Error("Circular reference detected in "+D);n.push(S),on.forEach(S,function(z,W){if(!on.isUndefined(z)){var X=D?D+"."+W:W,b;if(z&&!D&&typeof z=="object"){if(on.endsWith(W,"{}"))z=JSON.stringify(z);else if(on.endsWith(W,"[]")&&(b=on.toArray(z))){b.forEach(function(ie){!on.isUndefined(ie)&&t.append(X,l(ie))});return}}v(z,X)}}),n.pop()}else t.append(D,l(S))}return v(e),t}var Bf=N0,us,ic;function U0(){if(ic)return us;ic=1;var e=Br;return us=function(n,l,v){var S=v.config.validateStatus;!v.status||!S||S(v.status)?n(v):l(new e("Request failed with status code "+v.status,[e.ERR_BAD_REQUEST,e.ERR_BAD_RESPONSE][Math.floor(v.status/100)-4],v.config,v.request,v))},us}var ps,sc;function j0(){if(sc)return ps;sc=1;var e=Ht;return ps=e.isStandardBrowserEnv()?function(){return{write:function(l,v,S,D,$,z){var W=[];W.push(l+"="+encodeURIComponent(v)),e.isNumber(S)&&W.push("expires="+new Date(S).toGMTString()),e.isString(D)&&W.push("path="+D),e.isString($)&&W.push("domain="+$),z===!0&&W.push("secure"),document.cookie=W.join("; ")},read:function(l){var v=document.cookie.match(new RegExp("(^|;\\s*)("+l+")=([^;]*)"));return v?decodeURIComponent(v[3]):null},remove:function(l){this.write(l,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),ps}var F0=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)},H0=function(t,n){return n?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t},z0=F0,$0=H0,Of=function(t,n){return t&&!z0(n)?$0(t,n):n},ms,oc;function W0(){if(oc)return ms;oc=1;var e=Ht,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return ms=function(l){var v={},S,D,$;return l&&e.forEach(l.split(`
`),function(W){if($=W.indexOf(":"),S=e.trim(W.substr(0,$)).toLowerCase(),D=e.trim(W.substr($+1)),S){if(v[S]&&t.indexOf(S)>=0)return;S==="set-cookie"?v[S]=(v[S]?v[S]:[]).concat([D]):v[S]=v[S]?v[S]+", "+D:D}}),v},ms}var gs,ac;function K0(){if(ac)return gs;ac=1;var e=Ht;return gs=e.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),l=document.createElement("a"),v;function S(D){var $=D;return n&&(l.setAttribute("href",$),$=l.href),l.setAttribute("href",$),{href:l.href,protocol:l.protocol?l.protocol.replace(/:$/,""):"",host:l.host,search:l.search?l.search.replace(/^\?/,""):"",hash:l.hash?l.hash.replace(/^#/,""):"",hostname:l.hostname,port:l.port,pathname:l.pathname.charAt(0)==="/"?l.pathname:"/"+l.pathname}}return v=S(window.location.href),function($){var z=e.isString($)?S($):$;return z.protocol===v.protocol&&z.host===v.host}}():function(){return function(){return!0}}(),gs}var vs,cc;function es(){if(cc)return vs;cc=1;var e=Br,t=Ht;function n(l){e.call(this,l==null?"canceled":l,e.ERR_CANCELED),this.name="CanceledError"}return t.inherits(n,e,{__CANCEL__:!0}),vs=n,vs}var bs,dc;function G0(){return dc||(dc=1,bs=function(t){var n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return n&&n[1]||""}),bs}var ys,fc;function lc(){if(fc)return ys;fc=1;var e=Ht,t=U0(),n=j0(),l=Tf,v=Of,S=W0(),D=K0(),$=Pf,z=Br,W=es(),X=G0();return ys=function(ie){return new Promise(function(be,Ee){var ke=ie.data,Te=ie.headers,x=ie.responseType,V;function O(){ie.cancelToken&&ie.cancelToken.unsubscribe(V),ie.signal&&ie.signal.removeEventListener("abort",V)}e.isFormData(ke)&&e.isStandardBrowserEnv()&&delete Te["Content-Type"];var g=new XMLHttpRequest;if(ie.auth){var C=ie.auth.username||"",E=ie.auth.password?unescape(encodeURIComponent(ie.auth.password)):"";Te.Authorization="Basic "+btoa(C+":"+E)}var y=v(ie.baseURL,ie.url);g.open(ie.method.toUpperCase(),l(y,ie.params,ie.paramsSerializer),!0),g.timeout=ie.timeout;function i(){if(!!g){var o="getAllResponseHeaders"in g?S(g.getAllResponseHeaders()):null,h=!x||x==="text"||x==="json"?g.responseText:g.response,s={data:h,status:g.status,statusText:g.statusText,headers:o,config:ie,request:g};t(function(d){be(d),O()},function(d){Ee(d),O()},s),g=null}}if("onloadend"in g?g.onloadend=i:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(i)},g.onabort=function(){!g||(Ee(new z("Request aborted",z.ECONNABORTED,ie,g)),g=null)},g.onerror=function(){Ee(new z("Network Error",z.ERR_NETWORK,ie,g,g)),g=null},g.ontimeout=function(){var h=ie.timeout?"timeout of "+ie.timeout+"ms exceeded":"timeout exceeded",s=ie.transitional||$;ie.timeoutErrorMessage&&(h=ie.timeoutErrorMessage),Ee(new z(h,s.clarifyTimeoutError?z.ETIMEDOUT:z.ECONNABORTED,ie,g)),g=null},e.isStandardBrowserEnv()){var m=(ie.withCredentials||D(y))&&ie.xsrfCookieName?n.read(ie.xsrfCookieName):void 0;m&&(Te[ie.xsrfHeaderName]=m)}"setRequestHeader"in g&&e.forEach(Te,function(h,s){typeof ke>"u"&&s.toLowerCase()==="content-type"?delete Te[s]:g.setRequestHeader(s,h)}),e.isUndefined(ie.withCredentials)||(g.withCredentials=!!ie.withCredentials),x&&x!=="json"&&(g.responseType=ie.responseType),typeof ie.onDownloadProgress=="function"&&g.addEventListener("progress",ie.onDownloadProgress),typeof ie.onUploadProgress=="function"&&g.upload&&g.upload.addEventListener("progress",ie.onUploadProgress),(ie.cancelToken||ie.signal)&&(V=function(o){!g||(Ee(!o||o&&o.type?new W:o),g.abort(),g=null)},ie.cancelToken&&ie.cancelToken.subscribe(V),ie.signal&&(ie.signal.aborted?V():ie.signal.addEventListener("abort",V))),ke||(ke=null);var a=X(y);if(a&&["http","https","file"].indexOf(a)===-1){Ee(new z("Unsupported protocol "+a+":",z.ERR_BAD_REQUEST,ie));return}g.send(ke)})},ys}var _s,hc;function V0(){return hc||(hc=1,_s=null),_s}var Lt=Ht,uc=M0,pc=Br,q0=Pf,J0=Bf,Y0={"Content-Type":"application/x-www-form-urlencoded"};function mc(e,t){!Lt.isUndefined(e)&&Lt.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function X0(){var e;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(e=lc()),e}function Z0(e,t,n){if(Lt.isString(e))try{return(t||JSON.parse)(e),Lt.trim(e)}catch(l){if(l.name!=="SyntaxError")throw l}return(n||JSON.stringify)(e)}var ts={transitional:q0,adapter:X0(),transformRequest:[function(t,n){if(uc(n,"Accept"),uc(n,"Content-Type"),Lt.isFormData(t)||Lt.isArrayBuffer(t)||Lt.isBuffer(t)||Lt.isStream(t)||Lt.isFile(t)||Lt.isBlob(t))return t;if(Lt.isArrayBufferView(t))return t.buffer;if(Lt.isURLSearchParams(t))return mc(n,"application/x-www-form-urlencoded;charset=utf-8"),t.toString();var l=Lt.isObject(t),v=n&&n["Content-Type"],S;if((S=Lt.isFileList(t))||l&&v==="multipart/form-data"){var D=this.env&&this.env.FormData;return J0(S?{"files[]":t}:t,D&&new D)}else if(l||v==="application/json")return mc(n,"application/json"),Z0(t);return t}],transformResponse:[function(t){var n=this.transitional||ts.transitional,l=n&&n.silentJSONParsing,v=n&&n.forcedJSONParsing,S=!l&&this.responseType==="json";if(S||v&&Lt.isString(t)&&t.length)try{return JSON.parse(t)}catch(D){if(S)throw D.name==="SyntaxError"?pc.from(D,pc.ERR_BAD_RESPONSE,this,null,this.response):D}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:V0()},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Lt.forEach(["delete","get","head"],function(t){ts.headers[t]={}});Lt.forEach(["post","put","patch"],function(t){ts.headers[t]=Lt.merge(Y0)});var jo=ts,Q0=Ht,e1=jo,t1=function(t,n,l){var v=this||e1;return Q0.forEach(l,function(D){t=D.call(v,t,n)}),t},ws,gc;function Df(){return gc||(gc=1,ws=function(t){return!!(t&&t.__CANCEL__)}),ws}var vc=Ht,Es=t1,n1=Df(),r1=jo,i1=es();function Ss(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new i1}var s1=function(t){Ss(t),t.headers=t.headers||{},t.data=Es.call(t,t.data,t.headers,t.transformRequest),t.headers=vc.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),vc.forEach(["delete","get","head","post","put","patch","common"],function(v){delete t.headers[v]});var n=t.adapter||r1.adapter;return n(t).then(function(v){return Ss(t),v.data=Es.call(t,v.data,v.headers,t.transformResponse),v},function(v){return n1(v)||(Ss(t),v&&v.response&&(v.response.data=Es.call(t,v.response.data,v.response.headers,t.transformResponse))),Promise.reject(v)})},en=Ht,Lf=function(t,n){n=n||{};var l={};function v(X,b){return en.isPlainObject(X)&&en.isPlainObject(b)?en.merge(X,b):en.isPlainObject(b)?en.merge({},b):en.isArray(b)?b.slice():b}function S(X){if(en.isUndefined(n[X])){if(!en.isUndefined(t[X]))return v(void 0,t[X])}else return v(t[X],n[X])}function D(X){if(!en.isUndefined(n[X]))return v(void 0,n[X])}function $(X){if(en.isUndefined(n[X])){if(!en.isUndefined(t[X]))return v(void 0,t[X])}else return v(void 0,n[X])}function z(X){if(X in n)return v(t[X],n[X]);if(X in t)return v(void 0,t[X])}var W={url:D,method:D,data:D,baseURL:$,transformRequest:$,transformResponse:$,paramsSerializer:$,timeout:$,timeoutMessage:$,withCredentials:$,adapter:$,responseType:$,xsrfCookieName:$,xsrfHeaderName:$,onUploadProgress:$,onDownloadProgress:$,decompress:$,maxContentLength:$,maxBodyLength:$,beforeRedirect:$,transport:$,httpAgent:$,httpsAgent:$,cancelToken:$,socketPath:$,responseEncoding:$,validateStatus:z};return en.forEach(Object.keys(t).concat(Object.keys(n)),function(b){var ie=W[b]||S,_e=ie(b);en.isUndefined(_e)&&ie!==z||(l[b]=_e)}),l},xs,bc;function Mf(){return bc||(bc=1,xs={version:"0.27.2"}),xs}var o1=Mf().version,$n=Br,Fo={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){Fo[e]=function(l){return typeof l===e||"a"+(t<1?"n ":" ")+e}});var yc={};Fo.transitional=function(t,n,l){function v(S,D){return"[Axios v"+o1+"] Transitional option '"+S+"'"+D+(l?". "+l:"")}return function(S,D,$){if(t===!1)throw new $n(v(D," has been removed"+(n?" in "+n:"")),$n.ERR_DEPRECATED);return n&&!yc[D]&&(yc[D]=!0,console.warn(v(D," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(S,D,$):!0}};function a1(e,t,n){if(typeof e!="object")throw new $n("options must be an object",$n.ERR_BAD_OPTION_VALUE);for(var l=Object.keys(e),v=l.length;v-- >0;){var S=l[v],D=t[S];if(D){var $=e[S],z=$===void 0||D($,S,e);if(z!==!0)throw new $n("option "+S+" must be "+z,$n.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new $n("Unknown option "+S,$n.ERR_BAD_OPTION)}}var c1={assertOptions:a1,validators:Fo},Nf=Ht,d1=Tf,_c=D0,wc=s1,ns=Lf,f1=Of,Uf=c1,hr=Uf.validators;function Tr(e){this.defaults=e,this.interceptors={request:new _c,response:new _c}}Tr.prototype.request=function(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=ns(this.defaults,n),n.method?n.method=n.method.toLowerCase():this.defaults.method?n.method=this.defaults.method.toLowerCase():n.method="get";var l=n.transitional;l!==void 0&&Uf.assertOptions(l,{silentJSONParsing:hr.transitional(hr.boolean),forcedJSONParsing:hr.transitional(hr.boolean),clarifyTimeoutError:hr.transitional(hr.boolean)},!1);var v=[],S=!0;this.interceptors.request.forEach(function(_e){typeof _e.runWhen=="function"&&_e.runWhen(n)===!1||(S=S&&_e.synchronous,v.unshift(_e.fulfilled,_e.rejected))});var D=[];this.interceptors.response.forEach(function(_e){D.push(_e.fulfilled,_e.rejected)});var $;if(!S){var z=[wc,void 0];for(Array.prototype.unshift.apply(z,v),z=z.concat(D),$=Promise.resolve(n);z.length;)$=$.then(z.shift(),z.shift());return $}for(var W=n;v.length;){var X=v.shift(),b=v.shift();try{W=X(W)}catch(ie){b(ie);break}}try{$=wc(W)}catch(ie){return Promise.reject(ie)}for(;D.length;)$=$.then(D.shift(),D.shift());return $};Tr.prototype.getUri=function(t){t=ns(this.defaults,t);var n=f1(t.baseURL,t.url);return d1(n,t.params,t.paramsSerializer)};Nf.forEach(["delete","get","head","options"],function(t){Tr.prototype[t]=function(n,l){return this.request(ns(l||{},{method:t,url:n,data:(l||{}).data}))}});Nf.forEach(["post","put","patch"],function(t){function n(l){return function(S,D,$){return this.request(ns($||{},{method:t,headers:l?{"Content-Type":"multipart/form-data"}:{},url:S,data:D}))}}Tr.prototype[t]=n(),Tr.prototype[t+"Form"]=n(!0)});var l1=Tr,ks,Ec;function h1(){if(Ec)return ks;Ec=1;var e=es();function t(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var l;this.promise=new Promise(function(D){l=D});var v=this;this.promise.then(function(S){if(!!v._listeners){var D,$=v._listeners.length;for(D=0;D<$;D++)v._listeners[D](S);v._listeners=null}}),this.promise.then=function(S){var D,$=new Promise(function(z){v.subscribe(z),D=z}).then(S);return $.cancel=function(){v.unsubscribe(D)},$},n(function(D){v.reason||(v.reason=new e(D),l(v.reason))})}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(l){if(this.reason){l(this.reason);return}this._listeners?this._listeners.push(l):this._listeners=[l]},t.prototype.unsubscribe=function(l){if(!!this._listeners){var v=this._listeners.indexOf(l);v!==-1&&this._listeners.splice(v,1)}},t.source=function(){var l,v=new t(function(D){l=D});return{token:v,cancel:l}},ks=t,ks}var Cs,Sc;function u1(){return Sc||(Sc=1,Cs=function(t){return function(l){return t.apply(null,l)}}),Cs}var Ts,xc;function p1(){if(xc)return Ts;xc=1;var e=Ht;return Ts=function(n){return e.isObject(n)&&n.isAxiosError===!0},Ts}var kc=Ht,m1=xf,Ri=l1,g1=Lf,v1=jo;function jf(e){var t=new Ri(e),n=m1(Ri.prototype.request,t);return kc.extend(n,Ri.prototype,t),kc.extend(n,t),n.create=function(v){return jf(g1(e,v))},n}var Zt=jf(v1);Zt.Axios=Ri;Zt.CanceledError=es();Zt.CancelToken=h1();Zt.isCancel=Df();Zt.VERSION=Mf().version;Zt.toFormData=Bf;Zt.AxiosError=Br;Zt.Cancel=Zt.CanceledError;Zt.all=function(t){return Promise.all(t)};Zt.spread=u1();Zt.isAxiosError=p1();Oo.exports=Zt;Oo.exports.default=Zt;(function(e){e.exports=Oo.exports})(Sf);const b1=Md(Sf.exports),Ff=b1.create({baseURL:"https://hipark.pythonanywhere.com",timeout:5e3});function y1(e){return Ff({url:"/webrtcUserInfo/",type:"get",params:{cmd:"insert",name:e.name,id:e.id},contentType:"application/json",dataType:"jsonp",responsetype:"json"})}function _1(e){return Ff({url:"/webrtcUserInfo/",type:"get",params:{cmd:"find"},contentType:"application/json",responsetype:"application/json"})}const w1={data(){return{}},props:{peerId:{type:String,required:!0}},setup(e,t){},watch:{peerId(e,t){console.log("sss:"+e),e&&(this.peerIds=e)}},mounted(){this.message=this.$refs.message,this.$refs.username.value=this.randomName()},created(){},methods:{pushID(){let e={name:this.$refs.username.value,id:this.peerIds};y1(e).then(t=>{console.log(t)}).catch(t=>{console.log(t)})},getID(){let e=this;_1().then(t=>{e.message.innerHTML="";let n=Object.entries(t.data);n.length==0&&(e.message.innerHTML+="<b>Not a sausage</b>");for(let l=0;l<n.length;l++)e.message.innerHTML+="<br><b>Name:</b>"+n[l][0]+"<b>, Id:</b>"+n[l][1];console.log("success!")}).catch(t=>{console.log(t)})},randomName(){var e=[];let t=4,n=Math.ceil(Math.random()*25);e.push(String.fromCharCode(65+n));for(var l=0;l<t;l++)n=Math.ceil(Math.random()*25),e.push(String.fromCharCode(97+n));return e.join("")}}},E1=Nn(" Name: "),S1={type:"text",ref:"username",value:"hello",class:"username"},x1={class:"onlineUser",ref:"message"};function k1(e,t,n,l,v,S){return En(),On(nn,null,[E1,Oe("input",S1,null,512),Oe("button",{type:"button",onClick:t[0]||(t[0]=(...D)=>S.pushID&&S.pushID(...D))},"\u4E0A\u4F20ID"),Oe("button",{type:"button",onClick:t[1]||(t[1]=(...D)=>S.getID&&S.getID(...D))},"\u641C\u7D22ID"),Oe("div",x1,null,512)],64)}const C1=or(w1,[["render",k1],["__scopeId","data-v-080b0a93"]]);function Rs(e){let t=e.lastIndexOf("."),n=e.substr(t+1);return["png","jpg","jpeg","bmp","gif","webp","psd","svg","tiff"].indexOf(n.toLowerCase())!==-1}function T1(e){for(var t="",n=new Uint8Array(e),l=n.byteLength,v=0;v<l;v++)t+=String.fromCharCode(n[v]);return window.btoa(t)}function Hf(e){const t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),l=window.atob(n),v=new Uint8Array(l.length);for(let S=0;S<l.length;++S)v[S]=l.charCodeAt(S);return v}const R1=yo({name:"message",setup(){const e=Ds([]),t=Ds([]),n=W=>{D(W)},l=W=>{D(W,"success")},v=W=>{D(W,"warning")},S=W=>{D(W,"error")},D=(W,X)=>{var b=W||{};X&&(b.type=X);const ie={type:b.type||"prompt",message:b.message||"",iconClass:b.iconClass||$(X||"prompt"),customClass:b.customClass,duration:b.duration>=0?b.duration:3e3,showClose:b.showClose,center:b.center,onClose:b.onClose,id:Math.floor(new Date)};e.value.push(ie),ie.duration!==0&&setTimeout(()=>{t.value[0].className+=" messageHide",setTimeout(()=>{e.value.splice(0,1)},200)},ie.duration+e.value.length*100)},$=W=>{switch(W){case"prompt":return"iconfont icon-tishi";case"success":return"iconfont icon-success";case"warning":return"iconfont icon-jinggao--";case"error":return"iconfont icon-cuowu"}};return{messageList:e,contentList:t,close:W=>{const X=e.value.findIndex(b=>b.id===W.id);X!==-1&&(t.value[X].className+=" messageHide",setTimeout(()=>{e.value.splice(X,1),W.onClose&&W.onClose(W)},200))},message:n,success:l,warning:v,error:S}}}),A1={class:"v-message"},I1={class:"content"},P1=["onClick"];function B1(e,t,n,l,v,S){return En(),On("div",A1,[(En(!0),On(nn,null,uh(e.messageList,(D,$)=>(En(),On("div",{key:D.id,ref_for:!0,ref:z=>{z&&(e.contentList[$]=z)},class:Vr(["message-item",D.customClass,D.type,{center:D.center}])},[Oe("i",{class:Vr([D.iconClass,"icon"])},null,2),Oe("p",I1,Zf(D.message),1),D.showClose?(En(),On("i",{key:0,class:"close iconfont icon-guanbi1",onClick:z=>e.close(D)},null,8,P1)):Mh("",!0)],2))),128))])}const O1=or(R1,[["render",B1],["__scopeId","data-v-2c96503b"]]),D1=function(){const e=document.createElement("div");return e.id="v-message",document.body.appendChild(e),xd(O1).mount("#v-message")},Qn=D1();const As=1200*1024;var ui=0,pi,Fn,mi,Nr,ur=!1;const L1={data(){return{peerId:""}},components:{shareIdVue:C1},mounted(){let e=this;this.lastPeerId=null,this.peer=null,this.conn=null,this.localId=document.getElementById("local-id"),this.recvIdInput=document.getElementById("receiver-id"),this.status=document.getElementById("status"),this.message=document.getElementById("message"),this.sendMessageBox=document.getElementById("sendMessageBox"),this.cueString='<span class="cueMsg">Cue: </span>',this.localVideo=this.$refs.localVideo,this.remoteVideo=this.$refs.remoteVideo,this.fileReader=new FileReader,this.fileReader.onload=function(){e.conn.send(JSON.stringify({type:"file",fileContent:T1(e.fileReader.result)})),ui++,As*ui<pi.size&&e.readNextChunk()},this.fileStream=null,this.writer=null;let t=window.location.href.split("?id=")[1];t&&(this.recvIdInput.value=t),this.sendMessageBox.addEventListener("keypress",function(n){var l=n||window.event,v=l.which||l.keyCode;v=="13"&&e.send()}),this.initialize()},created(){this.lastPeerId=null,this.peer=null,this.peerId=null,this.conn=null,this.currentCall=null,this.currentConnection=null},methods:{initialize(){let e=this;e.peer=new Zi(null,{debug:2}),e.peer.on("open",function(t){e.peer.id===null?(console.log("Received null id from peer open"),e.peer.id=e.lastPeerId):e.lastPeerId=e.peer.id,console.log("ID: "+e.peer.id),e.localId.innerHTML="ID: "+e.peer.id,e.peerId=e.peer.id,e.status.style.color="red",e.status.innerHTML="Awaiting connection..."}),e.peer.on("connection",function(t){if(e.conn&&e.conn.open){t.on("open",function(){t.send("Already connected to another client"),setTimeout(function(){t.close()},500)});return}e.conn=t,console.log("Connected to: "+e.conn.peer),e.status.style.color="green",e.status.innerHTML="Friend: "+e.conn.peer,Qn.success({message:"\u8FDE\u63A5\u6210\u529F"}),e.ready()}),e.peer.on("disconnected",function(){e.status.style.color="red",console.log("Connection lost. Please reconnect"),Qn.warning({message:"\u8FDE\u63A5\u65AD\u5F00"}),e.peer.id=e.lastPeerId,e.peer._lastServerId=e.lastPeerId,e.peer.reconnect()}),e.peer.on("close",function(){e.conn=null,e.status.style.color="red",console.log("Connection destroyed"),Qn.warning({message:"\u8FDE\u63A5\u5173\u95ED"})}),e.peer.on("error",function(t){console.log(t),alert(""+t)}),e.peer.on("call",async t=>{if(window.confirm(`\u662F\u5426\u63A5\u53D7 ${t.peer}?`)){const n=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});e.localVideo.srcObject=n,e.localVideo.play(),t.answer(n),t.on("stream",l=>{e.remoteVideo.srcObject=l,e.remoteVideo.play()}),e.currentCall=t}else t.close(),alert("\u5DF2\u5173\u95ED")})},async callUser(){let e=this.conn.peer,t=this;const n=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});t.localVideo.srcObject=n,t.localVideo.play();const l=t.peer.call(e,n);l.on("stream",v=>{t.remoteVideo.srcObject=v,t.remoteVideo.play()}),l.on("error",v=>{console.error(v)}),l.on("close",()=>{endCall()}),t.currentCall=l},endCall(){this.currentCall.close()},async shareDesktop(){let e=this.conn.peer,t=this;var n=new MediaStream;let l=await navigator.mediaDevices.getUserMedia({audio:!0}),v=await navigator.mediaDevices.getDisplayMedia({video:!0,audio:!0});l.getAudioTracks().map(D=>n.addTrack(D)),v.getVideoTracks().map(D=>n.addTrack(D)),t.localVideo.srcObject=n,t.localVideo.play();const S=t.peer.call(e,n);S.on("stream",D=>{t.remoteVideo.srcObject=D,t.remoteVideo.play()}),S.on("error",D=>{console.error(D)}),S.on("close",()=>{endCall()}),t.currentCall=S},join(){let e=this;e.conn&&e.conn.close(),e.conn=e.peer.connect(e.recvIdInput.value,{reliable:!0}),e.conn.on("open",function(){e.status.style.color="green",e.status.innerHTML="Friend: "+e.conn.peer,console.log("Connected to: "+e.conn.peer),Qn.success({message:"\u8FDE\u63A5\u6210\u529F"});var t=e.getUrlParam("command");t&&e.conn.send(t)}),e.conn.on("data",function(t){e.dataProcess(t)}),e.conn.on("close",function(){e.status.style.color="red",e.status.innerHTML="Connection closed",Qn.warning({message:"\u8FDE\u63A5\u5173\u95ED"})})},ready(){let e=this;e.conn.on("data",function(t){console.log("Data recieved"),e.dataProcess(t)}),e.conn.on("close",function(){e.status.style.color="red",e.status.innerHTML="Connection reset! Awaiting connection...",e.conn=null})},dataProcess(e){let t=this,n=JSON.parse(e.toString());typeof n.type<"u"&&n.type=="msg"?t.addMessage('<span class="peerMsg">Peer: </span>'+n.msg):ur==!1?t.startDownload(n):ur&&t.progressDownload(Hf(n.fileContent))},copyId(){let e=this;navigator.clipboard.writeText(""+e.peer.id).then(()=>{Qn.success({message:"\u590D\u5236\u6210\u529F!"}),console.log("\u590D\u5236\u6210\u529F")})},copyShareUrl(){let e=this,n=window.location.href.split("?")[0]+"?id="+e.peer.id;navigator.clipboard.writeText(""+n).then(()=>{Qn.success({message:"\u5DF2\u590D\u5236\u5206\u4EAB\u94FE\u63A5"}),console.log("\u590D\u5236\u6210\u529F")})},send(){let e=this;if(e.conn&&e.conn.open){var t=e.sendMessageBox.value;e.sendMessageBox.value="",e.conn.send(JSON.stringify({type:"msg",msg:t})),console.log("Sent: "+t),e.addMessage('<span class="selfMsg">Self: </span> '+t)}else console.log("Connection is closed")},inputFunc(){let e=this;const t=this.$refs.file.files[0];Rs(t.name)&&(e.$refs.img.src=window.URL.createObjectURL(t))},sendFileBtn(){let e=this;const t=this.$refs.file.files[0];if(ui=0,!(e.conn&&e.conn.open)){alert("\u8BF7\u5148\u8FDE\u63A5\uFF0C\u5728\u4ECE\u65B0\u4E0A\u4F20\u6587\u4EF6\u53D1\u9001\uFF01");return}Rs(t.name)&&(e.$refs.img.src=window.URL.createObjectURL(t)),e.conn.send(JSON.stringify({fileName:t.name,fileSize:t.size})),pi=t,e.readNextChunk()},sendFile(e,t,n){let l=this,v={file:e,filename:t,filetype:n};if(!(l.conn&&l.conn.open)){alert("\u8BF7\u5148\u8FDE\u63A5\uFF0C\u5728\u4ECE\u65B0\u4E0A\u4F20\u6587\u4EF6\u53D1\u9001\uFF01");return}l.conn.send(v),console.log("send file")},readNextChunk(){let e=this,t=As*ui,n=Math.min(pi.size,t+As);e.fileReader.readAsArrayBuffer(pi.slice(t,n))},startDownload(e){Fn=e,mi=[],Nr=0,ur=!0,console.log("incoming file <b>"+Fn.fileName+"</b> of "+Fn.fileSize+" bytes")},progressDownload(e){let t=this;if(Nr+=e.byteLength,mi.push(e),console.log("progress: "+(Nr/Fn.fileSize*100).toFixed(2)+"%"),Nr===Fn.fileSize&&(console.log("\u4F20\u8F93\u5B8C\u6210"),Rs(Fn.fileName))){t.addMessage('<span class="peerMsg">Peer send a file </span>');let n=new window.Blob(mi);t.$refs.img.src=window.URL.createObjectURL(n),ur=!1}Nr>Fn.fileSize&&(console.log("\u5931\u8D25"),ur=!1)},downloadFile(){console.log("endDownload!"),ur=!1;let e=new window.Blob(mi),t=document.createElement("a");if(t.href=URL.createObjectURL(e),t.download=Fn.fileName,t.textContent="XXXXXXX",t.click)t.click();else{var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),t.dispatchEvent(n)}},getUrlParam(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t),l=n.exec(window.location.href);return l==null?null:l[1]},signal(e){let t=this;t.conn&&t.conn.open?(t.conn.send(e),console.log(e+" signal sent"),t.addMessage(cueString+e)):console.log("Connection is closed")},addMessage(e){var t=new Date,n=t.getHours(),l=S(t.getMinutes()),v=S(t.getSeconds());n>12?n-=12:n===0&&(n=12);function S(D){return D<10&&(D="0"+D),D}this.message.innerHTML='<br><span class="msg-time">'+n+":"+l+":"+v+"</span>  -  "+e+this.message.innerHTML},clearMessages(){this.message.innerHTML="",this.addMessage("Msgs cleared")}}},qn=e=>(Gi("data-v-2365155f"),e=e(),Vi(),e),M1={class:"control"},N1={class:"title"},U1=Nn("Status: "),j1=qn(()=>Oe("br",null,null,-1)),F1=qn(()=>Oe("td",{class:"title"},[Nn("Messages: "),Oe("br"),Oe("div",{id:"status",class:"status"})],-1)),H1=qn(()=>Oe("span",{style:{"font-weight":"bold"}},"ID: ",-1)),z1=qn(()=>Oe("input",{type:"text",id:"receiver-id",title:"Input the ID from receive.html"},null,-1)),$1=qn(()=>Oe("input",{type:"text",id:"sendMessageBox",placeholder:"Enter a message...",autofocus:"true"},null,-1)),W1={class:"connectInfo"},K1=qn(()=>Oe("td",null,[Oe("div",{class:"message",id:"message"})],-1)),G1={class:"display-video"},V1=qn(()=>Oe("h3",null,"\u672C\u5730\u6444\u50CF\u5934",-1)),q1={controls:"",autoPlay:"",ref:"localVideo",poster:"https://hipark.pythonanywhere.com/media/imgs/image.jpg",muted:""},J1={class:"display-video"},Y1=qn(()=>Oe("h3",null,"\u8FDC\u7A0B\u6444\u50CF\u5934",-1)),X1={controls:"",autoPlay:"",ref:"remoteVideo",poster:"https://hipark.pythonanywhere.com/media/imgs/image.jpg"},Z1={id:"demoImage",ref:"img",style:{width:"50%",border:"1px solid #efefef"}};function Q1(e,t,n,l,v,S){const D=Ms("shareIdVue");return En(),On("table",M1,[Oe("tr",null,[Oe("td",N1,[U1,Oe("button",{id:"connect-button",onClick:t[0]||(t[0]=(...$)=>S.copyShareUrl&&S.copyShareUrl(...$))},"\u590D\u5236\u5206\u4EABURL"),j1,Oe("div",{id:"local-id",onClick:t[1]||(t[1]=(...$)=>S.copyId&&S.copyId(...$)),style:{"font-weight":"bold"},title:"\u70B9\u51FB\u590D\u5236ID"},"ID: ")]),F1]),Oe("tr",null,[Oe("td",null,[H1,z1,Oe("button",{id:"connect-button",onClick:t[2]||(t[2]=(...$)=>S.join&&S.join(...$))},"Connect")]),Oe("td",null,[$1,Oe("button",{type:"button",id:"sendButton",onClick:t[3]||(t[3]=(...$)=>S.send&&S.send(...$))},"Send"),Oe("button",{type:"button",id:"clearMsgsButton",onClick:t[4]||(t[4]=(...$)=>S.clearMessages&&S.clearMessages(...$))},"Clear Msgs (Local)")])]),Oe("tr",null,[Oe("td",null,[Oe("div",W1,[Ot(D,{peerId:v.peerId},null,8,["peerId"])])]),K1]),Oe("button",{type:"button",onClick:t[5]||(t[5]=(...$)=>S.callUser&&S.callUser(...$))},"\u89C6\u9891\u901A\u8BDD"),Oe("button",{type:"button",onClick:t[6]||(t[6]=(...$)=>S.endCall&&S.endCall(...$))},"\u7ED3\u675F\u901A\u8BDD"),Oe("button",{type:"button",onClick:t[7]||(t[7]=(...$)=>S.shareDesktop&&S.shareDesktop(...$))},"\u684C\u9762\u5171\u4EAB"),Oe("tr",null,[Oe("td",G1,[V1,Oe("video",q1,null,512)]),Oe("td",J1,[Y1,Oe("video",X1,null,512)])]),Oe("tr",null,[Oe("td",null,[Oe("input",{type:"file",accept:"*",id:"inputFile",ref:"file",onInput:t[8]||(t[8]=(...$)=>S.inputFunc&&S.inputFunc(...$))},null,544),Oe("button",{type:"button",id:"sendFile",onClick:t[9]||(t[9]=(...$)=>S.sendFileBtn&&S.sendFileBtn(...$))},"\u53D1\u9001\u6587\u4EF6")]),Oe("td",null,[Oe("img",Z1,null,512),Oe("button",{type:"button",onClick:t[10]||(t[10]=(...$)=>S.downloadFile&&S.downloadFile(...$))},"\u4E0B\u8F7D\u6587\u4EF6")])])])}const em=or(L1,[["render",Q1],["__scopeId","data-v-2365155f"]]);var tm={exports:{}};/*! streamsaver. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> */(function(e){((t,n)=>{e.exports=n()})("streamSaver",()=>{const t=typeof window=="object"?window:this;t.HTMLElement||console.warn("streamsaver is meant to run on browsers main thread");let n=null,l=!1;const v=be=>{try{be()}catch{}},S=t.WebStreamsPolyfill||{},D=t.isSecureContext;let $=/constructor/i.test(t.HTMLElement)||!!t.safari||!!t.WebKitPoint;const z=D||"MozAppearance"in document.documentElement.style?"iframe":"navigate",W={createWriteStream:_e,WritableStream:t.WritableStream||S.WritableStream,supported:!0,version:{full:"2.0.5",major:2,minor:0,dot:5},mitm:"https://jimmywarting.github.io/StreamSaver.js/mitm.html?version=2.0.0"};function X(be){if(!be)throw new Error("meh");const Ee=document.createElement("iframe");return Ee.hidden=!0,Ee.src=be,Ee.loaded=!1,Ee.name="iframe",Ee.isIframe=!0,Ee.postMessage=(...ke)=>Ee.contentWindow.postMessage(...ke),Ee.addEventListener("load",()=>{Ee.loaded=!0},{once:!0}),document.body.appendChild(Ee),Ee}function b(be){const Ee="width=200,height=100",ke=document.createDocumentFragment(),Te={frame:t.open(be,"popup",Ee),loaded:!1,isIframe:!1,isPopup:!0,remove(){Te.frame.close()},addEventListener(...V){ke.addEventListener(...V)},dispatchEvent(...V){ke.dispatchEvent(...V)},removeEventListener(...V){ke.removeEventListener(...V)},postMessage(...V){Te.frame.postMessage(...V)}},x=V=>{V.source===Te.frame&&(Te.loaded=!0,t.removeEventListener("message",x),Te.dispatchEvent(new Event("load")))};return t.addEventListener("message",x),Te}try{new Response(new ReadableStream),D&&!("serviceWorker"in navigator)&&($=!0)}catch{$=!0}v(()=>{const{readable:be}=new TransformStream,Ee=new MessageChannel;Ee.port1.postMessage(be,[be]),Ee.port1.close(),Ee.port2.close(),l=!0,Object.defineProperty(W,"TransformStream",{configurable:!1,writable:!1,value:TransformStream})});function ie(){n||(n=D?X(W.mitm):b(W.mitm))}function _e(be,Ee,ke){let Te={size:null,pathname:null,writableStrategy:void 0,readableStrategy:void 0},x=0,V=null,O=null,g=null;if(Number.isFinite(Ee)?([ke,Ee]=[Ee,ke],console.warn("[StreamSaver] Deprecated pass an object as 2nd argument when creating a write stream"),Te.size=ke,Te.writableStrategy=Ee):Ee&&Ee.highWaterMark?(console.warn("[StreamSaver] Deprecated pass an object as 2nd argument when creating a write stream"),Te.size=ke,Te.writableStrategy=Ee):Te=Ee||{},!$){ie(),O=new MessageChannel,be=encodeURIComponent(be.replace(/\//g,":")).replace(/['()]/g,escape).replace(/\*/g,"%2A");const E={transferringReadable:l,pathname:Te.pathname||Math.random().toString().slice(-6)+"/"+be,headers:{"Content-Type":"application/octet-stream; charset=utf-8","Content-Disposition":"attachment; filename*=UTF-8''"+be}};Te.size&&(E.headers["Content-Length"]=Te.size);const y=[E,"*",[O.port2]];if(l){const i=z==="iframe"?void 0:{transform(a,o){if(!(a instanceof Uint8Array))throw new TypeError("Can only write Uint8Arrays");x+=a.length,o.enqueue(a),V&&(location.href=V,V=null)},flush(){V&&(location.href=V)}};g=new W.TransformStream(i,Te.writableStrategy,Te.readableStrategy);const m=g.readable;O.port1.postMessage({readableStream:m},[m])}O.port1.onmessage=i=>{i.data.download?z==="navigate"?(n.remove(),n=null,x?location.href=i.data.download:V=i.data.download):(n.isPopup&&(n.remove(),n=null,z==="iframe"&&X(W.mitm)),X(i.data.download)):i.data.abort&&(C=[],O.port1.postMessage("abort"),O.port1.onmessage=null,O.port1.close(),O.port2.close(),O=null)},n.loaded?n.postMessage(...y):n.addEventListener("load",()=>{n.postMessage(...y)},{once:!0})}let C=[];return!$&&g&&g.writable||new W.WritableStream({write(E){if(!(E instanceof Uint8Array))throw new TypeError("Can only write Uint8Arrays");if($){C.push(E);return}O.port1.postMessage(E),x+=E.length,V&&(location.href=V,V=null)},close(){if($){const E=new Blob(C,{type:"application/octet-stream; charset=utf-8"}),y=document.createElement("a");y.href=URL.createObjectURL(E),y.download=be,y.click()}else O.port1.postMessage("end")},abort(){C=[],O.port1.postMessage("abort"),O.port1.onmessage=null,O.port1.close(),O.port2.close(),O=null}},Te.writableStrategy)}return W})})(tm);var Ho={exports:{}};/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let Cc;var nm=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:ut):e=>(Cc||(Cc=Promise.resolve())).then(e).catch(t=>setTimeout(()=>{throw t},0));/*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var rm=sm;const im=nm;function sm(e,t){let n,l,v,S=!0;Array.isArray(e)?(n=[],l=e.length):(v=Object.keys(e),n={},l=v.length);function D(z){function W(){t&&t(z,n),t=null}S?im(W):W()}function $(z,W,X){n[z]=X,(--l===0||W)&&D(W)}l?v?v.forEach(function(z){e[z](function(W,X){$(z,W,X)})}):e.forEach(function(z,W){z(function(X,b){$(W,X,b)})}):D(null),S=!1}/*! drag-drop. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */Ho.exports=om;Ho.exports.processItems=$f;const zf=rm;function om(e,t){if(typeof e=="string"){const b=e;if(e=window.document.querySelector(e),!e)throw new Error(`"${b}" does not match any HTML elements`)}if(!e)throw new Error(`"${e}" is not a valid HTML element`);typeof t=="function"&&(t={onDrop:t}),e.addEventListener("dragenter",S,!1),e.addEventListener("dragover",D,!1),e.addEventListener("dragleave",$,!1),e.addEventListener("drop",z,!1);let n=!1,l=0;return function(){X(),e.removeEventListener("dragenter",S,!1),e.removeEventListener("dragover",D,!1),e.removeEventListener("dragleave",$,!1),e.removeEventListener("drop",z,!1)};function v(b){if(b.dataTransfer.items||b.dataTransfer.types){const ie=Array.from(b.dataTransfer.items),_e=Array.from(b.dataTransfer.types);let be,Ee;if(ie.length)be=ie.filter(ke=>ke.kind==="file"),Ee=ie.filter(ke=>ke.kind==="string");else if(_e.length)be=_e.filter(ke=>ke==="Files"),Ee=_e.filter(ke=>ke.startsWith("text/"));else return!1;return!(be.length===0&&!t.onDropText||Ee.length===0&&!t.onDrop||be.length===0&&Ee.length===0)}return!1}function S(b){if(b.stopPropagation(),b.preventDefault(),!!v(b))return n?(l+=1,!1):(n=!0,t.onDragEnter&&t.onDragEnter(b),W(),!1)}function D(b){if(b.stopPropagation(),b.preventDefault(),!!v(b))return t.onDragOver&&t.onDragOver(b),b.dataTransfer.dropEffect="copy",!1}function $(b){if(b.stopPropagation(),b.preventDefault(),!!v(b))return l>0?(l-=1,!1):(n=!1,t.onDragLeave&&t.onDragLeave(b),X(),!1)}function z(b){b.stopPropagation(),b.preventDefault(),t.onDragLeave&&t.onDragLeave(b),X(),n=!1,l=0;const ie={x:b.clientX,y:b.clientY},_e=b.dataTransfer.getData("text");return _e&&t.onDropText&&t.onDropText(_e,ie),t.onDrop&&b.dataTransfer.items&&$f(b.dataTransfer.items,(be,Ee,ke)=>{if(be){console.error(be);return}if(Ee.length===0)return;const Te=b.dataTransfer.files;t.onDrop(Ee,ie,Te,ke)}),!1}function W(){e.classList.add("drag")}function X(){e.classList.remove("drag")}}function $f(e,t){e=Array.from(e).filter(n=>n.kind==="file"),e.length===0&&t(null,[],[]),zf(e.map(n=>l=>{Wf(n.webkitGetAsEntry(),l)}),(n,l)=>{if(n){t(n);return}const v=l.flat(1/0),S=v.filter($=>$.isFile),D=v.filter($=>$.isDirectory);t(null,S,D)})}function Wf(e,t){let n=[];if(e.isFile)e.file(S=>{S.fullPath=e.fullPath,S.isFile=!0,S.isDirectory=!1,t(null,S)},S=>{t(S)});else if(e.isDirectory){const S=e.createReader();l(S)}function l(S){S.readEntries(D=>{D.length>0?(n=n.concat(Array.from(D)),l(S)):v()})}function v(){zf(n.map(S=>D=>{Wf(S,D)}),(S,D)=>{S?t(S):(D.push({fullPath:e.fullPath,name:e.name,isFile:!1,isDirectory:!0}),t(null,D))})}}function gi(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Kf={exports:{}};(function(e,t){(function(n){e.exports=n()})(function(){var n=Math.LN2,l=Math.log,v=Math.pow,S=Math.abs,D=Math.floor,$=Math.round,z=Math.sin,W=Math.cos,X=Math.PI,b=Math.imul,ie=Math.clz32,_e=String.fromCharCode,be=Math.max,Ee=Math.ceil,ke=Math.min,Te;return function(){function x(V,O,g){function C(i,m){if(!O[i]){if(!V[i]){var a=typeof gi=="function"&&gi;if(!m&&a)return a(i,!0);if(E)return E(i,!0);var o=new Error("Cannot find module '"+i+"'");throw o.code="MODULE_NOT_FOUND",o}var h=O[i]={exports:{}};V[i][0].call(h.exports,function(s){var r=V[i][1][s];return C(r||s)},h,h.exports,x,V,O,g)}return O[i].exports}for(var E=typeof gi=="function"&&gi,y=0;y<g.length;y++)C(g[y]);return C}return x}()({1:[function(x,V){const{Readable:O}=x("streamx"),g=x("debug"),C=g("webtorrent:file-stream");V.exports=class extends O{constructor(E,y){super(y!=null?y:{}),this._torrent=E._torrent;const i=y&&y.start||0,m=y&&y.end&&y.end<E.length?y.end:E.length-1,a=E._torrent.pieceLength;this._startPiece=0|(i+E.offset)/a,this._endPiece=0|(m+E.offset)/a,this._piece=this._startPiece,this._offset=i+E.offset-this._startPiece*a,this._missing=m-i+1,this._reading=!1,this._notifying=!1,this._criticalLength=ke(0|1048576/a,2),this._torrent.select(this._startPiece,this._endPiece,!0,()=>{this._notify()})}_read(E){this._reading||(this._reading=!0,this._notify(E))}_notify(E=()=>{}){if(!this._reading||this._missing===0)return E();if(!this._torrent.bitfield.get(this._piece))return E(),this._torrent.critical(this._piece,this._piece+this._criticalLength);if(this._notifying)return E();if(this._notifying=!0,this._torrent.destroyed)return this.destroy(new Error("Torrent removed"));const y=this._piece,i={};y===this._torrent.pieces.length-1&&(i.length=this._torrent.lastPieceLength),this._torrent.store.get(y,i,(m,a)=>{if(this._notifying=!1,!this.destroyed)return C("read %s (length %s) (err %s)",y,a&&a.length,m&&m.message),m?this.destroy(m):(this._offset&&(a=a.slice(this._offset),this._offset=0),this._missing<a.length&&(a=a.slice(0,this._missing)),this._missing-=a.length,C("pushing buffer of length %s",a.length),this._reading=!1,this.push(a),this._missing===0&&this.push(null),void E())}),this._piece+=1}_destroy(E,y){this._torrent.destroyed||this._torrent.deselect(this._startPiece,this._endPiece,!0),E(y)}}},{debug:90,streamx:263}],2:[function(x,V){const O=x("events"),{PassThrough:g}=x("streamx"),C=x("path"),E=x("render-media"),{BlobWriteStream:y}=x("fast-blob-stream"),i=x("stream-with-known-length-to-buffer"),m=x("queue-microtask"),a=x("range-parser"),o=x("mime"),h=x("end-of-stream"),s=x("./file-stream.js");V.exports=class extends O{constructor(r,d){super(),this._torrent=r,this._destroyed=!1,this._fileStreams=new Set,this.name=d.name,this.path=d.path,this.length=d.length,this.offset=d.offset,this.done=!1;const c=d.offset,f=c+d.length-1;this._startPiece=0|c/this._torrent.pieceLength,this._endPiece=0|f/this._torrent.pieceLength,this.length===0&&(this.done=!0,this.emit("done")),this._serviceWorker=r.client.serviceWorker}get downloaded(){if(this._destroyed||!this._torrent.bitfield)return 0;const{pieces:r,bitfield:d,pieceLength:c,lastPieceLength:f}=this._torrent,{_startPiece:u,_endPiece:k}=this,R=I=>I===r.length-1?f:c,A=I=>{const N=I===r.length-1?f:c;return d.get(I)?N:N-r[I].missing};let w=0;for(let I=u;I<=k;I+=1){const N=A(I);if(w+=N,I===u){const L=this.offset%c;w-=ke(L,N)}if(I===k){const L=R(k)-(this.offset+this.length)%c;w-=ke(L,N)}}return w}get progress(){return this.length?this.downloaded/this.length:0}select(r){this.length===0||this._torrent.select(this._startPiece,this._endPiece,r)}deselect(){this.length===0||this._torrent.deselect(this._startPiece,this._endPiece,!1)}createReadStream(r){if(this.length===0){const c=new g;return m(()=>{c.end()}),c}const d=new s(this,r);return this._fileStreams.add(d),d.once("close",()=>{this._fileStreams.delete(d)}),d}getBuffer(r){i(this.createReadStream(),this.length,r)}getBlob(r){if(typeof window>"u")throw new Error("browser-only method");const d=new y(c=>{r(null,c)},{mimeType:this._getMimeType()});this.createReadStream().pipe(d)}getBlobURL(r){this.getBlob((d,c)=>{r(null,URL.createObjectURL(c))})}appendTo(r,d,c){if(typeof window>"u")throw new Error("browser-only method");E.append(this,r,d,c)}renderTo(r,d,c){if(typeof window>"u")throw new Error("browser-only method");E.render(this,r,d,c)}_serve(r){const d={status:200,headers:{"Accept-Ranges":"bytes","Content-Type":o.getType(this.name),"Cache-Control":"no-cache, no-store, must-revalidate, max-age=0",Expires:"0"},body:r.method==="HEAD"?"":"STREAM"};r.destination==="document"&&(d.headers["Content-Type"]="application/octet-stream",d.headers["Content-Disposition"]="attachment",d.body="DOWNLOAD");let c=a(this.length,r.headers.range||"");c.constructor===Array?(d.status=206,c=c[0],d.headers["Content-Range"]=`bytes ${c.start}-${c.end}/${this.length}`,d.headers["Content-Length"]=`${c.end-c.start+1}`):d.headers["Content-Length"]=this.length;const f=r.method==="GET"&&this.createReadStream(c);let u=null;return f&&this.emit("stream",{stream:f,req:r,file:this},k=>{u=k,h(k,()=>{k&&k.destroy(),f.destroy()})}),[d,u||f,u&&f]}getStreamURL(r=()=>{}){if(typeof window>"u")throw new Error("browser-only method");if(!this._serviceWorker)throw new Error("No worker registered");if(this._serviceWorker.state!=="activated")throw new Error("Worker isn't activated");const d=this._serviceWorker.scriptURL.slice(0,this._serviceWorker.scriptURL.lastIndexOf("/")+1).slice(window.location.origin.length),c=`${d}webtorrent/${this._torrent.infoHash}/${encodeURI(this.path)}`;r(null,c)}streamTo(r,d=()=>{}){if(typeof window>"u")throw new Error("browser-only method");if(!this._serviceWorker)throw new Error("No worker registered");if(this._serviceWorker.state!=="activated")throw new Error("Worker isn't activated");const c=this._serviceWorker.scriptURL.slice(0,this._serviceWorker.scriptURL.lastIndexOf("/")+1).slice(window.location.origin.length);r.src=`${c}webtorrent/${this._torrent.infoHash}/${encodeURI(this.path)}`,d(null,r)}_getMimeType(){return E.mime[C.extname(this.name).toLowerCase()]}_destroy(){this._destroyed=!0,this._torrent=null;for(const r of this._fileStreams)r.destroy();this._fileStreams.clear()}}},{"./file-stream.js":1,"end-of-stream":120,events:122,"fast-blob-stream":124,mime:164,path:184,"queue-microtask":205,"range-parser":210,"render-media":228,"stream-with-known-length-to-buffer":262,streamx:263}],3:[function(x,V,O){const g=x("events"),{Transform:C}=x("stream"),E=x("unordered-array-remove"),y=x("debug"),i=x("bittorrent-protocol"),m=y("webtorrent:peer");let a=!1;O.enableSecure=()=>{a=!0},O.createWebRTCPeer=(r,d,c)=>{const f=new s(r.id,"webrtc");if(f.conn=r,f.swarm=d,f.throttleGroups=c,f.conn.connected)f.onConnect();else{const u=()=>{f.conn.removeListener("connect",k),f.conn.removeListener("error",R)},k=()=>{u(),f.onConnect()},R=A=>{u(),f.destroy(A)};f.conn.once("connect",k),f.conn.once("error",R),f.startConnectTimeout()}return f},O.createTCPIncomingPeer=(r,d)=>o(r,"tcpIncoming",d),O.createUTPIncomingPeer=(r,d)=>o(r,"utpIncoming",d),O.createTCPOutgoingPeer=(r,d,c)=>h(r,d,"tcpOutgoing",c),O.createUTPOutgoingPeer=(r,d,c)=>h(r,d,"utpOutgoing",c);const o=(r,d,c)=>{const f=`${r.remoteAddress}:${r.remotePort}`,u=new s(f,d);return u.conn=r,u.addr=f,u.throttleGroups=c,u.onConnect(),u},h=(r,d,c,f)=>{const u=new s(r,c);return u.addr=r,u.swarm=d,u.throttleGroups=f,u};O.createWebSeedPeer=(r,d,c,f)=>{const u=new s(d,"webSeed");return u.swarm=c,u.conn=r,u.throttleGroups=f,u.onConnect(),u};class s extends g{constructor(d,c){super(),this.id=d,this.type=c,m("new %s Peer %s",c,d),this.addr=null,this.conn=null,this.swarm=null,this.wire=null,this.connected=!1,this.destroyed=!1,this.timeout=null,this.retries=0,this.sentPe1=!1,this.sentPe2=!1,this.sentPe3=!1,this.sentPe4=!1,this.sentHandshake=!1}onConnect(){if(!this.destroyed){this.connected=!0,m("Peer %s connected",this.id),clearTimeout(this.connectTimeout);const d=this.conn;d.once("end",()=>{this.destroy()}),d.once("close",()=>{this.destroy()}),d.once("finish",()=>{this.destroy()}),d.once("error",f=>{this.destroy(f)});const c=this.wire=new i(this.type,this.retries,a);c.once("end",()=>{this.destroy()}),c.once("close",()=>{this.destroy()}),c.once("finish",()=>{this.destroy()}),c.once("error",f=>{this.destroy(f)}),c.once("pe1",()=>{this.onPe1()}),c.once("pe2",()=>{this.onPe2()}),c.once("pe3",()=>{this.onPe3()}),c.once("pe4",()=>{this.onPe4()}),c.once("handshake",(f,u)=>{this.onHandshake(f,u)}),this.startHandshakeTimeout(),this.setThrottlePipes(),this.swarm&&(this.type==="tcpOutgoing"?a&&this.retries===0&&!this.sentPe1?this.sendPe1():!this.sentHandshake&&this.handshake():this.type!=="tcpIncoming"&&!this.sentHandshake&&this.handshake())}}sendPe1(){this.wire.sendPe1(),this.sentPe1=!0}onPe1(){this.sendPe2()}sendPe2(){this.wire.sendPe2(),this.sentPe2=!0}onPe2(){this.sendPe3()}sendPe3(){this.wire.sendPe3(this.swarm.infoHash),this.sentPe3=!0}onPe3(d){this.swarm&&(this.swarm.infoHashHash!==d&&this.destroy(new Error("unexpected crypto handshake info hash for this swarm")),this.sendPe4())}sendPe4(){this.wire.sendPe4(this.swarm.infoHash),this.sentPe4=!0}onPe4(){this.sentHandshake||this.handshake()}clearPipes(){this.conn.unpipe(),this.wire.unpipe()}setThrottlePipes(){const d=this;this.conn.pipe(this.throttleGroups.down.throttle()).pipe(new C({transform(c,f,u){d.emit("download",c.length),d.destroyed||u(null,c)}})).pipe(this.wire).pipe(this.throttleGroups.up.throttle()).pipe(new C({transform(c,f,u){d.emit("upload",c.length),d.destroyed||u(null,c)}})).pipe(this.conn)}onHandshake(d,c){if(!this.swarm||this.destroyed)return;if(this.swarm.destroyed)return this.destroy(new Error("swarm already destroyed"));if(d!==this.swarm.infoHash)return this.destroy(new Error("unexpected handshake info hash for this swarm"));if(c===this.swarm.peerId)return this.destroy(new Error("refusing to connect to ourselves"));m("Peer %s got handshake %s",this.id,d),clearTimeout(this.handshakeTimeout),this.retries=0;let f=this.addr;!f&&this.conn.remoteAddress&&this.conn.remotePort&&(f=`${this.conn.remoteAddress}:${this.conn.remotePort}`),this.swarm._onWire(this.wire,f),this.swarm&&!this.swarm.destroyed&&(this.sentHandshake||this.handshake())}handshake(){const d={dht:!this.swarm.private&&!!this.swarm.client.dht,fast:!0};this.wire.handshake(this.swarm.infoHash,this.swarm.client.peerId,d),this.sentHandshake=!0}startConnectTimeout(){clearTimeout(this.connectTimeout),this.connectTimeout=setTimeout(()=>{this.destroy(new Error("connect timeout"))},{webrtc:25e3,tcpOutgoing:5e3,utpOutgoing:5e3}[this.type]),this.connectTimeout.unref&&this.connectTimeout.unref()}startHandshakeTimeout(){clearTimeout(this.handshakeTimeout),this.handshakeTimeout=setTimeout(()=>{this.destroy(new Error("handshake timeout"))},25e3),this.handshakeTimeout.unref&&this.handshakeTimeout.unref()}destroy(d){if(this.destroyed)return;this.destroyed=!0,this.connected=!1,m("destroy %s %s (error: %s)",this.type,this.id,d&&(d.message||d)),clearTimeout(this.connectTimeout),clearTimeout(this.handshakeTimeout);const c=this.swarm,f=this.conn,u=this.wire;this.swarm=null,this.conn=null,this.wire=null,c&&u&&E(c.wires,c.wires.indexOf(u)),f&&(f.on("error",()=>{}),f.destroy()),u&&u.destroy(),c&&c.removePeer(this.id)}}},{"bittorrent-protocol":32,debug:90,events:122,stream:255,"unordered-array-remove":272}],4:[function(x,V){V.exports=class{constructor(O){this._torrent=O,this._numPieces=O.pieces.length,this._pieces=Array(this._numPieces),this._onWire=g=>{this.recalculate(),this._initWire(g)},this._onWireHave=g=>{this._pieces[g]+=1},this._onWireBitfield=()=>{this.recalculate()},this._torrent.wires.forEach(g=>{this._initWire(g)}),this._torrent.on("wire",this._onWire),this.recalculate()}getRarestPiece(O){let g=[],C=1/0;for(let E=0;E<this._numPieces;++E){if(O&&!O(E))continue;const y=this._pieces[E];y===C?g.push(E):y<C&&(g=[E],C=y)}return g.length?g[0|Math.random()*g.length]:-1}destroy(){this._torrent.removeListener("wire",this._onWire),this._torrent.wires.forEach(O=>{this._cleanupWireEvents(O)}),this._torrent=null,this._pieces=null,this._onWire=null,this._onWireHave=null,this._onWireBitfield=null}_initWire(O){O._onClose=()=>{this._cleanupWireEvents(O);for(let g=0;g<this._numPieces;++g)this._pieces[g]-=O.peerPieces.get(g)},O.on("have",this._onWireHave),O.on("bitfield",this._onWireBitfield),O.once("close",O._onClose)}recalculate(){this._pieces.fill(0);for(const O of this._torrent.wires)for(let g=0;g<this._numPieces;++g)this._pieces[g]+=O.peerPieces.get(g)}_cleanupWireEvents(O){O.removeListener("have",this._onWireHave),O.removeListener("bitfield",this._onWireBitfield),O._onClose&&O.removeListener("close",O._onClose),O._onClose=null}}},{}],5:[function(x,V){(function(O,g){(function(){function C(P,H){let Z=2+Ee(H*P.downloadSpeed()/Y.BLOCK_LENGTH);if(P.peerExtendedHandshake){const oe=P.peerExtendedHandshake.reqq;typeof oe=="number"&&0<oe&&(Z=ke(Z,oe))}return Z}function E(P,H,Z){return 1+Ee(H*P.downloadSpeed()/Z)}function y(P){return 0|Math.random()*P}function i(){}const m=x("events"),a=x("fs"),o=x("net"),h=x("os"),s=x("path"),r=x("addr-to-ip-port"),{default:d}=x("bitfield"),c=x("cache-chunk-store"),f=x("chunk-store-stream/write"),u=x("cpus"),k=x("debug"),R=x("torrent-discovery"),A=x("fs-chunk-store"),w=x("simple-get"),I=x("immediate-chunk-store"),N=x("lt_donthave"),L=x("memory-chunk-store"),G=x("join-async-iterator"),J=x("run-parallel"),se=x("run-parallel-limit"),ce=x("parse-torrent"),Y=x("torrent-piece"),B=x("pump"),_=x("queue-microtask"),p=x("random-iterate"),T=x("simple-sha1"),M=x("throughput"),F=x("ut_metadata"),j=x("ut_pex"),{Readable:U}=x("streamx"),K=x("./file.js"),Q=x("./peer.js"),ee=x("./rarity-map.js"),fe=x("./server.js"),ae=x("./utp.js"),me=x("./webconn.js"),he=k("webtorrent:torrent"),Se=5e3,Ae=3*Y.BLOCK_LENGTH,pe=1,ge=O.browser?u().length:2,xe=[1e3,5e3,15e3],Ce=x("../package.json").version,de=`WebTorrent/${Ce} (https://webtorrent.io)`;let q;try{q=s.join(a.statSync("/tmp")&&"/tmp","webtorrent")}catch{q=s.join(typeof h.tmpdir=="function"?h.tmpdir():"/","webtorrent")}V.exports=class extends m{constructor(P,H,Z){super(),this._debugId="unknown infohash",this.client=H,this.announce=Z.announce,this.urlList=Z.urlList,this.path=Z.path||q,this.addUID=Z.addUID||!1,this.skipVerify=!!Z.skipVerify,this._store=Z.store||A,this._preloadedStore=Z.preloadedStore||null,this._storeCacheSlots=Z.storeCacheSlots===void 0?20:Z.storeCacheSlots,this._destroyStoreOnDestroy=Z.destroyStoreOnDestroy||!1,this._getAnnounceOpts=Z.getAnnounceOpts,typeof Z.private=="boolean"&&(this.private=Z.private),this.strategy=Z.strategy||"sequential",this.maxWebConns=Z.maxWebConns||4,this._rechokeNumSlots=Z.uploads===!1||Z.uploads===0?0:+Z.uploads||10,this._rechokeOptimisticWire=null,this._rechokeOptimisticTime=0,this._rechokeIntervalId=null,this.ready=!1,this.destroyed=!1,this.paused=Z.paused||!1,this.done=!1,this.metadata=null,this.store=null,this.storeOpts=Z.storeOpts,this.files=[],this.pieces=[],this._amInterested=!1,this._selections=[],this._critical=[],this.wires=[],this._queue=[],this._peers={},this._peersLength=0,this.received=0,this.uploaded=0,this._downloadSpeed=M(),this._uploadSpeed=M(),this._servers=[],this._xsRequests=[],this._fileModtimes=Z.fileModtimes,P!==null&&this._onTorrentId(P),this._debug("new torrent")}get timeRemaining(){return this.done?0:this.downloadSpeed===0?1/0:1e3*((this.length-this.downloaded)/this.downloadSpeed)}get downloaded(){if(!this.bitfield)return 0;let P=0;for(let H=0,Z=this.pieces.length;H<Z;++H)if(this.bitfield.get(H))P+=H===Z-1?this.lastPieceLength:this.pieceLength;else{const oe=this.pieces[H];P+=oe.length-oe.missing}return P}get downloadSpeed(){return this._downloadSpeed()}get uploadSpeed(){return this._uploadSpeed()}get progress(){return this.length?this.downloaded/this.length:0}get ratio(){return this.uploaded/(this.received||this.length)}get numPeers(){return this.wires.length}get torrentFileBlobURL(){if(typeof window>"u")throw new Error("browser-only property");return this.torrentFile?URL.createObjectURL(new Blob([this.torrentFile],{type:"application/x-bittorrent"})):null}get _numQueued(){return this._queue.length+(this._peersLength-this._numConns)}get _numConns(){let P=0;for(const H in this._peers)this._peers[H].connected&&(P+=1);return P}_onTorrentId(P){if(this.destroyed)return;let H;try{H=ce(P)}catch{}H?(this.infoHash=H.infoHash,this._debugId=H.infoHash.toString("hex").substring(0,7),_(()=>{this.destroyed||this._onParsedTorrent(H)})):ce.remote(P,(Z,oe)=>this.destroyed?void 0:Z?this._destroy(Z):void this._onParsedTorrent(oe))}_onParsedTorrent(P){if(!this.destroyed){if(this._processParsedTorrent(P),!this.infoHash)return this._destroy(new Error("Malformed torrent data: No info hash"));this._rechokeIntervalId=setInterval(()=>{this._rechoke()},1e4),this._rechokeIntervalId.unref&&this._rechokeIntervalId.unref(),this.emit("_infoHash",this.infoHash),!this.destroyed&&(this.emit("infoHash",this.infoHash),this.destroyed||(this.client.listening?this._onListening():this.client.once("listening",()=>{this._onListening()})))}}_processParsedTorrent(P){this._debugId=P.infoHash.toString("hex").substring(0,7),typeof this.private<"u"&&(P.private=this.private),this.announce&&(P.announce=P.announce.concat(this.announce)),this.client.tracker&&g.WEBTORRENT_ANNOUNCE&&!P.private&&(P.announce=P.announce.concat(g.WEBTORRENT_ANNOUNCE)),this.urlList&&(P.urlList=P.urlList.concat(this.urlList)),P.announce=Array.from(new Set(P.announce)),P.urlList=Array.from(new Set(P.urlList)),Object.assign(this,P),this.magnetURI=ce.toMagnetURI(P),this.torrentFile=ce.toTorrentFile(P)}_onListening(){this.destroyed||(this.info?this._onMetadata(this):(this.xs&&this._getMetadataFromServer(),this._startDiscovery()))}_startDiscovery(){if(this.discovery||this.destroyed)return;let P=this.client.tracker;P&&(P=Object.assign({},this.client.tracker,{getAnnounceOpts:()=>{if(!this.destroyed){const H={uploaded:this.uploaded,downloaded:this.downloaded,left:be(this.length-this.downloaded,0)};return this.client.tracker.getAnnounceOpts&&Object.assign(H,this.client.tracker.getAnnounceOpts()),this._getAnnounceOpts&&Object.assign(H,this._getAnnounceOpts()),H}}})),this.peerAddresses&&this.peerAddresses.forEach(H=>this.addPeer(H)),this.discovery=new R({infoHash:this.infoHash,announce:this.announce,peerId:this.client.peerId,dht:!this.private&&this.client.dht,tracker:P,port:this.client.torrentPort,userAgent:de,lsd:this.client.lsd}),this.discovery.on("error",H=>{this._destroy(H)}),this.discovery.on("peer",(H,Z)=>{this._debug("peer %s discovered via %s",H,Z),typeof H=="string"&&this.done||this.addPeer(H)}),this.discovery.on("trackerAnnounce",()=>{this.emit("trackerAnnounce"),this.numPeers===0&&this.emit("noPeers","tracker")}),this.discovery.on("dhtAnnounce",()=>{this.emit("dhtAnnounce"),this.numPeers===0&&this.emit("noPeers","dht")}),this.discovery.on("warning",H=>{this.emit("warning",H)})}_getMetadataFromServer(){function P(ue,ve){function Re(Ie,Be,De){if(H.destroyed||H.metadata)return ve(null);if(Ie)return H.emit("warning",new Error(`http error from xs param: ${ue}`)),ve(null);if(Be.statusCode!==200)return H.emit("warning",new Error(`non-200 status code ${Be.statusCode} from xs param: ${ue}`)),ve(null);let Ne;try{Ne=ce(De)}catch{}return Ne?Ne.infoHash===H.infoHash?(H._onMetadata(Ne),void ve(null)):(H.emit("warning",new Error(`got torrent file with incorrect info hash from xs param: ${ue}`)),ve(null)):(H.emit("warning",new Error(`got invalid torrent file from xs param: ${ue}`)),ve(null))}if(ue.indexOf("http://")!==0&&ue.indexOf("https://")!==0)return H.emit("warning",new Error(`skipping non-http xs param: ${ue}`)),ve(null);let Pe;try{Pe=w.concat({url:ue,method:"GET",headers:{"user-agent":de}},Re)}catch{return H.emit("warning",new Error(`skipping invalid url xs param: ${ue}`)),ve(null)}H._xsRequests.push(Pe)}const H=this,Z=Array.isArray(this.xs)?this.xs:[this.xs],oe=Z.map(ue=>ve=>{P(ue,ve)});J(oe)}_onMetadata(P){if(this.metadata||this.destroyed)return;this._debug("got metadata"),this._xsRequests.forEach(oe=>{oe.abort()}),this._xsRequests=[];let H;if(P&&P.infoHash)H=P;else try{H=ce(P)}catch(oe){return this._destroy(oe)}this._processParsedTorrent(H),this.metadata=this.torrentFile,this.client.enableWebSeeds&&this.urlList.forEach(oe=>{this.addWebSeed(oe)}),this._rarityMap=new ee(this),this.files=this.files.map(oe=>new K(this,oe));let Z=this._preloadedStore;if(Z||(Z=new this._store(this.pieceLength,{...this.storeOpts,torrent:this,path:this.path,files:this.files,length:this.length,name:this.name+" - "+this.infoHash.slice(0,8),addUID:this.addUID})),0<this._storeCacheSlots&&!(Z instanceof L)&&(Z=new c(Z,{max:this._storeCacheSlots})),this.store=new I(Z),this.so?this.files.forEach((oe,ue)=>{this.so.includes(ue)?this.files[ue].select():this.files[ue].deselect()}):this.pieces.length!==0&&this.select(0,this.pieces.length-1,!1),this._hashes=this.pieces,this.pieces=this.pieces.map((oe,ue)=>{const ve=ue===this.pieces.length-1?this.lastPieceLength:this.pieceLength;return new Y(ve)}),this._reservations=this.pieces.map(()=>[]),this.bitfield=new d(this.pieces.length),this.emit("metadata"),!this.destroyed)if(this.skipVerify)this._markAllVerified(),this._onStore();else{const oe=ue=>ue?this._destroy(ue):(this._debug("done verifying"),void this._onStore());this._debug("verifying existing torrent data"),this._fileModtimes&&this._store===A?this.getFileModtimes((ue,ve)=>{if(ue)return this._destroy(ue);this.files.map((Pe,Ie)=>ve[Ie]===this._fileModtimes[Ie]).every(Pe=>Pe)?(this._markAllVerified(),this._onStore()):this._verifyPieces(oe)}):this._verifyPieces(oe)}}getFileModtimes(P){const H=[];se(this.files.map((Z,oe)=>ue=>{const ve=this.addUID?s.join(this.name+" - "+this.infoHash.slice(0,8)):s.join(this.path,Z.path);a.stat(ve,(Re,Pe)=>Re&&Re.code!=="ENOENT"?ue(Re):(H[oe]=Pe&&Pe.mtime.getTime(),void ue(null)))}),ge,Z=>{this._debug("done getting file modtimes"),P(Z,H)})}_verifyPieces(P){se(this.pieces.map((H,Z)=>oe=>{if(this.destroyed)return oe(new Error("torrent is destroyed"));const ue={};Z===this.pieces.length-1&&(ue.length=this.lastPieceLength),this.store.get(Z,ue,(ve,Re)=>this.destroyed?oe(new Error("torrent is destroyed")):ve?_(()=>oe(null)):void T(Re,Pe=>this.destroyed?oe(new Error("torrent is destroyed")):(Pe===this._hashes[Z]?(this._debug("piece verified %s",Z),this._markVerified(Z)):this._debug("piece invalid %s",Z),void oe(null))))}),ge,P)}rescanFiles(P){if(this.destroyed)throw new Error("torrent is destroyed");P||(P=i),this._verifyPieces(H=>H?(this._destroy(H),P(H)):(this._checkDone(),void P(null)))}_markAllVerified(){for(let P=0;P<this.pieces.length;P++)this._markVerified(P)}_markVerified(P){this.pieces[P]=null,this._reservations[P]=null,this.bitfield.set(P,!0)}_hasAllPieces(){for(let P=0;P<this.pieces.length;P++)if(!this.bitfield.get(P))return!1;return!0}_hasNoPieces(){return!this._hasMorePieces(0)}_hasMorePieces(P){let H=0;for(let Z=0;Z<this.pieces.length;Z++)if(this.bitfield.get(Z)&&(H+=1,H>P))return!0;return!1}_onStore(){this.destroyed||(this._debug("on store"),this._startDiscovery(),this.ready=!0,this.emit("ready"),this._checkDone(),this._updateSelections(),this.wires.forEach(P=>{P.ut_metadata&&P.ut_metadata.setMetadata(this.metadata),this._onWireWithMetadata(P)}))}destroy(P,H){return typeof P=="function"?this.destroy(null,P):void this._destroy(null,P,H)}_destroy(P,H,Z){if(typeof H=="function")return this._destroy(P,null,H);if(!this.destroyed){for(const ue in this.destroyed=!0,this._debug("destroy"),this.client._remove(this),clearInterval(this._rechokeIntervalId),this._xsRequests.forEach(ve=>{ve.abort()}),this._rarityMap&&this._rarityMap.destroy(),this._peers)this.removePeer(ue);this.files.forEach(ue=>{ue instanceof K&&ue._destroy()});const oe=this._servers.map(ue=>ve=>{ue.destroy(ve)});if(this.discovery&&oe.push(ue=>{this.discovery.destroy(ue)}),this.store){let ue=this._destroyStoreOnDestroy;H&&H.destroyStore!==void 0&&(ue=H.destroyStore),oe.push(ve=>{ue?this.store.destroy(ve):this.store.close(ve)})}J(oe,Z),P&&(this.listenerCount("error")===0?this.client.emit("error",P):this.emit("error",P)),this.emit("close"),this.client=null,this.files=[],this.discovery=null,this.store=null,this._rarityMap=null,this._peers=null,this._servers=null,this._xsRequests=null}}addPeer(P){if(this.destroyed)throw new Error("torrent is destroyed");if(!this.infoHash)throw new Error("addPeer() must not be called before the `infoHash` event");let H;if(this.client.blocked){if(typeof P=="string"){let ue;try{ue=r(P)}catch{return this._debug("ignoring peer: invalid %s",P),this.emit("invalidPeer",P),!1}H=ue[0]}else typeof P.remoteAddress=="string"&&(H=P.remoteAddress);if(H&&this.client.blocked.contains(H))return this._debug("ignoring peer: blocked %s",P),typeof P!="string"&&P.destroy(),this.emit("blockedPeer",P),!1}const Z=this.client.utp&&this._isIPv4(H)?"utp":"tcp",oe=!!this._addPeer(P,Z);return oe?this.emit("peer",P):this.emit("invalidPeer",P),oe}_addPeer(P,H){if(this.destroyed)return typeof P!="string"&&P.destroy(),null;if(typeof P=="string"&&!this._validAddr(P))return this._debug("ignoring peer: invalid %s",P),null;const Z=P&&P.id||P;if(this._peers[Z])return this._debug("ignoring peer: duplicate (%s)",Z),typeof P!="string"&&P.destroy(),null;if(this.paused)return this._debug("ignoring peer: torrent is paused"),typeof P!="string"&&P.destroy(),null;this._debug("add peer %s",Z);let oe;return oe=typeof P=="string"?H==="utp"?Q.createUTPOutgoingPeer(P,this,this.client.throttleGroups):Q.createTCPOutgoingPeer(P,this,this.client.throttleGroups):Q.createWebRTCPeer(P,this,this.client.throttleGroups),this._registerPeer(oe),typeof P=="string"&&(this._queue.push(oe),this._drain()),oe}addWebSeed(P){if(this.destroyed)throw new Error("torrent is destroyed");let H,Z;if(typeof P=="string"){if(H=P,!/^https?:\/\/.+/.test(H))return this.emit("warning",new Error(`ignoring invalid web seed: ${H}`)),void this.emit("invalidPeer",H);if(this._peers[H])return this.emit("warning",new Error(`ignoring duplicate web seed: ${H}`)),void this.emit("invalidPeer",H);Z=new me(H,this)}else{if(!(P&&typeof P.connId=="string"))return void this.emit("warning",new Error("addWebSeed must be passed a string or connection object with id property"));if(Z=P,H=Z.connId,this._peers[H])return this.emit("warning",new Error(`ignoring duplicate web seed: ${H}`)),void this.emit("invalidPeer",H)}this._debug("add web seed %s",H);const oe=Q.createWebSeedPeer(Z,H,this,this.client.throttleGroups);this._registerPeer(oe),this.emit("peer",H)}_addIncomingPeer(P){return this.destroyed?P.destroy(new Error("torrent is destroyed")):this.paused?P.destroy(new Error("torrent is paused")):(this._debug("add incoming peer %s",P.id),void this._registerPeer(P))}_registerPeer(P){P.on("download",H=>{this.destroyed||(this.received+=H,this._downloadSpeed(H),this.client._downloadSpeed(H),this.emit("download",H),this.destroyed||this.client.emit("download",H))}),P.on("upload",H=>{this.destroyed||(this.uploaded+=H,this._uploadSpeed(H),this.client._uploadSpeed(H),this.emit("upload",H),this.destroyed||this.client.emit("upload",H))}),this._peers[P.id]=P,this._peersLength+=1}removePeer(P){const H=P&&P.id||P;P=this._peers[H],P&&(this._debug("removePeer %s",H),delete this._peers[H],this._peersLength-=1,P.destroy(),this._drain())}select(P,H,Z,oe){if(this.destroyed)throw new Error("torrent is destroyed");if(0>P||H<P||this.pieces.length<=H)throw new Error(`invalid selection ${P} : ${H}`);Z=+Z||0,this._debug("select %s-%s (priority %s)",P,H,Z),this._selections.push({from:P,to:H,offset:0,priority:Z,notify:oe||i}),this._selections.sort((ue,ve)=>ve.priority-ue.priority),this._updateSelections()}deselect(P,H,Z){if(this.destroyed)throw new Error("torrent is destroyed");Z=+Z||0,this._debug("deselect %s-%s (priority %s)",P,H,Z);for(let oe=0;oe<this._selections.length;++oe){const ue=this._selections[oe];if(ue.from===P&&ue.to===H&&ue.priority===Z){this._selections.splice(oe,1);break}}this._updateSelections()}critical(P,H){if(this.destroyed)throw new Error("torrent is destroyed");this._debug("critical %s-%s",P,H);for(let Z=P;Z<=H;++Z)this._critical[Z]=!0;this._updateSelections()}_onWire(P,H){if(this._debug("got wire %s (%s)",P._debugId,H||"Unknown"),this.wires.push(P),H){const Z=r(H);P.remoteAddress=Z[0],P.remotePort=Z[1]}this.client.dht&&this.client.dht.listening&&P.on("port",Z=>this.destroyed||this.client.dht.destroyed?void 0:P.remoteAddress?Z===0||65536<Z?this._debug("ignoring invalid PORT from peer"):(this._debug("port: %s (from %s)",Z,H),void this.client.dht.addNode({host:P.remoteAddress,port:Z})):this._debug("ignoring PORT from peer with no address")),P.on("timeout",()=>{this._debug("wire timeout (%s)",H),P.destroy()}),P.type!=="webSeed"&&P.setTimeout(3e4,!0),P.setKeepAlive(!0),P.use(F(this.metadata)),P.ut_metadata.on("warning",Z=>{this._debug("ut_metadata warning: %s",Z.message)}),this.metadata||(P.ut_metadata.on("metadata",Z=>{this._debug("got metadata via ut_metadata"),this._onMetadata(Z)}),P.ut_metadata.fetch()),typeof j!="function"||this.private||(P.use(j()),P.ut_pex.on("peer",Z=>{this.done||(this._debug("ut_pex: got peer: %s (from %s)",Z,H),this.addPeer(Z))}),P.ut_pex.on("dropped",Z=>{const oe=this._peers[Z];oe&&!oe.connected&&(this._debug("ut_pex: dropped peer: %s (from %s)",Z,H),this.removePeer(Z))}),P.once("close",()=>{P.ut_pex.reset()})),P.use(N()),this.emit("wire",P,H),this.ready&&_(()=>{this._onWireWithMetadata(P)})}_onWireWithMetadata(P){let H=null;const Z=()=>{this.destroyed||P.destroyed||(this._numQueued>2*(this._numConns-this.numPeers)&&P.amInterested?P.destroy():(H=setTimeout(Z,Se),H.unref&&H.unref()))};let oe;const ue=()=>{if(P.peerPieces.buffer.length===this.bitfield.buffer.length){for(oe=0;oe<this.pieces.length;++oe)if(!P.peerPieces.get(oe))return;P.isSeeder=!0,P.choke()}};P.on("bitfield",()=>{ue(),this._update(),this._updateWireInterest(P)}),P.on("have",()=>{ue(),this._update(),this._updateWireInterest(P)}),P.lt_donthave.on("donthave",()=>{ue(),this._update(),this._updateWireInterest(P)}),P.on("have-all",()=>{P.isSeeder=!0,P.choke(),this._update(),this._updateWireInterest(P)}),P.on("have-none",()=>{P.isSeeder=!1,this._update(),this._updateWireInterest(P)}),P.on("allowed-fast",()=>{this._update()}),P.once("interested",()=>{P.unchoke()}),P.once("close",()=>{clearTimeout(H)}),P.on("choke",()=>{clearTimeout(H),H=setTimeout(Z,Se),H.unref&&H.unref()}),P.on("unchoke",()=>{clearTimeout(H),this._update()}),P.on("request",(ve,Re,Pe,Ie)=>Pe>131072?P.destroy():void(this.pieces[ve]||this.store.get(ve,{offset:Re,length:Pe},Ie))),P.hasFast&&this._hasAllPieces()?P.haveAll():P.hasFast&&this._hasNoPieces()?P.haveNone():P.bitfield(this.bitfield),this._updateWireInterest(P),P.peerExtensions.dht&&this.client.dht&&this.client.dht.listening&&P.port(this.client.dht.address().port),P.type!=="webSeed"&&(H=setTimeout(Z,Se),H.unref&&H.unref()),P.isSeeder=!1,ue()}_updateSelections(){!this.ready||this.destroyed||(_(()=>{this._gcSelections()}),this._updateInterest(),this._update())}_gcSelections(){for(let P=0;P<this._selections.length;++P){const H=this._selections[P],Z=H.offset;for(;this.bitfield.get(H.from+H.offset)&&H.from+H.offset<H.to;)H.offset+=1;Z!==H.offset&&H.notify(),H.to===H.from+H.offset&&this.bitfield.get(H.from+H.offset)&&(this._selections.splice(P,1),P-=1,H.notify(),this._updateInterest())}this._selections.length||this.emit("idle")}_updateInterest(){const P=this._amInterested;this._amInterested=!!this._selections.length,this.wires.forEach(H=>this._updateWireInterest(H)),P===this._amInterested||(this._amInterested?this.emit("interested"):this.emit("uninterested"))}_updateWireInterest(P){let H=!1;for(let Z=0;Z<this.pieces.length;++Z)if(this.pieces[Z]&&P.peerPieces.get(Z)){H=!0;break}H?P.interested():P.uninterested()}_update(){if(!this.destroyed){const P=p(this.wires);for(let H;H=P();)this._updateWireWrapper(H)}}_updateWireWrapper(P){const H=this;typeof window<"u"&&typeof window.requestIdleCallback=="function"?window.requestIdleCallback(()=>{H._updateWire(P)},{timeout:250}):H._updateWire(P)}_updateWire(P){function H(Ie,Be,De,Ne){return Le=>Le>=Ie&&Le<=Be&&!(Le in De)&&P.peerPieces.get(Le)&&(!Ne||Ne(Le))}function Z(){const Ie=P.downloadSpeed()||1;if(Ie>Ae)return()=>!0;const Be=be(1,P.requests.length)*Y.BLOCK_LENGTH/Ie;let De=10,Ne=0;return Le=>{if(!De||ve.bitfield.get(Le))return!0;for(let We=ve.pieces[Le].missing;Ne<ve.wires.length;Ne++){const Ge=ve.wires[Ne],je=Ge.downloadSpeed();if(!(je<Ae)&&!(je<=Ie)&&Ge.peerPieces.get(Le)&&!(0<(We-=je*Be)))return De--,!1}return!0}}function oe(Ie){let Be=Ie;for(let Ne=Ie;Ne<ve._selections.length&&ve._selections[Ne].priority;Ne++)Be=Ne;const De=ve._selections[Ie];ve._selections[Ie]=ve._selections[Be],ve._selections[Be]=De}function ue(Ie){if(P.requests.length>=Pe)return!0;const Be=Z();for(let De=0;De<ve._selections.length;De++){const Ne=ve._selections[De];let Le;if(ve.strategy==="rarest"){const We=Ne.from+Ne.offset,Ge=Ne.to,je={};let ot=0;for(const ct=H(We,Ge,je,Be);ot<Ge-We+1&&(Le=ve._rarityMap.getRarestPiece(ct),!(0>Le));){for(;ve._request(P,Le,ve._critical[Le]||Ie)&&P.requests.length<Pe;);if(P.requests.length<Pe){je[Le]=!0,ot++;continue}return Ne.priority&&oe(De),!0}}else for(Le=Ne.from+Ne.offset;Le<=Ne.to;Le++)if(P.peerPieces.get(Le)&&Be(Le)){for(;ve._request(P,Le,ve._critical[Le]||Ie)&&P.requests.length<Pe;);if(!(P.requests.length<Pe))return Ne.priority&&oe(De),!0}}return!1}const ve=this,Re=C(P,.5);if(P.requests.length>=Re)return;const Pe=C(P,pe);return P.peerChoking?void(P.hasFast&&0<P.peerAllowedFastSet.length&&!this._hasMorePieces(P.peerAllowedFastSet.length-1)&&function(){if(P.requests.length>=Pe)return!1;for(const Ie of P.peerAllowedFastSet){if(P.peerPieces.get(Ie)&&!ve.bitfield.get(Ie))for(;ve._request(P,Ie,!1)&&P.requests.length<Pe;);if(!(P.requests.length<Pe))return!0}return!1}()):P.downloaded?void(ue(!1)||ue(!0)):function(){if(!P.requests.length)for(let Ie=ve._selections.length;Ie--;){const Be=ve._selections[Ie];let De;if(ve.strategy==="rarest"){const Ne=Be.from+Be.offset,Le=Be.to,We={};let Ge=0;for(const je=H(Ne,Le,We);Ge<Le-Ne+1&&(De=ve._rarityMap.getRarestPiece(je),!(0>De));){if(ve._request(P,De,!1))return;We[De]=!0,Ge+=1}}else for(De=Be.to;De>=Be.from+Be.offset;--De)if(P.peerPieces.get(De)&&ve._request(P,De,!1))return}}()}_rechoke(){if(this.ready){const P=this.wires.map(H=>({wire:H,random:Math.random()})).sort((H,Z)=>{const oe=H.wire,ue=Z.wire;return oe.downloadSpeed()===ue.downloadSpeed()?oe.uploadSpeed()===ue.uploadSpeed()?oe.amChoking===ue.amChoking?H.random-Z.random:oe.amChoking?-1:1:oe.uploadSpeed()-ue.uploadSpeed():oe.downloadSpeed()-ue.downloadSpeed()}).map(H=>H.wire);0>=this._rechokeOptimisticTime?this._rechokeOptimisticWire=null:this._rechokeOptimisticTime-=1;for(let H=0;0<P.length&&H<this._rechokeNumSlots-1;){const Z=P.pop();Z.isSeeder||Z===this._rechokeOptimisticWire||(Z.unchoke(),Z.peerInterested&&H++)}if(this._rechokeOptimisticWire===null&&0<this._rechokeNumSlots){const H=P.filter(Z=>Z.peerInterested);if(0<H.length){const Z=H[y(H.length)];Z.unchoke(),this._rechokeOptimisticWire=Z,this._rechokeOptimisticTime=2}}P.filter(H=>H!==this._rechokeOptimisticWire).forEach(H=>H.choke())}}_hotswap(P,H){const Z=P.downloadSpeed();if(Z<Y.BLOCK_LENGTH||!this._reservations[H])return!1;const oe=this._reservations[H];if(!oe)return!1;let ue=1/0,ve,Re;for(Re=0;Re<oe.length;Re++){const Pe=oe[Re];if(!Pe||Pe===P)continue;const Ie=Pe.downloadSpeed();Ie>=Ae||2*Ie>Z||Ie>ue||(ve=Pe,ue=Ie)}if(!ve)return!1;for(Re=0;Re<oe.length;Re++)oe[Re]===ve&&(oe[Re]=null);for(Re=0;Re<ve.requests.length;Re++){const Pe=ve.requests[Re];Pe.piece===H&&this.pieces[H].cancel(0|Pe.offset/Y.BLOCK_LENGTH)}return this.emit("hotswap",ve,P,H),!0}_request(P,H,Z){function oe(){_(()=>{ue._update()})}const ue=this,ve=P.requests.length,Re=P.type==="webSeed";if(ue.bitfield.get(H))return!1;const Pe=Re?ke(E(P,pe,ue.pieceLength),ue.maxWebConns):C(P,pe);if(ve>=Pe)return!1;const Ie=ue.pieces[H];let Be=Re?Ie.reserveRemaining():Ie.reserve();if(Be===-1&&Z&&ue._hotswap(P,H)&&(Be=Re?Ie.reserveRemaining():Ie.reserve()),Be===-1)return!1;let De=ue._reservations[H];De||(De=ue._reservations[H]=[]);let Ne=De.indexOf(null);Ne===-1&&(Ne=De.length),De[Ne]=P;const Le=Ie.chunkOffset(Be),We=Re?Ie.chunkLengthRemaining(Be):Ie.chunkLength(Be);return P.request(H,Le,We,function Ge(je,ot){if(ue.destroyed)return;if(!ue.ready)return ue.once("ready",()=>{Ge(je,ot)});if(De[Ne]===P&&(De[Ne]=null),Ie!==ue.pieces[H])return oe();if(je)return ue._debug("error getting piece %s (offset: %s length: %s) from %s: %s",H,Le,We,`${P.remoteAddress}:${P.remotePort}`,je.message),Re?Ie.cancelRemaining(Be):Ie.cancel(Be),void oe();if(ue._debug("got piece %s (offset: %s length: %s) from %s",H,Le,We,`${P.remoteAddress}:${P.remotePort}`),!Ie.set(Be,ot,P))return oe();const ct=Ie.flush();T(ct,ze=>{ue.destroyed||(ze===ue._hashes[H]?(ue._debug("piece verified %s",H),ue.store.put(H,ct,lt=>lt?void ue._destroy(lt):(ue.pieces[H]=null,ue._markVerified(H),ue.wires.forEach(ht=>{ht.have(H)}),ue._checkDone()&&!ue.destroyed&&ue.discovery.complete(),void oe()))):(ue.pieces[H]=new Y(Ie.length),ue.emit("warning",new Error(`Piece ${H} failed verification`)),oe()))})}),!0}_checkDone(){if(this.destroyed)return;this.files.forEach(H=>{if(!H.done){for(let Z=H._startPiece;Z<=H._endPiece;++Z)if(!this.bitfield.get(Z))return;H.done=!0,H.emit("done"),this._debug(`file done: ${H.name}`)}});let P=!0;for(const H of this._selections){for(let Z=H.from;Z<=H.to;Z++)if(!this.bitfield.get(Z)){P=!1;break}if(!P)break}return!this.done&&P?(this.done=!0,this._debug(`torrent done: ${this.infoHash}`),this.emit("done")):this.done=!1,this._gcSelections(),P}load(P,H){if(this.destroyed)throw new Error("torrent is destroyed");if(!this.ready)return this.once("ready",()=>{this.load(P,H)});Array.isArray(P)||(P=[P]),H||(H=i);const Z=U.from(G(P)),oe=new f(this.store,this.pieceLength);B(Z,oe,ue=>ue?H(ue):(this._markAllVerified(),this._checkDone(),void H(null)))}createServer(P){if(typeof fe!="function")throw new Error("node.js-only method");if(this.destroyed)throw new Error("torrent is destroyed");const H=new fe(this,P);return this._servers.push(H),H}pause(){this.destroyed||(this._debug("pause"),this.paused=!0)}resume(){this.destroyed||(this._debug("resume"),this.paused=!1,this._drain())}_debug(){const P=[].slice.call(arguments);P[0]=`[${this.client?this.client._debugId:"No Client"}] [${this._debugId}] ${P[0]}`,he(...P)}_drain(){if(this._debug("_drain numConns %s maxConns %s",this._numConns,this.client.maxConns),typeof o.connect!="function"||this.destroyed||this.paused||this._numConns>=this.client.maxConns)return;this._debug("drain (%s queued, %s/%s peers)",this._numQueued,this.numPeers,this.client.maxConns);const P=this._queue.shift();if(!P)return;this._debug("%s connect attempt to %s",P.type,P.addr);const H=r(P.addr),Z={host:H[0],port:H[1]};P.conn=this.client.utp&&P.type==="utpOutgoing"?ae.connect(Z.port,Z.host):o.connect(Z);const oe=P.conn;oe.once("connect",()=>{P.onConnect()}),oe.once("error",ue=>{P.destroy(ue)}),P.startConnectTimeout(),oe.on("close",()=>{if(!this.destroyed){if(P.retries>=xe.length){if(this.client.utp){const Re=this._addPeer(P.addr,"tcp");Re&&(Re.retries=0)}else this._debug("conn %s closed: will not re-add (max %s attempts)",P.addr,xe.length);return}const ue=xe[P.retries];this._debug("conn %s closed: will re-add to queue in %sms (attempt %s)",P.addr,ue,P.retries+1);const ve=setTimeout(()=>{if(!this.destroyed){const Re=r(P.addr)[0],Pe=this.client.utp&&this._isIPv4(Re)?"utp":"tcp",Ie=this._addPeer(P.addr,Pe);Ie&&(Ie.retries=P.retries+1)}},ue);ve.unref&&ve.unref()}})}_validAddr(P){let H;try{H=r(P)}catch{return!1}const Z=H[0],oe=H[1];return 0<oe&&65535>oe&&(Z!=="127.0.0.1"||oe!==this.client.torrentPort)}_isIPv4(P){return/^((?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])[.]){3}(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])$/.test(P)}}}).call(this)}).call(this,x("_process"),typeof ut>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:ut)},{"../package.json":281,"./file.js":2,"./peer.js":3,"./rarity-map.js":4,"./server.js":41,"./utp.js":41,"./webconn.js":6,_process:192,"addr-to-ip-port":7,bitfield:31,"cache-chunk-store":77,"chunk-store-stream/write":78,cpus:81,debug:90,events:122,fs:41,"fs-chunk-store":160,"immediate-chunk-store":145,"join-async-iterator":149,lt_donthave:156,"memory-chunk-store":160,net:41,os:41,"parse-torrent":183,path:184,pump:200,"queue-microtask":205,"random-iterate":207,"run-parallel":232,"run-parallel-limit":231,"simple-get":245,"simple-sha1":247,streamx:263,throughput:267,"torrent-discovery":269,"torrent-piece":270,ut_metadata:275,ut_pex:41}],6:[function(x,V,O){(function(g){(function(){const{default:C}=x("bitfield"),E=x("debug"),y=x("simple-get"),i=x("lt_donthave"),m=x("simple-sha1"),a=x("bittorrent-protocol"),o=E("webtorrent:webconn"),h=x("../package.json").version,s=6e4,r=1e4;class d extends a{constructor(f,u){super(),this.url=f,this.connId=f,this.webPeerId=m.sync(f),this._torrent=u,this._init()}_init(){this.setKeepAlive(!0),this.use(i()),this.once("handshake",(f,u)=>{if(this.destroyed)return;this.handshake(f,this.webPeerId);const k=this._torrent.pieces.length,R=new C(k);for(let A=0;A<=k;A++)R.set(A,!0);this.bitfield(R)}),this.once("interested",()=>{o("interested"),this.unchoke()}),this.on("uninterested",()=>{o("uninterested")}),this.on("choke",()=>{o("choke")}),this.on("unchoke",()=>{o("unchoke")}),this.on("bitfield",()=>{o("bitfield")}),this.lt_donthave.on("donthave",()=>{o("donthave")}),this.on("request",(f,u,k,R)=>{o("request pieceIndex=%d offset=%d length=%d",f,u,k),this.httpRequest(f,u,k,(A,w)=>{if(A){this.lt_donthave.donthave(f);const I=setTimeout(()=>{this.destroyed||this.have(f)},r);I.unref&&I.unref()}R(A,w)})})}httpRequest(f,u,k,R){const A=f*this._torrent.pieceLength,w=A+u,I=w+k-1,N=this._torrent.files;let L;if(1>=N.length)L=[{url:this.url,start:w,end:I}];else{const ce=N.filter(Y=>Y.offset<=I&&Y.offset+Y.length>w);if(1>ce.length)return R(new Error("Could not find file corresponding to web seed range request"));L=ce.map(Y=>{const B=Y.offset+Y.length-1;return{url:this.url+(this.url[this.url.length-1]==="/"?"":"/")+Y.path.replace(this._torrent.path,""),fileOffsetInRange:be(Y.offset-w,0),start:be(w-Y.offset,0),end:ke(B,I-Y.offset)}})}let G=0,J=!1,se;1<L.length&&(se=g.alloc(k)),L.forEach(ce=>{function Y(M,F){return 200>M.statusCode||300<=M.statusCode?J?void 0:(J=!0,R(new Error(`Unexpected HTTP status code ${M.statusCode}`))):(o("Got data of length %d",F.length),void(L.length===1?R(null,F):(F.copy(se,ce.fileOffsetInRange),++G===L.length&&R(null,se))))}const B=ce.url,_=ce.start,p=ce.end;o("Requesting url=%s pieceIndex=%d offset=%d length=%d start=%d end=%d",B,f,u,k,_,p);const T={url:B,method:"GET",headers:{"user-agent":`WebTorrent/${h} (https://webtorrent.io)`,range:`bytes=${_}-${p}`},timeout:s};y.concat(T,(M,F,j)=>J?void 0:M?typeof window>"u"||B.startsWith(`${window.location.origin}/`)?(J=!0,R(M)):y.head(B,(U,K)=>J?void 0:U?(J=!0,R(U)):200>K.statusCode||300<=K.statusCode?(J=!0,R(new Error(`Unexpected HTTP status code ${K.statusCode}`))):K.url===B?(J=!0,R(M)):(T.url=K.url,void y.concat(T,(Q,ee,fe)=>J?void 0:Q?(J=!0,R(Q)):void Y(ee,fe)))):void Y(F,j))})}destroy(){super.destroy(),this._torrent=null}}V.exports=d}).call(this)}).call(this,x("buffer").Buffer)},{"../package.json":281,bitfield:31,"bittorrent-protocol":32,buffer:75,debug:90,lt_donthave:156,"simple-get":245,"simple-sha1":247}],7:[function(x,V,O){const g=/^\[?([^\]]+)]?:(\d+)$/;let C=new Map;V.exports=function(y){if(C.size===1e5&&C.clear(),!C.has(y)){const i=g.exec(y);if(!i)throw new Error(`invalid addr: ${y}`);C.set(y,[i[1],+i[2]])}return C.get(y)}},{}],8:[function(x,V,O){const g=O;g.bignum=x("bn.js"),g.define=x("./asn1/api").define,g.base=x("./asn1/base"),g.constants=x("./asn1/constants"),g.decoders=x("./asn1/decoders"),g.encoders=x("./asn1/encoders")},{"./asn1/api":9,"./asn1/base":11,"./asn1/constants":15,"./asn1/decoders":17,"./asn1/encoders":20,"bn.js":22}],9:[function(x,V,O){function g(m,a){this.name=m,this.body=a,this.decoders={},this.encoders={}}const C=x("./encoders"),E=x("./decoders"),y=x("inherits"),i=O;i.define=function(a,o){return new g(a,o)},g.prototype._createNamed=function(a){function o(s){this._initNamed(s,h)}const h=this.name;return y(o,a),o.prototype._initNamed=function(r,d){a.call(this,r,d)},new o(this)},g.prototype._getDecoder=function(a){return a=a||"der",this.decoders.hasOwnProperty(a)||(this.decoders[a]=this._createNamed(E[a])),this.decoders[a]},g.prototype.decode=function(a,o,h){return this._getDecoder(o).decode(a,h)},g.prototype._getEncoder=function(a){return a=a||"der",this.encoders.hasOwnProperty(a)||(this.encoders[a]=this._createNamed(C[a])),this.encoders[a]},g.prototype.encode=function(a,o,h){return this._getEncoder(o).encode(a,h)}},{"./decoders":17,"./encoders":20,inherits:146}],10:[function(x,V,O){function g(m,a){return y.call(this,a),i.isBuffer(m)?(this.base=m,this.offset=0,void(this.length=m.length)):void this.error("Input not Buffer")}function C(m,a){if(Array.isArray(m))this.length=0,this.value=m.map(function(o){return C.isEncoderBuffer(o)||(o=new C(o,a)),this.length+=o.length,o},this);else if(typeof m=="number"){if(!(0<=m&&255>=m))return a.error("non-byte EncoderBuffer value");this.value=m,this.length=1}else if(typeof m=="string")this.value=m,this.length=i.byteLength(m);else if(i.isBuffer(m))this.value=m,this.length=m.length;else return a.error("Unsupported type: "+typeof m)}const E=x("inherits"),y=x("../base/reporter").Reporter,i=x("safer-buffer").Buffer;E(g,y),O.DecoderBuffer=g,g.isDecoderBuffer=function(a){return a instanceof g?!0:typeof a=="object"&&i.isBuffer(a.base)&&a.constructor.name==="DecoderBuffer"&&typeof a.offset=="number"&&typeof a.length=="number"&&typeof a.save=="function"&&typeof a.restore=="function"&&typeof a.isEmpty=="function"&&typeof a.readUInt8=="function"&&typeof a.skip=="function"&&typeof a.raw=="function"},g.prototype.save=function(){return{offset:this.offset,reporter:y.prototype.save.call(this)}},g.prototype.restore=function(a){const o=new g(this.base);return o.offset=a.offset,o.length=this.offset,this.offset=a.offset,y.prototype.restore.call(this,a.reporter),o},g.prototype.isEmpty=function(){return this.offset===this.length},g.prototype.readUInt8=function(a){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(a||"DecoderBuffer overrun")},g.prototype.skip=function(a,o){if(!(this.offset+a<=this.length))return this.error(o||"DecoderBuffer overrun");const h=new g(this.base);return h._reporterState=this._reporterState,h.offset=this.offset,h.length=this.offset+a,this.offset+=a,h},g.prototype.raw=function(a){return this.base.slice(a?a.offset:this.offset,this.length)},O.EncoderBuffer=C,C.isEncoderBuffer=function(a){return a instanceof C?!0:typeof a=="object"&&a.constructor.name==="EncoderBuffer"&&typeof a.length=="number"&&typeof a.join=="function"},C.prototype.join=function(a,o){return a||(a=i.alloc(this.length)),o||(o=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(h){h.join(a,o),o+=h.length}):(typeof this.value=="number"?a[o]=this.value:typeof this.value=="string"?a.write(this.value,o):i.isBuffer(this.value)&&this.value.copy(a,o),o+=this.length)),a}},{"../base/reporter":13,inherits:146,"safer-buffer":235}],11:[function(x,V,O){const g=O;g.Reporter=x("./reporter").Reporter,g.DecoderBuffer=x("./buffer").DecoderBuffer,g.EncoderBuffer=x("./buffer").EncoderBuffer,g.Node=x("./node")},{"./buffer":10,"./node":12,"./reporter":13}],12:[function(x,V,O){function g(s,r,d){const c={};this._baseState=c,c.name=d,c.enc=s,c.parent=r||null,c.children=null,c.tag=null,c.args=null,c.reverseArgs=null,c.choice=null,c.optional=!1,c.any=!1,c.obj=!1,c.use=null,c.useDecoder=null,c.key=null,c.default=null,c.explicit=null,c.implicit=null,c.contains=null,c.parent||(c.children=[],this._wrap())}const C=x("../base/reporter").Reporter,E=x("../base/buffer").EncoderBuffer,y=x("../base/buffer").DecoderBuffer,i=x("minimalistic-assert"),m=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],a=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(m),o=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];V.exports=g;const h=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];g.prototype.clone=function(){const r=this._baseState,d={};h.forEach(function(f){d[f]=r[f]});const c=new this.constructor(d.parent);return c._baseState=d,c},g.prototype._wrap=function(){const r=this._baseState;a.forEach(function(d){this[d]=function(){const f=new this.constructor(this);return r.children.push(f),f[d].apply(f,arguments)}},this)},g.prototype._init=function(r){const d=this._baseState;i(d.parent===null),r.call(this),d.children=d.children.filter(function(c){return c._baseState.parent===this},this),i.equal(d.children.length,1,"Root node can have only one child")},g.prototype._useArgs=function(r){const d=this._baseState,c=r.filter(function(f){return f instanceof this.constructor},this);r=r.filter(function(f){return!(f instanceof this.constructor)},this),c.length!==0&&(i(d.children===null),d.children=c,c.forEach(function(f){f._baseState.parent=this},this)),r.length!==0&&(i(d.args===null),d.args=r,d.reverseArgs=r.map(function(f){if(typeof f!="object"||f.constructor!==Object)return f;const u={};return Object.keys(f).forEach(function(k){k==(0|k)&&(k|=0);const R=f[k];u[R]=k}),u}))},o.forEach(function(s){g.prototype[s]=function(){const d=this._baseState;throw new Error(s+" not implemented for encoding: "+d.enc)}}),m.forEach(function(s){g.prototype[s]=function(){const d=this._baseState,c=Array.prototype.slice.call(arguments);return i(d.tag===null),d.tag=s,this._useArgs(c),this}}),g.prototype.use=function(r){i(r);const d=this._baseState;return i(d.use===null),d.use=r,this},g.prototype.optional=function(){const r=this._baseState;return r.optional=!0,this},g.prototype.def=function(r){const d=this._baseState;return i(d.default===null),d.default=r,d.optional=!0,this},g.prototype.explicit=function(r){const d=this._baseState;return i(d.explicit===null&&d.implicit===null),d.explicit=r,this},g.prototype.implicit=function(r){const d=this._baseState;return i(d.explicit===null&&d.implicit===null),d.implicit=r,this},g.prototype.obj=function(){const r=this._baseState,d=Array.prototype.slice.call(arguments);return r.obj=!0,d.length!==0&&this._useArgs(d),this},g.prototype.key=function(r){const d=this._baseState;return i(d.key===null),d.key=r,this},g.prototype.any=function(){const r=this._baseState;return r.any=!0,this},g.prototype.choice=function(r){const d=this._baseState;return i(d.choice===null),d.choice=r,this._useArgs(Object.keys(r).map(function(c){return r[c]})),this},g.prototype.contains=function(r){const d=this._baseState;return i(d.use===null),d.contains=r,this},g.prototype._decode=function(r,d){const c=this._baseState;if(c.parent===null)return r.wrapResult(c.children[0]._decode(r,d));let f=c.default,u=!0,k=null;if(c.key!==null&&(k=r.enterKey(c.key)),c.optional){let A=null;if(c.explicit===null?c.implicit===null?c.tag!==null&&(A=c.tag):A=c.implicit:A=c.explicit,A===null&&!c.any){const w=r.save();try{c.choice===null?this._decodeGeneric(c.tag,r,d):this._decodeChoice(r,d),u=!0}catch{u=!1}r.restore(w)}else if(u=this._peekTag(r,A,c.any),r.isError(u))return u}let R;if(c.obj&&u&&(R=r.enterObject()),u){if(c.explicit!==null){const w=this._decodeTag(r,c.explicit);if(r.isError(w))return w;r=w}const A=r.offset;if(c.use===null&&c.choice===null){let w;c.any&&(w=r.save());const I=this._decodeTag(r,c.implicit===null?c.tag:c.implicit,c.any);if(r.isError(I))return I;c.any?f=r.raw(w):r=I}if(d&&d.track&&c.tag!==null&&d.track(r.path(),A,r.length,"tagged"),d&&d.track&&c.tag!==null&&d.track(r.path(),r.offset,r.length,"content"),c.any||(c.choice===null?f=this._decodeGeneric(c.tag,r,d):f=this._decodeChoice(r,d)),r.isError(f))return f;if(c.any||c.choice!==null||c.children===null||c.children.forEach(function(I){I._decode(r,d)}),c.contains&&(c.tag==="octstr"||c.tag==="bitstr")){const w=new y(f);f=this._getUse(c.contains,r._reporterState.obj)._decode(w,d)}}return c.obj&&u&&(f=r.leaveObject(R)),c.key!==null&&(f!==null||u===!0)?r.leaveKey(k,c.key,f):k!==null&&r.exitKey(k),f},g.prototype._decodeGeneric=function(r,d,c){const f=this._baseState;return r==="seq"||r==="set"?null:r==="seqof"||r==="setof"?this._decodeList(d,r,f.args[0],c):/str$/.test(r)?this._decodeStr(d,r,c):r==="objid"&&f.args?this._decodeObjid(d,f.args[0],f.args[1],c):r==="objid"?this._decodeObjid(d,null,null,c):r==="gentime"||r==="utctime"?this._decodeTime(d,r,c):r==="null_"?this._decodeNull(d,c):r==="bool"?this._decodeBool(d,c):r==="objDesc"?this._decodeStr(d,r,c):r==="int"||r==="enum"?this._decodeInt(d,f.args&&f.args[0],c):f.use===null?d.error("unknown tag: "+r):this._getUse(f.use,d._reporterState.obj)._decode(d,c)},g.prototype._getUse=function(r,d){const c=this._baseState;return c.useDecoder=this._use(r,d),i(c.useDecoder._baseState.parent===null),c.useDecoder=c.useDecoder._baseState.children[0],c.implicit!==c.useDecoder._baseState.implicit&&(c.useDecoder=c.useDecoder.clone(),c.useDecoder._baseState.implicit=c.implicit),c.useDecoder},g.prototype._decodeChoice=function(r,d){const c=this._baseState;let f=null,u=!1;return Object.keys(c.choice).some(function(k){const R=r.save(),A=c.choice[k];try{const w=A._decode(r,d);if(r.isError(w))return!1;f={type:k,value:w},u=!0}catch{return r.restore(R),!1}return!0},this),u?f:r.error("Choice not matched")},g.prototype._createEncoderBuffer=function(r){return new E(r,this.reporter)},g.prototype._encode=function(r,d,c){const f=this._baseState;if(f.default===null||f.default!==r){const u=this._encodeValue(r,d,c);return u===void 0||this._skipDefault(u,d,c)?void 0:u}},g.prototype._encodeValue=function(r,d,c){const f=this._baseState;if(f.parent===null)return f.children[0]._encode(r,d||new C);let u=null;if(this.reporter=d,f.optional&&r===void 0)if(f.default!==null)r=f.default;else return;let k=null,R=!1;if(f.any)u=this._createEncoderBuffer(r);else if(f.choice)u=this._encodeChoice(r,d);else if(f.contains)k=this._getUse(f.contains,c)._encode(r,d),R=!0;else if(f.children)k=f.children.map(function(A){if(A._baseState.tag==="null_")return A._encode(null,d,r);if(A._baseState.key===null)return d.error("Child should have a key");const w=d.enterKey(A._baseState.key);if(typeof r!="object")return d.error("Child expected, but input is not object");const I=A._encode(r[A._baseState.key],d,r);return d.leaveKey(w),I},this).filter(function(A){return A}),k=this._createEncoderBuffer(k);else if(f.tag==="seqof"||f.tag==="setof"){if(!(f.args&&f.args.length===1))return d.error("Too many args for : "+f.tag);if(!Array.isArray(r))return d.error("seqof/setof, but data is not Array");const A=this.clone();A._baseState.implicit=null,k=this._createEncoderBuffer(r.map(function(w){const I=this._baseState;return this._getUse(I.args[0],r)._encode(w,d)},A))}else f.use===null?(k=this._encodePrimitive(f.tag,r),R=!0):u=this._getUse(f.use,c)._encode(r,d);if(!f.any&&f.choice===null){const A=f.implicit===null?f.tag:f.implicit,w=f.implicit===null?"universal":"context";A===null?f.use===null&&d.error("Tag could be omitted only for .use()"):f.use===null&&(u=this._encodeComposite(A,R,w,k))}return f.explicit!==null&&(u=this._encodeComposite(f.explicit,!1,"context",u)),u},g.prototype._encodeChoice=function(r,d){const c=this._baseState,f=c.choice[r.type];return f||i(!1,r.type+" not found in "+JSON.stringify(Object.keys(c.choice))),f._encode(r.value,d)},g.prototype._encodePrimitive=function(r,d){const c=this._baseState;if(/str$/.test(r))return this._encodeStr(d,r);if(r==="objid"&&c.args)return this._encodeObjid(d,c.reverseArgs[0],c.args[1]);if(r==="objid")return this._encodeObjid(d,null,null);if(r==="gentime"||r==="utctime")return this._encodeTime(d,r);if(r==="null_")return this._encodeNull();if(r==="int"||r==="enum")return this._encodeInt(d,c.args&&c.reverseArgs[0]);if(r==="bool")return this._encodeBool(d);if(r==="objDesc")return this._encodeStr(d,r);throw new Error("Unsupported tag: "+r)},g.prototype._isNumstr=function(r){return/^[0-9 ]*$/.test(r)},g.prototype._isPrintstr=function(r){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(r)}},{"../base/buffer":10,"../base/reporter":13,"minimalistic-assert":167}],13:[function(x,V,O){function g(y){this._reporterState={obj:null,path:[],options:y||{},errors:[]}}function C(y,i){this.path=y,this.rethrow(i)}const E=x("inherits");O.Reporter=g,g.prototype.isError=function(i){return i instanceof C},g.prototype.save=function(){const i=this._reporterState;return{obj:i.obj,pathLen:i.path.length}},g.prototype.restore=function(i){const m=this._reporterState;m.obj=i.obj,m.path=m.path.slice(0,i.pathLen)},g.prototype.enterKey=function(i){return this._reporterState.path.push(i)},g.prototype.exitKey=function(i){const m=this._reporterState;m.path=m.path.slice(0,i-1)},g.prototype.leaveKey=function(i,m,a){const o=this._reporterState;this.exitKey(i),o.obj!==null&&(o.obj[m]=a)},g.prototype.path=function(){return this._reporterState.path.join("/")},g.prototype.enterObject=function(){const i=this._reporterState,m=i.obj;return i.obj={},m},g.prototype.leaveObject=function(i){const m=this._reporterState,a=m.obj;return m.obj=i,a},g.prototype.error=function(i){let m;const a=this._reporterState,o=i instanceof C;if(m=o?i:new C(a.path.map(function(h){return"["+JSON.stringify(h)+"]"}).join(""),i.message||i,i.stack),!a.options.partial)throw m;return o||a.errors.push(m),m},g.prototype.wrapResult=function(i){const m=this._reporterState;return m.options.partial?{result:this.isError(i)?null:i,errors:m.errors}:i},E(C,Error),C.prototype.rethrow=function(i){if(this.message=i+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,C),!this.stack)try{throw new Error(this.message)}catch(m){this.stack=m.stack}return this}},{inherits:146}],14:[function(x,V,O){function g(C){const E={};return Object.keys(C).forEach(function(y){(0|y)==y&&(y|=0);const i=C[y];E[i]=y}),E}O.tagClass={0:"universal",1:"application",2:"context",3:"private"},O.tagClassByName=g(O.tagClass),O.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},O.tagByName=g(O.tag)},{}],15:[function(x,V,O){const g=O;g._reverse=function(E){const y={};return Object.keys(E).forEach(function(i){(0|i)==i&&(i|=0);const m=E[i];y[m]=i}),y},g.der=x("./der")},{"./der":14}],16:[function(x,V,O){function g(s){this.enc="der",this.name=s.name,this.entity=s,this.tree=new C,this.tree._init(s.body)}function C(s){o.call(this,"der",s)}function E(s,r){let d=s.readUInt8(r);if(s.isError(d))return d;const c=h.tagClass[d>>6],f=(32&d)==0;if((31&d)==31){let k=d;for(d=0;(128&k)==128;){if(k=s.readUInt8(r),s.isError(k))return k;d<<=7,d|=127&k}}else d&=31;const u=h.tag[d];return{cls:c,primitive:f,tag:d,tagStr:u}}function y(s,r,d){let c=s.readUInt8(d);if(s.isError(c))return c;if(!r&&c===128)return null;if((128&c)==0)return c;const f=127&c;if(4<f)return s.error("length octect is too long");c=0;for(let u=0;u<f;u++){c<<=8;const k=s.readUInt8(d);if(s.isError(k))return k;c|=k}return c}const i=x("inherits"),m=x("bn.js"),a=x("../base/buffer").DecoderBuffer,o=x("../base/node"),h=x("../constants/der");V.exports=g,g.prototype.decode=function(r,d){return a.isDecoderBuffer(r)||(r=new a(r,d)),this.tree._decode(r,d)},i(C,o),C.prototype._peekTag=function(r,d,c){if(r.isEmpty())return!1;const f=r.save(),u=E(r,'Failed to peek tag: "'+d+'"');return r.isError(u)?u:(r.restore(f),u.tag===d||u.tagStr===d||u.tagStr+"of"===d||c)},C.prototype._decodeTag=function(r,d,c){const f=E(r,'Failed to decode tag of "'+d+'"');if(r.isError(f))return f;let u=y(r,f.primitive,'Failed to get length of "'+d+'"');if(r.isError(u))return u;if(!c&&f.tag!==d&&f.tagStr!==d&&f.tagStr+"of"!==d)return r.error('Failed to match tag: "'+d+'"');if(f.primitive||u!==null)return r.skip(u,'Failed to match body of: "'+d+'"');const k=r.save(),R=this._skipUntilEnd(r,'Failed to skip indefinite length body: "'+this.tag+'"');return r.isError(R)?R:(u=r.offset-k.offset,r.restore(k),r.skip(u,'Failed to match body of: "'+d+'"'))},C.prototype._skipUntilEnd=function(r,d){for(;;){const c=E(r,d);if(r.isError(c))return c;const f=y(r,c.primitive,d);if(r.isError(f))return f;let u;if(u=c.primitive||f!==null?r.skip(f):this._skipUntilEnd(r,d),r.isError(u))return u;if(c.tagStr==="end")break}},C.prototype._decodeList=function(r,d,c,f){const u=[];for(;!r.isEmpty();){const k=this._peekTag(r,"end");if(r.isError(k))return k;const R=c.decode(r,"der",f);if(r.isError(R)&&k)break;u.push(R)}return u},C.prototype._decodeStr=function(r,d){if(d==="bitstr"){const c=r.readUInt8();return r.isError(c)?c:{unused:c,data:r.raw()}}if(d==="bmpstr"){const c=r.raw();if(c.length%2==1)return r.error("Decoding of string type: bmpstr length mismatch");let f="";for(let u=0;u<c.length/2;u++)f+=_e(c.readUInt16BE(2*u));return f}if(d==="numstr"){const c=r.raw().toString("ascii");return this._isNumstr(c)?c:r.error("Decoding of string type: numstr unsupported characters")}if(d==="octstr"||d==="objDesc")return r.raw();if(d==="printstr"){const c=r.raw().toString("ascii");return this._isPrintstr(c)?c:r.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(d)?r.raw().toString():r.error("Decoding of string type: "+d+" unsupported")},C.prototype._decodeObjid=function(r,d,c){let f;const u=[];let k=0,R=0;for(;!r.isEmpty();)R=r.readUInt8(),k<<=7,k|=127&R,(128&R)==0&&(u.push(k),k=0);128&R&&u.push(k);const A=0|u[0]/40,w=u[0]%40;if(f=c?u:[A,w].concat(u.slice(1)),d){let I=d[f.join(" ")];I===void 0&&(I=d[f.join(".")]),I!==void 0&&(f=I)}return f},C.prototype._decodeTime=function(r,d){const c=r.raw().toString();let f,u,k,R,A,w;if(d==="gentime")f=0|c.slice(0,4),u=0|c.slice(4,6),k=0|c.slice(6,8),R=0|c.slice(8,10),A=0|c.slice(10,12),w=0|c.slice(12,14);else if(d==="utctime")f=0|c.slice(0,2),u=0|c.slice(2,4),k=0|c.slice(4,6),R=0|c.slice(6,8),A=0|c.slice(8,10),w=0|c.slice(10,12),f=70>f?2e3+f:1900+f;else return r.error("Decoding "+d+" time is not supported yet");return Date.UTC(f,u-1,k,R,A,w,0)},C.prototype._decodeNull=function(){return null},C.prototype._decodeBool=function(r){const d=r.readUInt8();return r.isError(d)?d:d!==0},C.prototype._decodeInt=function(r,d){const c=r.raw();let f=new m(c);return d&&(f=d[f.toString(10)]||f),f},C.prototype._use=function(r,d){return typeof r=="function"&&(r=r(d)),r._getDecoder("der").tree}},{"../base/buffer":10,"../base/node":12,"../constants/der":14,"bn.js":22,inherits:146}],17:[function(x,V,O){const g=O;g.der=x("./der"),g.pem=x("./pem")},{"./der":16,"./pem":18}],18:[function(x,V,O){function g(i){y.call(this,i),this.enc="pem"}const C=x("inherits"),E=x("safer-buffer").Buffer,y=x("./der");C(g,y),V.exports=g,g.prototype.decode=function(m,a){const o=m.toString().split(/[\r\n]+/g),h=a.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/;let r=-1,d=-1;for(let u=0;u<o.length;u++){const k=o[u].match(s);if(k!==null&&k[2]===h)if(r===-1){if(k[1]!=="BEGIN")break;r=u}else{if(k[1]!=="END")break;d=u;break}}if(r===-1||d===-1)throw new Error("PEM section not found for: "+h);const c=o.slice(r+1,d).join("");c.replace(/[^a-z0-9+/=]+/gi,"");const f=E.from(c,"base64");return y.prototype.decode.call(this,f,a)}},{"./der":16,inherits:146,"safer-buffer":235}],19:[function(x,V,O){function g(h){this.enc="der",this.name=h.name,this.entity=h,this.tree=new C,this.tree._init(h.body)}function C(h){a.call(this,"der",h)}function E(h){return 10>h?"0"+h:h}function y(h,s,r,d){let c;if(h==="seqof"?h="seq":h=="setof"&&(h="set"),o.tagByName.hasOwnProperty(h))c=o.tagByName[h];else if(typeof h=="number"&&(0|h)===h)c=h;else return d.error("Unknown tag: "+h);return 31<=c?d.error("Multi-octet tag encoding unsupported"):(s||(c|=32),c|=o.tagClassByName[r||"universal"]<<6,c)}const i=x("inherits"),m=x("safer-buffer").Buffer,a=x("../base/node"),o=x("../constants/der");V.exports=g,g.prototype.encode=function(s,r){return this.tree._encode(s,r).join()},i(C,a),C.prototype._encodeComposite=function(s,r,d,c){const f=y(s,r,d,this.reporter);if(128>c.length){const R=m.alloc(2);return R[0]=f,R[1]=c.length,this._createEncoderBuffer([R,c])}let u=1;for(let R=c.length;256<=R;R>>=8)u++;const k=m.alloc(2+u);k[0]=f,k[1]=128|u;for(let R=1+u,A=c.length;0<A;R--,A>>=8)k[R]=255&A;return this._createEncoderBuffer([k,c])},C.prototype._encodeStr=function(s,r){if(r==="bitstr")return this._createEncoderBuffer([0|s.unused,s.data]);if(r==="bmpstr"){const d=m.alloc(2*s.length);for(let c=0;c<s.length;c++)d.writeUInt16BE(s.charCodeAt(c),2*c);return this._createEncoderBuffer(d)}return r==="numstr"?this._isNumstr(s)?this._createEncoderBuffer(s):this.reporter.error("Encoding of string type: numstr supports only digits and space"):r==="printstr"?this._isPrintstr(s)?this._createEncoderBuffer(s):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(r)?this._createEncoderBuffer(s):r==="objDesc"?this._createEncoderBuffer(s):this.reporter.error("Encoding of string type: "+r+" unsupported")},C.prototype._encodeObjid=function(s,r,d){if(typeof s=="string"){if(!r)return this.reporter.error("string objid given, but no values map found");if(!r.hasOwnProperty(s))return this.reporter.error("objid not found in values map");s=r[s].split(/[\s.]+/g);for(let k=0;k<s.length;k++)s[k]|=0}else if(Array.isArray(s)){s=s.slice();for(let k=0;k<s.length;k++)s[k]|=0}if(!Array.isArray(s))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(s));if(!d){if(40<=s[1])return this.reporter.error("Second objid identifier OOB");s.splice(0,2,40*s[0]+s[1])}let c=0;for(let k=0,R;k<s.length;k++)for(R=s[k],c++;128<=R;R>>=7)c++;const f=m.alloc(c);let u=f.length-1;for(let k=s.length-1,R;0<=k;k--)for(R=s[k],f[u--]=127&R;0<(R>>=7);)f[u--]=128|127&R;return this._createEncoderBuffer(f)},C.prototype._encodeTime=function(s,r){let d;const c=new Date(s);return r==="gentime"?d=[E(c.getUTCFullYear()),E(c.getUTCMonth()+1),E(c.getUTCDate()),E(c.getUTCHours()),E(c.getUTCMinutes()),E(c.getUTCSeconds()),"Z"].join(""):r==="utctime"?d=[E(c.getUTCFullYear()%100),E(c.getUTCMonth()+1),E(c.getUTCDate()),E(c.getUTCHours()),E(c.getUTCMinutes()),E(c.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+r+" time is not supported yet"),this._encodeStr(d,"octstr")},C.prototype._encodeNull=function(){return this._createEncoderBuffer("")},C.prototype._encodeInt=function(s,r){if(typeof s=="string"){if(!r)return this.reporter.error("String int or enum given, but no values map");if(!r.hasOwnProperty(s))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(s));s=r[s]}if(typeof s!="number"&&!m.isBuffer(s)){const f=s.toArray();!s.sign&&128&f[0]&&f.unshift(0),s=m.from(f)}if(m.isBuffer(s)){let f=s.length;s.length===0&&f++;const u=m.alloc(f);return s.copy(u),s.length===0&&(u[0]=0),this._createEncoderBuffer(u)}if(128>s)return this._createEncoderBuffer(s);if(256>s)return this._createEncoderBuffer([0,s]);let d=1;for(let f=s;256<=f;f>>=8)d++;const c=Array(d);for(let f=c.length-1;0<=f;f--)c[f]=255&s,s>>=8;return 128&c[0]&&c.unshift(0),this._createEncoderBuffer(m.from(c))},C.prototype._encodeBool=function(s){return this._createEncoderBuffer(s?255:0)},C.prototype._use=function(s,r){return typeof s=="function"&&(s=s(r)),s._getEncoder("der").tree},C.prototype._skipDefault=function(s,r,d){const c=this._baseState;let f;if(c.default===null)return!1;const u=s.join();if(c.defaultBuffer===void 0&&(c.defaultBuffer=this._encodeValue(c.default,r,d).join()),u.length!==c.defaultBuffer.length)return!1;for(f=0;f<u.length;f++)if(u[f]!==c.defaultBuffer[f])return!1;return!0}},{"../base/node":12,"../constants/der":14,inherits:146,"safer-buffer":235}],20:[function(x,V,O){const g=O;g.der=x("./der"),g.pem=x("./pem")},{"./der":19,"./pem":21}],21:[function(x,V,O){function g(y){E.call(this,y),this.enc="pem"}const C=x("inherits"),E=x("./der");C(g,E),V.exports=g,g.prototype.encode=function(i,m){const a=E.prototype.encode.call(this,i),o=a.toString("base64"),h=["-----BEGIN "+m.label+"-----"];for(let s=0;s<o.length;s+=64)h.push(o.slice(s,s+64));return h.push("-----END "+m.label+"-----"),h.join(`
`)}},{"./der":19,inherits:146}],22:[function(x,V,O){(function(g,C){function E(Y,B){if(!Y)throw new Error(B||"Assertion failed")}function y(Y,B){Y.super_=B;var _=function(){};_.prototype=B.prototype,Y.prototype=new _,Y.prototype.constructor=Y}function i(Y,B,_){return i.isBN(Y)?Y:(this.negative=0,this.words=null,this.length=0,this.red=null,void(Y!==null&&((B==="le"||B==="be")&&(_=B,B=10),this._init(Y||0,B||10,_||"be"))))}function m(Y,B){var _=Y.charCodeAt(B);return 65<=_&&70>=_?_-55:97<=_&&102>=_?_-87:15&_-48}function a(Y,B,_){var p=m(Y,_);return _-1>=B&&(p|=m(Y,_-1)<<4),p}function o(Y,B,_,p){for(var T=0,M=ke(Y.length,_),F=B,j;F<M;F++)j=Y.charCodeAt(F)-48,T*=p,T+=49<=j?j-49+10:17<=j?j-17+10:j;return T}function h(Y){for(var B=Array(Y.bitLength()),_=0;_<B.length;_++){var p=0|_/26,T=_%26;B[_]=(Y.words[p]&1<<T)>>>T}return B}function s(Y,B,_){_.negative=B.negative^Y.negative;var p=0|Y.length+B.length;_.length=p,p=0|p-1;var T=0|Y.words[0],M=0|B.words[0],F=T*M,j=67108863&F,U=0|F/67108864;_.words[0]=j;for(var K=1;K<p;K++){for(var Q=U>>>26,ee=67108863&U,fe=ke(K,B.length-1),ae=be(0,K-Y.length+1),me;ae<=fe;ae++)me=0|K-ae,T=0|Y.words[me],M=0|B.words[ae],F=T*M+ee,Q+=0|F/67108864,ee=67108863&F;_.words[K]=0|ee,U=0|Q}return U===0?_.length--:_.words[K]=0|U,_.strip()}function r(Y,B,_){_.negative=B.negative^Y.negative,_.length=Y.length+B.length;for(var p=0,T=0,M=0,F;M<_.length-1;M++){F=T,T=0;for(var j=67108863&p,U=ke(M,B.length-1),K=be(0,M-Y.length+1);K<=U;K++){var Q=M-K,ee=0|Y.words[Q],fe=0|B.words[K],ae=ee*fe,me=67108863&ae;F=0|F+(0|ae/67108864),me=0|me+j,j=67108863&me,F=0|F+(me>>>26),T+=F>>>26,F&=67108863}_.words[M]=j,p=F,F=T}return p===0?_.length--:_.words[M]=p,_.strip()}function d(Y,B,_){var p=new c;return p.mulp(Y,B,_)}function c(Y,B){this.x=Y,this.y=B}function f(Y,B){this.name=Y,this.p=new i(B,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function u(){f.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function k(){f.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function R(){f.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function A(){f.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function w(Y){if(typeof Y=="string"){var B=i._prime(Y);this.m=B.p,this.prime=B}else E(Y.gtn(1),"modulus must be greater than 1"),this.m=Y,this.prime=null}function I(Y){w.call(this,Y),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}typeof g=="object"?g.exports=i:C.BN=i,i.BN=i,i.wordSize=26;var N;try{N=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:x("buffer").Buffer}catch{}i.isBN=function(B){return B instanceof i||B!==null&&typeof B=="object"&&B.constructor.wordSize===i.wordSize&&Array.isArray(B.words)},i.max=function(B,_){return 0<B.cmp(_)?B:_},i.min=function(B,_){return 0>B.cmp(_)?B:_},i.prototype._init=function(B,_,p){if(typeof B=="number")return this._initNumber(B,_,p);if(typeof B=="object")return this._initArray(B,_,p);_==="hex"&&(_=16),E(_===(0|_)&&2<=_&&36>=_),B=B.toString().replace(/\s+/g,"");var T=0;B[0]==="-"&&(T++,this.negative=1),T<B.length&&(_===16?this._parseHex(B,T,p):(this._parseBase(B,_,T),p==="le"&&this._initArray(this.toArray(),_,p)))},i.prototype._initNumber=function(B,_,p){0>B&&(this.negative=1,B=-B),67108864>B?(this.words=[67108863&B],this.length=1):4503599627370496>B?(this.words=[67108863&B,67108863&B/67108864],this.length=2):(E(9007199254740992>B),this.words=[67108863&B,67108863&B/67108864,1],this.length=3),p!=="le"||this._initArray(this.toArray(),_,p)},i.prototype._initArray=function(B,_,p){if(E(typeof B.length=="number"),0>=B.length)return this.words=[0],this.length=1,this;this.length=Ee(B.length/3),this.words=Array(this.length);for(var T=0;T<this.length;T++)this.words[T]=0;var M=0,F,j;if(p==="be")for(T=B.length-1,F=0;0<=T;T-=3)j=B[T]|B[T-1]<<8|B[T-2]<<16,this.words[F]|=67108863&j<<M,this.words[F+1]=67108863&j>>>26-M,M+=24,26<=M&&(M-=26,F++);else if(p==="le")for(T=0,F=0;T<B.length;T+=3)j=B[T]|B[T+1]<<8|B[T+2]<<16,this.words[F]|=67108863&j<<M,this.words[F+1]=67108863&j>>>26-M,M+=24,26<=M&&(M-=26,F++);return this.strip()},i.prototype._parseHex=function(B,_,p){this.length=Ee((B.length-_)/6),this.words=Array(this.length);for(var T=0;T<this.length;T++)this.words[T]=0;var M=0,F=0,j;if(p==="be")for(T=B.length-1;T>=_;T-=2)j=a(B,_,T)<<M,this.words[F]|=67108863&j,18<=M?(M-=18,F+=1,this.words[F]|=j>>>26):M+=8;else{var U=B.length-_;for(T=U%2==0?_+1:_;T<B.length;T+=2)j=a(B,_,T)<<M,this.words[F]|=67108863&j,18<=M?(M-=18,F+=1,this.words[F]|=j>>>26):M+=8}this.strip()},i.prototype._parseBase=function(B,_,p){this.words=[0],this.length=1;for(var T=0,M=1;67108863>=M;M*=_)T++;T--,M=0|M/_;for(var F=B.length-p,j=F%T,U=ke(F,F-j)+p,K=0,Q=p;Q<U;Q+=T)K=o(B,Q,Q+T,_),this.imuln(M),67108864>this.words[0]+K?this.words[0]+=K:this._iaddn(K);if(j!==0){var ee=1;for(K=o(B,Q,B.length,_),Q=0;Q<j;Q++)ee*=_;this.imuln(ee),67108864>this.words[0]+K?this.words[0]+=K:this._iaddn(K)}this.strip()},i.prototype.copy=function(B){B.words=Array(this.length);for(var _=0;_<this.length;_++)B.words[_]=this.words[_];B.length=this.length,B.negative=this.negative,B.red=this.red},i.prototype.clone=function(){var B=new i(null);return this.copy(B),B},i.prototype._expand=function(B){for(;this.length<B;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;1<this.length&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var L=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],G=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],J=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(B,_){B=B||10,_=0|_||1;var p;if(B===16||B==="hex"){p="";for(var T=0,M=0,F=0;F<this.length;F++){var j=this.words[F],U=(16777215&(j<<T|M)).toString(16);M=16777215&j>>>24-T,p=M!==0||F!==this.length-1?L[6-U.length]+U+p:U+p,T+=2,26<=T&&(T-=26,F--)}for(M!==0&&(p=M.toString(16)+p);p.length%_!=0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(B===(0|B)&&2<=B&&36>=B){var K=G[B],Q=J[B];p="";var ee=this.clone();for(ee.negative=0;!ee.isZero();){var fe=ee.modn(Q).toString(B);ee=ee.idivn(Q),p=ee.isZero()?fe+p:L[K-fe.length]+fe+p}for(this.isZero()&&(p="0"+p);p.length%_!=0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}E(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var B=this.words[0];return this.length===2?B+=67108864*this.words[1]:this.length===3&&this.words[2]===1?B+=4503599627370496+67108864*this.words[1]:2<this.length&&E(!1,"Number can only safely store up to 53 bits"),this.negative===0?B:-B},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(B,_){return E(typeof N<"u"),this.toArrayLike(N,B,_)},i.prototype.toArray=function(B,_){return this.toArrayLike(Array,B,_)},i.prototype.toArrayLike=function(B,_,p){var T=this.byteLength(),M=p||be(1,T);E(T<=M,"byte array longer than desired length"),E(0<M,"Requested array length <= 0"),this.strip();var F=_==="le",j=new B(M),U=this.clone(),K,Q;if(F){for(Q=0;!U.isZero();Q++)K=U.andln(255),U.iushrn(8),j[Q]=K;for(;Q<M;Q++)j[Q]=0}else{for(Q=0;Q<M-T;Q++)j[Q]=0;for(Q=0;!U.isZero();Q++)K=U.andln(255),U.iushrn(8),j[M-Q-1]=K}return j},i.prototype._countBits=ie?function(B){return 32-ie(B)}:function(B){var _=B,p=0;return 4096<=_&&(p+=13,_>>>=13),64<=_&&(p+=7,_>>>=7),8<=_&&(p+=4,_>>>=4),2<=_&&(p+=2,_>>>=2),p+_},i.prototype._zeroBits=function(B){if(B===0)return 26;var _=B,p=0;return(8191&_)==0&&(p+=13,_>>>=13),(127&_)==0&&(p+=7,_>>>=7),(15&_)==0&&(p+=4,_>>>=4),(3&_)==0&&(p+=2,_>>>=2),(1&_)==0&&p++,p},i.prototype.bitLength=function(){var B=this.words[this.length-1],_=this._countBits(B);return 26*(this.length-1)+_},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var B=0,_=0,p;_<this.length&&(p=this._zeroBits(this.words[_]),B+=p,p===26);_++);return B},i.prototype.byteLength=function(){return Ee(this.bitLength()/8)},i.prototype.toTwos=function(B){return this.negative===0?this.clone():this.abs().inotn(B).iaddn(1)},i.prototype.fromTwos=function(B){return this.testn(B-1)?this.notn(B).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(B){for(;this.length<B.length;)this.words[this.length++]=0;for(var _=0;_<B.length;_++)this.words[_]|=B.words[_];return this.strip()},i.prototype.ior=function(B){return E((this.negative|B.negative)==0),this.iuor(B)},i.prototype.or=function(B){return this.length>B.length?this.clone().ior(B):B.clone().ior(this)},i.prototype.uor=function(B){return this.length>B.length?this.clone().iuor(B):B.clone().iuor(this)},i.prototype.iuand=function(B){var _;_=this.length>B.length?B:this;for(var p=0;p<_.length;p++)this.words[p]&=B.words[p];return this.length=_.length,this.strip()},i.prototype.iand=function(B){return E((this.negative|B.negative)==0),this.iuand(B)},i.prototype.and=function(B){return this.length>B.length?this.clone().iand(B):B.clone().iand(this)},i.prototype.uand=function(B){return this.length>B.length?this.clone().iuand(B):B.clone().iuand(this)},i.prototype.iuxor=function(B){var _,p;this.length>B.length?(_=this,p=B):(_=B,p=this);for(var T=0;T<p.length;T++)this.words[T]=_.words[T]^p.words[T];if(this!==_)for(;T<_.length;T++)this.words[T]=_.words[T];return this.length=_.length,this.strip()},i.prototype.ixor=function(B){return E((this.negative|B.negative)==0),this.iuxor(B)},i.prototype.xor=function(B){return this.length>B.length?this.clone().ixor(B):B.clone().ixor(this)},i.prototype.uxor=function(B){return this.length>B.length?this.clone().iuxor(B):B.clone().iuxor(this)},i.prototype.inotn=function(B){E(typeof B=="number"&&0<=B);var _=0|Ee(B/26),p=B%26;this._expand(_),0<p&&_--;for(var T=0;T<_;T++)this.words[T]=67108863&~this.words[T];return 0<p&&(this.words[T]=~this.words[T]&67108863>>26-p),this.strip()},i.prototype.notn=function(B){return this.clone().inotn(B)},i.prototype.setn=function(B,_){E(typeof B=="number"&&0<=B);var p=0|B/26,T=B%26;return this._expand(p+1),_?this.words[p]|=1<<T:this.words[p]&=~(1<<T),this.strip()},i.prototype.iadd=function(B){var _;if(this.negative!==0&&B.negative===0)return this.negative=0,_=this.isub(B),this.negative^=1,this._normSign();if(this.negative===0&&B.negative!==0)return B.negative=0,_=this.isub(B),B.negative=1,_._normSign();var p,T;this.length>B.length?(p=this,T=B):(p=B,T=this);for(var M=0,F=0;F<T.length;F++)_=(0|p.words[F])+(0|T.words[F])+M,this.words[F]=67108863&_,M=_>>>26;for(;M!==0&&F<p.length;F++)_=(0|p.words[F])+M,this.words[F]=67108863&_,M=_>>>26;if(this.length=p.length,M!==0)this.words[this.length]=M,this.length++;else if(p!==this)for(;F<p.length;F++)this.words[F]=p.words[F];return this},i.prototype.add=function(B){var _;return B.negative!==0&&this.negative===0?(B.negative=0,_=this.sub(B),B.negative^=1,_):B.negative===0&&this.negative!==0?(this.negative=0,_=B.sub(this),this.negative=1,_):this.length>B.length?this.clone().iadd(B):B.clone().iadd(this)},i.prototype.isub=function(B){if(B.negative!==0){B.negative=0;var _=this.iadd(B);return B.negative=1,_._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(B),this.negative=1,this._normSign();var p=this.cmp(B);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var T,M;0<p?(T=this,M=B):(T=B,M=this);for(var F=0,j=0;j<M.length;j++)_=(0|T.words[j])-(0|M.words[j])+F,F=_>>26,this.words[j]=67108863&_;for(;F!==0&&j<T.length;j++)_=(0|T.words[j])+F,F=_>>26,this.words[j]=67108863&_;if(F===0&&j<T.length&&T!==this)for(;j<T.length;j++)this.words[j]=T.words[j];return this.length=be(this.length,j),T!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(B){return this.clone().isub(B)};var se=function(B,_,p){var T=B.words,M=_.words,F=p.words,j=0,U=0|T[0],K=8191&U,Q=U>>>13,ee=0|T[1],fe=8191&ee,ae=ee>>>13,me=0|T[2],he=8191&me,Se=me>>>13,Ae=0|T[3],pe=8191&Ae,ge=Ae>>>13,xe=0|T[4],Ce=8191&xe,de=xe>>>13,q=0|T[5],P=8191&q,H=q>>>13,Z=0|T[6],oe=8191&Z,ue=Z>>>13,ve=0|T[7],Re=8191&ve,Pe=ve>>>13,Ie=0|T[8],Be=8191&Ie,De=Ie>>>13,Ne=0|T[9],Le=8191&Ne,We=Ne>>>13,Ge=0|M[0],je=8191&Ge,ot=Ge>>>13,ct=0|M[1],ze=8191&ct,lt=ct>>>13,ht=0|M[2],He=8191&ht,rt=ht>>>13,mt=0|M[3],Ve=8191&mt,gt=mt>>>13,vt=0|M[4],Ke=8191&vt,St=vt>>>13,bt=0|M[5],qe=8191&bt,xt=bt>>>13,kt=0|M[6],Je=8191&kt,Ct=kt>>>13,Tt=0|M[7],Ye=8191&Tt,Rt=Tt>>>13,At=0|M[8],Xe=8191&At,It=At>>>13,yt=0|M[9],Ze=8191&yt,_t=yt>>>13,ye,te,re;p.negative=B.negative^_.negative,p.length=19,ye=b(K,je),te=b(K,ot),te=0|te+b(Q,je),re=b(Q,ot);var ne=0|(0|j+ye)+((8191&te)<<13);j=0|(0|re+(te>>>13))+(ne>>>26),ne&=67108863,ye=b(fe,je),te=b(fe,ot),te=0|te+b(ae,je),re=b(ae,ot),ye=0|ye+b(K,ze),te=0|te+b(K,lt),te=0|te+b(Q,ze),re=0|re+b(Q,lt);var we=0|(0|j+ye)+((8191&te)<<13);j=0|(0|re+(te>>>13))+(we>>>26),we&=67108863,ye=b(he,je),te=b(he,ot),te=0|te+b(Se,je),re=b(Se,ot),ye=0|ye+b(fe,ze),te=0|te+b(fe,lt),te=0|te+b(ae,ze),re=0|re+b(ae,lt),ye=0|ye+b(K,He),te=0|te+b(K,rt),te=0|te+b(Q,He),re=0|re+b(Q,rt);var un=0|(0|j+ye)+((8191&te)<<13);j=0|(0|re+(te>>>13))+(un>>>26),un&=67108863,ye=b(pe,je),te=b(pe,ot),te=0|te+b(ge,je),re=b(ge,ot),ye=0|ye+b(he,ze),te=0|te+b(he,lt),te=0|te+b(Se,ze),re=0|re+b(Se,lt),ye=0|ye+b(fe,He),te=0|te+b(fe,rt),te=0|te+b(ae,He),re=0|re+b(ae,rt),ye=0|ye+b(K,Ve),te=0|te+b(K,gt),te=0|te+b(Q,Ve),re=0|re+b(Q,gt);var kn=0|(0|j+ye)+((8191&te)<<13);j=0|(0|re+(te>>>13))+(kn>>>26),kn&=67108863,ye=b(Ce,je),te=b(Ce,ot),te=0|te+b(de,je),re=b(de,ot),ye=0|ye+b(pe,ze),te=0|te+b(pe,lt),te=0|te+b(ge,ze),re=0|re+b(ge,lt),ye=0|ye+b(he,He),te=0|te+b(he,rt),te=0|te+b(Se,He),re=0|re+b(Se,rt),ye=0|ye+b(fe,Ve),te=0|te+b(fe,gt),te=0|te+b(ae,Ve),re=0|re+b(ae,gt),ye=0|ye+b(K,Ke),te=0|te+b(K,St),te=0|te+b(Q,Ke),re=0|re+b(Q,St);var Cn=0|(0|j+ye)+((8191&te)<<13);j=0|(0|re+(te>>>13))+(Cn>>>26),Cn&=67108863,ye=b(P,je),te=b(P,ot),te=0|te+b(H,je),re=b(H,ot),ye=0|ye+b(Ce,ze),te=0|te+b(Ce,lt),te=0|te+b(de,ze),re=0|re+b(de,lt),ye=0|ye+b(pe,He),te=0|te+b(pe,rt),te=0|te+b(ge,He),re=0|re+b(ge,rt),ye=0|ye+b(he,Ve),te=0|te+b(he,gt),te=0|te+b(Se,Ve),re=0|re+b(Se,gt),ye=0|ye+b(fe,Ke),te=0|te+b(fe,St),te=0|te+b(ae,Ke),re=0|re+b(ae,St),ye=0|ye+b(K,qe),te=0|te+b(K,xt),te=0|te+b(Q,qe),re=0|re+b(Q,xt);var Tn=0|(0|j+ye)+((8191&te)<<13);j=0|(0|re+(te>>>13))+(Tn>>>26),Tn&=67108863,ye=b(oe,je),te=b(oe,ot),te=0|te+b(ue,je),re=b(ue,ot),ye=0|ye+b(P,ze),te=0|te+b(P,lt),te=0|te+b(H,ze),re=0|re+b(H,lt),ye=0|ye+b(Ce,He),te=0|te+b(Ce,rt),te=0|te+b(de,He),re=0|re+b(de,rt),ye=0|ye+b(pe,Ve),te=0|te+b(pe,gt),te=0|te+b(ge,Ve),re=0|re+b(ge,gt),ye=0|ye+b(he,Ke),te=0|te+b(he,St),te=0|te+b(Se,Ke),re=0|re+b(Se,St),ye=0|ye+b(fe,qe),te=0|te+b(fe,xt),te=0|te+b(ae,qe),re=0|re+b(ae,xt),ye=0|ye+b(K,Je),te=0|te+b(K,Ct),te=0|te+b(Q,Je),re=0|re+b(Q,Ct);var sn=0|(0|j+ye)+((8191&te)<<13);j=0|(0|re+(te>>>13))+(sn>>>26),sn&=67108863,ye=b(Re,je),te=b(Re,ot),te=0|te+b(Pe,je),re=b(Pe,ot),ye=0|ye+b(oe,ze),te=0|te+b(oe,lt),te=0|te+b(ue,ze),re=0|re+b(ue,lt),ye=0|ye+b(P,He),te=0|te+b(P,rt),te=0|te+b(H,He),re=0|re+b(H,rt),ye=0|ye+b(Ce,Ve),te=0|te+b(Ce,gt),te=0|te+b(de,Ve),re=0|re+b(de,gt),ye=0|ye+b(pe,Ke),te=0|te+b(pe,St),te=0|te+b(ge,Ke),re=0|re+b(ge,St),ye=0|ye+b(he,qe),te=0|te+b(he,xt),te=0|te+b(Se,qe),re=0|re+b(Se,xt),ye=0|ye+b(fe,Je),te=0|te+b(fe,Ct),te=0|te+b(ae,Je),re=0|re+b(ae,Ct),ye=0|ye+b(K,Ye),te=0|te+b(K,Rt),te=0|te+b(Q,Ye),re=0|re+b(Q,Rt);var Qt=0|(0|j+ye)+((8191&te)<<13);j=0|(0|re+(te>>>13))+(Qt>>>26),Qt&=67108863,ye=b(Be,je),te=b(Be,ot),te=0|te+b(De,je),re=b(De,ot),ye=0|ye+b(Re,ze),te=0|te+b(Re,lt),te=0|te+b(Pe,ze),re=0|re+b(Pe,lt),ye=0|ye+b(oe,He),te=0|te+b(oe,rt),te=0|te+b(ue,He),re=0|re+b(ue,rt),ye=0|ye+b(P,Ve),te=0|te+b(P,gt),te=0|te+b(H,Ve),re=0|re+b(H,gt),ye=0|ye+b(Ce,Ke),te=0|te+b(Ce,St),te=0|te+b(de,Ke),re=0|re+b(de,St),ye=0|ye+b(pe,qe),te=0|te+b(pe,xt),te=0|te+b(ge,qe),re=0|re+b(ge,xt),ye=0|ye+b(he,Je),te=0|te+b(he,Ct),te=0|te+b(Se,Je),re=0|re+b(Se,Ct),ye=0|ye+b(fe,Ye),te=0|te+b(fe,Rt),te=0|te+b(ae,Ye),re=0|re+b(ae,Rt),ye=0|ye+b(K,Xe),te=0|te+b(K,It),te=0|te+b(Q,Xe),re=0|re+b(Q,It);var Rn=0|(0|j+ye)+((8191&te)<<13);j=0|(0|re+(te>>>13))+(Rn>>>26),Rn&=67108863,ye=b(Le,je),te=b(Le,ot),te=0|te+b(We,je),re=b(We,ot),ye=0|ye+b(Be,ze),te=0|te+b(Be,lt),te=0|te+b(De,ze),re=0|re+b(De,lt),ye=0|ye+b(Re,He),te=0|te+b(Re,rt),te=0|te+b(Pe,He),re=0|re+b(Pe,rt),ye=0|ye+b(oe,Ve),te=0|te+b(oe,gt),te=0|te+b(ue,Ve),re=0|re+b(ue,gt),ye=0|ye+b(P,Ke),te=0|te+b(P,St),te=0|te+b(H,Ke),re=0|re+b(H,St),ye=0|ye+b(Ce,qe),te=0|te+b(Ce,xt),te=0|te+b(de,qe),re=0|re+b(de,xt),ye=0|ye+b(pe,Je),te=0|te+b(pe,Ct),te=0|te+b(ge,Je),re=0|re+b(ge,Ct),ye=0|ye+b(he,Ye),te=0|te+b(he,Rt),te=0|te+b(Se,Ye),re=0|re+b(Se,Rt),ye=0|ye+b(fe,Xe),te=0|te+b(fe,It),te=0|te+b(ae,Xe),re=0|re+b(ae,It),ye=0|ye+b(K,Ze),te=0|te+b(K,_t),te=0|te+b(Q,Ze),re=0|re+b(Q,_t);var pn=0|(0|j+ye)+((8191&te)<<13);j=0|(0|re+(te>>>13))+(pn>>>26),pn&=67108863,ye=b(Le,ze),te=b(Le,lt),te=0|te+b(We,ze),re=b(We,lt),ye=0|ye+b(Be,He),te=0|te+b(Be,rt),te=0|te+b(De,He),re=0|re+b(De,rt),ye=0|ye+b(Re,Ve),te=0|te+b(Re,gt),te=0|te+b(Pe,Ve),re=0|re+b(Pe,gt),ye=0|ye+b(oe,Ke),te=0|te+b(oe,St),te=0|te+b(ue,Ke),re=0|re+b(ue,St),ye=0|ye+b(P,qe),te=0|te+b(P,xt),te=0|te+b(H,qe),re=0|re+b(H,xt),ye=0|ye+b(Ce,Je),te=0|te+b(Ce,Ct),te=0|te+b(de,Je),re=0|re+b(de,Ct),ye=0|ye+b(pe,Ye),te=0|te+b(pe,Rt),te=0|te+b(ge,Ye),re=0|re+b(ge,Rt),ye=0|ye+b(he,Xe),te=0|te+b(he,It),te=0|te+b(Se,Xe),re=0|re+b(Se,It),ye=0|ye+b(fe,Ze),te=0|te+b(fe,_t),te=0|te+b(ae,Ze),re=0|re+b(ae,_t);var mn=0|(0|j+ye)+((8191&te)<<13);j=0|(0|re+(te>>>13))+(mn>>>26),mn&=67108863,ye=b(Le,He),te=b(Le,rt),te=0|te+b(We,He),re=b(We,rt),ye=0|ye+b(Be,Ve),te=0|te+b(Be,gt),te=0|te+b(De,Ve),re=0|re+b(De,gt),ye=0|ye+b(Re,Ke),te=0|te+b(Re,St),te=0|te+b(Pe,Ke),re=0|re+b(Pe,St),ye=0|ye+b(oe,qe),te=0|te+b(oe,xt),te=0|te+b(ue,qe),re=0|re+b(ue,xt),ye=0|ye+b(P,Je),te=0|te+b(P,Ct),te=0|te+b(H,Je),re=0|re+b(H,Ct),ye=0|ye+b(Ce,Ye),te=0|te+b(Ce,Rt),te=0|te+b(de,Ye),re=0|re+b(de,Rt),ye=0|ye+b(pe,Xe),te=0|te+b(pe,It),te=0|te+b(ge,Xe),re=0|re+b(ge,It),ye=0|ye+b(he,Ze),te=0|te+b(he,_t),te=0|te+b(Se,Ze),re=0|re+b(Se,_t);var An=0|(0|j+ye)+((8191&te)<<13);j=0|(0|re+(te>>>13))+(An>>>26),An&=67108863,ye=b(Le,Ve),te=b(Le,gt),te=0|te+b(We,Ve),re=b(We,gt),ye=0|ye+b(Be,Ke),te=0|te+b(Be,St),te=0|te+b(De,Ke),re=0|re+b(De,St),ye=0|ye+b(Re,qe),te=0|te+b(Re,xt),te=0|te+b(Pe,qe),re=0|re+b(Pe,xt),ye=0|ye+b(oe,Je),te=0|te+b(oe,Ct),te=0|te+b(ue,Je),re=0|re+b(ue,Ct),ye=0|ye+b(P,Ye),te=0|te+b(P,Rt),te=0|te+b(H,Ye),re=0|re+b(H,Rt),ye=0|ye+b(Ce,Xe),te=0|te+b(Ce,It),te=0|te+b(de,Xe),re=0|re+b(de,It),ye=0|ye+b(pe,Ze),te=0|te+b(pe,_t),te=0|te+b(ge,Ze),re=0|re+b(ge,_t);var Fe=0|(0|j+ye)+((8191&te)<<13);j=0|(0|re+(te>>>13))+(Fe>>>26),Fe&=67108863,ye=b(Le,Ke),te=b(Le,St),te=0|te+b(We,Ke),re=b(We,St),ye=0|ye+b(Be,qe),te=0|te+b(Be,xt),te=0|te+b(De,qe),re=0|re+b(De,xt),ye=0|ye+b(Re,Je),te=0|te+b(Re,Ct),te=0|te+b(Pe,Je),re=0|re+b(Pe,Ct),ye=0|ye+b(oe,Ye),te=0|te+b(oe,Rt),te=0|te+b(ue,Ye),re=0|re+b(ue,Rt),ye=0|ye+b(P,Xe),te=0|te+b(P,It),te=0|te+b(H,Xe),re=0|re+b(H,It),ye=0|ye+b(Ce,Ze),te=0|te+b(Ce,_t),te=0|te+b(de,Ze),re=0|re+b(de,_t);var le=0|(0|j+ye)+((8191&te)<<13);j=0|(0|re+(te>>>13))+(le>>>26),le&=67108863,ye=b(Le,qe),te=b(Le,xt),te=0|te+b(We,qe),re=b(We,xt),ye=0|ye+b(Be,Je),te=0|te+b(Be,Ct),te=0|te+b(De,Je),re=0|re+b(De,Ct),ye=0|ye+b(Re,Ye),te=0|te+b(Re,Rt),te=0|te+b(Pe,Ye),re=0|re+b(Pe,Rt),ye=0|ye+b(oe,Xe),te=0|te+b(oe,It),te=0|te+b(ue,Xe),re=0|re+b(ue,It),ye=0|ye+b(P,Ze),te=0|te+b(P,_t),te=0|te+b(H,Ze),re=0|re+b(H,_t);var Me=0|(0|j+ye)+((8191&te)<<13);j=0|(0|re+(te>>>13))+(Me>>>26),Me&=67108863,ye=b(Le,Je),te=b(Le,Ct),te=0|te+b(We,Je),re=b(We,Ct),ye=0|ye+b(Be,Ye),te=0|te+b(Be,Rt),te=0|te+b(De,Ye),re=0|re+b(De,Rt),ye=0|ye+b(Re,Xe),te=0|te+b(Re,It),te=0|te+b(Pe,Xe),re=0|re+b(Pe,It),ye=0|ye+b(oe,Ze),te=0|te+b(oe,_t),te=0|te+b(ue,Ze),re=0|re+b(ue,_t);var Qe=0|(0|j+ye)+((8191&te)<<13);j=0|(0|re+(te>>>13))+(Qe>>>26),Qe&=67108863,ye=b(Le,Ye),te=b(Le,Rt),te=0|te+b(We,Ye),re=b(We,Rt),ye=0|ye+b(Be,Xe),te=0|te+b(Be,It),te=0|te+b(De,Xe),re=0|re+b(De,It),ye=0|ye+b(Re,Ze),te=0|te+b(Re,_t),te=0|te+b(Pe,Ze),re=0|re+b(Pe,_t);var tt=0|(0|j+ye)+((8191&te)<<13);j=0|(0|re+(te>>>13))+(tt>>>26),tt&=67108863,ye=b(Le,Xe),te=b(Le,It),te=0|te+b(We,Xe),re=b(We,It),ye=0|ye+b(Be,Ze),te=0|te+b(Be,_t),te=0|te+b(De,Ze),re=0|re+b(De,_t);var wt=0|(0|j+ye)+((8191&te)<<13);j=0|(0|re+(te>>>13))+(wt>>>26),wt&=67108863,ye=b(Le,Ze),te=b(Le,_t),te=0|te+b(We,Ze),re=b(We,_t);var at=0|(0|j+ye)+((8191&te)<<13);return j=0|(0|re+(te>>>13))+(at>>>26),at&=67108863,F[0]=ne,F[1]=we,F[2]=un,F[3]=kn,F[4]=Cn,F[5]=Tn,F[6]=sn,F[7]=Qt,F[8]=Rn,F[9]=pn,F[10]=mn,F[11]=An,F[12]=Fe,F[13]=le,F[14]=Me,F[15]=Qe,F[16]=tt,F[17]=wt,F[18]=at,j!==0&&(F[19]=j,p.length++),p};b||(se=s),i.prototype.mulTo=function(B,_){var p=this.length+B.length,T;return T=this.length===10&&B.length===10?se(this,B,_):63>p?s(this,B,_):1024>p?r(this,B,_):d(this,B,_),T},c.prototype.makeRBT=function(B){for(var _=Array(B),p=i.prototype._countBits(B)-1,T=0;T<B;T++)_[T]=this.revBin(T,p,B);return _},c.prototype.revBin=function(B,_,p){if(B===0||B===p-1)return B;for(var T=0,M=0;M<_;M++)T|=(1&B)<<_-M-1,B>>=1;return T},c.prototype.permute=function(B,_,p,T,M,F){for(var j=0;j<F;j++)T[j]=_[B[j]],M[j]=p[B[j]]},c.prototype.transform=function(B,_,p,T,M,F){this.permute(F,B,_,p,T,M);for(var j=1;j<M;j<<=1)for(var U=j<<1,K=W(2*X/U),Q=z(2*X/U),ee=0;ee<M;ee+=U)for(var fe=K,ae=Q,me=0;me<j;me++){var he=p[ee+me],Se=T[ee+me],Ae=p[ee+me+j],pe=T[ee+me+j],ge=fe*Ae-ae*pe;pe=fe*pe+ae*Ae,Ae=ge,p[ee+me]=he+Ae,T[ee+me]=Se+pe,p[ee+me+j]=he-Ae,T[ee+me+j]=Se-pe,me!==U&&(ge=K*fe-Q*ae,ae=K*ae+Q*fe,fe=ge)}},c.prototype.guessLen13b=function(B,_){var p=1|be(_,B),T=1&p,M=0;for(p=0|p/2;p;p>>>=1)M++;return 1<<M+1+T},c.prototype.conjugate=function(B,_,p){if(!(1>=p))for(var T=0,M;T<p/2;T++)M=B[T],B[T]=B[p-T-1],B[p-T-1]=M,M=_[T],_[T]=-_[p-T-1],_[p-T-1]=-M},c.prototype.normalize13b=function(B,_){for(var p=0,T=0,M;T<_/2;T++)M=8192*$(B[2*T+1]/_)+$(B[2*T]/_)+p,B[T]=67108863&M,p=67108864>M?0:0|M/67108864;return B},c.prototype.convert13b=function(B,_,p,T){for(var M=0,F=0;F<_;F++)M+=0|B[F],p[2*F]=8191&M,M>>>=13,p[2*F+1]=8191&M,M>>>=13;for(F=2*_;F<T;++F)p[F]=0;E(M===0),E((-8192&M)==0)},c.prototype.stub=function(B){for(var _=Array(B),p=0;p<B;p++)_[p]=0;return _},c.prototype.mulp=function(B,_,p){var T=2*this.guessLen13b(B.length,_.length),M=this.makeRBT(T),F=this.stub(T),j=Array(T),U=Array(T),K=Array(T),Q=Array(T),ee=Array(T),fe=Array(T),ae=p.words;ae.length=T,this.convert13b(B.words,B.length,j,T),this.convert13b(_.words,_.length,Q,T),this.transform(j,F,U,K,T,M),this.transform(Q,F,ee,fe,T,M);for(var me=0,he;me<T;me++)he=U[me]*ee[me]-K[me]*fe[me],K[me]=U[me]*fe[me]+K[me]*ee[me],U[me]=he;return this.conjugate(U,K,T),this.transform(U,K,ae,F,T,M),this.conjugate(ae,F,T),this.normalize13b(ae,T),p.negative=B.negative^_.negative,p.length=B.length+_.length,p.strip()},i.prototype.mul=function(B){var _=new i(null);return _.words=Array(this.length+B.length),this.mulTo(B,_)},i.prototype.mulf=function(B){var _=new i(null);return _.words=Array(this.length+B.length),d(this,B,_)},i.prototype.imul=function(B){return this.clone().mulTo(B,this)},i.prototype.imuln=function(B){E(typeof B=="number"),E(67108864>B);for(var _=0,p=0;p<this.length;p++){var T=(0|this.words[p])*B,M=(67108863&T)+(67108863&_);_>>=26,_+=0|T/67108864,_+=M>>>26,this.words[p]=67108863&M}return _!==0&&(this.words[p]=_,this.length++),this},i.prototype.muln=function(B){return this.clone().imuln(B)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(B){var _=h(B);if(_.length===0)return new i(1);for(var p=this,T=0;T<_.length&&_[T]===0;T++,p=p.sqr());if(++T<_.length)for(var M=p.sqr();T<_.length;T++,M=M.sqr())_[T]!==0&&(p=p.mul(M));return p},i.prototype.iushln=function(B){E(typeof B=="number"&&0<=B);var _=B%26,p=(B-_)/26,T=67108863>>>26-_<<26-_,M;if(_!=0){var F=0;for(M=0;M<this.length;M++){var j=this.words[M]&T,U=(0|this.words[M])-j<<_;this.words[M]=U|F,F=j>>>26-_}F&&(this.words[M]=F,this.length++)}if(p!==0){for(M=this.length-1;0<=M;M--)this.words[M+p]=this.words[M];for(M=0;M<p;M++)this.words[M]=0;this.length+=p}return this.strip()},i.prototype.ishln=function(B){return E(this.negative===0),this.iushln(B)},i.prototype.iushrn=function(B,_,p){E(typeof B=="number"&&0<=B);var T;T=_?(_-_%26)/26:0;var M=B%26,F=ke((B-M)/26,this.length),j=67108863^67108863>>>M<<M,U=p;if(T-=F,T=be(0,T),U){for(var K=0;K<F;K++)U.words[K]=this.words[K];U.length=F}if(F!==0)if(this.length>F)for(this.length-=F,K=0;K<this.length;K++)this.words[K]=this.words[K+F];else this.words[0]=0,this.length=1;var Q=0;for(K=this.length-1;0<=K&&(Q!==0||K>=T);K--){var ee=0|this.words[K];this.words[K]=Q<<26-M|ee>>>M,Q=ee&j}return U&&Q!==0&&(U.words[U.length++]=Q),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(B,_,p){return E(this.negative===0),this.iushrn(B,_,p)},i.prototype.shln=function(B){return this.clone().ishln(B)},i.prototype.ushln=function(B){return this.clone().iushln(B)},i.prototype.shrn=function(B){return this.clone().ishrn(B)},i.prototype.ushrn=function(B){return this.clone().iushrn(B)},i.prototype.testn=function(B){E(typeof B=="number"&&0<=B);var _=B%26,p=(B-_)/26,T=1<<_;if(this.length<=p)return!1;var M=this.words[p];return!!(M&T)},i.prototype.imaskn=function(B){E(typeof B=="number"&&0<=B);var _=B%26,p=(B-_)/26;if(E(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(_!=0&&p++,this.length=ke(p,this.length),_!=0){var T=67108863^67108863>>>_<<_;this.words[this.length-1]&=T}return this.strip()},i.prototype.maskn=function(B){return this.clone().imaskn(B)},i.prototype.iaddn=function(B){return E(typeof B=="number"),E(67108864>B),0>B?this.isubn(-B):this.negative===0?this._iaddn(B):this.length===1&&(0|this.words[0])<B?(this.words[0]=B-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(B),this.negative=1,this)},i.prototype._iaddn=function(B){this.words[0]+=B;for(var _=0;_<this.length&&67108864<=this.words[_];_++)this.words[_]-=67108864,_==this.length-1?this.words[_+1]=1:this.words[_+1]++;return this.length=be(this.length,_+1),this},i.prototype.isubn=function(B){if(E(typeof B=="number"),E(67108864>B),0>B)return this.iaddn(-B);if(this.negative!==0)return this.negative=0,this.iaddn(B),this.negative=1,this;if(this.words[0]-=B,this.length===1&&0>this.words[0])this.words[0]=-this.words[0],this.negative=1;else for(var _=0;_<this.length&&0>this.words[_];_++)this.words[_]+=67108864,this.words[_+1]-=1;return this.strip()},i.prototype.addn=function(B){return this.clone().iaddn(B)},i.prototype.subn=function(B){return this.clone().isubn(B)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(B,_,p){var T=B.length+p,M;this._expand(T);var F=0,j;for(M=0;M<B.length;M++){j=(0|this.words[M+p])+F;var U=(0|B.words[M])*_;j-=67108863&U,F=(j>>26)-(0|U/67108864),this.words[M+p]=67108863&j}for(;M<this.length-p;M++)j=(0|this.words[M+p])+F,F=j>>26,this.words[M+p]=67108863&j;if(F===0)return this.strip();for(E(F===-1),F=0,M=0;M<this.length;M++)j=-(0|this.words[M])+F,F=j>>26,this.words[M]=67108863&j;return this.negative=1,this.strip()},i.prototype._wordDiv=function(B,_){var p=this.length-B.length,T=this.clone(),M=B,F=0|M.words[M.length-1],j=this._countBits(F);p=26-j,p!=0&&(M=M.ushln(p),T.iushln(p),F=0|M.words[M.length-1]);var U=T.length-M.length,K;if(_!=="mod"){K=new i(null),K.length=U+1,K.words=Array(K.length);for(var Q=0;Q<K.length;Q++)K.words[Q]=0}var ee=T.clone()._ishlnsubmul(M,1,U);ee.negative===0&&(T=ee,K&&(K.words[U]=1));for(var fe=U-1,ae;0<=fe;fe--){for(ae=67108864*(0|T.words[M.length+fe])+(0|T.words[M.length+fe-1]),ae=ke(0|ae/F,67108863),T._ishlnsubmul(M,ae,fe);T.negative!==0;)ae--,T.negative=0,T._ishlnsubmul(M,1,fe),T.isZero()||(T.negative^=1);K&&(K.words[fe]=ae)}return K&&K.strip(),T.strip(),_!=="div"&&p!==0&&T.iushrn(p),{div:K||null,mod:T}},i.prototype.divmod=function(B,_,p){if(E(!B.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var T,M,F;return this.negative!==0&&B.negative===0?(F=this.neg().divmod(B,_),_!=="mod"&&(T=F.div.neg()),_!=="div"&&(M=F.mod.neg(),p&&M.negative!==0&&M.iadd(B)),{div:T,mod:M}):this.negative===0&&B.negative!==0?(F=this.divmod(B.neg(),_),_!=="mod"&&(T=F.div.neg()),{div:T,mod:F.mod}):(this.negative&B.negative)==0?B.length>this.length||0>this.cmp(B)?{div:new i(0),mod:this}:B.length===1?_==="div"?{div:this.divn(B.words[0]),mod:null}:_==="mod"?{div:null,mod:new i(this.modn(B.words[0]))}:{div:this.divn(B.words[0]),mod:new i(this.modn(B.words[0]))}:this._wordDiv(B,_):(F=this.neg().divmod(B.neg(),_),_!=="div"&&(M=F.mod.neg(),p&&M.negative!==0&&M.isub(B)),{div:F.div,mod:M})},i.prototype.div=function(B){return this.divmod(B,"div",!1).div},i.prototype.mod=function(B){return this.divmod(B,"mod",!1).mod},i.prototype.umod=function(B){return this.divmod(B,"mod",!0).mod},i.prototype.divRound=function(B){var _=this.divmod(B);if(_.mod.isZero())return _.div;var p=_.div.negative===0?_.mod:_.mod.isub(B),T=B.ushrn(1),M=B.andln(1),F=p.cmp(T);return 0>F||M===1&&F===0?_.div:_.div.negative===0?_.div.iaddn(1):_.div.isubn(1)},i.prototype.modn=function(B){E(67108863>=B);for(var _=67108864%B,p=0,T=this.length-1;0<=T;T--)p=(_*p+(0|this.words[T]))%B;return p},i.prototype.idivn=function(B){E(67108863>=B);for(var _=0,p=this.length-1,T;0<=p;p--)T=(0|this.words[p])+67108864*_,this.words[p]=0|T/B,_=T%B;return this.strip()},i.prototype.divn=function(B){return this.clone().idivn(B)},i.prototype.egcd=function(B){E(B.negative===0),E(!B.isZero());var _=this,p=B.clone();_=_.negative===0?_.clone():_.umod(B);for(var T=new i(1),M=new i(0),F=new i(0),j=new i(1),U=0;_.isEven()&&p.isEven();)_.iushrn(1),p.iushrn(1),++U;for(var K=p.clone(),Q=_.clone();!_.isZero();){for(var ee=0,fe=1;(_.words[0]&fe)==0&&26>ee;++ee,fe<<=1);if(0<ee)for(_.iushrn(ee);0<ee--;)(T.isOdd()||M.isOdd())&&(T.iadd(K),M.isub(Q)),T.iushrn(1),M.iushrn(1);for(var ae=0,me=1;(p.words[0]&me)==0&&26>ae;++ae,me<<=1);if(0<ae)for(p.iushrn(ae);0<ae--;)(F.isOdd()||j.isOdd())&&(F.iadd(K),j.isub(Q)),F.iushrn(1),j.iushrn(1);0<=_.cmp(p)?(_.isub(p),T.isub(F),M.isub(j)):(p.isub(_),F.isub(T),j.isub(M))}return{a:F,b:j,gcd:p.iushln(U)}},i.prototype._invmp=function(B){E(B.negative===0),E(!B.isZero());var _=this,p=B.clone();_=_.negative===0?_.clone():_.umod(B);for(var T=new i(1),M=new i(0),F=p.clone();0<_.cmpn(1)&&0<p.cmpn(1);){for(var j=0,U=1;(_.words[0]&U)==0&&26>j;++j,U<<=1);if(0<j)for(_.iushrn(j);0<j--;)T.isOdd()&&T.iadd(F),T.iushrn(1);for(var K=0,Q=1;(p.words[0]&Q)==0&&26>K;++K,Q<<=1);if(0<K)for(p.iushrn(K);0<K--;)M.isOdd()&&M.iadd(F),M.iushrn(1);0<=_.cmp(p)?(_.isub(p),T.isub(M)):(p.isub(_),M.isub(T))}var ee;return ee=_.cmpn(1)===0?T:M,0>ee.cmpn(0)&&ee.iadd(B),ee},i.prototype.gcd=function(B){if(this.isZero())return B.abs();if(B.isZero())return this.abs();var _=this.clone(),p=B.clone();_.negative=0,p.negative=0;for(var T=0;_.isEven()&&p.isEven();T++)_.iushrn(1),p.iushrn(1);do{for(;_.isEven();)_.iushrn(1);for(;p.isEven();)p.iushrn(1);var M=_.cmp(p);if(0>M){var F=_;_=p,p=F}else if(M===0||p.cmpn(1)===0)break;_.isub(p)}while(!0);return p.iushln(T)},i.prototype.invm=function(B){return this.egcd(B).a.umod(B)},i.prototype.isEven=function(){return(1&this.words[0])==0},i.prototype.isOdd=function(){return(1&this.words[0])==1},i.prototype.andln=function(B){return this.words[0]&B},i.prototype.bincn=function(B){E(typeof B=="number");var _=B%26,p=(B-_)/26,T=1<<_;if(this.length<=p)return this._expand(p+1),this.words[p]|=T,this;for(var M=T,F=p,j;M!==0&&F<this.length;F++)j=0|this.words[F],j+=M,M=j>>>26,j&=67108863,this.words[F]=j;return M!==0&&(this.words[F]=M,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(B){var _=0>B;if(this.negative!==0&&!_)return-1;if(this.negative===0&&_)return 1;this.strip();var p;if(1<this.length)p=1;else{_&&(B=-B),E(67108863>=B,"Number is too big");var T=0|this.words[0];p=T===B?0:T<B?-1:1}return this.negative===0?p:0|-p},i.prototype.cmp=function(B){if(this.negative!==0&&B.negative===0)return-1;if(this.negative===0&&B.negative!==0)return 1;var _=this.ucmp(B);return this.negative===0?_:0|-_},i.prototype.ucmp=function(B){if(this.length>B.length)return 1;if(this.length<B.length)return-1;for(var _=0,p=this.length-1;0<=p;p--){var T=0|this.words[p],M=0|B.words[p];if(T!=M){T<M?_=-1:T>M&&(_=1);break}}return _},i.prototype.gtn=function(B){return this.cmpn(B)===1},i.prototype.gt=function(B){return this.cmp(B)===1},i.prototype.gten=function(B){return 0<=this.cmpn(B)},i.prototype.gte=function(B){return 0<=this.cmp(B)},i.prototype.ltn=function(B){return this.cmpn(B)===-1},i.prototype.lt=function(B){return this.cmp(B)===-1},i.prototype.lten=function(B){return 0>=this.cmpn(B)},i.prototype.lte=function(B){return 0>=this.cmp(B)},i.prototype.eqn=function(B){return this.cmpn(B)===0},i.prototype.eq=function(B){return this.cmp(B)===0},i.red=function(B){return new w(B)},i.prototype.toRed=function(B){return E(!this.red,"Already a number in reduction context"),E(this.negative===0,"red works only with positives"),B.convertTo(this)._forceRed(B)},i.prototype.fromRed=function(){return E(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(B){return this.red=B,this},i.prototype.forceRed=function(B){return E(!this.red,"Already a number in reduction context"),this._forceRed(B)},i.prototype.redAdd=function(B){return E(this.red,"redAdd works only with red numbers"),this.red.add(this,B)},i.prototype.redIAdd=function(B){return E(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,B)},i.prototype.redSub=function(B){return E(this.red,"redSub works only with red numbers"),this.red.sub(this,B)},i.prototype.redISub=function(B){return E(this.red,"redISub works only with red numbers"),this.red.isub(this,B)},i.prototype.redShl=function(B){return E(this.red,"redShl works only with red numbers"),this.red.shl(this,B)},i.prototype.redMul=function(B){return E(this.red,"redMul works only with red numbers"),this.red._verify2(this,B),this.red.mul(this,B)},i.prototype.redIMul=function(B){return E(this.red,"redMul works only with red numbers"),this.red._verify2(this,B),this.red.imul(this,B)},i.prototype.redSqr=function(){return E(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return E(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return E(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return E(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return E(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(B){return E(this.red&&!B.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,B)};var ce={k256:null,p224:null,p192:null,p25519:null};f.prototype._tmp=function(){var B=new i(null);return B.words=Array(Ee(this.n/13)),B},f.prototype.ireduce=function(B){var _=B,p;do this.split(_,this.tmp),_=this.imulK(_),_=_.iadd(this.tmp),p=_.bitLength();while(p>this.n);var T=p<this.n?-1:_.ucmp(this.p);return T===0?(_.words[0]=0,_.length=1):0<T?_.isub(this.p):_.strip===void 0?_._strip():_.strip(),_},f.prototype.split=function(B,_){B.iushrn(this.n,0,_)},f.prototype.imulK=function(B){return B.imul(this.k)},y(u,f),u.prototype.split=function(B,_){for(var p=4194303,T=ke(B.length,9),M=0;M<T;M++)_.words[M]=B.words[M];if(_.length=T,9>=B.length)return B.words[0]=0,void(B.length=1);var F=B.words[9];for(_.words[_.length++]=F&p,M=10;M<B.length;M++){var j=0|B.words[M];B.words[M-10]=(j&p)<<4|F>>>22,F=j}F>>>=22,B.words[M-10]=F,B.length-=F===0&&10<B.length?10:9},u.prototype.imulK=function(B){B.words[B.length]=0,B.words[B.length+1]=0,B.length+=2;for(var _=0,p=0,T;p<B.length;p++)T=0|B.words[p],_+=977*T,B.words[p]=67108863&_,_=64*T+(0|_/67108864);return B.words[B.length-1]===0&&(B.length--,B.words[B.length-1]===0&&B.length--),B},y(k,f),y(R,f),y(A,f),A.prototype.imulK=function(B){for(var _=0,p=0;p<B.length;p++){var T=19*(0|B.words[p])+_,M=67108863&T;T>>>=26,B.words[p]=M,_=T}return _!==0&&(B.words[B.length++]=_),B},i._prime=function(B){if(ce[B])return ce[B];var _;if(B==="k256")_=new u;else if(B==="p224")_=new k;else if(B==="p192")_=new R;else if(B==="p25519")_=new A;else throw new Error("Unknown prime "+B);return ce[B]=_,_},w.prototype._verify1=function(B){E(B.negative===0,"red works only with positives"),E(B.red,"red works only with red numbers")},w.prototype._verify2=function(B,_){E((B.negative|_.negative)==0,"red works only with positives"),E(B.red&&B.red===_.red,"red works only with red numbers")},w.prototype.imod=function(B){return this.prime?this.prime.ireduce(B)._forceRed(this):B.umod(this.m)._forceRed(this)},w.prototype.neg=function(B){return B.isZero()?B.clone():this.m.sub(B)._forceRed(this)},w.prototype.add=function(B,_){this._verify2(B,_);var p=B.add(_);return 0<=p.cmp(this.m)&&p.isub(this.m),p._forceRed(this)},w.prototype.iadd=function(B,_){this._verify2(B,_);var p=B.iadd(_);return 0<=p.cmp(this.m)&&p.isub(this.m),p},w.prototype.sub=function(B,_){this._verify2(B,_);var p=B.sub(_);return 0>p.cmpn(0)&&p.iadd(this.m),p._forceRed(this)},w.prototype.isub=function(B,_){this._verify2(B,_);var p=B.isub(_);return 0>p.cmpn(0)&&p.iadd(this.m),p},w.prototype.shl=function(B,_){return this._verify1(B),this.imod(B.ushln(_))},w.prototype.imul=function(B,_){return this._verify2(B,_),this.imod(B.imul(_))},w.prototype.mul=function(B,_){return this._verify2(B,_),this.imod(B.mul(_))},w.prototype.isqr=function(B){return this.imul(B,B.clone())},w.prototype.sqr=function(B){return this.mul(B,B)},w.prototype.sqrt=function(B){if(B.isZero())return B.clone();var _=this.m.andln(3);if(E(_%2==1),_===3){var p=this.m.add(new i(1)).iushrn(2);return this.pow(B,p)}for(var T=this.m.subn(1),M=0;!T.isZero()&&T.andln(1)===0;)M++,T.iushrn(1);E(!T.isZero());var F=new i(1).toRed(this),j=F.redNeg(),U=this.m.subn(1).iushrn(1),K=this.m.bitLength();for(K=new i(2*K*K).toRed(this);this.pow(K,U).cmp(j)!==0;)K.redIAdd(j);for(var Q=this.pow(K,T),ee=this.pow(B,T.addn(1).iushrn(1)),fe=this.pow(B,T),ae=M;fe.cmp(F)!==0;){for(var me=fe,he=0;me.cmp(F)!==0;he++)me=me.redSqr();E(he<ae);var Se=this.pow(Q,new i(1).iushln(ae-he-1));ee=ee.redMul(Se),Q=Se.redSqr(),fe=fe.redMul(Q),ae=he}return ee},w.prototype.invm=function(B){var _=B._invmp(this.m);return _.negative===0?this.imod(_):(_.negative=0,this.imod(_).redNeg())},w.prototype.pow=function(B,_){if(_.isZero())return new i(1).toRed(this);if(_.cmpn(1)===0)return B.clone();var p=Array(16);p[0]=new i(1).toRed(this),p[1]=B;for(var T=2;T<p.length;T++)p[T]=this.mul(p[T-1],B);var M=p[0],F=0,j=0,U=_.bitLength()%26;for(U===0&&(U=26),T=_.length-1;0<=T;T--){for(var K=_.words[T],Q=U-1,ee;0<=Q;Q--){if(ee=1&K>>Q,M!==p[0]&&(M=this.sqr(M)),ee===0&&F===0){j=0;continue}F<<=1,F|=ee,j++,(j===4||T===0&&Q===0)&&(M=this.mul(M,p[F]),j=0,F=0)}U=26}return M},w.prototype.convertTo=function(B){var _=B.umod(this.m);return _===B?_.clone():_},w.prototype.convertFrom=function(B){var _=B.clone();return _.red=null,_},i.mont=function(B){return new I(B)},y(I,w),I.prototype.convertTo=function(B){return this.imod(B.ushln(this.shift))},I.prototype.convertFrom=function(B){var _=this.imod(B.mul(this.rinv));return _.red=null,_},I.prototype.imul=function(B,_){if(B.isZero()||_.isZero())return B.words[0]=0,B.length=1,B;var p=B.imul(_),T=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=p.isub(T).iushrn(this.shift),F=M;return 0<=M.cmp(this.m)?F=M.isub(this.m):0>M.cmpn(0)&&(F=M.iadd(this.m)),F._forceRed(this)},I.prototype.mul=function(B,_){if(B.isZero()||_.isZero())return new i(0)._forceRed(this);var p=B.mul(_),T=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=p.isub(T).iushrn(this.shift),F=M;return 0<=M.cmp(this.m)?F=M.isub(this.m):0>M.cmpn(0)&&(F=M.iadd(this.m)),F._forceRed(this)},I.prototype.invm=function(B){var _=this.imod(B._invmp(this.m).mul(this.r2));return _._forceRed(this)}})(typeof V>"u"||V,this)},{buffer:41}],23:[function(x,V,O){function g(f){var u=f.length;if(0<u%4)throw new Error("Invalid string. Length must be a multiple of 4");var k=f.indexOf("=");k===-1&&(k=u);var R=k===u?0:4-k%4;return[k,R]}function C(f){var u=g(f),k=u[0],R=u[1];return 3*(k+R)/4-R}function E(f,u,k){return 3*(u+k)/4-k}function y(f){var u=g(f),k=u[0],R=u[1],A=new s(E(f,k,R)),w=0,I=0<R?k-4:k,N,L;for(L=0;L<I;L+=4)N=h[f.charCodeAt(L)]<<18|h[f.charCodeAt(L+1)]<<12|h[f.charCodeAt(L+2)]<<6|h[f.charCodeAt(L+3)],A[w++]=255&N>>16,A[w++]=255&N>>8,A[w++]=255&N;return R===2&&(N=h[f.charCodeAt(L)]<<2|h[f.charCodeAt(L+1)]>>4,A[w++]=255&N),R===1&&(N=h[f.charCodeAt(L)]<<10|h[f.charCodeAt(L+1)]<<4|h[f.charCodeAt(L+2)]>>2,A[w++]=255&N>>8,A[w++]=255&N),A}function i(f){return o[63&f>>18]+o[63&f>>12]+o[63&f>>6]+o[63&f]}function m(f,u,k){for(var R=[],A=u,w;A<k;A+=3)w=(16711680&f[A]<<16)+(65280&f[A+1]<<8)+(255&f[A+2]),R.push(i(w));return R.join("")}function a(f){for(var u=f.length,k=u%3,R=[],A=16383,w=0,I=u-k,N;w<I;w+=A)R.push(m(f,w,w+A>I?I:w+A));return k===1?(N=f[u-1],R.push(o[N>>2]+o[63&N<<4]+"==")):k===2&&(N=(f[u-2]<<8)+f[u-1],R.push(o[N>>10]+o[63&N>>4]+o[63&N<<2]+"=")),R.join("")}O.byteLength=C,O.toByteArray=y,O.fromByteArray=a;for(var o=[],h=[],s=typeof Uint8Array>"u"?Array:Uint8Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,c=r.length;d<c;++d)o[d]=r[d],h[r.charCodeAt(d)]=d;h[45]=62,h[95]=63},{}],24:[function(x,V,O){(function(g){(function(){function C(h,s,r){let d=0,c=1;for(let f=s;f<r;f++){const u=h[f];if(58>u&&48<=u){d=10*d+(u-48);continue}if(f!==s||u!==43){if(f===s&&u===45){c=-1;continue}if(u===46)break;throw new Error("not a number: buffer["+f+"] = "+u)}}return d*c}function E(h,s,r,d){return h==null||h.length===0?null:(typeof s!="number"&&d==null&&(d=s,s=void 0),typeof r!="number"&&d==null&&(d=r,r=void 0),E.position=0,E.encoding=d||null,E.data=g.isBuffer(h)?h.slice(s,r):g.from(h),E.bytes=E.data.length,E.next())}const y=105,i=58,m=100,a=108,o=101;E.bytes=0,E.position=0,E.data=null,E.encoding=null,E.next=function(){switch(E.data[E.position]){case m:return E.dictionary();case a:return E.list();case y:return E.integer();default:return E.buffer()}},E.find=function(h){let s=E.position;const r=E.data.length,d=E.data;for(;s<r;){if(d[s]===h)return s;s++}throw new Error('Invalid data: Missing delimiter "'+_e(h)+'" [0x'+h.toString(16)+"]")},E.dictionary=function(){E.position++;const h={};for(;E.data[E.position]!==o;)h[E.buffer()]=E.next();return E.position++,h},E.list=function(){E.position++;const h=[];for(;E.data[E.position]!==o;)h.push(E.next());return E.position++,h},E.integer=function(){const h=E.find(o),s=C(E.data,E.position+1,h);return E.position+=h+1-E.position,s},E.buffer=function(){let h=E.find(i);const s=C(E.data,E.position,h),r=++h+s;return E.position=r,E.encoding?E.data.toString(E.encoding,h,r):E.data.slice(h,r)},V.exports=E}).call(this)}).call(this,x("buffer").Buffer)},{buffer:75}],25:[function(x,V,O){(function(g){(function(){function C(a,o,h){const s=[];let r=null;return C._encode(s,a),r=g.concat(s),C.bytes=r.length,g.isBuffer(o)?(r.copy(o,h),o):r}const{getType:E}=x("./util.js");C.bytes=-1,C._floatConversionDetected=!1,C._encode=function(a,o){if(o!=null)switch(E(o)){case"buffer":C.buffer(a,o);break;case"object":C.dict(a,o);break;case"map":C.dictMap(a,o);break;case"array":C.list(a,o);break;case"set":C.listSet(a,o);break;case"string":C.string(a,o);break;case"number":C.number(a,o);break;case"boolean":C.number(a,o);break;case"arraybufferview":C.buffer(a,g.from(o.buffer,o.byteOffset,o.byteLength));break;case"arraybuffer":C.buffer(a,g.from(o))}};const y=g.from("e"),i=g.from("d"),m=g.from("l");C.buffer=function(a,o){a.push(g.from(o.length+":"),o)},C.string=function(a,o){a.push(g.from(g.byteLength(o)+":"+o))},C.number=function(a,o){const h=o/2147483648<<0,s=o%2147483648<<0,r=h*2147483648+s;a.push(g.from("i"+r+"e")),r===o||C._floatConversionDetected||(C._floatConversionDetected=!0,console.warn('WARNING: Possible data corruption detected with value "'+o+'":','Bencoding only defines support for integers, value was converted to "'+r+'"'),console.trace())},C.dict=function(a,o){a.push(i);let h=0,s;const r=Object.keys(o).sort(),d=r.length;for(;h<d;h++)s=r[h],o[s]!=null&&(C.string(a,s),C._encode(a,o[s]));a.push(y)},C.dictMap=function(a,o){a.push(i);const h=Array.from(o.keys()).sort();for(const s of h)o.get(s)!=null&&(g.isBuffer(s)?C._encode(a,s):C.string(a,s+""),C._encode(a,o.get(s)));a.push(y)},C.list=function(a,o){let h=0;const s=o.length;for(a.push(m);h<s;h++)o[h]!=null&&C._encode(a,o[h]);a.push(y)},C.listSet=function(a,o){a.push(m);for(const h of o)h!=null&&C._encode(a,h);a.push(y)},V.exports=C}).call(this)}).call(this,x("buffer").Buffer)},{"./util.js":28,buffer:75}],26:[function(x,V,O){(function(g){(function(){function C(s){let r=2;for(const d of s)r+=a(d);return r}function E(s){let r=2;for(const[d,c]of s){const f=g.byteLength(d);r+=o(f)+1+f,r+=a(c)}return r}function y(s){let r=2;const d=Object.keys(s);for(let c=0;c<d.length;c++){const f=g.byteLength(d[c]);r+=o(f)+1+f,r+=a(s[d[c]])}return r}function i(s){const r=g.byteLength(s);return o(r)+1+r}function m(s){const r=s.byteLength-s.byteOffset;return o(r)+1+r}function a(s){if(s==null)return 0;const r=h(s);switch(r){case"buffer":return o(s.length)+1+s.length;case"arraybufferview":return m(s);case"string":return i(s);case"array":case"set":return C(s);case"number":return 1+o(D(s))+1;case"bigint":return 1+s.toString().length+1;case"object":return y(s);case"map":return E(s);default:throw new TypeError(`Unsupported value of type "${r}"`)}}const{digitCount:o,getType:h}=x("./util.js");V.exports=a}).call(this)}).call(this,x("buffer").Buffer)},{"./util.js":28,buffer:75}],27:[function(x,V,O){const g=V.exports;g.encode=x("./encode.js"),g.decode=x("./decode.js"),g.byteLength=g.encodingLength=x("./encoding-length.js")},{"./decode.js":24,"./encode.js":25,"./encoding-length.js":26}],28:[function(x,V,O){(function(g){(function(){const C=V.exports;C.digitCount=function(y){var i=Math.log10;const m=0>y?1:0;return y=S(+(y||1)),D(i(y))+1+m},C.getType=function(y){return g.isBuffer(y)?"buffer":ArrayBuffer.isView(y)?"arraybufferview":Array.isArray(y)?"array":y instanceof Number?"number":y instanceof Boolean?"boolean":y instanceof Set?"set":y instanceof Map?"map":y instanceof String?"string":y instanceof ArrayBuffer?"arraybuffer":typeof y}}).call(this)}).call(this,{isBuffer:x("../../is-buffer/index.js")})},{"../../is-buffer/index.js":148}],29:[function(x,V,O){function g(E){return E.reduce((y,i,m,a)=>((m===0||i!==a[m-1]+1)&&y.push([]),y[y.length-1].push(i),y),[]).map(y=>1<y.length?`${y[0]}-${y[y.length-1]}`:`${y[0]}`)}function C(E){const y=(i,m=i)=>Array.from({length:m-i+1},(a,o)=>o+i);return E.reduce((i,m,a,o)=>{const h=m.split("-").map(s=>parseInt(s));return i.concat(y(...h))},[])}V.exports=C,V.exports.parse=C,V.exports.compose=g},{}],30:[function(x,V,O){V.exports=function(g,C,E,y,i){var m,a;if(y===void 0)y=0;else if(y|=0,0>y||y>=g.length)throw new RangeError("invalid lower bound");if(i===void 0)i=g.length-1;else if(i|=0,i<y||i>=g.length)throw new RangeError("invalid upper bound");for(;y<=i;)if(m=y+(i-y>>>1),a=+E(g[m],C,m,g),0>a)y=m+1;else if(0<a)i=m-1;else return m;return~y}},{}],31:[function(x,V,O){function g(E){var y=E>>3;return E%8!=0&&y++,y}Object.defineProperty(O,"__esModule",{value:!0});var C=function(){function E(y,i){y===void 0&&(y=0);var m=i==null?void 0:i.grow;this.grow=m&&isFinite(m)&&g(m)||m||0,this.buffer=typeof y=="number"?new Uint8Array(g(y)):y}return E.prototype.get=function(y){var i=y>>3;return i<this.buffer.length&&!!(this.buffer[i]&128>>y%8)},E.prototype.set=function(y,i){i===void 0&&(i=!0);var m=y>>3;if(i){if(this.buffer.length<m+1){var a=be(m+1,ke(2*this.buffer.length,this.grow));if(a<=this.grow){var o=new Uint8Array(a);o.set(this.buffer),this.buffer=o}}this.buffer[m]|=128>>y%8}else m<this.buffer.length&&(this.buffer[m]&=~(128>>y%8))},E.prototype.forEach=function(y,i,m){i===void 0&&(i=0),m===void 0&&(m=8*this.buffer.length);for(var a=i,o=a>>3,h=128>>a%8,s=this.buffer[o];a<m;a++)y(!!(s&h),a),h=h==1?(s=this.buffer[++o],128):h>>1},E}();O.default=C},{}],32:[function(x,V,O){(function(g){(function(){function C(j,U){for(let K=j.length;K--;)j[K]^=U[K];return j}/*! bittorrent-protocol. MIT License. WebTorrent LLC <https://webtorrent.io/opensource> */const E=x("unordered-array-remove"),y=x("bencode"),i=x("bitfield").default,m=x("crypto"),a=x("debug")("bittorrent-protocol"),o=x("randombytes"),h=x("simple-sha1"),s=x("speedometer"),r=x("readable-stream"),d=x("rc4"),c=4e5,f=55e3,u=100,k=g.from("BitTorrent protocol"),R=g.from([0,0,0,0]),A=g.from([0,0,0,1,0]),w=g.from([0,0,0,1,1]),I=g.from([0,0,0,1,2]),N=g.from([0,0,0,1,3]),L=[0,0,0,0,0,0,0,0],G=[0,0,0,3,9,0,0],J=g.from([0,0,0,1,14]),se=g.from([0,0,0,1,15]),ce="ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a36210000000000090563",Y=2,B=g.from([0,0,0,0,0,0,0,0]),_=g.from([0,0,1,2]),p=g.from([0,0,0,2]);class T{constructor(U,K,Q,ee){this.piece=U,this.offset=K,this.length=Q,this.callback=ee}}class M{constructor(){this.buffer=new Uint8Array}get(U){return!0}set(U){}}class F extends r.Duplex{constructor(U=null,K=0,Q=!1){super(),this._debugId=o(4).toString("hex"),this._debug("new wire"),this.peerId=null,this.peerIdBuffer=null,this.type=U,this.amChoking=!0,this.amInterested=!1,this.peerChoking=!0,this.peerInterested=!1,this.peerPieces=new i(0,{grow:c}),this.extensions={},this.peerExtensions={},this.requests=[],this.peerRequests=[],this.extendedMapping={},this.peerExtendedMapping={},this.extendedHandshake={},this.peerExtendedHandshake={},this.hasFast=!1,this.allowedFastSet=[],this.peerAllowedFastSet=[],this._ext={},this._nextExt=1,this.uploaded=0,this.downloaded=0,this.uploadSpeed=s(),this.downloadSpeed=s(),this._keepAliveInterval=null,this._timeout=null,this._timeoutMs=0,this._timeoutExpiresAt=null,this.destroyed=!1,this._finished=!1,this._parserSize=0,this._parser=null,this._buffer=[],this._bufferSize=0,this._peEnabled=Q,Q?(this._dh=m.createDiffieHellman(ce,"hex",Y),this._myPubKey=this._dh.generateKeys("hex")):this._myPubKey=null,this._peerPubKey=null,this._sharedSecret=null,this._peerCryptoProvide=[],this._cryptoHandshakeDone=!1,this._cryptoSyncPattern=null,this._waitMaxBytes=null,this._encryptionMethod=null,this._encryptGenerator=null,this._decryptGenerator=null,this._setGenerators=!1,this.once("finish",()=>this._onFinish()),this.on("finish",this._onFinish),this._debug("type:",this.type),this.type==="tcpIncoming"&&this._peEnabled?this._determineHandshakeType():this.type==="tcpOutgoing"&&this._peEnabled&&K===0?this._parsePe2():this._parseHandshake(null)}setKeepAlive(U){this._debug("setKeepAlive %s",U),clearInterval(this._keepAliveInterval),U===!1||(this._keepAliveInterval=setInterval(()=>{this.keepAlive()},f))}setTimeout(U,K){this._debug("setTimeout ms=%d unref=%s",U,K),this._timeoutMs=U,this._timeoutUnref=!!K,this._resetTimeout(!0)}destroy(){if(!this.destroyed)return this.destroyed=!0,this._debug("destroy"),this.emit("close"),this.end(),this}end(...U){return this._debug("end"),this._onUninterested(),this._onChoke(),super.end(...U)}use(U){function K(){}const Q=U.prototype.name;if(!Q)throw new Error('Extension class requires a "name" property on the prototype');this._debug("use extension.name=%s",Q);const ee=this._nextExt,fe=new U(this);typeof fe.onHandshake!="function"&&(fe.onHandshake=K),typeof fe.onExtendedHandshake!="function"&&(fe.onExtendedHandshake=K),typeof fe.onMessage!="function"&&(fe.onMessage=K),this.extendedMapping[ee]=Q,this._ext[Q]=fe,this[Q]=fe,this._nextExt+=1}keepAlive(){this._debug("keep-alive"),this._push(R)}sendPe1(){if(this._peEnabled){const U=D(513*Math.random()),K=o(U);this._push(g.concat([g.from(this._myPubKey,"hex"),K]))}}sendPe2(){const U=D(513*Math.random()),K=o(U);this._push(g.concat([g.from(this._myPubKey,"hex"),K]))}sendPe3(U){this.setEncrypt(this._sharedSecret,U);const K=g.from(h.sync(g.from(this._utfToHex("req1")+this._sharedSecret,"hex")),"hex"),Q=g.from(h.sync(g.from(this._utfToHex("req2")+U,"hex")),"hex"),ee=g.from(h.sync(g.from(this._utfToHex("req3")+this._sharedSecret,"hex")),"hex"),fe=C(Q,ee),ae=o(2).readUInt16BE(0)%512,me=o(ae);let he=g.alloc(14+ae+2);B.copy(he),_.copy(he,8),he.writeInt16BE(ae,12),me.copy(he,14),he.writeInt16BE(0,14+ae),he=this._encryptHandshake(he),this._push(g.concat([K,fe,he]))}sendPe4(U){this.setEncrypt(this._sharedSecret,U);const K=o(2).readUInt16BE(0)%512,Q=o(K);let ee=g.alloc(14+K);B.copy(ee),p.copy(ee,8),ee.writeInt16BE(K,12),Q.copy(ee,14),ee=this._encryptHandshake(ee),this._push(ee),this._cryptoHandshakeDone=!0,this._debug("completed crypto handshake")}handshake(U,K,Q){let ee,fe;if(typeof U=="string"?(U=U.toLowerCase(),ee=g.from(U,"hex")):(ee=U,U=ee.toString("hex")),typeof K=="string"?fe=g.from(K,"hex"):(fe=K,K=fe.toString("hex")),this._infoHash=ee,ee.length!==20||fe.length!==20)throw new Error("infoHash and peerId MUST have length 20");this._debug("handshake i=%s p=%s exts=%o",U,K,Q);const ae=g.from(L);this.extensions={extended:!0,dht:!!(Q&&Q.dht),fast:!!(Q&&Q.fast)},ae[5]|=16,this.extensions.dht&&(ae[7]|=1),this.extensions.fast&&(ae[7]|=4),this.extensions.fast&&this.peerExtensions.fast&&(this._debug("fast extension is enabled"),this.hasFast=!0),this._push(g.concat([k,ae,ee,fe])),this._handshakeSent=!0,this.peerExtensions.extended&&!this._extendedHandshakeSent&&this._sendExtendedHandshake()}_sendExtendedHandshake(){const U=Object.assign({},this.extendedHandshake);for(const K in U.m={},this.extendedMapping){const Q=this.extendedMapping[K];U.m[Q]=+K}this.extended(0,y.encode(U)),this._extendedHandshakeSent=!0}choke(){if(!this.amChoking)if(this.amChoking=!0,this._debug("choke"),this._push(A),this.hasFast)for(let U=0;this.peerRequests.length>U;){const K=this.peerRequests[U];this.allowedFastSet.includes(K.piece)?++U:this.reject(K.piece,K.offset,K.length)}else for(;this.peerRequests.length;)this.peerRequests.pop()}unchoke(){this.amChoking&&(this.amChoking=!1,this._debug("unchoke"),this._push(w))}interested(){this.amInterested||(this.amInterested=!0,this._debug("interested"),this._push(I))}uninterested(){this.amInterested&&(this.amInterested=!1,this._debug("uninterested"),this._push(N))}have(U){this._debug("have %d",U),this._message(4,[U],null)}bitfield(U){this._debug("bitfield"),g.isBuffer(U)||(U=U.buffer),this._message(5,[],U)}request(U,K,Q,ee){return ee||(ee=()=>{}),this._finished?ee(new Error("wire is closed")):this.peerChoking&&!(this.hasFast&&this.peerAllowedFastSet.includes(U))?ee(new Error("peer is choking")):(this._debug("request index=%d offset=%d length=%d",U,K,Q),this.requests.push(new T(U,K,Q,ee)),!this._timeout&&this._resetTimeout(!0),void this._message(6,[U,K,Q],null))}piece(U,K,Q){this._debug("piece index=%d offset=%d",U,K),this._message(7,[U,K],Q),this.uploaded+=Q.length,this.uploadSpeed(Q.length),this.emit("upload",Q.length)}cancel(U,K,Q){this._debug("cancel index=%d offset=%d length=%d",U,K,Q),this._callback(this._pull(this.requests,U,K,Q),new Error("request was cancelled"),null),this._message(8,[U,K,Q],null)}port(U){this._debug("port %d",U);const K=g.from(G);K.writeUInt16BE(U,5),this._push(K)}suggest(U){if(!this.hasFast)throw Error("fast extension is disabled");this._debug("suggest %d",U),this._message(13,[U],null)}haveAll(){if(!this.hasFast)throw Error("fast extension is disabled");this._debug("have-all"),this._push(J)}haveNone(){if(!this.hasFast)throw Error("fast extension is disabled");this._debug("have-none"),this._push(se)}reject(U,K,Q){if(!this.hasFast)throw Error("fast extension is disabled");this._debug("reject index=%d offset=%d length=%d",U,K,Q),this._pull(this.peerRequests,U,K,Q),this._message(16,[U,K,Q],null)}allowedFast(U){if(!this.hasFast)throw Error("fast extension is disabled");this._debug("allowed-fast %d",U),this.allowedFastSet.includes(U)||this.allowedFastSet.push(U),this._message(17,[U],null)}extended(U,K){if(this._debug("extended ext=%s",U),typeof U=="string"&&this.peerExtendedMapping[U]&&(U=this.peerExtendedMapping[U]),typeof U=="number"){const Q=g.from([U]),ee=g.isBuffer(K)?K:y.encode(K);this._message(20,[],g.concat([Q,ee]))}else throw new Error(`Unrecognized extension: ${U}`)}setEncrypt(U,K){let Q,ee,fe,ae,me,he;switch(this.type){case"tcpIncoming":Q=h.sync(g.from(this._utfToHex("keyB")+U+K,"hex")),ee=h.sync(g.from(this._utfToHex("keyA")+U+K,"hex")),fe=g.from(Q,"hex"),ae=[];for(const Se of fe.values())ae.push(Se);me=g.from(ee,"hex"),he=[];for(const Se of me.values())he.push(Se);this._encryptGenerator=new d(ae),this._decryptGenerator=new d(he);break;case"tcpOutgoing":Q=h.sync(g.from(this._utfToHex("keyA")+U+K,"hex")),ee=h.sync(g.from(this._utfToHex("keyB")+U+K,"hex")),fe=g.from(Q,"hex"),ae=[];for(const Se of fe.values())ae.push(Se);me=g.from(ee,"hex"),he=[];for(const Se of me.values())he.push(Se);this._encryptGenerator=new d(ae),this._decryptGenerator=new d(he);break;default:return!1}for(let Se=0;1024>Se;Se++)this._encryptGenerator.randomByte(),this._decryptGenerator.randomByte();return this._setGenerators=!0,!0}_read(){}_message(U,K,Q){const ee=Q?Q.length:0,fe=g.allocUnsafe(5+4*K.length);fe.writeUInt32BE(fe.length+ee-4,0),fe[4]=U;for(let ae=0;ae<K.length;ae++)fe.writeUInt32BE(K[ae],5+4*ae);this._push(fe),Q&&this._push(Q)}_push(U){if(!this._finished)return this._encryptionMethod===2&&this._cryptoHandshakeDone&&(U=this._encrypt(U)),this.push(U)}_onKeepAlive(){this._debug("got keep-alive"),this.emit("keep-alive")}_onPe1(U){this._peerPubKey=U.toString("hex"),this._sharedSecret=this._dh.computeSecret(this._peerPubKey,"hex","hex"),this.emit("pe1")}_onPe2(U){this._peerPubKey=U.toString("hex"),this._sharedSecret=this._dh.computeSecret(this._peerPubKey,"hex","hex"),this.emit("pe2")}_onPe3(U){const K=h.sync(g.from(this._utfToHex("req3")+this._sharedSecret,"hex")),Q=C(g.from(K,"hex"),U).toString("hex");this.emit("pe3",Q)}_onPe3Encrypted(U,K){if(!U.equals(B))return this._debug("Error: verification constant did not match"),void this.destroy();for(const Q of K.values())Q!==0&&this._peerCryptoProvide.push(Q);this._peerCryptoProvide.includes(2)?this._encryptionMethod=2:(this._debug("Error: RC4 encryption method not provided by peer"),this.destroy())}_onPe4(U){this._encryptionMethod=U.readUInt8(3),_.includes(this._encryptionMethod)||(this._debug("Error: peer selected invalid crypto method"),this.destroy()),this._cryptoHandshakeDone=!0,this._debug("crypto handshake done"),this.emit("pe4")}_onHandshake(U,K,Q){const ee=U.toString("hex"),fe=K.toString("hex");for(const ae in this._debug("got handshake i=%s p=%s exts=%o",ee,fe,Q),this.peerId=fe,this.peerIdBuffer=K,this.peerExtensions=Q,this.extensions.fast&&this.peerExtensions.fast&&(this._debug("fast extension is enabled"),this.hasFast=!0),this.emit("handshake",ee,fe,Q),this._ext)this._ext[ae].onHandshake(ee,fe,Q);Q.extended&&this._handshakeSent&&!this._extendedHandshakeSent&&this._sendExtendedHandshake()}_onChoke(){if(this.peerChoking=!0,this._debug("got choke"),this.emit("choke"),!this.hasFast)for(;this.requests.length;)this._callback(this.requests.pop(),new Error("peer is choking"),null)}_onUnchoke(){this.peerChoking=!1,this._debug("got unchoke"),this.emit("unchoke")}_onInterested(){this.peerInterested=!0,this._debug("got interested"),this.emit("interested")}_onUninterested(){this.peerInterested=!1,this._debug("got uninterested"),this.emit("uninterested")}_onHave(U){this.peerPieces.get(U)||(this._debug("got have %d",U),this.peerPieces.set(U,!0),this.emit("have",U))}_onBitField(U){this.peerPieces=new i(U),this._debug("got bitfield"),this.emit("bitfield",this.peerPieces)}_onRequest(U,K,Q){if(this.amChoking&&!(this.hasFast&&this.allowedFastSet.includes(U)))return void(this.hasFast&&this.reject(U,K,Q));this._debug("got request index=%d offset=%d length=%d",U,K,Q);const ee=(ae,me)=>fe===this._pull(this.peerRequests,U,K,Q)?ae?(this._debug("error satisfying request index=%d offset=%d length=%d (%s)",U,K,Q,ae.message),void(this.hasFast&&this.reject(U,K,Q))):void this.piece(U,K,me):void 0,fe=new T(U,K,Q,ee);this.peerRequests.push(fe),this.emit("request",U,K,Q,ee)}_onPiece(U,K,Q){this._debug("got piece index=%d offset=%d",U,K),this._callback(this._pull(this.requests,U,K,Q.length),null,Q),this.downloaded+=Q.length,this.downloadSpeed(Q.length),this.emit("download",Q.length),this.emit("piece",U,K,Q)}_onCancel(U,K,Q){this._debug("got cancel index=%d offset=%d length=%d",U,K,Q),this._pull(this.peerRequests,U,K,Q),this.emit("cancel",U,K,Q)}_onPort(U){this._debug("got port %d",U),this.emit("port",U)}_onSuggest(U){return this.hasFast?(this._debug("got suggest %d",U),void this.emit("suggest",U)):(this._debug("Error: got suggest whereas fast extension is disabled"),void this.destroy())}_onHaveAll(){return this.hasFast?(this._debug("got have-all"),this.peerPieces=new M,void this.emit("have-all")):(this._debug("Error: got have-all whereas fast extension is disabled"),void this.destroy())}_onHaveNone(){return this.hasFast?(this._debug("got have-none"),void this.emit("have-none")):(this._debug("Error: got have-none whereas fast extension is disabled"),void this.destroy())}_onReject(U,K,Q){return this.hasFast?(this._debug("got reject index=%d offset=%d length=%d",U,K,Q),this._callback(this._pull(this.requests,U,K,Q),new Error("request was rejected"),null),void this.emit("reject",U,K,Q)):(this._debug("Error: got reject whereas fast extension is disabled"),void this.destroy())}_onAllowedFast(U){return this.hasFast?(this._debug("got allowed-fast %d",U),!this.peerAllowedFastSet.includes(U)&&this.peerAllowedFastSet.push(U),this.peerAllowedFastSet.length>u&&this.peerAllowedFastSet.shift(),void this.emit("allowed-fast",U)):(this._debug("Error: got allowed-fast whereas fast extension is disabled"),void this.destroy())}_onExtended(U,K){if(U===0){let Q;try{Q=y.decode(K)}catch(ee){this._debug("ignoring invalid extended handshake: %s",ee.message||ee)}if(!Q)return;if(this.peerExtendedHandshake=Q,typeof Q.m=="object")for(const ee in Q.m)this.peerExtendedMapping[ee]=+Q.m[ee].toString();for(const ee in this._ext)this.peerExtendedMapping[ee]&&this._ext[ee].onExtendedHandshake(this.peerExtendedHandshake);this._debug("got extended handshake"),this.emit("extended","handshake",this.peerExtendedHandshake)}else this.extendedMapping[U]&&(U=this.extendedMapping[U],this._ext[U]&&this._ext[U].onMessage(K)),this._debug("got extended message ext=%s",U),this.emit("extended",U,K)}_onTimeout(){this._debug("request timed out"),this._callback(this.requests.shift(),new Error("request has timed out"),null),this.emit("timeout")}_write(U,K,Q){if(this._encryptionMethod===2&&this._cryptoHandshakeDone&&(U=this._decrypt(U)),this._bufferSize+=U.length,this._buffer.push(U),1<this._buffer.length&&(this._buffer=[g.concat(this._buffer,this._bufferSize)]),this._cryptoSyncPattern){const ee=this._buffer[0].indexOf(this._cryptoSyncPattern);if(ee!==-1)this._buffer[0]=this._buffer[0].slice(ee+this._cryptoSyncPattern.length),this._bufferSize-=ee+this._cryptoSyncPattern.length,this._cryptoSyncPattern=null;else if(this._bufferSize+U.length>this._waitMaxBytes+this._cryptoSyncPattern.length)return this._debug("Error: could not resynchronize"),void this.destroy()}for(;this._bufferSize>=this._parserSize&&!this._cryptoSyncPattern;)if(this._parserSize===0)this._parser(g.from([]));else{const ee=this._buffer[0];this._bufferSize-=this._parserSize,this._buffer=this._bufferSize?[ee.slice(this._parserSize)]:[],this._parser(ee.slice(0,this._parserSize))}Q(null)}_callback(U,K,Q){U&&(this._resetTimeout(!this.peerChoking&&!this._finished),U.callback(K,Q))}_resetTimeout(U){if(!U||!this._timeoutMs||!this.requests.length)return clearTimeout(this._timeout),this._timeout=null,void(this._timeoutExpiresAt=null);const K=Date.now()+this._timeoutMs;if(this._timeout){if(K-this._timeoutExpiresAt<.05*this._timeoutMs)return;clearTimeout(this._timeout)}this._timeoutExpiresAt=K,this._timeout=setTimeout(()=>this._onTimeout(),this._timeoutMs),this._timeoutUnref&&this._timeout.unref&&this._timeout.unref()}_parse(U,K){this._parserSize=U,this._parser=K}_parseUntil(U,K){this._cryptoSyncPattern=U,this._waitMaxBytes=K}_onMessageLength(U){const K=U.readUInt32BE(0);0<K?this._parse(K,this._onMessage):(this._onKeepAlive(),this._parse(4,this._onMessageLength))}_onMessage(U){switch(this._parse(4,this._onMessageLength),U[0]){case 0:return this._onChoke();case 1:return this._onUnchoke();case 2:return this._onInterested();case 3:return this._onUninterested();case 4:return this._onHave(U.readUInt32BE(1));case 5:return this._onBitField(U.slice(1));case 6:return this._onRequest(U.readUInt32BE(1),U.readUInt32BE(5),U.readUInt32BE(9));case 7:return this._onPiece(U.readUInt32BE(1),U.readUInt32BE(5),U.slice(9));case 8:return this._onCancel(U.readUInt32BE(1),U.readUInt32BE(5),U.readUInt32BE(9));case 9:return this._onPort(U.readUInt16BE(1));case 13:return this._onSuggest(U.readUInt32BE(1));case 14:return this._onHaveAll();case 15:return this._onHaveNone();case 16:return this._onReject(U.readUInt32BE(1),U.readUInt32BE(5),U.readUInt32BE(9));case 17:return this._onAllowedFast(U.readUInt32BE(1));case 20:return this._onExtended(U.readUInt8(1),U.slice(2));default:return this._debug("got unknown message"),this.emit("unknownmessage",U)}}_determineHandshakeType(){this._parse(1,U=>{const K=U.readUInt8(0);K===19?this._parse(K+48,this._onHandshakeBuffer):this._parsePe1(U)})}_parsePe1(U){this._parse(95,K=>{this._onPe1(g.concat([U,K])),this._parsePe3()})}_parsePe2(){this._parse(96,U=>{for(this._onPe2(U);!this._setGenerators;);this._parsePe4()})}_parsePe3(){const U=g.from(h.sync(g.from(this._utfToHex("req1")+this._sharedSecret,"hex")),"hex");this._parseUntil(U,512),this._parse(20,K=>{for(this._onPe3(K);!this._setGenerators;);this._parsePe3Encrypted()})}_parsePe3Encrypted(){this._parse(14,U=>{const K=this._decryptHandshake(U.slice(0,8)),Q=this._decryptHandshake(U.slice(8,12)),ee=this._decryptHandshake(U.slice(12,14)).readUInt16BE(0);this._parse(ee,fe=>{fe=this._decryptHandshake(fe),this._parse(2,ae=>{const me=this._decryptHandshake(ae).readUInt16BE(0);this._parse(me,he=>{he=this._decryptHandshake(he),this._onPe3Encrypted(K,Q,fe,he);const Se=me?he.readUInt8(0):null,Ae=me?he.slice(1,20):null;Se===19&&Ae.toString()==="BitTorrent protocol"?this._onHandshakeBuffer(he.slice(1)):this._parseHandshake()})})})})}_parsePe4(){const U=this._decryptHandshake(B);this._parseUntil(U,512),this._parse(6,K=>{const Q=this._decryptHandshake(K.slice(0,4)),ee=this._decryptHandshake(K.slice(4,6)).readUInt16BE(0);this._parse(ee,fe=>{this._decryptHandshake(fe),this._onPe4(Q),this._parseHandshake(null)})})}_parseHandshake(){this._parse(1,U=>{const K=U.readUInt8(0);return K===19?void this._parse(K+48,this._onHandshakeBuffer):(this._debug("Error: wire not speaking BitTorrent protocol (%s)",K.toString()),void this.end())})}_onHandshakeBuffer(U){const K=U.slice(0,19);return K.toString()==="BitTorrent protocol"?(U=U.slice(19),this._onHandshake(U.slice(8,28),U.slice(28,48),{dht:!!(1&U[7]),fast:!!(4&U[7]),extended:!!(16&U[5])}),void this._parse(4,this._onMessageLength)):(this._debug("Error: wire not speaking BitTorrent protocol (%s)",K.toString()),void this.end())}_onFinish(){for(this._finished=!0,this.push(null);this.read(););for(clearInterval(this._keepAliveInterval),this._parse(Number.MAX_VALUE,()=>{});this.peerRequests.length;)this.peerRequests.pop();for(;this.requests.length;)this._callback(this.requests.pop(),new Error("wire was closed"),null)}_debug(...U){U[0]=`[${this._debugId}] ${U[0]}`,a(...U)}_pull(U,K,Q,ee){for(let fe=0;fe<U.length;fe++){const ae=U[fe];if(ae.piece===K&&ae.offset===Q&&ae.length===ee)return E(U,fe),ae}return null}_encryptHandshake(U){const K=g.from(U);if(!this._encryptGenerator)return this._debug("Warning: Encrypting without any generator"),K;for(let Q=0;Q<U.length;Q++){const ee=this._encryptGenerator.randomByte();K[Q]^=ee}return K}_encrypt(U){const K=g.from(U);if(!this._encryptGenerator||this._encryptionMethod!==2)return K;for(let Q=0;Q<U.length;Q++){const ee=this._encryptGenerator.randomByte();K[Q]^=ee}return K}_decryptHandshake(U){const K=g.from(U);if(!this._decryptGenerator)return this._debug("Warning: Decrypting without any generator"),K;for(let Q=0;Q<U.length;Q++){const ee=this._decryptGenerator.randomByte();K[Q]^=ee}return K}_decrypt(U){const K=g.from(U);if(!this._decryptGenerator||this._encryptionMethod!==2)return K;for(let Q=0;Q<U.length;Q++){const ee=this._decryptGenerator.randomByte();K[Q]^=ee}return K}_utfToHex(U){return g.from(U,"utf8").toString("hex")}}V.exports=F}).call(this)}).call(this,x("buffer").Buffer)},{bencode:27,bitfield:31,buffer:75,crypto:89,debug:90,randombytes:208,rc4:212,"readable-stream":227,"simple-sha1":247,speedometer:254,"unordered-array-remove":272}],33:[function(x,V,O){(function(g,C){(function(){const E=x("debug")("bittorrent-tracker:client"),y=x("events"),i=x("once"),m=x("run-parallel"),a=x("simple-peer"),o=x("queue-microtask"),h=x("./lib/common"),s=x("./lib/client/http-tracker"),r=x("./lib/client/udp-tracker"),d=x("./lib/client/websocket-tracker");class c extends y{constructor(u={}){if(super(),!u.peerId)throw new Error("Option `peerId` is required");if(!u.infoHash)throw new Error("Option `infoHash` is required");if(!u.announce)throw new Error("Option `announce` is required");if(!g.browser&&!u.port)throw new Error("Option `port` is required");this.peerId=typeof u.peerId=="string"?u.peerId:u.peerId.toString("hex"),this._peerIdBuffer=C.from(this.peerId,"hex"),this._peerIdBinary=this._peerIdBuffer.toString("binary"),this.infoHash=typeof u.infoHash=="string"?u.infoHash.toLowerCase():u.infoHash.toString("hex"),this._infoHashBuffer=C.from(this.infoHash,"hex"),this._infoHashBinary=this._infoHashBuffer.toString("binary"),E("new client %s",this.infoHash),this.destroyed=!1,this._port=u.port,this._getAnnounceOpts=u.getAnnounceOpts,this._rtcConfig=u.rtcConfig,this._userAgent=u.userAgent,this._proxyOpts=u.proxyOpts,this._wrtc=typeof u.wrtc=="function"?u.wrtc():u.wrtc;let k=typeof u.announce=="string"?[u.announce]:u.announce==null?[]:u.announce;k=k.map(w=>(w=w.toString(),w[w.length-1]==="/"&&(w=w.substring(0,w.length-1)),w)),k=Array.from(new Set(k));const R=this._wrtc!==!1&&(!!this._wrtc||a.WEBRTC_SUPPORT),A=w=>{o(()=>{this.emit("warning",w)})};this._trackers=k.map(w=>{let I;try{I=h.parseUrl(w)}catch{return A(new Error(`Invalid tracker URL: ${w}`)),null}const N=I.port;if(0>N||65535<N)return A(new Error(`Invalid tracker port: ${w}`)),null;const L=I.protocol;return(L==="http:"||L==="https:")&&typeof s=="function"?new s(this,w):L==="udp:"&&typeof r=="function"?new r(this,w):(L==="ws:"||L==="wss:")&&R?L==="ws:"&&typeof window<"u"&&window.location.protocol==="https:"?(A(new Error(`Unsupported tracker protocol: ${w}`)),null):new d(this,w):(A(new Error(`Unsupported tracker protocol: ${w}`)),null)}).filter(Boolean)}start(u){u=this._defaultAnnounceOpts(u),u.event="started",E("send `start` %o",u),this._announce(u),this._trackers.forEach(k=>{k.setInterval()})}stop(u){u=this._defaultAnnounceOpts(u),u.event="stopped",E("send `stop` %o",u),this._announce(u)}complete(u){u||(u={}),u=this._defaultAnnounceOpts(u),u.event="completed",E("send `complete` %o",u),this._announce(u)}update(u){u=this._defaultAnnounceOpts(u),u.event&&delete u.event,E("send `update` %o",u),this._announce(u)}_announce(u){this._trackers.forEach(k=>{k.announce(u)})}scrape(u){E("send `scrape`"),u||(u={}),this._trackers.forEach(k=>{k.scrape(u)})}setInterval(u){E("setInterval %d",u),this._trackers.forEach(k=>{k.setInterval(u)})}destroy(u){if(!this.destroyed){this.destroyed=!0,E("destroy");const k=this._trackers.map(R=>A=>{R.destroy(A)});m(k,u),this._trackers=[],this._getAnnounceOpts=null}}_defaultAnnounceOpts(u={}){return u.numwant==null&&(u.numwant=h.DEFAULT_ANNOUNCE_PEERS),u.uploaded==null&&(u.uploaded=0),u.downloaded==null&&(u.downloaded=0),this._getAnnounceOpts&&(u=Object.assign({},u,this._getAnnounceOpts())),u}}c.scrape=(f,u)=>{if(u=i(u),!f.infoHash)throw new Error("Option `infoHash` is required");if(!f.announce)throw new Error("Option `announce` is required");const k=Object.assign({},f,{infoHash:Array.isArray(f.infoHash)?f.infoHash[0]:f.infoHash,peerId:C.from("01234567890123456789"),port:6881}),R=new c(k);R.once("error",u),R.once("warning",u);let A=Array.isArray(f.infoHash)?f.infoHash.length:1;const w={};return R.on("scrape",I=>{if(A-=1,w[I.infoHash]=I,A===0){R.destroy();const N=Object.keys(w);N.length===1?u(null,w[N[0]]):u(null,w)}}),f.infoHash=Array.isArray(f.infoHash)?f.infoHash.map(I=>C.from(I,"hex")):C.from(f.infoHash,"hex"),R.scrape({infoHash:f.infoHash}),R},V.exports=c}).call(this)}).call(this,x("_process"),x("buffer").Buffer)},{"./lib/client/http-tracker":41,"./lib/client/udp-tracker":41,"./lib/client/websocket-tracker":35,"./lib/common":36,_process:192,buffer:75,debug:90,events:122,once:177,"queue-microtask":205,"run-parallel":232,"simple-peer":246}],34:[function(x,V,O){const g=x("events");class C extends g{constructor(y,i){super(),this.client=y,this.announceUrl=i,this.interval=null,this.destroyed=!1}setInterval(y){y==null&&(y=this.DEFAULT_ANNOUNCE_INTERVAL),clearInterval(this.interval),y&&(this.interval=setInterval(()=>{this.announce(this.client._defaultAnnounceOpts())},y),this.interval.unref&&this.interval.unref())}}V.exports=C},{events:122}],35:[function(x,V,O){function g(){}const C=x("clone"),E=x("debug")("bittorrent-tracker:websocket-tracker"),y=x("simple-peer"),i=x("randombytes"),m=x("simple-websocket"),a=x("socks"),o=x("../common"),h=x("./tracker"),s={},r=1e4,d=36e5,c=3e5,f=5e4;class u extends h{constructor(R,A){super(R,A),E("new websocket tracker %s",A),this.peers={},this.socket=null,this.reconnecting=!1,this.retries=0,this.reconnectTimer=null,this.expectingResponse=!1,this._openSocket()}announce(R){if(this.destroyed||this.reconnecting)return;if(!this.socket.connected)return void this.socket.once("connect",()=>{this.announce(R)});const A=Object.assign({},R,{action:"announce",info_hash:this.client._infoHashBinary,peer_id:this.client._peerIdBinary});if(this._trackerId&&(A.trackerid=this._trackerId),R.event==="stopped"||R.event==="completed")this._send(A);else{const w=ke(R.numwant,5);this._generateOffers(w,I=>{A.numwant=w,A.offers=I,this._send(A)})}}scrape(R){if(this.destroyed||this.reconnecting)return;if(!this.socket.connected)return void this.socket.once("connect",()=>{this.scrape(R)});const A=Array.isArray(R.infoHash)&&0<R.infoHash.length?R.infoHash.map(I=>I.toString("binary")):R.infoHash&&R.infoHash.toString("binary")||this.client._infoHashBinary,w={action:"scrape",info_hash:A};this._send(w)}destroy(R=g){function A(){I&&(clearTimeout(I),I=null),w.removeListener("data",A),w.destroy(),w=null}if(this.destroyed)return R(null);for(const N in this.destroyed=!0,clearInterval(this.interval),clearTimeout(this.reconnectTimer),this.peers){const L=this.peers[N];clearTimeout(L.trackerTimeout),L.destroy()}if(this.peers=null,this.socket&&(this.socket.removeListener("connect",this._onSocketConnectBound),this.socket.removeListener("data",this._onSocketDataBound),this.socket.removeListener("close",this._onSocketCloseBound),this.socket.removeListener("error",this._onSocketErrorBound),this.socket=null),this._onSocketConnectBound=null,this._onSocketErrorBound=null,this._onSocketDataBound=null,this._onSocketCloseBound=null,s[this.announceUrl]&&(s[this.announceUrl].consumers-=1),0<s[this.announceUrl].consumers)return R();let w=s[this.announceUrl];delete s[this.announceUrl],w.on("error",g),w.once("close",R);let I;return this.expectingResponse?(I=setTimeout(A,o.DESTROY_TIMEOUT),void w.once("data",A)):A()}_openSocket(){if(this.destroyed=!1,this.peers||(this.peers={}),this._onSocketConnectBound=()=>{this._onSocketConnect()},this._onSocketErrorBound=R=>{this._onSocketError(R)},this._onSocketDataBound=R=>{this._onSocketData(R)},this._onSocketCloseBound=()=>{this._onSocketClose()},this.socket=s[this.announceUrl],this.socket)s[this.announceUrl].consumers+=1,this.socket.connected&&this._onSocketConnectBound();else{const R=new URL(this.announceUrl);let A;this.client._proxyOpts&&(A=R.protocol==="wss:"?this.client._proxyOpts.httpsAgent:this.client._proxyOpts.httpAgent,!A&&this.client._proxyOpts.socksProxy&&(A=new a.Agent(C(this.client._proxyOpts.socksProxy),R.protocol==="wss:"))),this.socket=s[this.announceUrl]=new m({url:this.announceUrl,agent:A}),this.socket.consumers=1,this.socket.once("connect",this._onSocketConnectBound)}this.socket.on("data",this._onSocketDataBound),this.socket.once("close",this._onSocketCloseBound),this.socket.once("error",this._onSocketErrorBound)}_onSocketConnect(){this.destroyed||this.reconnecting&&(this.reconnecting=!1,this.retries=0,this.announce(this.client._defaultAnnounceOpts()))}_onSocketData(R){if(!this.destroyed){this.expectingResponse=!1;try{R=JSON.parse(R)}catch{return void this.client.emit("warning",new Error("Invalid tracker response"))}R.action==="announce"?this._onAnnounceResponse(R):R.action==="scrape"?this._onScrapeResponse(R):this._onSocketError(new Error(`invalid action in WS response: ${R.action}`))}}_onAnnounceResponse(R){if(R.info_hash!==this.client._infoHashBinary)return void E("ignoring websocket data from %s for %s (looking for %s: reused socket)",this.announceUrl,o.binaryToHex(R.info_hash),this.client.infoHash);if(R.peer_id&&R.peer_id===this.client._peerIdBinary)return;E("received %s from %s for %s",JSON.stringify(R),this.announceUrl,this.client.infoHash);const A=R["failure reason"];if(A)return this.client.emit("warning",new Error(A));const w=R["warning message"];w&&this.client.emit("warning",new Error(w));const I=R.interval||R["min interval"];I&&this.setInterval(1e3*I);const N=R["tracker id"];if(N&&(this._trackerId=N),R.complete!=null){const G=Object.assign({},R,{announce:this.announceUrl,infoHash:o.binaryToHex(R.info_hash)});this.client.emit("update",G)}let L;if(R.offer&&R.peer_id&&(E("creating peer (from remote offer)"),L=this._createPeer(),L.id=o.binaryToHex(R.peer_id),L.once("signal",G=>{const J={action:"announce",info_hash:this.client._infoHashBinary,peer_id:this.client._peerIdBinary,to_peer_id:R.peer_id,answer:G,offer_id:R.offer_id};this._trackerId&&(J.trackerid=this._trackerId),this._send(J)}),this.client.emit("peer",L),L.signal(R.offer)),R.answer&&R.peer_id){const G=o.binaryToHex(R.offer_id);L=this.peers[G],L?(L.id=o.binaryToHex(R.peer_id),this.client.emit("peer",L),L.signal(R.answer),clearTimeout(L.trackerTimeout),L.trackerTimeout=null,delete this.peers[G]):E(`got unexpected answer: ${JSON.stringify(R.answer)}`)}}_onScrapeResponse(R){R=R.files||{};const A=Object.keys(R);return A.length===0?void this.client.emit("warning",new Error("invalid scrape response")):void A.forEach(w=>{const I=Object.assign(R[w],{announce:this.announceUrl,infoHash:o.binaryToHex(w)});this.client.emit("scrape",I)})}_onSocketClose(){this.destroyed||(this.destroy(),this._startReconnectTimer())}_onSocketError(R){this.destroyed||(this.destroy(),this.client.emit("warning",R),this._startReconnectTimer())}_startReconnectTimer(){const R=D(Math.random()*c)+ke(v(2,this.retries)*r,d);this.reconnecting=!0,clearTimeout(this.reconnectTimer),this.reconnectTimer=setTimeout(()=>{this.retries++,this._openSocket()},R),this.reconnectTimer.unref&&this.reconnectTimer.unref(),E("reconnecting socket in %s ms",R)}_send(R){if(!this.destroyed){this.expectingResponse=!0;const A=JSON.stringify(R);E("send %s",A),this.socket.send(A)}}_generateOffers(R,A){function w(){const G=i(20).toString("hex");E("creating peer (from _generateOffers)");const J=N.peers[G]=N._createPeer({initiator:!0});J.once("signal",se=>{L.push({offer:se,offer_id:o.hexToBinary(G)}),I()}),J.trackerTimeout=setTimeout(()=>{E("tracker timeout: destroying peer"),J.trackerTimeout=null,delete N.peers[G],J.destroy()},f),J.trackerTimeout.unref&&J.trackerTimeout.unref()}function I(){L.length===R&&(E("generated %s offers",R),A(L))}const N=this,L=[];E("generating %s offers",R);for(let G=0;G<R;++G)w();I()}_createPeer(R){function A(L){I.client.emit("warning",new Error(`Connection error: ${L.message}`)),N.destroy()}function w(){N.removeListener("error",A),N.removeListener("connect",w)}const I=this;R=Object.assign({trickle:!1,config:I.client._rtcConfig,wrtc:I.client._wrtc},R);const N=new y(R);return N.once("error",A),N.once("connect",w),N}}u.prototype.DEFAULT_ANNOUNCE_INTERVAL=3e4,u._socketPool=s,V.exports=u},{"../common":36,"./tracker":34,clone:80,debug:90,randombytes:208,"simple-peer":246,"simple-websocket":249,socks:41}],36:[function(x,V,O){(function(g){(function(){O.DEFAULT_ANNOUNCE_PEERS=50,O.MAX_ANNOUNCE_PEERS=82,O.binaryToHex=E=>(typeof E!="string"&&(E+=""),g.from(E,"binary").toString("hex")),O.hexToBinary=E=>(typeof E!="string"&&(E+=""),g.from(E,"hex").toString("binary")),O.parseUrl=E=>{const y=new URL(E.replace(/^udp:/,"http:"));return E.match(/^udp:/)&&Object.defineProperties(y,{href:{value:y.href.replace(/^http/,"udp")},protocol:{value:y.protocol.replace(/^http/,"udp")},origin:{value:y.origin.replace(/^http/,"udp")}}),y};const C=x("./common-node");Object.assign(O,C)}).call(this)}).call(this,x("buffer").Buffer)},{"./common-node":41,buffer:75}],37:[function(x,V,O){(function(g){(function(){/*! blob-to-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */V.exports=function(E,y){function i(a){m.removeEventListener("loadend",i,!1),a.error?y(a.error):y(null,g.from(m.result))}if(typeof Blob>"u"||!(E instanceof Blob))throw new Error("first argument must be a Blob");if(typeof y!="function")throw new Error("second argument must be a function");const m=new FileReader;m.addEventListener("loadend",i,!1),m.readAsArrayBuffer(E)}}).call(this)}).call(this,x("buffer").Buffer)},{buffer:75}],38:[function(x,V,O){(function(g){(function(){const{Transform:C}=x("readable-stream");class E extends C{constructor(i,m={}){super(m),typeof i=="object"&&(m=i,i=m.size),this.size=i||512;const{nopad:a,zeroPadding:o=!0}=m;this._zeroPadding=!a&&!!o,this._buffered=[],this._bufferedBytes=0}_transform(i,m,a){for(this._bufferedBytes+=i.length,this._buffered.push(i);this._bufferedBytes>=this.size;){this._bufferedBytes-=this.size;const o=[];for(let h=0;h<this.size;){const s=this._buffered.shift();if(h+s.length<=this.size)o.push(s),h+=s.length;else{const r=this.size-h;o.push(s.slice(0,r)),h+=r,this._buffered.unshift(s.slice(r))}}this.push(g.concat(o,this.size))}a()}_flush(){if(this._bufferedBytes&&this._zeroPadding){const i=g.alloc(this.size-this._bufferedBytes);this._buffered.push(i),this.push(g.concat(this._buffered)),this._buffered=null}else this._bufferedBytes&&(this.push(g.concat(this._buffered)),this._buffered=null);this.push(null)}}V.exports=E}).call(this)}).call(this,x("buffer").Buffer)},{buffer:75,"readable-stream":227}],39:[function(x,V,O){(function(g,C){function E(_,p){if(!_)throw new Error(p||"Assertion failed")}function y(_,p){_.super_=p;var T=function(){};T.prototype=p.prototype,_.prototype=new T,_.prototype.constructor=_}function i(_,p,T){return i.isBN(_)?_:(this.negative=0,this.words=null,this.length=0,this.red=null,void(_!==null&&((p==="le"||p==="be")&&(T=p,p=10),this._init(_||0,p||10,T||"be"))))}function m(_,p){var T=_.charCodeAt(p);return 48<=T&&57>=T?T-48:65<=T&&70>=T?T-55:97<=T&&102>=T?T-87:void E(!1,"Invalid character in "+_)}function a(_,p,T){var M=m(_,T);return T-1>=p&&(M|=m(_,T-1)<<4),M}function o(_,p,T,M){for(var F=0,j=0,U=ke(_.length,T),K=p,Q;K<U;K++)Q=_.charCodeAt(K)-48,F*=M,j=49<=Q?Q-49+10:17<=Q?Q-17+10:Q,E(0<=Q&&j<M,"Invalid character"),F+=j;return F}function h(_,p){_.words=p.words,_.length=p.length,_.negative=p.negative,_.red=p.red}function s(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}function r(_){for(var p=Array(_.bitLength()),T=0;T<p.length;T++){var M=0|T/26,F=T%26;p[T]=1&_.words[M]>>>F}return p}function d(_,p,T){T.negative=p.negative^_.negative;var M=0|_.length+p.length;T.length=M,M=0|M-1;var F=0|_.words[0],j=0|p.words[0],U=F*j,K=67108863&U,Q=0|U/67108864;T.words[0]=K;for(var ee=1;ee<M;ee++){for(var fe=Q>>>26,ae=67108863&Q,me=ke(ee,p.length-1),he=be(0,ee-_.length+1),Se;he<=me;he++)Se=0|ee-he,F=0|_.words[Se],j=0|p.words[he],U=F*j+ae,fe+=0|U/67108864,ae=67108863&U;T.words[ee]=0|ae,Q=0|fe}return Q===0?T.length--:T.words[ee]=0|Q,T._strip()}function c(_,p,T){T.negative=p.negative^_.negative,T.length=_.length+p.length;for(var M=0,F=0,j=0,U;j<T.length-1;j++){U=F,F=0;for(var K=67108863&M,Q=ke(j,p.length-1),ee=be(0,j-_.length+1);ee<=Q;ee++){var fe=j-ee,ae=0|_.words[fe],me=0|p.words[ee],he=ae*me,Se=67108863&he;U=0|U+(0|he/67108864),Se=0|Se+K,K=67108863&Se,U=0|U+(Se>>>26),F+=U>>>26,U&=67108863}T.words[j]=K,M=U,U=F}return M===0?T.length--:T.words[j]=M,T._strip()}function f(_,p,T){return c(_,p,T)}function u(_,p){this.name=_,this.p=new i(p,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function k(){u.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function R(){u.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function A(){u.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function w(){u.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function I(_){if(typeof _=="string"){var p=i._prime(_);this.m=p.p,this.prime=p}else E(_.gtn(1),"modulus must be greater than 1"),this.m=_,this.prime=null}function N(_){I.call(this,_),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}typeof g=="object"?g.exports=i:C.BN=i,i.BN=i,i.wordSize=26;var L;try{L=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:x("buffer").Buffer}catch{}if(i.isBN=function(p){return p instanceof i||p!==null&&typeof p=="object"&&p.constructor.wordSize===i.wordSize&&Array.isArray(p.words)},i.max=function(p,T){return 0<p.cmp(T)?p:T},i.min=function(p,T){return 0>p.cmp(T)?p:T},i.prototype._init=function(p,T,M){if(typeof p=="number")return this._initNumber(p,T,M);if(typeof p=="object")return this._initArray(p,T,M);T==="hex"&&(T=16),E(T===(0|T)&&2<=T&&36>=T),p=p.toString().replace(/\s+/g,"");var F=0;p[0]==="-"&&(F++,this.negative=1),F<p.length&&(T===16?this._parseHex(p,F,M):(this._parseBase(p,T,F),M==="le"&&this._initArray(this.toArray(),T,M)))},i.prototype._initNumber=function(p,T,M){0>p&&(this.negative=1,p=-p),67108864>p?(this.words=[67108863&p],this.length=1):4503599627370496>p?(this.words=[67108863&p,67108863&p/67108864],this.length=2):(E(9007199254740992>p),this.words=[67108863&p,67108863&p/67108864,1],this.length=3),M!=="le"||this._initArray(this.toArray(),T,M)},i.prototype._initArray=function(p,T,M){if(E(typeof p.length=="number"),0>=p.length)return this.words=[0],this.length=1,this;this.length=Ee(p.length/3),this.words=Array(this.length);for(var F=0;F<this.length;F++)this.words[F]=0;var j=0,U,K;if(M==="be")for(F=p.length-1,U=0;0<=F;F-=3)K=p[F]|p[F-1]<<8|p[F-2]<<16,this.words[U]|=67108863&K<<j,this.words[U+1]=67108863&K>>>26-j,j+=24,26<=j&&(j-=26,U++);else if(M==="le")for(F=0,U=0;F<p.length;F+=3)K=p[F]|p[F+1]<<8|p[F+2]<<16,this.words[U]|=67108863&K<<j,this.words[U+1]=67108863&K>>>26-j,j+=24,26<=j&&(j-=26,U++);return this._strip()},i.prototype._parseHex=function(p,T,M){this.length=Ee((p.length-T)/6),this.words=Array(this.length);for(var F=0;F<this.length;F++)this.words[F]=0;var j=0,U=0,K;if(M==="be")for(F=p.length-1;F>=T;F-=2)K=a(p,T,F)<<j,this.words[U]|=67108863&K,18<=j?(j-=18,U+=1,this.words[U]|=K>>>26):j+=8;else{var Q=p.length-T;for(F=Q%2==0?T+1:T;F<p.length;F+=2)K=a(p,T,F)<<j,this.words[U]|=67108863&K,18<=j?(j-=18,U+=1,this.words[U]|=K>>>26):j+=8}this._strip()},i.prototype._parseBase=function(p,T,M){this.words=[0],this.length=1;for(var F=0,j=1;67108863>=j;j*=T)F++;F--,j=0|j/T;for(var U=p.length-M,K=U%F,Q=ke(U,U-K)+M,ee=0,fe=M;fe<Q;fe+=F)ee=o(p,fe,fe+F,T),this.imuln(j),67108864>this.words[0]+ee?this.words[0]+=ee:this._iaddn(ee);if(K!==0){var ae=1;for(ee=o(p,fe,p.length,T),fe=0;fe<K;fe++)ae*=T;this.imuln(ae),67108864>this.words[0]+ee?this.words[0]+=ee:this._iaddn(ee)}this._strip()},i.prototype.copy=function(p){p.words=Array(this.length);for(var T=0;T<this.length;T++)p.words[T]=this.words[T];p.length=this.length,p.negative=this.negative,p.red=this.red},i.prototype._move=function(p){h(p,this)},i.prototype.clone=function(){var p=new i(null);return this.copy(p),p},i.prototype._expand=function(p){for(;this.length<p;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;1<this.length&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=s}catch{i.prototype.inspect=s}else i.prototype.inspect=s;var G=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],J=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],se=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(p,T){p=p||10,T=0|T||1;var M;if(p===16||p==="hex"){M="";for(var F=0,j=0,U=0;U<this.length;U++){var K=this.words[U],Q=(16777215&(K<<F|j)).toString(16);j=16777215&K>>>24-F,F+=2,26<=F&&(F-=26,U--),M=j!==0||U!==this.length-1?G[6-Q.length]+Q+M:Q+M}for(j!==0&&(M=j.toString(16)+M);M.length%T!=0;)M="0"+M;return this.negative!==0&&(M="-"+M),M}if(p===(0|p)&&2<=p&&36>=p){var ee=J[p],fe=se[p];M="";var ae=this.clone();for(ae.negative=0;!ae.isZero();){var me=ae.modrn(fe).toString(p);ae=ae.idivn(fe),M=ae.isZero()?me+M:G[ee-me.length]+me+M}for(this.isZero()&&(M="0"+M);M.length%T!=0;)M="0"+M;return this.negative!==0&&(M="-"+M),M}E(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var p=this.words[0];return this.length===2?p+=67108864*this.words[1]:this.length===3&&this.words[2]===1?p+=4503599627370496+67108864*this.words[1]:2<this.length&&E(!1,"Number can only safely store up to 53 bits"),this.negative===0?p:-p},i.prototype.toJSON=function(){return this.toString(16,2)},L&&(i.prototype.toBuffer=function(p,T){return this.toArrayLike(L,p,T)}),i.prototype.toArray=function(p,T){return this.toArrayLike(Array,p,T)};var ce=function(p,T){return p.allocUnsafe?p.allocUnsafe(T):new p(T)};i.prototype.toArrayLike=function(p,T,M){this._strip();var F=this.byteLength(),j=M||be(1,F);E(F<=j,"byte array longer than desired length"),E(0<j,"Requested array length <= 0");var U=ce(p,j),K=T==="le"?"LE":"BE";return this["_toArrayLike"+K](U,F),U},i.prototype._toArrayLikeLE=function(p,T){for(var M=0,F=0,j=0,U=0,K;j<this.length;j++)K=this.words[j]<<U|F,p[M++]=255&K,M<p.length&&(p[M++]=255&K>>8),M<p.length&&(p[M++]=255&K>>16),U==6?(M<p.length&&(p[M++]=255&K>>24),F=0,U=0):(F=K>>>24,U+=2);if(M<p.length)for(p[M++]=F;M<p.length;)p[M++]=0},i.prototype._toArrayLikeBE=function(p,T){for(var M=p.length-1,F=0,j=0,U=0,K;j<this.length;j++)K=this.words[j]<<U|F,p[M--]=255&K,0<=M&&(p[M--]=255&K>>8),0<=M&&(p[M--]=255&K>>16),U==6?(0<=M&&(p[M--]=255&K>>24),F=0,U=0):(F=K>>>24,U+=2);if(0<=M)for(p[M--]=F;0<=M;)p[M--]=0},i.prototype._countBits=ie?function(p){return 32-ie(p)}:function(p){var T=p,M=0;return 4096<=T&&(M+=13,T>>>=13),64<=T&&(M+=7,T>>>=7),8<=T&&(M+=4,T>>>=4),2<=T&&(M+=2,T>>>=2),M+T},i.prototype._zeroBits=function(p){if(p===0)return 26;var T=p,M=0;return(8191&T)==0&&(M+=13,T>>>=13),(127&T)==0&&(M+=7,T>>>=7),(15&T)==0&&(M+=4,T>>>=4),(3&T)==0&&(M+=2,T>>>=2),(1&T)==0&&M++,M},i.prototype.bitLength=function(){var p=this.words[this.length-1],T=this._countBits(p);return 26*(this.length-1)+T},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var p=0,T=0,M;T<this.length&&(M=this._zeroBits(this.words[T]),p+=M,M===26);T++);return p},i.prototype.byteLength=function(){return Ee(this.bitLength()/8)},i.prototype.toTwos=function(p){return this.negative===0?this.clone():this.abs().inotn(p).iaddn(1)},i.prototype.fromTwos=function(p){return this.testn(p-1)?this.notn(p).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(p){for(;this.length<p.length;)this.words[this.length++]=0;for(var T=0;T<p.length;T++)this.words[T]|=p.words[T];return this._strip()},i.prototype.ior=function(p){return E((this.negative|p.negative)==0),this.iuor(p)},i.prototype.or=function(p){return this.length>p.length?this.clone().ior(p):p.clone().ior(this)},i.prototype.uor=function(p){return this.length>p.length?this.clone().iuor(p):p.clone().iuor(this)},i.prototype.iuand=function(p){var T;T=this.length>p.length?p:this;for(var M=0;M<T.length;M++)this.words[M]&=p.words[M];return this.length=T.length,this._strip()},i.prototype.iand=function(p){return E((this.negative|p.negative)==0),this.iuand(p)},i.prototype.and=function(p){return this.length>p.length?this.clone().iand(p):p.clone().iand(this)},i.prototype.uand=function(p){return this.length>p.length?this.clone().iuand(p):p.clone().iuand(this)},i.prototype.iuxor=function(p){var T,M;this.length>p.length?(T=this,M=p):(T=p,M=this);for(var F=0;F<M.length;F++)this.words[F]=T.words[F]^M.words[F];if(this!==T)for(;F<T.length;F++)this.words[F]=T.words[F];return this.length=T.length,this._strip()},i.prototype.ixor=function(p){return E((this.negative|p.negative)==0),this.iuxor(p)},i.prototype.xor=function(p){return this.length>p.length?this.clone().ixor(p):p.clone().ixor(this)},i.prototype.uxor=function(p){return this.length>p.length?this.clone().iuxor(p):p.clone().iuxor(this)},i.prototype.inotn=function(p){E(typeof p=="number"&&0<=p);var T=0|Ee(p/26),M=p%26;this._expand(T),0<M&&T--;for(var F=0;F<T;F++)this.words[F]=67108863&~this.words[F];return 0<M&&(this.words[F]=~this.words[F]&67108863>>26-M),this._strip()},i.prototype.notn=function(p){return this.clone().inotn(p)},i.prototype.setn=function(p,T){E(typeof p=="number"&&0<=p);var M=0|p/26,F=p%26;return this._expand(M+1),T?this.words[M]|=1<<F:this.words[M]&=~(1<<F),this._strip()},i.prototype.iadd=function(p){var T;if(this.negative!==0&&p.negative===0)return this.negative=0,T=this.isub(p),this.negative^=1,this._normSign();if(this.negative===0&&p.negative!==0)return p.negative=0,T=this.isub(p),p.negative=1,T._normSign();var M,F;this.length>p.length?(M=this,F=p):(M=p,F=this);for(var j=0,U=0;U<F.length;U++)T=(0|M.words[U])+(0|F.words[U])+j,this.words[U]=67108863&T,j=T>>>26;for(;j!==0&&U<M.length;U++)T=(0|M.words[U])+j,this.words[U]=67108863&T,j=T>>>26;if(this.length=M.length,j!==0)this.words[this.length]=j,this.length++;else if(M!==this)for(;U<M.length;U++)this.words[U]=M.words[U];return this},i.prototype.add=function(p){var T;return p.negative!==0&&this.negative===0?(p.negative=0,T=this.sub(p),p.negative^=1,T):p.negative===0&&this.negative!==0?(this.negative=0,T=p.sub(this),this.negative=1,T):this.length>p.length?this.clone().iadd(p):p.clone().iadd(this)},i.prototype.isub=function(p){if(p.negative!==0){p.negative=0;var T=this.iadd(p);return p.negative=1,T._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(p),this.negative=1,this._normSign();var M=this.cmp(p);if(M===0)return this.negative=0,this.length=1,this.words[0]=0,this;var F,j;0<M?(F=this,j=p):(F=p,j=this);for(var U=0,K=0;K<j.length;K++)T=(0|F.words[K])-(0|j.words[K])+U,U=T>>26,this.words[K]=67108863&T;for(;U!==0&&K<F.length;K++)T=(0|F.words[K])+U,U=T>>26,this.words[K]=67108863&T;if(U===0&&K<F.length&&F!==this)for(;K<F.length;K++)this.words[K]=F.words[K];return this.length=be(this.length,K),F!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(p){return this.clone().isub(p)};var Y=function(p,T,M){var F=p.words,j=T.words,U=M.words,K=0,Q=0|F[0],ee=8191&Q,fe=Q>>>13,ae=0|F[1],me=8191&ae,he=ae>>>13,Se=0|F[2],Ae=8191&Se,pe=Se>>>13,ge=0|F[3],xe=8191&ge,Ce=ge>>>13,de=0|F[4],q=8191&de,P=de>>>13,H=0|F[5],Z=8191&H,oe=H>>>13,ue=0|F[6],ve=8191&ue,Re=ue>>>13,Pe=0|F[7],Ie=8191&Pe,Be=Pe>>>13,De=0|F[8],Ne=8191&De,Le=De>>>13,We=0|F[9],Ge=8191&We,je=We>>>13,ot=0|j[0],ct=8191&ot,ze=ot>>>13,lt=0|j[1],ht=8191&lt,He=lt>>>13,rt=0|j[2],mt=8191&rt,Ve=rt>>>13,gt=0|j[3],vt=8191&gt,Ke=gt>>>13,St=0|j[4],bt=8191&St,qe=St>>>13,xt=0|j[5],kt=8191&xt,Je=xt>>>13,Ct=0|j[6],Tt=8191&Ct,Ye=Ct>>>13,Rt=0|j[7],At=8191&Rt,Xe=Rt>>>13,It=0|j[8],yt=8191&It,Ze=It>>>13,_t=0|j[9],ye=8191&_t,te=_t>>>13,re,ne,we;M.negative=p.negative^T.negative,M.length=19,re=b(ee,ct),ne=b(ee,ze),ne=0|ne+b(fe,ct),we=b(fe,ze);var un=0|(0|K+re)+((8191&ne)<<13);K=0|(0|we+(ne>>>13))+(un>>>26),un&=67108863,re=b(me,ct),ne=b(me,ze),ne=0|ne+b(he,ct),we=b(he,ze),re=0|re+b(ee,ht),ne=0|ne+b(ee,He),ne=0|ne+b(fe,ht),we=0|we+b(fe,He);var kn=0|(0|K+re)+((8191&ne)<<13);K=0|(0|we+(ne>>>13))+(kn>>>26),kn&=67108863,re=b(Ae,ct),ne=b(Ae,ze),ne=0|ne+b(pe,ct),we=b(pe,ze),re=0|re+b(me,ht),ne=0|ne+b(me,He),ne=0|ne+b(he,ht),we=0|we+b(he,He),re=0|re+b(ee,mt),ne=0|ne+b(ee,Ve),ne=0|ne+b(fe,mt),we=0|we+b(fe,Ve);var Cn=0|(0|K+re)+((8191&ne)<<13);K=0|(0|we+(ne>>>13))+(Cn>>>26),Cn&=67108863,re=b(xe,ct),ne=b(xe,ze),ne=0|ne+b(Ce,ct),we=b(Ce,ze),re=0|re+b(Ae,ht),ne=0|ne+b(Ae,He),ne=0|ne+b(pe,ht),we=0|we+b(pe,He),re=0|re+b(me,mt),ne=0|ne+b(me,Ve),ne=0|ne+b(he,mt),we=0|we+b(he,Ve),re=0|re+b(ee,vt),ne=0|ne+b(ee,Ke),ne=0|ne+b(fe,vt),we=0|we+b(fe,Ke);var Tn=0|(0|K+re)+((8191&ne)<<13);K=0|(0|we+(ne>>>13))+(Tn>>>26),Tn&=67108863,re=b(q,ct),ne=b(q,ze),ne=0|ne+b(P,ct),we=b(P,ze),re=0|re+b(xe,ht),ne=0|ne+b(xe,He),ne=0|ne+b(Ce,ht),we=0|we+b(Ce,He),re=0|re+b(Ae,mt),ne=0|ne+b(Ae,Ve),ne=0|ne+b(pe,mt),we=0|we+b(pe,Ve),re=0|re+b(me,vt),ne=0|ne+b(me,Ke),ne=0|ne+b(he,vt),we=0|we+b(he,Ke),re=0|re+b(ee,bt),ne=0|ne+b(ee,qe),ne=0|ne+b(fe,bt),we=0|we+b(fe,qe);var sn=0|(0|K+re)+((8191&ne)<<13);K=0|(0|we+(ne>>>13))+(sn>>>26),sn&=67108863,re=b(Z,ct),ne=b(Z,ze),ne=0|ne+b(oe,ct),we=b(oe,ze),re=0|re+b(q,ht),ne=0|ne+b(q,He),ne=0|ne+b(P,ht),we=0|we+b(P,He),re=0|re+b(xe,mt),ne=0|ne+b(xe,Ve),ne=0|ne+b(Ce,mt),we=0|we+b(Ce,Ve),re=0|re+b(Ae,vt),ne=0|ne+b(Ae,Ke),ne=0|ne+b(pe,vt),we=0|we+b(pe,Ke),re=0|re+b(me,bt),ne=0|ne+b(me,qe),ne=0|ne+b(he,bt),we=0|we+b(he,qe),re=0|re+b(ee,kt),ne=0|ne+b(ee,Je),ne=0|ne+b(fe,kt),we=0|we+b(fe,Je);var Qt=0|(0|K+re)+((8191&ne)<<13);K=0|(0|we+(ne>>>13))+(Qt>>>26),Qt&=67108863,re=b(ve,ct),ne=b(ve,ze),ne=0|ne+b(Re,ct),we=b(Re,ze),re=0|re+b(Z,ht),ne=0|ne+b(Z,He),ne=0|ne+b(oe,ht),we=0|we+b(oe,He),re=0|re+b(q,mt),ne=0|ne+b(q,Ve),ne=0|ne+b(P,mt),we=0|we+b(P,Ve),re=0|re+b(xe,vt),ne=0|ne+b(xe,Ke),ne=0|ne+b(Ce,vt),we=0|we+b(Ce,Ke),re=0|re+b(Ae,bt),ne=0|ne+b(Ae,qe),ne=0|ne+b(pe,bt),we=0|we+b(pe,qe),re=0|re+b(me,kt),ne=0|ne+b(me,Je),ne=0|ne+b(he,kt),we=0|we+b(he,Je),re=0|re+b(ee,Tt),ne=0|ne+b(ee,Ye),ne=0|ne+b(fe,Tt),we=0|we+b(fe,Ye);var Rn=0|(0|K+re)+((8191&ne)<<13);K=0|(0|we+(ne>>>13))+(Rn>>>26),Rn&=67108863,re=b(Ie,ct),ne=b(Ie,ze),ne=0|ne+b(Be,ct),we=b(Be,ze),re=0|re+b(ve,ht),ne=0|ne+b(ve,He),ne=0|ne+b(Re,ht),we=0|we+b(Re,He),re=0|re+b(Z,mt),ne=0|ne+b(Z,Ve),ne=0|ne+b(oe,mt),we=0|we+b(oe,Ve),re=0|re+b(q,vt),ne=0|ne+b(q,Ke),ne=0|ne+b(P,vt),we=0|we+b(P,Ke),re=0|re+b(xe,bt),ne=0|ne+b(xe,qe),ne=0|ne+b(Ce,bt),we=0|we+b(Ce,qe),re=0|re+b(Ae,kt),ne=0|ne+b(Ae,Je),ne=0|ne+b(pe,kt),we=0|we+b(pe,Je),re=0|re+b(me,Tt),ne=0|ne+b(me,Ye),ne=0|ne+b(he,Tt),we=0|we+b(he,Ye),re=0|re+b(ee,At),ne=0|ne+b(ee,Xe),ne=0|ne+b(fe,At),we=0|we+b(fe,Xe);var pn=0|(0|K+re)+((8191&ne)<<13);K=0|(0|we+(ne>>>13))+(pn>>>26),pn&=67108863,re=b(Ne,ct),ne=b(Ne,ze),ne=0|ne+b(Le,ct),we=b(Le,ze),re=0|re+b(Ie,ht),ne=0|ne+b(Ie,He),ne=0|ne+b(Be,ht),we=0|we+b(Be,He),re=0|re+b(ve,mt),ne=0|ne+b(ve,Ve),ne=0|ne+b(Re,mt),we=0|we+b(Re,Ve),re=0|re+b(Z,vt),ne=0|ne+b(Z,Ke),ne=0|ne+b(oe,vt),we=0|we+b(oe,Ke),re=0|re+b(q,bt),ne=0|ne+b(q,qe),ne=0|ne+b(P,bt),we=0|we+b(P,qe),re=0|re+b(xe,kt),ne=0|ne+b(xe,Je),ne=0|ne+b(Ce,kt),we=0|we+b(Ce,Je),re=0|re+b(Ae,Tt),ne=0|ne+b(Ae,Ye),ne=0|ne+b(pe,Tt),we=0|we+b(pe,Ye),re=0|re+b(me,At),ne=0|ne+b(me,Xe),ne=0|ne+b(he,At),we=0|we+b(he,Xe),re=0|re+b(ee,yt),ne=0|ne+b(ee,Ze),ne=0|ne+b(fe,yt),we=0|we+b(fe,Ze);var mn=0|(0|K+re)+((8191&ne)<<13);K=0|(0|we+(ne>>>13))+(mn>>>26),mn&=67108863,re=b(Ge,ct),ne=b(Ge,ze),ne=0|ne+b(je,ct),we=b(je,ze),re=0|re+b(Ne,ht),ne=0|ne+b(Ne,He),ne=0|ne+b(Le,ht),we=0|we+b(Le,He),re=0|re+b(Ie,mt),ne=0|ne+b(Ie,Ve),ne=0|ne+b(Be,mt),we=0|we+b(Be,Ve),re=0|re+b(ve,vt),ne=0|ne+b(ve,Ke),ne=0|ne+b(Re,vt),we=0|we+b(Re,Ke),re=0|re+b(Z,bt),ne=0|ne+b(Z,qe),ne=0|ne+b(oe,bt),we=0|we+b(oe,qe),re=0|re+b(q,kt),ne=0|ne+b(q,Je),ne=0|ne+b(P,kt),we=0|we+b(P,Je),re=0|re+b(xe,Tt),ne=0|ne+b(xe,Ye),ne=0|ne+b(Ce,Tt),we=0|we+b(Ce,Ye),re=0|re+b(Ae,At),ne=0|ne+b(Ae,Xe),ne=0|ne+b(pe,At),we=0|we+b(pe,Xe),re=0|re+b(me,yt),ne=0|ne+b(me,Ze),ne=0|ne+b(he,yt),we=0|we+b(he,Ze),re=0|re+b(ee,ye),ne=0|ne+b(ee,te),ne=0|ne+b(fe,ye),we=0|we+b(fe,te);var An=0|(0|K+re)+((8191&ne)<<13);K=0|(0|we+(ne>>>13))+(An>>>26),An&=67108863,re=b(Ge,ht),ne=b(Ge,He),ne=0|ne+b(je,ht),we=b(je,He),re=0|re+b(Ne,mt),ne=0|ne+b(Ne,Ve),ne=0|ne+b(Le,mt),we=0|we+b(Le,Ve),re=0|re+b(Ie,vt),ne=0|ne+b(Ie,Ke),ne=0|ne+b(Be,vt),we=0|we+b(Be,Ke),re=0|re+b(ve,bt),ne=0|ne+b(ve,qe),ne=0|ne+b(Re,bt),we=0|we+b(Re,qe),re=0|re+b(Z,kt),ne=0|ne+b(Z,Je),ne=0|ne+b(oe,kt),we=0|we+b(oe,Je),re=0|re+b(q,Tt),ne=0|ne+b(q,Ye),ne=0|ne+b(P,Tt),we=0|we+b(P,Ye),re=0|re+b(xe,At),ne=0|ne+b(xe,Xe),ne=0|ne+b(Ce,At),we=0|we+b(Ce,Xe),re=0|re+b(Ae,yt),ne=0|ne+b(Ae,Ze),ne=0|ne+b(pe,yt),we=0|we+b(pe,Ze),re=0|re+b(me,ye),ne=0|ne+b(me,te),ne=0|ne+b(he,ye),we=0|we+b(he,te);var Fe=0|(0|K+re)+((8191&ne)<<13);K=0|(0|we+(ne>>>13))+(Fe>>>26),Fe&=67108863,re=b(Ge,mt),ne=b(Ge,Ve),ne=0|ne+b(je,mt),we=b(je,Ve),re=0|re+b(Ne,vt),ne=0|ne+b(Ne,Ke),ne=0|ne+b(Le,vt),we=0|we+b(Le,Ke),re=0|re+b(Ie,bt),ne=0|ne+b(Ie,qe),ne=0|ne+b(Be,bt),we=0|we+b(Be,qe),re=0|re+b(ve,kt),ne=0|ne+b(ve,Je),ne=0|ne+b(Re,kt),we=0|we+b(Re,Je),re=0|re+b(Z,Tt),ne=0|ne+b(Z,Ye),ne=0|ne+b(oe,Tt),we=0|we+b(oe,Ye),re=0|re+b(q,At),ne=0|ne+b(q,Xe),ne=0|ne+b(P,At),we=0|we+b(P,Xe),re=0|re+b(xe,yt),ne=0|ne+b(xe,Ze),ne=0|ne+b(Ce,yt),we=0|we+b(Ce,Ze),re=0|re+b(Ae,ye),ne=0|ne+b(Ae,te),ne=0|ne+b(pe,ye),we=0|we+b(pe,te);var le=0|(0|K+re)+((8191&ne)<<13);K=0|(0|we+(ne>>>13))+(le>>>26),le&=67108863,re=b(Ge,vt),ne=b(Ge,Ke),ne=0|ne+b(je,vt),we=b(je,Ke),re=0|re+b(Ne,bt),ne=0|ne+b(Ne,qe),ne=0|ne+b(Le,bt),we=0|we+b(Le,qe),re=0|re+b(Ie,kt),ne=0|ne+b(Ie,Je),ne=0|ne+b(Be,kt),we=0|we+b(Be,Je),re=0|re+b(ve,Tt),ne=0|ne+b(ve,Ye),ne=0|ne+b(Re,Tt),we=0|we+b(Re,Ye),re=0|re+b(Z,At),ne=0|ne+b(Z,Xe),ne=0|ne+b(oe,At),we=0|we+b(oe,Xe),re=0|re+b(q,yt),ne=0|ne+b(q,Ze),ne=0|ne+b(P,yt),we=0|we+b(P,Ze),re=0|re+b(xe,ye),ne=0|ne+b(xe,te),ne=0|ne+b(Ce,ye),we=0|we+b(Ce,te);var Me=0|(0|K+re)+((8191&ne)<<13);K=0|(0|we+(ne>>>13))+(Me>>>26),Me&=67108863,re=b(Ge,bt),ne=b(Ge,qe),ne=0|ne+b(je,bt),we=b(je,qe),re=0|re+b(Ne,kt),ne=0|ne+b(Ne,Je),ne=0|ne+b(Le,kt),we=0|we+b(Le,Je),re=0|re+b(Ie,Tt),ne=0|ne+b(Ie,Ye),ne=0|ne+b(Be,Tt),we=0|we+b(Be,Ye),re=0|re+b(ve,At),ne=0|ne+b(ve,Xe),ne=0|ne+b(Re,At),we=0|we+b(Re,Xe),re=0|re+b(Z,yt),ne=0|ne+b(Z,Ze),ne=0|ne+b(oe,yt),we=0|we+b(oe,Ze),re=0|re+b(q,ye),ne=0|ne+b(q,te),ne=0|ne+b(P,ye),we=0|we+b(P,te);var Qe=0|(0|K+re)+((8191&ne)<<13);K=0|(0|we+(ne>>>13))+(Qe>>>26),Qe&=67108863,re=b(Ge,kt),ne=b(Ge,Je),ne=0|ne+b(je,kt),we=b(je,Je),re=0|re+b(Ne,Tt),ne=0|ne+b(Ne,Ye),ne=0|ne+b(Le,Tt),we=0|we+b(Le,Ye),re=0|re+b(Ie,At),ne=0|ne+b(Ie,Xe),ne=0|ne+b(Be,At),we=0|we+b(Be,Xe),re=0|re+b(ve,yt),ne=0|ne+b(ve,Ze),ne=0|ne+b(Re,yt),we=0|we+b(Re,Ze),re=0|re+b(Z,ye),ne=0|ne+b(Z,te),ne=0|ne+b(oe,ye),we=0|we+b(oe,te);var tt=0|(0|K+re)+((8191&ne)<<13);K=0|(0|we+(ne>>>13))+(tt>>>26),tt&=67108863,re=b(Ge,Tt),ne=b(Ge,Ye),ne=0|ne+b(je,Tt),we=b(je,Ye),re=0|re+b(Ne,At),ne=0|ne+b(Ne,Xe),ne=0|ne+b(Le,At),we=0|we+b(Le,Xe),re=0|re+b(Ie,yt),ne=0|ne+b(Ie,Ze),ne=0|ne+b(Be,yt),we=0|we+b(Be,Ze),re=0|re+b(ve,ye),ne=0|ne+b(ve,te),ne=0|ne+b(Re,ye),we=0|we+b(Re,te);var wt=0|(0|K+re)+((8191&ne)<<13);K=0|(0|we+(ne>>>13))+(wt>>>26),wt&=67108863,re=b(Ge,At),ne=b(Ge,Xe),ne=0|ne+b(je,At),we=b(je,Xe),re=0|re+b(Ne,yt),ne=0|ne+b(Ne,Ze),ne=0|ne+b(Le,yt),we=0|we+b(Le,Ze),re=0|re+b(Ie,ye),ne=0|ne+b(Ie,te),ne=0|ne+b(Be,ye),we=0|we+b(Be,te);var at=0|(0|K+re)+((8191&ne)<<13);K=0|(0|we+(ne>>>13))+(at>>>26),at&=67108863,re=b(Ge,yt),ne=b(Ge,Ze),ne=0|ne+b(je,yt),we=b(je,Ze),re=0|re+b(Ne,ye),ne=0|ne+b(Ne,te),ne=0|ne+b(Le,ye),we=0|we+b(Le,te);var Dt=0|(0|K+re)+((8191&ne)<<13);K=0|(0|we+(ne>>>13))+(Dt>>>26),Dt&=67108863,re=b(Ge,ye),ne=b(Ge,te),ne=0|ne+b(je,ye),we=b(je,te);var Gt=0|(0|K+re)+((8191&ne)<<13);return K=0|(0|we+(ne>>>13))+(Gt>>>26),Gt&=67108863,U[0]=un,U[1]=kn,U[2]=Cn,U[3]=Tn,U[4]=sn,U[5]=Qt,U[6]=Rn,U[7]=pn,U[8]=mn,U[9]=An,U[10]=Fe,U[11]=le,U[12]=Me,U[13]=Qe,U[14]=tt,U[15]=wt,U[16]=at,U[17]=Dt,U[18]=Gt,K!==0&&(U[19]=K,M.length++),M};b||(Y=d),i.prototype.mulTo=function(p,T){var M=this.length+p.length,F;return F=this.length===10&&p.length===10?Y(this,p,T):63>M?d(this,p,T):1024>M?c(this,p,T):f(this,p,T),F},i.prototype.mul=function(p){var T=new i(null);return T.words=Array(this.length+p.length),this.mulTo(p,T)},i.prototype.mulf=function(p){var T=new i(null);return T.words=Array(this.length+p.length),f(this,p,T)},i.prototype.imul=function(p){return this.clone().mulTo(p,this)},i.prototype.imuln=function(p){var T=0>p;T&&(p=-p),E(typeof p=="number"),E(67108864>p);for(var M=0,F=0;F<this.length;F++){var j=(0|this.words[F])*p,U=(67108863&j)+(67108863&M);M>>=26,M+=0|j/67108864,M+=U>>>26,this.words[F]=67108863&U}return M!==0&&(this.words[F]=M,this.length++),T?this.ineg():this},i.prototype.muln=function(p){return this.clone().imuln(p)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(p){var T=r(p);if(T.length===0)return new i(1);for(var M=this,F=0;F<T.length&&T[F]===0;F++,M=M.sqr());if(++F<T.length)for(var j=M.sqr();F<T.length;F++,j=j.sqr())T[F]!==0&&(M=M.mul(j));return M},i.prototype.iushln=function(p){E(typeof p=="number"&&0<=p);var T=p%26,M=(p-T)/26,F=67108863>>>26-T<<26-T,j;if(T!=0){var U=0;for(j=0;j<this.length;j++){var K=this.words[j]&F,Q=(0|this.words[j])-K<<T;this.words[j]=Q|U,U=K>>>26-T}U&&(this.words[j]=U,this.length++)}if(M!==0){for(j=this.length-1;0<=j;j--)this.words[j+M]=this.words[j];for(j=0;j<M;j++)this.words[j]=0;this.length+=M}return this._strip()},i.prototype.ishln=function(p){return E(this.negative===0),this.iushln(p)},i.prototype.iushrn=function(p,T,M){E(typeof p=="number"&&0<=p);var F;F=T?(T-T%26)/26:0;var j=p%26,U=ke((p-j)/26,this.length),K=67108863^67108863>>>j<<j,Q=M;if(F-=U,F=be(0,F),Q){for(var ee=0;ee<U;ee++)Q.words[ee]=this.words[ee];Q.length=U}if(U!==0)if(this.length>U)for(this.length-=U,ee=0;ee<this.length;ee++)this.words[ee]=this.words[ee+U];else this.words[0]=0,this.length=1;var fe=0;for(ee=this.length-1;0<=ee&&(fe!==0||ee>=F);ee--){var ae=0|this.words[ee];this.words[ee]=fe<<26-j|ae>>>j,fe=ae&K}return Q&&fe!==0&&(Q.words[Q.length++]=fe),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(p,T,M){return E(this.negative===0),this.iushrn(p,T,M)},i.prototype.shln=function(p){return this.clone().ishln(p)},i.prototype.ushln=function(p){return this.clone().iushln(p)},i.prototype.shrn=function(p){return this.clone().ishrn(p)},i.prototype.ushrn=function(p){return this.clone().iushrn(p)},i.prototype.testn=function(p){E(typeof p=="number"&&0<=p);var T=p%26,M=(p-T)/26,F=1<<T;if(this.length<=M)return!1;var j=this.words[M];return!!(j&F)},i.prototype.imaskn=function(p){E(typeof p=="number"&&0<=p);var T=p%26,M=(p-T)/26;if(E(this.negative===0,"imaskn works only with positive numbers"),this.length<=M)return this;if(T!=0&&M++,this.length=ke(M,this.length),T!=0){var F=67108863^67108863>>>T<<T;this.words[this.length-1]&=F}return this._strip()},i.prototype.maskn=function(p){return this.clone().imaskn(p)},i.prototype.iaddn=function(p){return E(typeof p=="number"),E(67108864>p),0>p?this.isubn(-p):this.negative===0?this._iaddn(p):this.length===1&&(0|this.words[0])<=p?(this.words[0]=p-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(p),this.negative=1,this)},i.prototype._iaddn=function(p){this.words[0]+=p;for(var T=0;T<this.length&&67108864<=this.words[T];T++)this.words[T]-=67108864,T==this.length-1?this.words[T+1]=1:this.words[T+1]++;return this.length=be(this.length,T+1),this},i.prototype.isubn=function(p){if(E(typeof p=="number"),E(67108864>p),0>p)return this.iaddn(-p);if(this.negative!==0)return this.negative=0,this.iaddn(p),this.negative=1,this;if(this.words[0]-=p,this.length===1&&0>this.words[0])this.words[0]=-this.words[0],this.negative=1;else for(var T=0;T<this.length&&0>this.words[T];T++)this.words[T]+=67108864,this.words[T+1]-=1;return this._strip()},i.prototype.addn=function(p){return this.clone().iaddn(p)},i.prototype.subn=function(p){return this.clone().isubn(p)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(p,T,M){var F=p.length+M,j;this._expand(F);var U=0,K;for(j=0;j<p.length;j++){K=(0|this.words[j+M])+U;var Q=(0|p.words[j])*T;K-=67108863&Q,U=(K>>26)-(0|Q/67108864),this.words[j+M]=67108863&K}for(;j<this.length-M;j++)K=(0|this.words[j+M])+U,U=K>>26,this.words[j+M]=67108863&K;if(U===0)return this._strip();for(E(U===-1),U=0,j=0;j<this.length;j++)K=-(0|this.words[j])+U,U=K>>26,this.words[j]=67108863&K;return this.negative=1,this._strip()},i.prototype._wordDiv=function(p,T){var M=this.length-p.length,F=this.clone(),j=p,U=0|j.words[j.length-1],K=this._countBits(U);M=26-K,M!=0&&(j=j.ushln(M),F.iushln(M),U=0|j.words[j.length-1]);var Q=F.length-j.length,ee;if(T!=="mod"){ee=new i(null),ee.length=Q+1,ee.words=Array(ee.length);for(var fe=0;fe<ee.length;fe++)ee.words[fe]=0}var ae=F.clone()._ishlnsubmul(j,1,Q);ae.negative===0&&(F=ae,ee&&(ee.words[Q]=1));for(var me=Q-1,he;0<=me;me--){for(he=67108864*(0|F.words[j.length+me])+(0|F.words[j.length+me-1]),he=ke(0|he/U,67108863),F._ishlnsubmul(j,he,me);F.negative!==0;)he--,F.negative=0,F._ishlnsubmul(j,1,me),F.isZero()||(F.negative^=1);ee&&(ee.words[me]=he)}return ee&&ee._strip(),F._strip(),T!=="div"&&M!==0&&F.iushrn(M),{div:ee||null,mod:F}},i.prototype.divmod=function(p,T,M){if(E(!p.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var F,j,U;return this.negative!==0&&p.negative===0?(U=this.neg().divmod(p,T),T!=="mod"&&(F=U.div.neg()),T!=="div"&&(j=U.mod.neg(),M&&j.negative!==0&&j.iadd(p)),{div:F,mod:j}):this.negative===0&&p.negative!==0?(U=this.divmod(p.neg(),T),T!=="mod"&&(F=U.div.neg()),{div:F,mod:U.mod}):(this.negative&p.negative)==0?p.length>this.length||0>this.cmp(p)?{div:new i(0),mod:this}:p.length===1?T==="div"?{div:this.divn(p.words[0]),mod:null}:T==="mod"?{div:null,mod:new i(this.modrn(p.words[0]))}:{div:this.divn(p.words[0]),mod:new i(this.modrn(p.words[0]))}:this._wordDiv(p,T):(U=this.neg().divmod(p.neg(),T),T!=="div"&&(j=U.mod.neg(),M&&j.negative!==0&&j.isub(p)),{div:U.div,mod:j})},i.prototype.div=function(p){return this.divmod(p,"div",!1).div},i.prototype.mod=function(p){return this.divmod(p,"mod",!1).mod},i.prototype.umod=function(p){return this.divmod(p,"mod",!0).mod},i.prototype.divRound=function(p){var T=this.divmod(p);if(T.mod.isZero())return T.div;var M=T.div.negative===0?T.mod:T.mod.isub(p),F=p.ushrn(1),j=p.andln(1),U=M.cmp(F);return 0>U||j===1&&U===0?T.div:T.div.negative===0?T.div.iaddn(1):T.div.isubn(1)},i.prototype.modrn=function(p){var T=0>p;T&&(p=-p),E(67108863>=p);for(var M=67108864%p,F=0,j=this.length-1;0<=j;j--)F=(M*F+(0|this.words[j]))%p;return T?-F:F},i.prototype.modn=function(p){return this.modrn(p)},i.prototype.idivn=function(p){var T=0>p;T&&(p=-p),E(67108863>=p);for(var M=0,F=this.length-1,j;0<=F;F--)j=(0|this.words[F])+67108864*M,this.words[F]=0|j/p,M=j%p;return this._strip(),T?this.ineg():this},i.prototype.divn=function(p){return this.clone().idivn(p)},i.prototype.egcd=function(p){E(p.negative===0),E(!p.isZero());var T=this,M=p.clone();T=T.negative===0?T.clone():T.umod(p);for(var F=new i(1),j=new i(0),U=new i(0),K=new i(1),Q=0;T.isEven()&&M.isEven();)T.iushrn(1),M.iushrn(1),++Q;for(var ee=M.clone(),fe=T.clone();!T.isZero();){for(var ae=0,me=1;(T.words[0]&me)==0&&26>ae;++ae,me<<=1);if(0<ae)for(T.iushrn(ae);0<ae--;)(F.isOdd()||j.isOdd())&&(F.iadd(ee),j.isub(fe)),F.iushrn(1),j.iushrn(1);for(var he=0,Se=1;(M.words[0]&Se)==0&&26>he;++he,Se<<=1);if(0<he)for(M.iushrn(he);0<he--;)(U.isOdd()||K.isOdd())&&(U.iadd(ee),K.isub(fe)),U.iushrn(1),K.iushrn(1);0<=T.cmp(M)?(T.isub(M),F.isub(U),j.isub(K)):(M.isub(T),U.isub(F),K.isub(j))}return{a:U,b:K,gcd:M.iushln(Q)}},i.prototype._invmp=function(p){E(p.negative===0),E(!p.isZero());var T=this,M=p.clone();T=T.negative===0?T.clone():T.umod(p);for(var F=new i(1),j=new i(0),U=M.clone();0<T.cmpn(1)&&0<M.cmpn(1);){for(var K=0,Q=1;(T.words[0]&Q)==0&&26>K;++K,Q<<=1);if(0<K)for(T.iushrn(K);0<K--;)F.isOdd()&&F.iadd(U),F.iushrn(1);for(var ee=0,fe=1;(M.words[0]&fe)==0&&26>ee;++ee,fe<<=1);if(0<ee)for(M.iushrn(ee);0<ee--;)j.isOdd()&&j.iadd(U),j.iushrn(1);0<=T.cmp(M)?(T.isub(M),F.isub(j)):(M.isub(T),j.isub(F))}var ae;return ae=T.cmpn(1)===0?F:j,0>ae.cmpn(0)&&ae.iadd(p),ae},i.prototype.gcd=function(p){if(this.isZero())return p.abs();if(p.isZero())return this.abs();var T=this.clone(),M=p.clone();T.negative=0,M.negative=0;for(var F=0;T.isEven()&&M.isEven();F++)T.iushrn(1),M.iushrn(1);do{for(;T.isEven();)T.iushrn(1);for(;M.isEven();)M.iushrn(1);var j=T.cmp(M);if(0>j){var U=T;T=M,M=U}else if(j===0||M.cmpn(1)===0)break;T.isub(M)}while(!0);return M.iushln(F)},i.prototype.invm=function(p){return this.egcd(p).a.umod(p)},i.prototype.isEven=function(){return(1&this.words[0])==0},i.prototype.isOdd=function(){return(1&this.words[0])==1},i.prototype.andln=function(p){return this.words[0]&p},i.prototype.bincn=function(p){E(typeof p=="number");var T=p%26,M=(p-T)/26,F=1<<T;if(this.length<=M)return this._expand(M+1),this.words[M]|=F,this;for(var j=F,U=M,K;j!==0&&U<this.length;U++)K=0|this.words[U],K+=j,j=K>>>26,K&=67108863,this.words[U]=K;return j!==0&&(this.words[U]=j,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(p){var T=0>p;if(this.negative!==0&&!T)return-1;if(this.negative===0&&T)return 1;this._strip();var M;if(1<this.length)M=1;else{T&&(p=-p),E(67108863>=p,"Number is too big");var F=0|this.words[0];M=F===p?0:F<p?-1:1}return this.negative===0?M:0|-M},i.prototype.cmp=function(p){if(this.negative!==0&&p.negative===0)return-1;if(this.negative===0&&p.negative!==0)return 1;var T=this.ucmp(p);return this.negative===0?T:0|-T},i.prototype.ucmp=function(p){if(this.length>p.length)return 1;if(this.length<p.length)return-1;for(var T=0,M=this.length-1;0<=M;M--){var F=0|this.words[M],j=0|p.words[M];if(F!=j){F<j?T=-1:F>j&&(T=1);break}}return T},i.prototype.gtn=function(p){return this.cmpn(p)===1},i.prototype.gt=function(p){return this.cmp(p)===1},i.prototype.gten=function(p){return 0<=this.cmpn(p)},i.prototype.gte=function(p){return 0<=this.cmp(p)},i.prototype.ltn=function(p){return this.cmpn(p)===-1},i.prototype.lt=function(p){return this.cmp(p)===-1},i.prototype.lten=function(p){return 0>=this.cmpn(p)},i.prototype.lte=function(p){return 0>=this.cmp(p)},i.prototype.eqn=function(p){return this.cmpn(p)===0},i.prototype.eq=function(p){return this.cmp(p)===0},i.red=function(p){return new I(p)},i.prototype.toRed=function(p){return E(!this.red,"Already a number in reduction context"),E(this.negative===0,"red works only with positives"),p.convertTo(this)._forceRed(p)},i.prototype.fromRed=function(){return E(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(p){return this.red=p,this},i.prototype.forceRed=function(p){return E(!this.red,"Already a number in reduction context"),this._forceRed(p)},i.prototype.redAdd=function(p){return E(this.red,"redAdd works only with red numbers"),this.red.add(this,p)},i.prototype.redIAdd=function(p){return E(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,p)},i.prototype.redSub=function(p){return E(this.red,"redSub works only with red numbers"),this.red.sub(this,p)},i.prototype.redISub=function(p){return E(this.red,"redISub works only with red numbers"),this.red.isub(this,p)},i.prototype.redShl=function(p){return E(this.red,"redShl works only with red numbers"),this.red.shl(this,p)},i.prototype.redMul=function(p){return E(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.mul(this,p)},i.prototype.redIMul=function(p){return E(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.imul(this,p)},i.prototype.redSqr=function(){return E(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return E(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return E(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return E(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return E(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(p){return E(this.red&&!p.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,p)};var B={k256:null,p224:null,p192:null,p25519:null};u.prototype._tmp=function(){var p=new i(null);return p.words=Array(Ee(this.n/13)),p},u.prototype.ireduce=function(p){var T=p,M;do this.split(T,this.tmp),T=this.imulK(T),T=T.iadd(this.tmp),M=T.bitLength();while(M>this.n);var F=M<this.n?-1:T.ucmp(this.p);return F===0?(T.words[0]=0,T.length=1):0<F?T.isub(this.p):T.strip===void 0?T._strip():T.strip(),T},u.prototype.split=function(p,T){p.iushrn(this.n,0,T)},u.prototype.imulK=function(p){return p.imul(this.k)},y(k,u),k.prototype.split=function(p,T){for(var M=4194303,F=ke(p.length,9),j=0;j<F;j++)T.words[j]=p.words[j];if(T.length=F,9>=p.length)return p.words[0]=0,void(p.length=1);var U=p.words[9];for(T.words[T.length++]=U&M,j=10;j<p.length;j++){var K=0|p.words[j];p.words[j-10]=(K&M)<<4|U>>>22,U=K}U>>>=22,p.words[j-10]=U,p.length-=U===0&&10<p.length?10:9},k.prototype.imulK=function(p){p.words[p.length]=0,p.words[p.length+1]=0,p.length+=2;for(var T=0,M=0,F;M<p.length;M++)F=0|p.words[M],T+=977*F,p.words[M]=67108863&T,T=64*F+(0|T/67108864);return p.words[p.length-1]===0&&(p.length--,p.words[p.length-1]===0&&p.length--),p},y(R,u),y(A,u),y(w,u),w.prototype.imulK=function(p){for(var T=0,M=0;M<p.length;M++){var F=19*(0|p.words[M])+T,j=67108863&F;F>>>=26,p.words[M]=j,T=F}return T!==0&&(p.words[p.length++]=T),p},i._prime=function(p){if(B[p])return B[p];var T;if(p==="k256")T=new k;else if(p==="p224")T=new R;else if(p==="p192")T=new A;else if(p==="p25519")T=new w;else throw new Error("Unknown prime "+p);return B[p]=T,T},I.prototype._verify1=function(p){E(p.negative===0,"red works only with positives"),E(p.red,"red works only with red numbers")},I.prototype._verify2=function(p,T){E((p.negative|T.negative)==0,"red works only with positives"),E(p.red&&p.red===T.red,"red works only with red numbers")},I.prototype.imod=function(p){return this.prime?this.prime.ireduce(p)._forceRed(this):(h(p,p.umod(this.m)._forceRed(this)),p)},I.prototype.neg=function(p){return p.isZero()?p.clone():this.m.sub(p)._forceRed(this)},I.prototype.add=function(p,T){this._verify2(p,T);var M=p.add(T);return 0<=M.cmp(this.m)&&M.isub(this.m),M._forceRed(this)},I.prototype.iadd=function(p,T){this._verify2(p,T);var M=p.iadd(T);return 0<=M.cmp(this.m)&&M.isub(this.m),M},I.prototype.sub=function(p,T){this._verify2(p,T);var M=p.sub(T);return 0>M.cmpn(0)&&M.iadd(this.m),M._forceRed(this)},I.prototype.isub=function(p,T){this._verify2(p,T);var M=p.isub(T);return 0>M.cmpn(0)&&M.iadd(this.m),M},I.prototype.shl=function(p,T){return this._verify1(p),this.imod(p.ushln(T))},I.prototype.imul=function(p,T){return this._verify2(p,T),this.imod(p.imul(T))},I.prototype.mul=function(p,T){return this._verify2(p,T),this.imod(p.mul(T))},I.prototype.isqr=function(p){return this.imul(p,p.clone())},I.prototype.sqr=function(p){return this.mul(p,p)},I.prototype.sqrt=function(p){if(p.isZero())return p.clone();var T=this.m.andln(3);if(E(T%2==1),T===3){var M=this.m.add(new i(1)).iushrn(2);return this.pow(p,M)}for(var F=this.m.subn(1),j=0;!F.isZero()&&F.andln(1)===0;)j++,F.iushrn(1);E(!F.isZero());var U=new i(1).toRed(this),K=U.redNeg(),Q=this.m.subn(1).iushrn(1),ee=this.m.bitLength();for(ee=new i(2*ee*ee).toRed(this);this.pow(ee,Q).cmp(K)!==0;)ee.redIAdd(K);for(var fe=this.pow(ee,F),ae=this.pow(p,F.addn(1).iushrn(1)),me=this.pow(p,F),he=j;me.cmp(U)!==0;){for(var Se=me,Ae=0;Se.cmp(U)!==0;Ae++)Se=Se.redSqr();E(Ae<he);var pe=this.pow(fe,new i(1).iushln(he-Ae-1));ae=ae.redMul(pe),fe=pe.redSqr(),me=me.redMul(fe),he=Ae}return ae},I.prototype.invm=function(p){var T=p._invmp(this.m);return T.negative===0?this.imod(T):(T.negative=0,this.imod(T).redNeg())},I.prototype.pow=function(p,T){if(T.isZero())return new i(1).toRed(this);if(T.cmpn(1)===0)return p.clone();var M=Array(16);M[0]=new i(1).toRed(this),M[1]=p;for(var F=2;F<M.length;F++)M[F]=this.mul(M[F-1],p);var j=M[0],U=0,K=0,Q=T.bitLength()%26;for(Q===0&&(Q=26),F=T.length-1;0<=F;F--){for(var ee=T.words[F],fe=Q-1,ae;0<=fe;fe--){if(ae=1&ee>>fe,j!==M[0]&&(j=this.sqr(j)),ae===0&&U===0){K=0;continue}U<<=1,U|=ae,K++,(K===4||F===0&&fe===0)&&(j=this.mul(j,M[U]),K=0,U=0)}Q=26}return j},I.prototype.convertTo=function(p){var T=p.umod(this.m);return T===p?T.clone():T},I.prototype.convertFrom=function(p){var T=p.clone();return T.red=null,T},i.mont=function(p){return new N(p)},y(N,I),N.prototype.convertTo=function(p){return this.imod(p.ushln(this.shift))},N.prototype.convertFrom=function(p){var T=this.imod(p.mul(this.rinv));return T.red=null,T},N.prototype.imul=function(p,T){if(p.isZero()||T.isZero())return p.words[0]=0,p.length=1,p;var M=p.imul(T),F=M.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),j=M.isub(F).iushrn(this.shift),U=j;return 0<=j.cmp(this.m)?U=j.isub(this.m):0>j.cmpn(0)&&(U=j.iadd(this.m)),U._forceRed(this)},N.prototype.mul=function(p,T){if(p.isZero()||T.isZero())return new i(0)._forceRed(this);var M=p.mul(T),F=M.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),j=M.isub(F).iushrn(this.shift),U=j;return 0<=j.cmp(this.m)?U=j.isub(this.m):0>j.cmpn(0)&&(U=j.iadd(this.m)),U._forceRed(this)},N.prototype.invm=function(p){var T=this.imod(p._invmp(this.m).mul(this.r2));return T._forceRed(this)}})(typeof V>"u"||V,this)},{buffer:41}],40:[function(x,V,O){function g(y){this.rand=y}var C;if(V.exports=function(i){return C||(C=new g(null)),C.generate(i)},V.exports.Rand=g,g.prototype.generate=function(i){return this._rand(i)},g.prototype._rand=function(i){if(this.rand.getBytes)return this.rand.getBytes(i);for(var m=new Uint8Array(i),a=0;a<m.length;a++)m[a]=this.rand.getByte();return m},typeof self=="object")self.crypto&&self.crypto.getRandomValues?g.prototype._rand=function(i){var m=new Uint8Array(i);return self.crypto.getRandomValues(m),m}:self.msCrypto&&self.msCrypto.getRandomValues?g.prototype._rand=function(i){var m=new Uint8Array(i);return self.msCrypto.getRandomValues(m),m}:typeof window=="object"&&(g.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var E=x("crypto");if(typeof E.randomBytes!="function")throw new Error("Not supported");g.prototype._rand=function(i){return E.randomBytes(i)}}catch{}},{crypto:41}],41:[function(x,V,O){},{}],42:[function(x,V,O){function g(o){i.isBuffer(o)||(o=i.from(o));for(var h=0|o.length/4,s=Array(h),r=0;r<h;r++)s[r]=o.readUInt32BE(4*r);return s}function C(o){for(var h=0;h<o.length;o++)o[h]=0}function E(o,h,s,r,d){for(var c=s[0],f=s[1],u=s[2],k=s[3],R=o[0]^h[0],A=o[1]^h[1],w=o[2]^h[2],I=o[3]^h[3],N=4,L=1,G,J,se,ce;L<d;L++)G=c[R>>>24]^f[255&A>>>16]^u[255&w>>>8]^k[255&I]^h[N++],J=c[A>>>24]^f[255&w>>>16]^u[255&I>>>8]^k[255&R]^h[N++],se=c[w>>>24]^f[255&I>>>16]^u[255&R>>>8]^k[255&A]^h[N++],ce=c[I>>>24]^f[255&R>>>16]^u[255&A>>>8]^k[255&w]^h[N++],R=G,A=J,w=se,I=ce;return G=(r[R>>>24]<<24|r[255&A>>>16]<<16|r[255&w>>>8]<<8|r[255&I])^h[N++],J=(r[A>>>24]<<24|r[255&w>>>16]<<16|r[255&I>>>8]<<8|r[255&R])^h[N++],se=(r[w>>>24]<<24|r[255&I>>>16]<<16|r[255&R>>>8]<<8|r[255&A])^h[N++],ce=(r[I>>>24]<<24|r[255&R>>>16]<<16|r[255&A>>>8]<<8|r[255&w])^h[N++],G>>>=0,J>>>=0,se>>>=0,ce>>>=0,[G,J,se,ce]}function y(o){this._key=g(o),this._reset()}var i=x("safe-buffer").Buffer,m=[0,1,2,4,8,16,32,64,128,27,54],a=function(){for(var o=Array(256),h=0;256>h;h++)o[h]=128>h?h<<1:283^h<<1;for(var s=[],r=[],d=[[],[],[],[]],c=[[],[],[],[]],f=0,u=0,k=0,R;256>k;++k){R=u^u<<1^u<<2^u<<3^u<<4,R=99^(R>>>8^255&R),s[f]=R,r[R]=f;var A=o[f],w=o[A],I=o[w],N=257*o[R]^16843008*R;d[0][f]=N<<24|N>>>8,d[1][f]=N<<16|N>>>16,d[2][f]=N<<8|N>>>24,d[3][f]=N,N=16843009*I^65537*w^257*A^16843008*f,c[0][R]=N<<24|N>>>8,c[1][R]=N<<16|N>>>16,c[2][R]=N<<8|N>>>24,c[3][R]=N,f===0?f=u=1:(f=A^o[o[o[I^A]]],u^=o[o[u]])}return{SBOX:s,INV_SBOX:r,SUB_MIX:d,INV_SUB_MIX:c}}();y.blockSize=16,y.keySize=32,y.prototype.blockSize=y.blockSize,y.prototype.keySize=y.keySize,y.prototype._reset=function(){for(var o=this._key,h=o.length,s=h+6,r=4*(s+1),d=[],c=0;c<h;c++)d[c]=o[c];for(c=h;c<r;c++){var f=d[c-1];c%h==0?(f=f<<8|f>>>24,f=a.SBOX[f>>>24]<<24|a.SBOX[255&f>>>16]<<16|a.SBOX[255&f>>>8]<<8|a.SBOX[255&f],f^=m[0|c/h]<<24):6<h&&c%h==4&&(f=a.SBOX[f>>>24]<<24|a.SBOX[255&f>>>16]<<16|a.SBOX[255&f>>>8]<<8|a.SBOX[255&f]),d[c]=d[c-h]^f}for(var u=[],k=0;k<r;k++){var R=r-k,A=d[R-(k%4?0:4)];u[k]=4>k||4>=R?A:a.INV_SUB_MIX[0][a.SBOX[A>>>24]]^a.INV_SUB_MIX[1][a.SBOX[255&A>>>16]]^a.INV_SUB_MIX[2][a.SBOX[255&A>>>8]]^a.INV_SUB_MIX[3][a.SBOX[255&A]]}this._nRounds=s,this._keySchedule=d,this._invKeySchedule=u},y.prototype.encryptBlockRaw=function(o){return o=g(o),E(o,this._keySchedule,a.SUB_MIX,a.SBOX,this._nRounds)},y.prototype.encryptBlock=function(o){var h=this.encryptBlockRaw(o),s=i.allocUnsafe(16);return s.writeUInt32BE(h[0],0),s.writeUInt32BE(h[1],4),s.writeUInt32BE(h[2],8),s.writeUInt32BE(h[3],12),s},y.prototype.decryptBlock=function(o){o=g(o);var h=o[1];o[1]=o[3],o[3]=h;var s=E(o,this._invKeySchedule,a.INV_SUB_MIX,a.INV_SBOX,this._nRounds),r=i.allocUnsafe(16);return r.writeUInt32BE(s[0],0),r.writeUInt32BE(s[3],4),r.writeUInt32BE(s[2],8),r.writeUInt32BE(s[1],12),r},y.prototype.scrub=function(){C(this._keySchedule),C(this._invKeySchedule),C(this._key)},V.exports.AES=y},{"safe-buffer":234}],43:[function(x,V,O){function g(r,d){var c=0;r.length!==d.length&&c++;for(var f=ke(r.length,d.length),u=0;u<f;++u)c+=r[u]^d[u];return c}function C(r,d,c){if(d.length===12)return r._finID=i.concat([d,i.from([0,0,0,1])]),i.concat([d,i.from([0,0,0,2])]);var f=new o(c),u=d.length,k=u%16;f.update(d),k&&(k=16-k,f.update(i.alloc(k,0))),f.update(i.alloc(8,0));var R=8*u,A=i.alloc(8);A.writeUIntBE(R,0,8),f.update(A),r._finID=f.state;var w=i.from(r._finID);return s(w),w}function E(r,d,c,f){m.call(this);var u=i.alloc(4,0);this._cipher=new y.AES(d);var k=this._cipher.encryptBlock(u);this._ghash=new o(k),c=C(this,c,k),this._prev=i.from(c),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=f,this._alen=0,this._len=0,this._mode=r,this._authTag=null,this._called=!1}var y=x("./aes"),i=x("safe-buffer").Buffer,m=x("cipher-base"),a=x("inherits"),o=x("./ghash"),h=x("buffer-xor"),s=x("./incr32");a(E,m),E.prototype._update=function(r){if(!this._called&&this._alen){var d=16-this._alen%16;16>d&&(d=i.alloc(d,0),this._ghash.update(d))}this._called=!0;var c=this._mode.encrypt(this,r);return this._decrypt?this._ghash.update(r):this._ghash.update(c),this._len+=r.length,c},E.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var r=h(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&g(r,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=r,this._cipher.scrub()},E.prototype.getAuthTag=function(){if(this._decrypt||!i.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},E.prototype.setAuthTag=function(d){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=d},E.prototype.setAAD=function(d){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(d),this._alen+=d.length},V.exports=E},{"./aes":42,"./ghash":47,"./incr32":48,"buffer-xor":74,"cipher-base":79,inherits:146,"safe-buffer":234}],44:[function(x,V,O){function g(){return Object.keys(y)}var C=x("./encrypter"),E=x("./decrypter"),y=x("./modes/list.json");O.createCipher=O.Cipher=C.createCipher,O.createCipheriv=O.Cipheriv=C.createCipheriv,O.createDecipher=O.Decipher=E.createDecipher,O.createDecipheriv=O.Decipheriv=E.createDecipheriv,O.listCiphers=O.getCiphers=g},{"./decrypter":45,"./encrypter":46,"./modes/list.json":56}],45:[function(x,V,O){function g(f,u,k){s.call(this),this._cache=new C,this._last=void 0,this._cipher=new r.AES(u),this._prev=a.from(k),this._mode=f,this._autopadding=!0}function C(){this.cache=a.allocUnsafe(0)}function E(f){var u=f[15];if(1>u||16<u)throw new Error("unable to decrypt data");for(var k=-1;++k<u;)if(f[k+(16-u)]!==u)throw new Error("unable to decrypt data");return u===16?void 0:f.slice(0,16-u)}function y(f,u,k){var R=o[f.toLowerCase()];if(!R)throw new TypeError("invalid suite type");if(typeof k=="string"&&(k=a.from(k)),R.mode!=="GCM"&&k.length!==R.iv)throw new TypeError("invalid iv length "+k.length);if(typeof u=="string"&&(u=a.from(u)),u.length!==R.key/8)throw new TypeError("invalid key length "+u.length);return R.type==="stream"?new h(R.module,u,k,!0):R.type==="auth"?new m(R.module,u,k,!0):new g(R.module,u,k)}function i(f,u){var k=o[f.toLowerCase()];if(!k)throw new TypeError("invalid suite type");var R=d(u,!1,k.key,k.iv);return y(f,R.key,R.iv)}var m=x("./authCipher"),a=x("safe-buffer").Buffer,o=x("./modes"),h=x("./streamCipher"),s=x("cipher-base"),r=x("./aes"),d=x("evp_bytestokey"),c=x("inherits");c(g,s),g.prototype._update=function(f){this._cache.add(f);for(var u=[],k,R;k=this._cache.get(this._autopadding);)R=this._mode.decrypt(this,k),u.push(R);return a.concat(u)},g.prototype._final=function(){var f=this._cache.flush();if(this._autopadding)return E(this._mode.decrypt(this,f));if(f)throw new Error("data not multiple of block length")},g.prototype.setAutoPadding=function(f){return this._autopadding=!!f,this},C.prototype.add=function(f){this.cache=a.concat([this.cache,f])},C.prototype.get=function(f){var u;if(f){if(16<this.cache.length)return u=this.cache.slice(0,16),this.cache=this.cache.slice(16),u}else if(16<=this.cache.length)return u=this.cache.slice(0,16),this.cache=this.cache.slice(16),u;return null},C.prototype.flush=function(){if(this.cache.length)return this.cache},O.createDecipher=i,O.createDecipheriv=y},{"./aes":42,"./authCipher":43,"./modes":55,"./streamCipher":58,"cipher-base":79,evp_bytestokey:123,inherits:146,"safe-buffer":234}],46:[function(x,V,O){function g(f,u,k){h.call(this),this._cache=new C,this._cipher=new s.AES(u),this._prev=a.from(k),this._mode=f,this._autopadding=!0}function C(){this.cache=a.allocUnsafe(0)}function E(f,u,k){var R=i[f.toLowerCase()];if(!R)throw new TypeError("invalid suite type");if(typeof u=="string"&&(u=a.from(u)),u.length!==R.key/8)throw new TypeError("invalid key length "+u.length);if(typeof k=="string"&&(k=a.from(k)),R.mode!=="GCM"&&k.length!==R.iv)throw new TypeError("invalid iv length "+k.length);return R.type==="stream"?new o(R.module,u,k):R.type==="auth"?new m(R.module,u,k):new g(R.module,u,k)}function y(f,u){var k=i[f.toLowerCase()];if(!k)throw new TypeError("invalid suite type");var R=r(u,!1,k.key,k.iv);return E(f,R.key,R.iv)}var i=x("./modes"),m=x("./authCipher"),a=x("safe-buffer").Buffer,o=x("./streamCipher"),h=x("cipher-base"),s=x("./aes"),r=x("evp_bytestokey"),d=x("inherits");d(g,h),g.prototype._update=function(f){this._cache.add(f);for(var u=[],k,R;k=this._cache.get();)R=this._mode.encrypt(this,k),u.push(R);return a.concat(u)};var c=a.alloc(16,16);g.prototype._final=function(){var f=this._cache.flush();if(this._autopadding)return f=this._mode.encrypt(this,f),this._cipher.scrub(),f;if(!f.equals(c))throw this._cipher.scrub(),new Error("data not multiple of block length")},g.prototype.setAutoPadding=function(f){return this._autopadding=!!f,this},C.prototype.add=function(f){this.cache=a.concat([this.cache,f])},C.prototype.get=function(){if(15<this.cache.length){var f=this.cache.slice(0,16);return this.cache=this.cache.slice(16),f}return null},C.prototype.flush=function(){for(var f=16-this.cache.length,u=a.allocUnsafe(f),k=-1;++k<f;)u.writeUInt8(f,k);return a.concat([this.cache,u])},O.createCipheriv=E,O.createCipher=y},{"./aes":42,"./authCipher":43,"./modes":55,"./streamCipher":58,"cipher-base":79,evp_bytestokey:123,inherits:146,"safe-buffer":234}],47:[function(x,V,O){function g(m){return[m.readUInt32BE(0),m.readUInt32BE(4),m.readUInt32BE(8),m.readUInt32BE(12)]}function C(m){var a=y.allocUnsafe(16);return a.writeUInt32BE(m[0]>>>0,0),a.writeUInt32BE(m[1]>>>0,4),a.writeUInt32BE(m[2]>>>0,8),a.writeUInt32BE(m[3]>>>0,12),a}function E(m){this.h=m,this.state=y.alloc(16,0),this.cache=y.allocUnsafe(0)}var y=x("safe-buffer").Buffer,i=y.alloc(16,0);E.prototype.ghash=function(m){for(var a=-1;++a<m.length;)this.state[a]^=m[a];this._multiply()},E.prototype._multiply=function(){for(var m=g(this.h),a=[0,0,0,0],o=-1,h,s,r;128>++o;){for(s=(this.state[~~(o/8)]&1<<7-o%8)!=0,s&&(a[0]^=m[0],a[1]^=m[1],a[2]^=m[2],a[3]^=m[3]),r=(1&m[3])!=0,h=3;0<h;h--)m[h]=m[h]>>>1|(1&m[h-1])<<31;m[0]>>>=1,r&&(m[0]^=-520093696)}this.state=C(a)},E.prototype.update=function(m){this.cache=y.concat([this.cache,m]);for(var a;16<=this.cache.length;)a=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(a)},E.prototype.final=function(m,a){return this.cache.length&&this.ghash(y.concat([this.cache,i],16)),this.ghash(C([0,m,0,a])),this.state},V.exports=E},{"safe-buffer":234}],48:[function(x,V,O){function g(C){for(var E=C.length,y;E--;)if(y=C.readUInt8(E),y===255)C.writeUInt8(0,E);else{y++,C.writeUInt8(y,E);break}}V.exports=g},{}],49:[function(x,V,O){var g=x("buffer-xor");O.encrypt=function(C,E){var y=g(E,C._prev);return C._prev=C._cipher.encryptBlock(y),C._prev},O.decrypt=function(C,E){var y=C._prev;C._prev=E;var i=C._cipher.decryptBlock(E);return g(i,y)}},{"buffer-xor":74}],50:[function(x,V,O){function g(y,i,m){var a=i.length,o=E(i,y._cache);return y._cache=y._cache.slice(a),y._prev=C.concat([y._prev,m?i:o]),o}var C=x("safe-buffer").Buffer,E=x("buffer-xor");O.encrypt=function(y,i,m){for(var a=C.allocUnsafe(0),o;i.length;)if(y._cache.length===0&&(y._cache=y._cipher.encryptBlock(y._prev),y._prev=C.allocUnsafe(0)),y._cache.length<=i.length)o=y._cache.length,a=C.concat([a,g(y,i.slice(0,o),m)]),i=i.slice(o);else{a=C.concat([a,g(y,i,m)]);break}return a}},{"buffer-xor":74,"safe-buffer":234}],51:[function(x,V,O){function g(y,i,m){for(var a=-1,o=8,h=0,s,r,d;++a<o;)s=y._cipher.encryptBlock(y._prev),r=i&1<<7-a?128:0,d=s[0]^r,h+=(128&d)>>a%8,y._prev=C(y._prev,m?r:d);return h}function C(y,i){var m=y.length,a=-1,o=E.allocUnsafe(y.length);for(y=E.concat([y,E.from([i])]);++a<m;)o[a]=y[a]<<1|y[a+1]>>7;return o}var E=x("safe-buffer").Buffer;O.encrypt=function(y,i,m){for(var a=i.length,o=E.allocUnsafe(a),h=-1;++h<a;)o[h]=g(y,i[h],m);return o}},{"safe-buffer":234}],52:[function(x,V,O){function g(E,y,i){var m=E._cipher.encryptBlock(E._prev),a=m[0]^y;return E._prev=C.concat([E._prev.slice(1),C.from([i?y:a])]),a}var C=x("safe-buffer").Buffer;O.encrypt=function(E,y,i){for(var m=y.length,a=C.allocUnsafe(m),o=-1;++o<m;)a[o]=g(E,y[o],i);return a}},{"safe-buffer":234}],53:[function(x,V,O){function g(m){var a=m._cipher.encryptBlockRaw(m._prev);return y(m._prev),a}var C=x("buffer-xor"),E=x("safe-buffer").Buffer,y=x("../incr32"),i=16;O.encrypt=function(m,a){var o=Ee(a.length/i),h=m._cache.length;m._cache=E.concat([m._cache,E.allocUnsafe(o*i)]);for(var s=0;s<o;s++){var r=g(m),d=h+s*i;m._cache.writeUInt32BE(r[0],d+0),m._cache.writeUInt32BE(r[1],d+4),m._cache.writeUInt32BE(r[2],d+8),m._cache.writeUInt32BE(r[3],d+12)}var c=m._cache.slice(0,a.length);return m._cache=m._cache.slice(a.length),C(a,c)}},{"../incr32":48,"buffer-xor":74,"safe-buffer":234}],54:[function(x,V,O){O.encrypt=function(g,C){return g._cipher.encryptBlock(C)},O.decrypt=function(g,C){return g._cipher.decryptBlock(C)}},{}],55:[function(x,V,O){var g={ECB:x("./ecb"),CBC:x("./cbc"),CFB:x("./cfb"),CFB8:x("./cfb8"),CFB1:x("./cfb1"),OFB:x("./ofb"),CTR:x("./ctr"),GCM:x("./ctr")},C=x("./list.json");for(var E in C)C[E].module=g[C[E].mode];V.exports=C},{"./cbc":49,"./cfb":50,"./cfb1":51,"./cfb8":52,"./ctr":53,"./ecb":54,"./list.json":56,"./ofb":57}],56:[function(x,V,O){V.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],57:[function(x,V,O){(function(g){(function(){function C(y){return y._prev=y._cipher.encryptBlock(y._prev),y._prev}var E=x("buffer-xor");O.encrypt=function(y,i){for(;y._cache.length<i.length;)y._cache=g.concat([y._cache,C(y)]);var m=y._cache.slice(0,i.length);return y._cache=y._cache.slice(i.length),E(i,m)}}).call(this)}).call(this,x("buffer").Buffer)},{buffer:75,"buffer-xor":74}],58:[function(x,V,O){function g(m,a,o,h){y.call(this),this._cipher=new C.AES(a),this._prev=E.from(o),this._cache=E.allocUnsafe(0),this._secCache=E.allocUnsafe(0),this._decrypt=h,this._mode=m}var C=x("./aes"),E=x("safe-buffer").Buffer,y=x("cipher-base"),i=x("inherits");i(g,y),g.prototype._update=function(m){return this._mode.encrypt(this,m,this._decrypt)},g.prototype._final=function(){this._cipher.scrub()},V.exports=g},{"./aes":42,"cipher-base":79,inherits:146,"safe-buffer":234}],59:[function(x,V,O){function g(r,d){r=r.toLowerCase();var c,f;if(o[r])c=o[r].key,f=o[r].iv;else if(h[r])c=8*h[r].key,f=h[r].iv;else throw new TypeError("invalid suite type");var u=s(d,!1,c,f);return E(r,u.key,u.iv)}function C(r,d){r=r.toLowerCase();var c,f;if(o[r])c=o[r].key,f=o[r].iv;else if(h[r])c=8*h[r].key,f=h[r].iv;else throw new TypeError("invalid suite type");var u=s(d,!1,c,f);return y(r,u.key,u.iv)}function E(r,d,c){if(r=r.toLowerCase(),o[r])return a.createCipheriv(r,d,c);if(h[r])return new m({key:d,iv:c,mode:r});throw new TypeError("invalid suite type")}function y(r,d,c){if(r=r.toLowerCase(),o[r])return a.createDecipheriv(r,d,c);if(h[r])return new m({key:d,iv:c,mode:r,decrypt:!0});throw new TypeError("invalid suite type")}function i(){return Object.keys(h).concat(a.getCiphers())}var m=x("browserify-des"),a=x("browserify-aes/browser"),o=x("browserify-aes/modes"),h=x("browserify-des/modes"),s=x("evp_bytestokey");O.createCipher=O.Cipher=g,O.createCipheriv=O.Cipheriv=E,O.createDecipher=O.Decipher=C,O.createDecipheriv=O.Decipheriv=y,O.listCiphers=O.getCiphers=i},{"browserify-aes/browser":44,"browserify-aes/modes":55,"browserify-des":60,"browserify-des/modes":61,evp_bytestokey:123}],60:[function(x,V,O){function g(a){C.call(this);var o=a.mode.toLowerCase(),h=m[o],s;s=a.decrypt?"decrypt":"encrypt";var r=a.key;i.isBuffer(r)||(r=i.from(r)),(o==="des-ede"||o==="des-ede-cbc")&&(r=i.concat([r,r.slice(0,8)]));var d=a.iv;i.isBuffer(d)||(d=i.from(d)),this._des=h.create({key:r,iv:d,type:s})}var C=x("cipher-base"),E=x("des.js"),y=x("inherits"),i=x("safe-buffer").Buffer,m={"des-ede3-cbc":E.CBC.instantiate(E.EDE),"des-ede3":E.EDE,"des-ede-cbc":E.CBC.instantiate(E.EDE),"des-ede":E.EDE,"des-cbc":E.CBC.instantiate(E.DES),"des-ecb":E.DES};m.des=m["des-cbc"],m.des3=m["des-ede3-cbc"],V.exports=g,y(g,C),g.prototype._update=function(a){return i.from(this._des.update(a))},g.prototype._final=function(){return i.from(this._des.final())}},{"cipher-base":79,"des.js":92,inherits:146,"safe-buffer":234}],61:[function(x,V,O){O["des-ecb"]={key:8,iv:0},O["des-cbc"]=O.des={key:8,iv:8},O["des-ede3-cbc"]=O.des3={key:24,iv:8},O["des-ede3"]={key:24,iv:0},O["des-ede-cbc"]={key:16,iv:8},O["des-ede"]={key:16,iv:0}},{}],62:[function(x,V,O){(function(g){(function(){function C(a){var o=E(a),h=o.toRed(i.mont(a.modulus)).redPow(new i(a.publicExponent)).fromRed();return{blinder:h,unblinder:o.invm(a.modulus)}}function E(a){var o=a.modulus.byteLength(),h;do h=new i(m(o));while(0<=h.cmp(a.modulus)||!h.umod(a.prime1)||!h.umod(a.prime2));return h}function y(a,o){var h=C(o),s=o.modulus.byteLength(),r=new i(a).mul(h.blinder).umod(o.modulus),d=r.toRed(i.mont(o.prime1)),c=r.toRed(i.mont(o.prime2)),f=o.coefficient,u=o.prime1,k=o.prime2,R=d.redPow(o.exponent1).fromRed(),A=c.redPow(o.exponent2).fromRed(),w=R.isub(A).imul(f).umod(u).imul(k);return A.iadd(w).imul(h.unblinder).umod(o.modulus).toArrayLike(g,"be",s)}var i=x("bn.js"),m=x("randombytes");y.getr=E,V.exports=y}).call(this)}).call(this,x("buffer").Buffer)},{"bn.js":39,buffer:75,randombytes:208}],63:[function(x,V,O){V.exports=x("./browser/algorithms.json")},{"./browser/algorithms.json":64}],64:[function(x,V,O){V.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],65:[function(x,V,O){V.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],66:[function(x,V,O){function g(d){a.Writable.call(this);var c=r[d];if(!c)throw new Error("Unknown message digest");this._hashType=c.hash,this._hash=m(c.hash),this._tag=c.id,this._signType=c.sign}function C(d){a.Writable.call(this);var c=r[d];if(!c)throw new Error("Unknown message digest");this._hash=m(c.hash),this._tag=c.id,this._signType=c.sign}function E(d){return new g(d)}function y(d){return new C(d)}var i=x("safe-buffer").Buffer,m=x("create-hash"),a=x("readable-stream"),o=x("inherits"),h=x("./sign"),s=x("./verify"),r=x("./algorithms.json");Object.keys(r).forEach(function(d){r[d].id=i.from(r[d].id,"hex"),r[d.toLowerCase()]=r[d]}),o(g,a.Writable),g.prototype._write=function(c,f,u){this._hash.update(c),u()},g.prototype.update=function(c,f){return typeof c=="string"&&(c=i.from(c,f)),this._hash.update(c),this},g.prototype.sign=function(c,f){this.end();var u=this._hash.digest(),k=h(u,c,this._hashType,this._signType,this._tag);return f?k.toString(f):k},o(C,a.Writable),C.prototype._write=function(c,f,u){this._hash.update(c),u()},C.prototype.update=function(c,f){return typeof c=="string"&&(c=i.from(c,f)),this._hash.update(c),this},C.prototype.verify=function(c,f,u){typeof f=="string"&&(f=i.from(f,u)),this.end();var k=this._hash.digest();return s(f,k,c,this._signType,this._tag)},V.exports={Sign:E,Verify:y,createSign:E,createVerify:y}},{"./algorithms.json":64,"./sign":67,"./verify":68,"create-hash":84,inherits:146,"readable-stream":227,"safe-buffer":234}],67:[function(x,V,O){function g(R,A,w,I,N){var L=u(A);if(L.curve){if(I!=="ecdsa"&&I!=="ecdsa/rsa")throw new Error("wrong private key type");return C(R,L)}if(L.type==="dsa"){if(I!=="dsa")throw new Error("wrong private key type");return E(R,L,w)}if(I!=="rsa"&&I!=="ecdsa/rsa")throw new Error("wrong private key type");R=s.concat([N,R]);for(var G=L.modulus.byteLength(),J=[0,1];R.length+J.length+1<G;)J.push(255);J.push(0);for(var se=-1;++se<R.length;)J.push(R[se]);var ce=d(J,L);return ce}function C(R,A){var w=k[A.curve.join(".")];if(!w)throw new Error("unknown curve "+A.curve.join("."));var I=new c(w),N=I.keyFromPrivate(A.privateKey),L=N.sign(R);return s.from(L.toDER())}function E(R,A,w){for(var I=A.params.priv_key,N=A.params.p,L=A.params.q,G=A.params.g,J=new f(0),se=m(R,L).mod(L),ce=!1,Y=i(I,L,R,w),B;ce===!1;)B=o(L,Y,w),J=h(G,B,N,L),ce=B.invm(L).imul(se.add(I.mul(J))).mod(L),ce.cmpn(0)===0&&(ce=!1,J=new f(0));return y(J,ce)}function y(R,A){R=R.toArray(),A=A.toArray(),128&R[0]&&(R=[0].concat(R)),128&A[0]&&(A=[0].concat(A));var w=R.length+A.length+4,I=[48,w,2,R.length];return I=I.concat(R,[2,A.length],A),s.from(I)}function i(R,A,w,I){if(R=s.from(R.toArray()),R.length<A.byteLength()){var N=s.alloc(A.byteLength()-R.length);R=s.concat([N,R])}var L=w.length,G=a(w,A),J=s.alloc(L);J.fill(1);var se=s.alloc(L);return se=r(I,se).update(J).update(s.from([0])).update(R).update(G).digest(),J=r(I,se).update(J).digest(),se=r(I,se).update(J).update(s.from([1])).update(R).update(G).digest(),J=r(I,se).update(J).digest(),{k:se,v:J}}function m(R,A){var w=new f(R),I=(R.length<<3)-A.bitLength();return 0<I&&w.ishrn(I),w}function a(R,A){R=m(R,A),R=R.mod(A);var w=s.from(R.toArray());if(w.length<A.byteLength()){var I=s.alloc(A.byteLength()-w.length);w=s.concat([I,w])}return w}function o(R,A,w){var I,N;do{for(I=s.alloc(0);8*I.length<R.bitLength();)A.v=r(w,A.k).update(A.v).digest(),I=s.concat([I,A.v]);N=m(I,R),A.k=r(w,A.k).update(A.v).update(s.from([0])).digest(),A.v=r(w,A.k).update(A.v).digest()}while(N.cmp(R)!==-1);return N}function h(R,A,w,I){return R.toRed(f.mont(w)).redPow(A).fromRed().mod(I)}var s=x("safe-buffer").Buffer,r=x("create-hmac"),d=x("browserify-rsa"),c=x("elliptic").ec,f=x("bn.js"),u=x("parse-asn1"),k=x("./curves.json");V.exports=g,V.exports.getKey=i,V.exports.makeKey=o},{"./curves.json":65,"bn.js":39,"browserify-rsa":62,"create-hmac":86,elliptic:103,"parse-asn1":182,"safe-buffer":234}],68:[function(x,V,O){function g(s,r,d,c,f){var u=o(d);if(u.type==="ec"){if(c!=="ecdsa"&&c!=="ecdsa/rsa")throw new Error("wrong public key type");return C(s,r,u)}if(u.type==="dsa"){if(c!=="dsa")throw new Error("wrong public key type");return E(s,r,u)}if(c!=="rsa"&&c!=="ecdsa/rsa")throw new Error("wrong public key type");r=i.concat([f,r]);for(var k=u.modulus.byteLength(),R=[1],A=0;r.length+R.length+2<k;)R.push(255),A++;R.push(0);for(var w=-1;++w<r.length;)R.push(r[w]);R=i.from(R);var I=m.mont(u.modulus);s=new m(s).toRed(I),s=s.redPow(new m(u.publicExponent)),s=i.from(s.fromRed().toArray());var N=8>A?1:0;for(k=ke(s.length,R.length),s.length!==R.length&&(N=1),w=-1;++w<k;)N|=s[w]^R[w];return N==0}function C(s,r,d){var c=h[d.data.algorithm.curve.join(".")];if(!c)throw new Error("unknown curve "+d.data.algorithm.curve.join("."));var f=new a(c),u=d.data.subjectPrivateKey.data;return f.verify(r,s,u)}function E(s,r,d){var c=d.data.p,f=d.data.q,u=d.data.g,k=d.data.pub_key,R=o.signature.decode(s,"der"),A=R.s,w=R.r;y(A,f),y(w,f);var I=m.mont(c),N=A.invm(f),L=u.toRed(I).redPow(new m(r).mul(N).mod(f)).fromRed().mul(k.toRed(I).redPow(w.mul(N).mod(f)).fromRed()).mod(c).mod(f);return L.cmp(w)===0}function y(s,r){if(0>=s.cmpn(0))throw new Error("invalid sig");if(s.cmp(r)>=r)throw new Error("invalid sig")}var i=x("safe-buffer").Buffer,m=x("bn.js"),a=x("elliptic").ec,o=x("parse-asn1"),h=x("./curves.json");V.exports=g},{"./curves.json":65,"bn.js":39,elliptic:103,"parse-asn1":182,"safe-buffer":234}],69:[function(x,V,O){function g(i,m){for(var a in i)m[a]=i[a]}function C(i,m,a){return y(i,m,a)}var E=x("buffer"),y=E.Buffer;y.from&&y.alloc&&y.allocUnsafe&&y.allocUnsafeSlow?V.exports=E:(g(E,O),O.Buffer=C),g(y,C),C.from=function(i,m,a){if(typeof i=="number")throw new TypeError("Argument must not be a number");return y(i,m,a)},C.alloc=function(i,m,a){if(typeof i!="number")throw new TypeError("Argument must be a number");var o=y(i);return m===void 0?o.fill(0):typeof a=="string"?o.fill(m,a):o.fill(m),o},C.allocUnsafe=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return y(i)},C.allocUnsafeSlow=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return E.SlowBuffer(i)}},{buffer:75}],70:[function(x,V,O){function g(A){if(!A)return"utf8";for(var w;;)switch(A){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return A;default:if(w)return;A=(""+A).toLowerCase(),w=!0}}function C(A){var w=g(A);if(typeof w!="string"&&(k.isEncoding===R||!R(A)))throw new Error("Unknown encoding: "+A);return w||A}function E(A){this.encoding=C(A);var w;switch(this.encoding){case"utf16le":this.text=s,this.end=r,w=4;break;case"utf8":this.fillLast=a,w=4;break;case"base64":this.text=d,this.end=c,w=3;break;default:return this.write=f,void(this.end=u)}this.lastNeed=0,this.lastTotal=0,this.lastChar=k.allocUnsafe(w)}function y(A){return 127>=A?0:A>>5==6?2:A>>4==14?3:A>>3==30?4:A>>6==2?-1:-2}function i(A,w,I){var N=w.length-1;if(N<I)return 0;var L=y(w[N]);return 0<=L?(0<L&&(A.lastNeed=L-1),L):--N<I||L===-2?0:(L=y(w[N]),0<=L?(0<L&&(A.lastNeed=L-2),L):--N<I||L===-2?0:(L=y(w[N]),0<=L?(0<L&&(L===2?L=0:A.lastNeed=L-3),L):0))}function m(A,w,I){if((192&w[0])!=128)return A.lastNeed=0,"\uFFFD";if(1<A.lastNeed&&1<w.length){if((192&w[1])!=128)return A.lastNeed=1,"\uFFFD";if(2<A.lastNeed&&2<w.length&&(192&w[2])!=128)return A.lastNeed=2,"\uFFFD"}}function a(A){var w=this.lastTotal-this.lastNeed,I=m(this,A);return I===void 0?this.lastNeed<=A.length?(A.copy(this.lastChar,w,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(A.copy(this.lastChar,w,0,A.length),void(this.lastNeed-=A.length)):I}function o(A,w){var I=i(this,A,w);if(!this.lastNeed)return A.toString("utf8",w);this.lastTotal=I;var N=A.length-(I-this.lastNeed);return A.copy(this.lastChar,0,N),A.toString("utf8",w,N)}function h(A){var w=A&&A.length?this.write(A):"";return this.lastNeed?w+"\uFFFD":w}function s(A,w){if((A.length-w)%2==0){var I=A.toString("utf16le",w);if(I){var N=I.charCodeAt(I.length-1);if(55296<=N&&56319>=N)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=A[A.length-2],this.lastChar[1]=A[A.length-1],I.slice(0,-1)}return I}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=A[A.length-1],A.toString("utf16le",w,A.length-1)}function r(A){var w=A&&A.length?this.write(A):"";if(this.lastNeed){var I=this.lastTotal-this.lastNeed;return w+this.lastChar.toString("utf16le",0,I)}return w}function d(A,w){var I=(A.length-w)%3;return I==0?A.toString("base64",w):(this.lastNeed=3-I,this.lastTotal=3,I==1?this.lastChar[0]=A[A.length-1]:(this.lastChar[0]=A[A.length-2],this.lastChar[1]=A[A.length-1]),A.toString("base64",w,A.length-I))}function c(A){var w=A&&A.length?this.write(A):"";return this.lastNeed?w+this.lastChar.toString("base64",0,3-this.lastNeed):w}function f(A){return A.toString(this.encoding)}function u(A){return A&&A.length?this.write(A):""}var k=x("safe-buffer").Buffer,R=k.isEncoding||function(A){switch(A=""+A,A&&A.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};O.StringDecoder=E,E.prototype.write=function(A){if(A.length===0)return"";var w,I;if(this.lastNeed){if(w=this.fillLast(A),w===void 0)return"";I=this.lastNeed,this.lastNeed=0}else I=0;return I<A.length?w?w+this.text(A,I):this.text(A,I):w||""},E.prototype.end=h,E.prototype.text=o,E.prototype.fillLast=function(A){return this.lastNeed<=A.length?(A.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(A.copy(this.lastChar,this.lastTotal-this.lastNeed,0,A.length),void(this.lastNeed-=A.length))}},{"safe-buffer":69}],71:[function(x,V,O){(function(g){(function(){function C(E){if(typeof E!="number")throw new TypeError('"size" argument must be a number');if(0>E)throw new RangeError('"size" argument must not be negative');return g.allocUnsafe?g.allocUnsafe(E):new g(E)}V.exports=C}).call(this)}).call(this,x("buffer").Buffer)},{buffer:75}],72:[function(x,V,O){(function(g){(function(){var C=x("buffer-fill"),E=x("buffer-alloc-unsafe");V.exports=function(i,m,a){if(typeof i!="number")throw new TypeError('"size" argument must be a number');if(0>i)throw new RangeError('"size" argument must not be negative');if(g.alloc)return g.alloc(i,m,a);var o=E(i);return i===0?o:m===void 0?C(o,0):(typeof a!="string"&&(a=void 0),C(o,m,a))}}).call(this)}).call(this,x("buffer").Buffer)},{buffer:75,"buffer-alloc-unsafe":71,"buffer-fill":73}],73:[function(x,V,O){(function(g){(function(){function C(a){return a.length===1&&256>a.charCodeAt(0)}function E(a,o,h,s){if(0>h||s>a.length)throw new RangeError("Out of range index");return h>>>=0,s=s===void 0?a.length:s>>>0,s>h&&a.fill(o,h,s),a}function y(a,o,h,s){if(0>h||s>a.length)throw new RangeError("Out of range index");if(s<=h)return a;h>>>=0,s=s===void 0?a.length:s>>>0;for(var r=h,d=o.length;r<=s-d;)o.copy(a,r),r+=d;return r!==s&&o.copy(a,r,0,s-r),a}function i(a,o,h,s,r){if(m)return a.fill(o,h,s,r);if(typeof o=="number")return E(a,o,h,s);if(typeof o=="string"){if(typeof h=="string"?(r=h,h=0,s=a.length):typeof s=="string"&&(r=s,s=a.length),r!==void 0&&typeof r!="string")throw new TypeError("encoding must be a string");if(r==="latin1"&&(r="binary"),typeof r=="string"&&!g.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(o==="")return E(a,0,h,s);if(C(o))return E(a,o.charCodeAt(0),h,s);o=new g(o,r)}return g.isBuffer(o)?y(a,o,h,s):E(a,0,h,s)}var m=function(){try{if(!g.isEncoding("latin1"))return!1;var a=g.alloc?g.alloc(4):new g(4);return a.fill("ab","ucs2"),a.toString("hex")==="61006200"}catch{return!1}}();V.exports=i}).call(this)}).call(this,x("buffer").Buffer)},{buffer:75}],74:[function(x,V,O){(function(g){(function(){V.exports=function(E,y){for(var i=ke(E.length,y.length),m=new g(i),a=0;a<i;++a)m[a]=E[a]^y[a];return m}}).call(this)}).call(this,x("buffer").Buffer)},{buffer:75}],75:[function(x,V,O){(function(g){(function(){function C(){try{var q=new Uint8Array(1);return q.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},q.foo()===42}catch{return!1}}function E(q){if(2147483647<q)throw new RangeError('The value "'+q+'" is invalid for option "size"');var P=new Uint8Array(q);return P.__proto__=y.prototype,P}function y(q,P,H){if(typeof q=="number"){if(typeof P=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return o(q)}return i(q,P,H)}function i(q,P,H){if(typeof q=="string")return h(q,P);if(ArrayBuffer.isView(q))return s(q);if(q==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof q);if(pe(q,ArrayBuffer)||q&&pe(q.buffer,ArrayBuffer))return r(q,P,H);if(typeof q=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Z=q.valueOf&&q.valueOf();if(Z!=null&&Z!==q)return y.from(Z,P,H);var oe=d(q);if(oe)return oe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof q[Symbol.toPrimitive]=="function")return y.from(q[Symbol.toPrimitive]("string"),P,H);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof q)}function m(q){if(typeof q!="number")throw new TypeError('"size" argument must be of type number');if(0>q)throw new RangeError('The value "'+q+'" is invalid for option "size"')}function a(q,P,H){return m(q),0>=q||P===void 0?E(q):typeof H=="string"?E(q).fill(P,H):E(q).fill(P)}function o(q){return m(q),E(0>q?0:0|c(q))}function h(q,P){if((typeof P!="string"||P==="")&&(P="utf8"),!y.isEncoding(P))throw new TypeError("Unknown encoding: "+P);var H=0|u(q,P),Z=E(H),oe=Z.write(q,P);return oe!==H&&(Z=Z.slice(0,oe)),Z}function s(q){for(var P=0>q.length?0:0|c(q.length),H=E(P),Z=0;Z<P;Z+=1)H[Z]=255&q[Z];return H}function r(q,P,H){if(0>P||q.byteLength<P)throw new RangeError('"offset" is outside of buffer bounds');if(q.byteLength<P+(H||0))throw new RangeError('"length" is outside of buffer bounds');var Z;return Z=P===void 0&&H===void 0?new Uint8Array(q):H===void 0?new Uint8Array(q,P):new Uint8Array(q,P,H),Z.__proto__=y.prototype,Z}function d(q){if(y.isBuffer(q)){var P=0|c(q.length),H=E(P);return H.length===0||q.copy(H,0,0,P),H}return q.length===void 0?q.type==="Buffer"&&Array.isArray(q.data)?s(q.data):void 0:typeof q.length!="number"||ge(q.length)?E(0):s(q)}function c(q){if(q>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647 .toString(16)+" bytes");return 0|q}function f(q){return+q!=q&&(q=0),y.alloc(+q)}function u(q,P){if(y.isBuffer(q))return q.length;if(ArrayBuffer.isView(q)||pe(q,ArrayBuffer))return q.byteLength;if(typeof q!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof q);var H=q.length,Z=2<arguments.length&&arguments[2]===!0;if(!Z&&H===0)return 0;for(var oe=!1;;)switch(P){case"ascii":case"latin1":case"binary":return H;case"utf8":case"utf-8":return ae(q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*H;case"hex":return H>>>1;case"base64":return Se(q).length;default:if(oe)return Z?-1:ae(q).length;P=(""+P).toLowerCase(),oe=!0}}function k(q,P,H){var Z=!1;if((P===void 0||0>P)&&(P=0),P>this.length||((H===void 0||H>this.length)&&(H=this.length),0>=H)||(H>>>=0,P>>>=0,H<=P))return"";for(q||(q="utf8");;)switch(q){case"hex":return T(this,P,H);case"utf8":case"utf-8":return Y(this,P,H);case"ascii":return _(this,P,H);case"latin1":case"binary":return p(this,P,H);case"base64":return ce(this,P,H);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,P,H);default:if(Z)throw new TypeError("Unknown encoding: "+q);q=(q+"").toLowerCase(),Z=!0}}function R(q,P,H){var Z=q[P];q[P]=q[H],q[H]=Z}function A(q,P,H,Z,oe){if(q.length===0)return-1;if(typeof H=="string"?(Z=H,H=0):2147483647<H?H=2147483647:-2147483648>H&&(H=-2147483648),H=+H,ge(H)&&(H=oe?0:q.length-1),0>H&&(H=q.length+H),H>=q.length){if(oe)return-1;H=q.length-1}else if(0>H)if(oe)H=0;else return-1;if(typeof P=="string"&&(P=y.from(P,Z)),y.isBuffer(P))return P.length===0?-1:w(q,P,H,Z,oe);if(typeof P=="number")return P&=255,typeof Uint8Array.prototype.indexOf=="function"?oe?Uint8Array.prototype.indexOf.call(q,P,H):Uint8Array.prototype.lastIndexOf.call(q,P,H):w(q,[P],H,Z,oe);throw new TypeError("val must be string, number or Buffer")}function w(q,P,H,Z,oe){function ue(Le,We){return ve===1?Le[We]:Le.readUInt16BE(We*ve)}var ve=1,Re=q.length,Pe=P.length;if(Z!==void 0&&(Z=(Z+"").toLowerCase(),Z==="ucs2"||Z==="ucs-2"||Z==="utf16le"||Z==="utf-16le")){if(2>q.length||2>P.length)return-1;ve=2,Re/=2,Pe/=2,H/=2}var Ie;if(oe){var Be=-1;for(Ie=H;Ie<Re;Ie++)if(ue(q,Ie)!==ue(P,Be===-1?0:Ie-Be))Be!==-1&&(Ie-=Ie-Be),Be=-1;else if(Be===-1&&(Be=Ie),Ie-Be+1===Pe)return Be*ve}else for(H+Pe>Re&&(H=Re-Pe),Ie=H;0<=Ie;Ie--){for(var De=!0,Ne=0;Ne<Pe;Ne++)if(ue(q,Ie+Ne)!==ue(P,Ne)){De=!1;break}if(De)return Ie}return-1}function I(q,P,H,Z){H=+H||0;var oe=q.length-H;Z?(Z=+Z,Z>oe&&(Z=oe)):Z=oe;var ue=P.length;Z>ue/2&&(Z=ue/2);for(var ve=0,Re;ve<Z;++ve){if(Re=parseInt(P.substr(2*ve,2),16),ge(Re))return ve;q[H+ve]=Re}return ve}function N(q,P,H,Z){return Ae(ae(P,q.length-H),q,H,Z)}function L(q,P,H,Z){return Ae(me(P),q,H,Z)}function G(q,P,H,Z){return L(q,P,H,Z)}function J(q,P,H,Z){return Ae(Se(P),q,H,Z)}function se(q,P,H,Z){return Ae(he(P,q.length-H),q,H,Z)}function ce(q,P,H){return P===0&&H===q.length?xe.fromByteArray(q):xe.fromByteArray(q.slice(P,H))}function Y(q,P,H){H=ke(q.length,H);for(var Z=[],oe=P;oe<H;){var ue=q[oe],ve=null,Re=239<ue?4:223<ue?3:191<ue?2:1;if(oe+Re<=H){var Pe,Ie,Be,De;Re===1?128>ue&&(ve=ue):Re===2?(Pe=q[oe+1],(192&Pe)==128&&(De=(31&ue)<<6|63&Pe,127<De&&(ve=De))):Re===3?(Pe=q[oe+1],Ie=q[oe+2],(192&Pe)==128&&(192&Ie)==128&&(De=(15&ue)<<12|(63&Pe)<<6|63&Ie,2047<De&&(55296>De||57343<De)&&(ve=De))):Re===4&&(Pe=q[oe+1],Ie=q[oe+2],Be=q[oe+3],(192&Pe)==128&&(192&Ie)==128&&(192&Be)==128&&(De=(15&ue)<<18|(63&Pe)<<12|(63&Ie)<<6|63&Be,65535<De&&1114112>De&&(ve=De)))}ve===null?(ve=65533,Re=1):65535<ve&&(ve-=65536,Z.push(55296|1023&ve>>>10),ve=56320|1023&ve),Z.push(ve),oe+=Re}return B(Z)}function B(q){var P=q.length;if(P<=4096)return _e.apply(String,q);for(var H="",Z=0;Z<P;)H+=_e.apply(String,q.slice(Z,Z+=4096));return H}function _(q,P,H){var Z="";H=ke(q.length,H);for(var oe=P;oe<H;++oe)Z+=_e(127&q[oe]);return Z}function p(q,P,H){var Z="";H=ke(q.length,H);for(var oe=P;oe<H;++oe)Z+=_e(q[oe]);return Z}function T(q,P,H){var Z=q.length;(!P||0>P)&&(P=0),(!H||0>H||H>Z)&&(H=Z);for(var oe="",ue=P;ue<H;++ue)oe+=fe(q[ue]);return oe}function M(q,P,H){for(var Z=q.slice(P,H),oe="",ue=0;ue<Z.length;ue+=2)oe+=_e(Z[ue]+256*Z[ue+1]);return oe}function F(q,P,H){if(q%1!=0||0>q)throw new RangeError("offset is not uint");if(q+P>H)throw new RangeError("Trying to access beyond buffer length")}function j(q,P,H,Z,oe,ue){if(!y.isBuffer(q))throw new TypeError('"buffer" argument must be a Buffer instance');if(P>oe||P<ue)throw new RangeError('"value" argument is out of bounds');if(H+Z>q.length)throw new RangeError("Index out of range")}function U(q,P,H,Z,oe,ue){if(H+Z>q.length)throw new RangeError("Index out of range");if(0>H)throw new RangeError("Index out of range")}function K(q,P,H,Z,oe){return P=+P,H>>>=0,oe||U(q,P,H,4),Ce.write(q,P,H,Z,23,4),H+4}function Q(q,P,H,Z,oe){return P=+P,H>>>=0,oe||U(q,P,H,8),Ce.write(q,P,H,Z,52,8),H+8}function ee(q){if(q=q.split("=")[0],q=q.trim().replace(de,""),2>q.length)return"";for(;q.length%4!=0;)q+="=";return q}function fe(q){return 16>q?"0"+q.toString(16):q.toString(16)}function ae(q,P){P=P||1/0;for(var H=q.length,Z=null,oe=[],ue=0,ve;ue<H;++ue){if(ve=q.charCodeAt(ue),55295<ve&&57344>ve){if(!Z){if(56319<ve){-1<(P-=3)&&oe.push(239,191,189);continue}else if(ue+1===H){-1<(P-=3)&&oe.push(239,191,189);continue}Z=ve;continue}if(56320>ve){-1<(P-=3)&&oe.push(239,191,189),Z=ve;continue}ve=(Z-55296<<10|ve-56320)+65536}else Z&&-1<(P-=3)&&oe.push(239,191,189);if(Z=null,128>ve){if(0>(P-=1))break;oe.push(ve)}else if(2048>ve){if(0>(P-=2))break;oe.push(192|ve>>6,128|63&ve)}else if(65536>ve){if(0>(P-=3))break;oe.push(224|ve>>12,128|63&ve>>6,128|63&ve)}else if(1114112>ve){if(0>(P-=4))break;oe.push(240|ve>>18,128|63&ve>>12,128|63&ve>>6,128|63&ve)}else throw new Error("Invalid code point")}return oe}function me(q){for(var P=[],H=0;H<q.length;++H)P.push(255&q.charCodeAt(H));return P}function he(q,P){for(var H=[],Z=0,oe,ue,ve;Z<q.length&&!(0>(P-=2));++Z)oe=q.charCodeAt(Z),ue=oe>>8,ve=oe%256,H.push(ve),H.push(ue);return H}function Se(q){return xe.toByteArray(ee(q))}function Ae(q,P,H,Z){for(var oe=0;oe<Z&&!(oe+H>=P.length||oe>=q.length);++oe)P[oe+H]=q[oe];return oe}function pe(q,P){return q instanceof P||q!=null&&q.constructor!=null&&q.constructor.name!=null&&q.constructor.name===P.name}function ge(q){return q!==q}var xe=x("base64-js"),Ce=x("ieee754");O.Buffer=y,O.SlowBuffer=f,O.INSPECT_MAX_BYTES=50,O.kMaxLength=2147483647,y.TYPED_ARRAY_SUPPORT=C(),y.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(y.prototype,"parent",{enumerable:!0,get:function(){return y.isBuffer(this)?this.buffer:void 0}}),Object.defineProperty(y.prototype,"offset",{enumerable:!0,get:function(){return y.isBuffer(this)?this.byteOffset:void 0}}),typeof Symbol<"u"&&Symbol.species!=null&&y[Symbol.species]===y&&Object.defineProperty(y,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),y.poolSize=8192,y.from=function(q,P,H){return i(q,P,H)},y.prototype.__proto__=Uint8Array.prototype,y.__proto__=Uint8Array,y.alloc=function(q,P,H){return a(q,P,H)},y.allocUnsafe=function(q){return o(q)},y.allocUnsafeSlow=function(q){return o(q)},y.isBuffer=function(P){return P!=null&&P._isBuffer===!0&&P!==y.prototype},y.compare=function(P,H){if(pe(P,Uint8Array)&&(P=y.from(P,P.offset,P.byteLength)),pe(H,Uint8Array)&&(H=y.from(H,H.offset,H.byteLength)),!y.isBuffer(P)||!y.isBuffer(H))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(P===H)return 0;for(var Z=P.length,oe=H.length,ue=0,ve=ke(Z,oe);ue<ve;++ue)if(P[ue]!==H[ue]){Z=P[ue],oe=H[ue];break}return Z<oe?-1:oe<Z?1:0},y.isEncoding=function(P){switch((P+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},y.concat=function(P,H){if(!Array.isArray(P))throw new TypeError('"list" argument must be an Array of Buffers');if(P.length===0)return y.alloc(0);var Z;if(H===void 0)for(H=0,Z=0;Z<P.length;++Z)H+=P[Z].length;var oe=y.allocUnsafe(H),ue=0;for(Z=0;Z<P.length;++Z){var ve=P[Z];if(pe(ve,Uint8Array)&&(ve=y.from(ve)),!y.isBuffer(ve))throw new TypeError('"list" argument must be an Array of Buffers');ve.copy(oe,ue),ue+=ve.length}return oe},y.byteLength=u,y.prototype._isBuffer=!0,y.prototype.swap16=function(){var P=this.length;if(P%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var H=0;H<P;H+=2)R(this,H,H+1);return this},y.prototype.swap32=function(){var P=this.length;if(P%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var H=0;H<P;H+=4)R(this,H,H+3),R(this,H+1,H+2);return this},y.prototype.swap64=function(){var P=this.length;if(P%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var H=0;H<P;H+=8)R(this,H,H+7),R(this,H+1,H+6),R(this,H+2,H+5),R(this,H+3,H+4);return this},y.prototype.toString=function(){var P=this.length;return P===0?"":arguments.length===0?Y(this,0,P):k.apply(this,arguments)},y.prototype.toLocaleString=y.prototype.toString,y.prototype.equals=function(P){if(!y.isBuffer(P))throw new TypeError("Argument must be a Buffer");return this===P||y.compare(this,P)===0},y.prototype.inspect=function(){var P="",H=O.INSPECT_MAX_BYTES;return P=this.toString("hex",0,H).replace(/(.{2})/g,"$1 ").trim(),this.length>H&&(P+=" ... "),"<Buffer "+P+">"},y.prototype.compare=function(P,H,Z,oe,ue){if(pe(P,Uint8Array)&&(P=y.from(P,P.offset,P.byteLength)),!y.isBuffer(P))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof P);if(H===void 0&&(H=0),Z===void 0&&(Z=P?P.length:0),oe===void 0&&(oe=0),ue===void 0&&(ue=this.length),0>H||Z>P.length||0>oe||ue>this.length)throw new RangeError("out of range index");if(oe>=ue&&H>=Z)return 0;if(oe>=ue)return-1;if(H>=Z)return 1;if(H>>>=0,Z>>>=0,oe>>>=0,ue>>>=0,this===P)return 0;for(var ve=ue-oe,Re=Z-H,Pe=ke(ve,Re),Ie=this.slice(oe,ue),Be=P.slice(H,Z),De=0;De<Pe;++De)if(Ie[De]!==Be[De]){ve=Ie[De],Re=Be[De];break}return ve<Re?-1:Re<ve?1:0},y.prototype.includes=function(P,H,Z){return this.indexOf(P,H,Z)!==-1},y.prototype.indexOf=function(P,H,Z){return A(this,P,H,Z,!0)},y.prototype.lastIndexOf=function(P,H,Z){return A(this,P,H,Z,!1)},y.prototype.write=function(P,H,Z,oe){if(H===void 0)oe="utf8",Z=this.length,H=0;else if(Z===void 0&&typeof H=="string")oe=H,Z=this.length,H=0;else if(isFinite(H))H>>>=0,isFinite(Z)?(Z>>>=0,oe===void 0&&(oe="utf8")):(oe=Z,Z=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ue=this.length-H;if((Z===void 0||Z>ue)&&(Z=ue),0<P.length&&(0>Z||0>H)||H>this.length)throw new RangeError("Attempt to write outside buffer bounds");oe||(oe="utf8");for(var ve=!1;;)switch(oe){case"hex":return I(this,P,H,Z);case"utf8":case"utf-8":return N(this,P,H,Z);case"ascii":return L(this,P,H,Z);case"latin1":case"binary":return G(this,P,H,Z);case"base64":return J(this,P,H,Z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return se(this,P,H,Z);default:if(ve)throw new TypeError("Unknown encoding: "+oe);oe=(""+oe).toLowerCase(),ve=!0}},y.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},y.prototype.slice=function(P,H){var Z=this.length;P=~~P,H=H===void 0?Z:~~H,0>P?(P+=Z,0>P&&(P=0)):P>Z&&(P=Z),0>H?(H+=Z,0>H&&(H=0)):H>Z&&(H=Z),H<P&&(H=P);var oe=this.subarray(P,H);return oe.__proto__=y.prototype,oe},y.prototype.readUIntLE=function(P,H,Z){P>>>=0,H>>>=0,Z||F(P,H,this.length);for(var oe=this[P],ue=1,ve=0;++ve<H&&(ue*=256);)oe+=this[P+ve]*ue;return oe},y.prototype.readUIntBE=function(P,H,Z){P>>>=0,H>>>=0,Z||F(P,H,this.length);for(var oe=this[P+--H],ue=1;0<H&&(ue*=256);)oe+=this[P+--H]*ue;return oe},y.prototype.readUInt8=function(P,H){return P>>>=0,H||F(P,1,this.length),this[P]},y.prototype.readUInt16LE=function(P,H){return P>>>=0,H||F(P,2,this.length),this[P]|this[P+1]<<8},y.prototype.readUInt16BE=function(P,H){return P>>>=0,H||F(P,2,this.length),this[P]<<8|this[P+1]},y.prototype.readUInt32LE=function(P,H){return P>>>=0,H||F(P,4,this.length),(this[P]|this[P+1]<<8|this[P+2]<<16)+16777216*this[P+3]},y.prototype.readUInt32BE=function(P,H){return P>>>=0,H||F(P,4,this.length),16777216*this[P]+(this[P+1]<<16|this[P+2]<<8|this[P+3])},y.prototype.readIntLE=function(P,H,Z){P>>>=0,H>>>=0,Z||F(P,H,this.length);for(var oe=this[P],ue=1,ve=0;++ve<H&&(ue*=256);)oe+=this[P+ve]*ue;return ue*=128,oe>=ue&&(oe-=v(2,8*H)),oe},y.prototype.readIntBE=function(P,H,Z){P>>>=0,H>>>=0,Z||F(P,H,this.length);for(var oe=H,ue=1,ve=this[P+--oe];0<oe&&(ue*=256);)ve+=this[P+--oe]*ue;return ue*=128,ve>=ue&&(ve-=v(2,8*H)),ve},y.prototype.readInt8=function(P,H){return P>>>=0,H||F(P,1,this.length),128&this[P]?-1*(255-this[P]+1):this[P]},y.prototype.readInt16LE=function(P,H){P>>>=0,H||F(P,2,this.length);var Z=this[P]|this[P+1]<<8;return 32768&Z?4294901760|Z:Z},y.prototype.readInt16BE=function(P,H){P>>>=0,H||F(P,2,this.length);var Z=this[P+1]|this[P]<<8;return 32768&Z?4294901760|Z:Z},y.prototype.readInt32LE=function(P,H){return P>>>=0,H||F(P,4,this.length),this[P]|this[P+1]<<8|this[P+2]<<16|this[P+3]<<24},y.prototype.readInt32BE=function(P,H){return P>>>=0,H||F(P,4,this.length),this[P]<<24|this[P+1]<<16|this[P+2]<<8|this[P+3]},y.prototype.readFloatLE=function(P,H){return P>>>=0,H||F(P,4,this.length),Ce.read(this,P,!0,23,4)},y.prototype.readFloatBE=function(P,H){return P>>>=0,H||F(P,4,this.length),Ce.read(this,P,!1,23,4)},y.prototype.readDoubleLE=function(P,H){return P>>>=0,H||F(P,8,this.length),Ce.read(this,P,!0,52,8)},y.prototype.readDoubleBE=function(P,H){return P>>>=0,H||F(P,8,this.length),Ce.read(this,P,!1,52,8)},y.prototype.writeUIntLE=function(P,H,Z,oe){if(P=+P,H>>>=0,Z>>>=0,!oe){var ue=v(2,8*Z)-1;j(this,P,H,Z,ue,0)}var ve=1,Re=0;for(this[H]=255&P;++Re<Z&&(ve*=256);)this[H+Re]=255&P/ve;return H+Z},y.prototype.writeUIntBE=function(P,H,Z,oe){if(P=+P,H>>>=0,Z>>>=0,!oe){var ue=v(2,8*Z)-1;j(this,P,H,Z,ue,0)}var ve=Z-1,Re=1;for(this[H+ve]=255&P;0<=--ve&&(Re*=256);)this[H+ve]=255&P/Re;return H+Z},y.prototype.writeUInt8=function(P,H,Z){return P=+P,H>>>=0,Z||j(this,P,H,1,255,0),this[H]=255&P,H+1},y.prototype.writeUInt16LE=function(P,H,Z){return P=+P,H>>>=0,Z||j(this,P,H,2,65535,0),this[H]=255&P,this[H+1]=P>>>8,H+2},y.prototype.writeUInt16BE=function(P,H,Z){return P=+P,H>>>=0,Z||j(this,P,H,2,65535,0),this[H]=P>>>8,this[H+1]=255&P,H+2},y.prototype.writeUInt32LE=function(P,H,Z){return P=+P,H>>>=0,Z||j(this,P,H,4,4294967295,0),this[H+3]=P>>>24,this[H+2]=P>>>16,this[H+1]=P>>>8,this[H]=255&P,H+4},y.prototype.writeUInt32BE=function(P,H,Z){return P=+P,H>>>=0,Z||j(this,P,H,4,4294967295,0),this[H]=P>>>24,this[H+1]=P>>>16,this[H+2]=P>>>8,this[H+3]=255&P,H+4},y.prototype.writeIntLE=function(P,H,Z,oe){if(P=+P,H>>>=0,!oe){var ue=v(2,8*Z-1);j(this,P,H,Z,ue-1,-ue)}var ve=0,Re=1,Pe=0;for(this[H]=255&P;++ve<Z&&(Re*=256);)0>P&&Pe===0&&this[H+ve-1]!==0&&(Pe=1),this[H+ve]=255&(P/Re>>0)-Pe;return H+Z},y.prototype.writeIntBE=function(P,H,Z,oe){if(P=+P,H>>>=0,!oe){var ue=v(2,8*Z-1);j(this,P,H,Z,ue-1,-ue)}var ve=Z-1,Re=1,Pe=0;for(this[H+ve]=255&P;0<=--ve&&(Re*=256);)0>P&&Pe===0&&this[H+ve+1]!==0&&(Pe=1),this[H+ve]=255&(P/Re>>0)-Pe;return H+Z},y.prototype.writeInt8=function(P,H,Z){return P=+P,H>>>=0,Z||j(this,P,H,1,127,-128),0>P&&(P=255+P+1),this[H]=255&P,H+1},y.prototype.writeInt16LE=function(P,H,Z){return P=+P,H>>>=0,Z||j(this,P,H,2,32767,-32768),this[H]=255&P,this[H+1]=P>>>8,H+2},y.prototype.writeInt16BE=function(P,H,Z){return P=+P,H>>>=0,Z||j(this,P,H,2,32767,-32768),this[H]=P>>>8,this[H+1]=255&P,H+2},y.prototype.writeInt32LE=function(P,H,Z){return P=+P,H>>>=0,Z||j(this,P,H,4,2147483647,-2147483648),this[H]=255&P,this[H+1]=P>>>8,this[H+2]=P>>>16,this[H+3]=P>>>24,H+4},y.prototype.writeInt32BE=function(P,H,Z){return P=+P,H>>>=0,Z||j(this,P,H,4,2147483647,-2147483648),0>P&&(P=4294967295+P+1),this[H]=P>>>24,this[H+1]=P>>>16,this[H+2]=P>>>8,this[H+3]=255&P,H+4},y.prototype.writeFloatLE=function(P,H,Z){return K(this,P,H,!0,Z)},y.prototype.writeFloatBE=function(P,H,Z){return K(this,P,H,!1,Z)},y.prototype.writeDoubleLE=function(P,H,Z){return Q(this,P,H,!0,Z)},y.prototype.writeDoubleBE=function(P,H,Z){return Q(this,P,H,!1,Z)},y.prototype.copy=function(P,H,Z,oe){if(!y.isBuffer(P))throw new TypeError("argument should be a Buffer");if(Z||(Z=0),oe||oe===0||(oe=this.length),H>=P.length&&(H=P.length),H||(H=0),0<oe&&oe<Z&&(oe=Z),oe===Z||P.length===0||this.length===0)return 0;if(0>H)throw new RangeError("targetStart out of bounds");if(0>Z||Z>=this.length)throw new RangeError("Index out of range");if(0>oe)throw new RangeError("sourceEnd out of bounds");oe>this.length&&(oe=this.length),P.length-H<oe-Z&&(oe=P.length-H+Z);var ue=oe-Z;if(this===P&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(H,Z,oe);else if(this===P&&Z<H&&H<oe)for(var ve=ue-1;0<=ve;--ve)P[ve+H]=this[ve+Z];else Uint8Array.prototype.set.call(P,this.subarray(Z,oe),H);return ue},y.prototype.fill=function(P,H,Z,oe){if(typeof P=="string"){if(typeof H=="string"?(oe=H,H=0,Z=this.length):typeof Z=="string"&&(oe=Z,Z=this.length),oe!==void 0&&typeof oe!="string")throw new TypeError("encoding must be a string");if(typeof oe=="string"&&!y.isEncoding(oe))throw new TypeError("Unknown encoding: "+oe);if(P.length===1){var ue=P.charCodeAt(0);(oe==="utf8"&&128>ue||oe==="latin1")&&(P=ue)}}else typeof P=="number"&&(P&=255);if(0>H||this.length<H||this.length<Z)throw new RangeError("Out of range index");if(Z<=H)return this;H>>>=0,Z=Z===void 0?this.length:Z>>>0,P||(P=0);var ve;if(typeof P=="number")for(ve=H;ve<Z;++ve)this[ve]=P;else{var Re=y.isBuffer(P)?P:y.from(P,oe),Pe=Re.length;if(Pe===0)throw new TypeError('The value "'+P+'" is invalid for argument "value"');for(ve=0;ve<Z-H;++ve)this[ve+H]=Re[ve%Pe]}return this};var de=/[^+/0-9A-Za-z-_]/g}).call(this)}).call(this,x("buffer").Buffer)},{"base64-js":23,buffer:75,ieee754:144}],76:[function(x,V,O){V.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],77:[function(x,V,O){/*! cache-chunk-store. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */const g=x("lru"),C=x("queue-microtask");class E{constructor(i,m){if(this.store=i,this.chunkLength=i.chunkLength,this.inProgressGets=new Map,!this.store||!this.store.get||!this.store.put)throw new Error("First argument must be abstract-chunk-store compliant");this.cache=new g(m)}put(i,m,a=()=>{}){return this.cache?(this.cache.remove(i),void this.store.put(i,m,a)):C(()=>a(new Error("CacheStore closed")))}get(i,m,a=()=>{}){if(typeof m=="function")return this.get(i,null,m);if(!this.cache)return C(()=>a(new Error("CacheStore closed")));m||(m={});let o=this.cache.get(i);if(o){const r=m.offset||0,d=m.length||o.length-r;return(r!==0||d!==o.length)&&(o=o.slice(r,d+r)),C(()=>a(null,o))}let h=this.inProgressGets.get(i);const s=!!h;h||(h=[],this.inProgressGets.set(i,h)),h.push({opts:m,cb:a}),s||this.store.get(i,(r,d)=>{r||this.cache==null||this.cache.set(i,d);const c=this.inProgressGets.get(i);this.inProgressGets.delete(i);for(const{opts:f,cb:u}of c)if(r)u(r);else{const k=f.offset||0,R=f.length||d.length-k;let A=d;(k!==0||R!==d.length)&&(A=d.slice(k,R+k)),u(null,A)}})}close(i=()=>{}){return this.cache?(this.cache=null,void this.store.close(i)):C(()=>i(new Error("CacheStore closed")))}destroy(i=()=>{}){return this.cache?(this.cache=null,void this.store.destroy(i)):C(()=>i(new Error("CacheStore closed")))}}V.exports=E},{lru:155,"queue-microtask":205}],78:[function(x,V,O){const g=x("block-stream2"),C=x("readable-stream");class E extends C.Writable{constructor(i,m,a={}){if(super(a),!i||!i.put||!i.get)throw new Error("First argument must be an abstract-chunk-store compliant store");if(m=+m,!m)throw new Error("Second argument must be a chunk length");const o=a.zeroPadding!==void 0&&a.zeroPadding;this._blockstream=new g(m,{...a,zeroPadding:o}),this._outstandingPuts=0,this._storeMaxOutstandingPuts=a.storeMaxOutstandingPuts||16;let h=0;const s=r=>{this.destroyed||(this._outstandingPuts+=1,this._outstandingPuts>=this._storeMaxOutstandingPuts&&this._blockstream.pause(),i.put(h,r,d=>d?this.destroy(d):(this._outstandingPuts-=1,this._outstandingPuts<this._storeMaxOutstandingPuts&&this._blockstream.resume(),void(this._outstandingPuts===0&&typeof this._finalCb=="function"&&(this._finalCb(null),this._finalCb=null)))),h+=1)};this._blockstream.on("data",s).on("error",r=>{this.destroy(r)})}_write(i,m,a){this._blockstream.write(i,m,a)}_final(i){this._blockstream.end(),this._blockstream.once("end",()=>{this._outstandingPuts===0?i(null):this._finalCb=i})}destroy(i){this.destroyed||(this.destroyed=!0,i&&this.emit("error",i),this.emit("close"))}}V.exports=E},{"block-stream2":38,"readable-stream":227}],79:[function(x,V,O){function g(m){E.call(this),this.hashMode=typeof m=="string",this.hashMode?this[m]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}var C=x("safe-buffer").Buffer,E=x("stream").Transform,y=x("string_decoder").StringDecoder,i=x("inherits");i(g,E),g.prototype.update=function(m,a,o){typeof m=="string"&&(m=C.from(m,a));var h=this._update(m);return this.hashMode?this:(o&&(h=this._toString(h,o)),h)},g.prototype.setAutoPadding=function(){},g.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},g.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},g.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},g.prototype._transform=function(m,a,o){var h;try{this.hashMode?this._update(m):this.push(this._update(m))}catch(s){h=s}finally{o(h)}},g.prototype._flush=function(m){var a;try{this.push(this.__final())}catch(o){a=o}m(a)},g.prototype._finalOrDigest=function(m){var a=this.__final()||C.alloc(0);return m&&(a=this._toString(a,m,!0)),a},g.prototype._toString=function(m,a,o){if(this._decoder||(this._decoder=new y(a),this._encoding=a),this._encoding!==a)throw new Error("can't switch encodings");var h=this._decoder.write(m);return o&&(h+=this._decoder.end()),h},V.exports=g},{inherits:146,"safe-buffer":234,stream:255,string_decoder:70}],80:[function(x,V,O){(function(g){(function(){var C=function(){function E(c,f){return f!=null&&c instanceof f}function y(c,f,u,k,R){function A(L,G){if(L===null)return null;if(G===0)return L;var J,se;if(typeof L!="object")return L;if(E(L,s))J=new s;else if(E(L,r))J=new r;else if(E(L,d))J=new d(function(j,U){L.then(function(K){j(A(K,G-1))},function(K){U(A(K,G-1))})});else if(y.__isArray(L))J=[];else if(y.__isRegExp(L))J=new RegExp(L.source,h(L)),L.lastIndex&&(J.lastIndex=L.lastIndex);else if(y.__isDate(L))J=new Date(L.getTime());else{if(N&&g.isBuffer(L))return J=g.allocUnsafe?g.allocUnsafe(L.length):new g(L.length),L.copy(J),J;E(L,Error)?J=Object.create(L):typeof k>"u"?(se=Object.getPrototypeOf(L),J=Object.create(se)):(J=Object.create(k),se=k)}if(f){var ce=w.indexOf(L);if(ce!=-1)return I[ce];w.push(L),I.push(J)}for(var Y in E(L,s)&&L.forEach(function(j,U){var K=A(U,G-1),Q=A(j,G-1);J.set(K,Q)}),E(L,r)&&L.forEach(function(j){var U=A(j,G-1);J.add(U)}),L){var B;se&&(B=Object.getOwnPropertyDescriptor(se,Y)),!(B&&B.set==null)&&(J[Y]=A(L[Y],G-1))}if(Object.getOwnPropertySymbols)for(var _=Object.getOwnPropertySymbols(L),Y=0;Y<_.length;Y++){var p=_[Y],T=Object.getOwnPropertyDescriptor(L,p);(!T||T.enumerable||R)&&(J[p]=A(L[p],G-1),T.enumerable||Object.defineProperty(J,p,{enumerable:!1}))}if(R)for(var M=Object.getOwnPropertyNames(L),Y=0;Y<M.length;Y++){var F=M[Y],T=Object.getOwnPropertyDescriptor(L,F);T&&T.enumerable||(J[F]=A(L[F],G-1),Object.defineProperty(J,F,{enumerable:!1}))}return J}typeof f=="object"&&(u=f.depth,k=f.prototype,R=f.includeNonEnumerable,f=f.circular);var w=[],I=[],N=typeof g<"u";return typeof f>"u"&&(f=!0),typeof u>"u"&&(u=1/0),A(c,u)}function i(c){return Object.prototype.toString.call(c)}function m(c){return typeof c=="object"&&i(c)==="[object Date]"}function a(c){return typeof c=="object"&&i(c)==="[object Array]"}function o(c){return typeof c=="object"&&i(c)==="[object RegExp]"}function h(c){var f="";return c.global&&(f+="g"),c.ignoreCase&&(f+="i"),c.multiline&&(f+="m"),f}var s;try{s=Map}catch{s=function(){}}var r;try{r=Set}catch{r=function(){}}var d;try{d=Promise}catch{d=function(){}}return y.clonePrototype=function(f){if(f===null)return null;var u=function(){};return u.prototype=f,new u},y.__objToStr=i,y.__isDate=m,y.__isArray=a,y.__isRegExp=o,y.__getRegExpFlags=h,y}();typeof V=="object"&&V.exports&&(V.exports=C)}).call(this)}).call(this,x("buffer").Buffer)},{buffer:75}],81:[function(x,V,O){V.exports=function(){for(var C=navigator.hardwareConcurrency||1,E=[],y=0;y<C;y++)E.push({model:"",speed:0,times:{user:0,nice:0,sys:0,idle:0,irq:0}});return E}},{}],82:[function(x,V,O){(function(g){(function(){function C(a){this.curveType=m[a],this.curveType||(this.curveType={name:a}),this.curve=new y.ec(this.curveType.name),this.keys=void 0}function E(a,o,h){Array.isArray(a)||(a=a.toArray());var s=new g(a);if(h&&s.length<h){var r=new g(h-s.length);r.fill(0),s=g.concat([r,s])}return o?s.toString(o):s}var y=x("elliptic"),i=x("bn.js");V.exports=function(o){return new C(o)};var m={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};m.p224=m.secp224r1,m.p256=m.secp256r1=m.prime256v1,m.p192=m.secp192r1=m.prime192v1,m.p384=m.secp384r1,m.p521=m.secp521r1,C.prototype.generateKeys=function(a,o){return this.keys=this.curve.genKeyPair(),this.getPublicKey(a,o)},C.prototype.computeSecret=function(a,o,h){o=o||"utf8",g.isBuffer(a)||(a=new g(a,o));var s=this.curve.keyFromPublic(a).getPublic(),r=s.mul(this.keys.getPrivate()).getX();return E(r,h,this.curveType.byteLength)},C.prototype.getPublicKey=function(a,o){var h=this.keys.getPublic(o==="compressed",!0);return o==="hybrid"&&(h[h.length-1]%2?h[0]=7:h[0]=6),E(h,a)},C.prototype.getPrivateKey=function(a){return E(this.keys.getPrivate(),a)},C.prototype.setPublicKey=function(a,o){return o=o||"utf8",g.isBuffer(a)||(a=new g(a,o)),this.keys._importPublic(a),this},C.prototype.setPrivateKey=function(a,o){o=o||"utf8",g.isBuffer(a)||(a=new g(a,o));var h=new i(a);return h=h.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(h),this}}).call(this)}).call(this,x("buffer").Buffer)},{"bn.js":83,buffer:75,elliptic:103}],83:[function(x,V,O){arguments[4][22][0].apply(O,arguments)},{buffer:41,dup:22}],84:[function(x,V,O){function g(a){m.call(this,"digest"),this._hash=a}var C=x("inherits"),E=x("md5.js"),y=x("ripemd160"),i=x("sha.js"),m=x("cipher-base");C(g,m),g.prototype._update=function(a){this._hash.update(a)},g.prototype._final=function(){return this._hash.digest()},V.exports=function(o){return o=o.toLowerCase(),o==="md5"?new E:o==="rmd160"||o==="ripemd160"?new y:new g(i(o))}},{"cipher-base":79,inherits:146,"md5.js":158,ripemd160:230,"sha.js":237}],85:[function(x,V,O){var g=x("md5.js");V.exports=function(C){return new g().update(C).digest()}},{"md5.js":158}],86:[function(x,V,O){function g(s,r){y.call(this,"digest"),typeof r=="string"&&(r=i.from(r));var d=s==="sha512"||s==="sha384"?128:64;if(this._alg=s,this._key=r,r.length>d){var c=s==="rmd160"?new a:o(s);r=c.update(r).digest()}else r.length<d&&(r=i.concat([r,h],d));for(var f=this._ipad=i.allocUnsafe(d),u=this._opad=i.allocUnsafe(d),k=0;k<d;k++)f[k]=54^r[k],u[k]=92^r[k];this._hash=s==="rmd160"?new a:o(s),this._hash.update(f)}var C=x("inherits"),E=x("./legacy"),y=x("cipher-base"),i=x("safe-buffer").Buffer,m=x("create-hash/md5"),a=x("ripemd160"),o=x("sha.js"),h=i.alloc(128);C(g,y),g.prototype._update=function(s){this._hash.update(s)},g.prototype._final=function(){var s=this._hash.digest(),r=this._alg==="rmd160"?new a:o(this._alg);return r.update(this._opad).update(s).digest()},V.exports=function(r,d){return r=r.toLowerCase(),r==="rmd160"||r==="ripemd160"?new g("rmd160",d):r==="md5"?new E(m,d):new g(r,d)}},{"./legacy":87,"cipher-base":79,"create-hash/md5":85,inherits:146,ripemd160:230,"safe-buffer":234,"sha.js":237}],87:[function(x,V,O){function g(m,a){y.call(this,"digest"),typeof a=="string"&&(a=E.from(a)),this._alg=m,this._key=a,a.length>64?a=m(a):a.length<64&&(a=E.concat([a,i],64));for(var o=this._ipad=E.allocUnsafe(64),h=this._opad=E.allocUnsafe(64),s=0;s<64;s++)o[s]=54^a[s],h[s]=92^a[s];this._hash=[o]}var C=x("inherits"),E=x("safe-buffer").Buffer,y=x("cipher-base"),i=E.alloc(128);C(g,y),g.prototype._update=function(m){this._hash.push(m)},g.prototype._final=function(){var m=this._alg(E.concat(this._hash));return this._alg(E.concat([this._opad,m]))},V.exports=g},{"cipher-base":79,inherits:146,"safe-buffer":234}],88:[function(x,V,O){(function(g){(function(){function C(j,U,K){typeof U=="function"&&([U,K]=[K,U]),U=U?Object.assign({},U):{},y(j,U,(Q,ee,fe)=>Q?K(Q):(U.singleFileTorrent=fe,void m(ee,U,K)))}function E(j,U,K){typeof U=="function"&&([U,K]=[K,U]),U=U?Object.assign({},U):{},y(j,U,K)}function y(j,U,K){function Q(){J(j.map(he=>Se=>{const Ae={};if(h(he))Ae.getStream=d(he),Ae.length=he.size;else if(g.isBuffer(he))Ae.getStream=c(he),Ae.length=he.length;else if(r(he))Ae.getStream=f(he,Ae),Ae.length=0;else{if(typeof he=="string"){if(typeof p!="function")throw new Error("filesystem paths do not work in the browser");const pe=1<ae||me;return void p(he,pe,Se)}throw new Error("invalid input type")}Ae.path=he[M],Se(null,Ae)}),(he,Se)=>he?K(he):(Se=Se.flat(),void K(null,Se,me)))}if(s(j)&&(j=Array.from(j)),Array.isArray(j)||(j=[j]),j.length===0)throw new Error("invalid input type");j.forEach(he=>{if(he==null)throw new Error(`invalid input type: ${he}`)}),j=j.map(he=>h(he)&&typeof he.path=="string"&&typeof p=="function"?he.path:he),j.length!==1||typeof j[0]=="string"||j[0].name||(j[0].name=U.name);let ee=null;j.forEach((he,Se)=>{if(typeof he=="string")return;let Ae=he.fullPath||he.name;Ae||(Ae=`Unknown File ${Se+1}`,he.unknownName=!0),he[M]=Ae.split("/"),he[M][0]||he[M].shift(),2>he[M].length?ee=null:Se===0&&1<j.length?ee=he[M][0]:he[M][0]!==ee&&(ee=null)}),(U.filterJunkFiles===void 0||U.filterJunkFiles)&&(j=j.filter(he=>typeof he=="string"||!a(he[M]))),ee&&j.forEach(he=>{const Se=(g.isBuffer(he)||r(he))&&!he[M];typeof he=="string"||Se||he[M].shift()}),!U.name&&ee&&(U.name=ee),U.name||j.some(he=>typeof he=="string"?(U.name=A.basename(he),!0):!he.unknownName&&(U.name=he[M][he[M].length-1],!0)),U.name||(U.name=`Unnamed Torrent ${Date.now()}`);const ae=j.reduce((he,Se)=>he+ +(typeof Se=="string"),0);let me=j.length===1;if(j.length===1&&typeof j[0]=="string"){if(typeof p!="function")throw new Error("filesystem paths do not work in the browser");I(j[0],(he,Se)=>he?K(he):(me=Se,void Q()))}else se(Q)}function i(j,U,K,Q,ee){function fe(Z){pe+=Z.length;const oe=de;ce(Z,ue=>{Ae[oe]=ue,Ce-=1,Ce<F&&H.resume(),ge+=Z.length,Q.onProgress&&Q.onProgress(ge,K),Se()}),Ce+=1,Ce>=F&&H.pause(),de+=1}function ae(){q=!0,Se()}function me(Z){he(),ee(Z)}function he(){P.removeListener("error",me),H.removeListener("data",fe),H.removeListener("end",ae),H.removeListener("error",me)}function Se(){q&&Ce===0&&(he(),ee(null,g.from(Ae.join(""),"hex"),pe))}ee=G(ee);const Ae=[];let pe=0,ge=0;const xe=j.map(Z=>Z.getStream);let Ce=0,de=0,q=!1;const P=_.from(L(xe)),H=new k(U,{zeroPadding:!1});P.on("error",me),P.pipe(H).on("data",fe).on("end",ae).on("error",me)}function m(j,U,K){let Q=U.announceList;Q||(typeof U.announce=="string"?Q=[[U.announce]]:Array.isArray(U.announce)&&(Q=U.announce.map(me=>[me]))),Q||(Q=[]),globalThis.WEBTORRENT_ANNOUNCE&&(typeof globalThis.WEBTORRENT_ANNOUNCE=="string"?Q.push([[globalThis.WEBTORRENT_ANNOUNCE]]):Array.isArray(globalThis.WEBTORRENT_ANNOUNCE)&&(Q=Q.concat(globalThis.WEBTORRENT_ANNOUNCE.map(me=>[me])))),U.announce===void 0&&U.announceList===void 0&&(Q=Q.concat(V.exports.announceList)),typeof U.urlList=="string"&&(U.urlList=[U.urlList]);const ee={info:{name:U.name},"creation date":Ee((+U.creationDate||Date.now())/1e3),encoding:"UTF-8"};Q.length!==0&&(ee.announce=Q[0][0],ee["announce-list"]=Q),U.comment!==void 0&&(ee.comment=U.comment),U.createdBy!==void 0&&(ee["created by"]=U.createdBy),U.private!==void 0&&(ee.info.private=+U.private),U.info!==void 0&&Object.assign(ee.info,U.info),U.sslCert!==void 0&&(ee.info["ssl-cert"]=U.sslCert),U.urlList!==void 0&&(ee["url-list"]=U.urlList);const fe=j.reduce(o,0),ae=U.pieceLength||R(fe);ee.info["piece length"]=ae,i(j,ae,fe,U,(me,he,Se)=>me?K(me):(ee.info.pieces=he,j.forEach(Ae=>{delete Ae.getStream}),U.singleFileTorrent?ee.info.length=Se:ee.info.files=j,void K(null,u.encode(ee))))}function a(j){const U=j[j.length-1];return U[0]==="."&&N.is(U)}function o(j,U){return j+U.length}function h(j){return typeof Blob<"u"&&j instanceof Blob}function s(j){return typeof FileList<"u"&&j instanceof FileList}function r(j){return typeof j=="object"&&j!=null&&typeof j.pipe=="function"}function d(j){return()=>new w(j)}function c(j){return()=>{const U=new B;return U.end(j),U}}function f(j,U){return()=>{const K=new Y;return K._transform=function(Q,ee){U.length+=Q.length,this.push(Q),ee()},j.pipe(K),K}}/*! create-torrent. MIT License. WebTorrent LLC <https://webtorrent.io/opensource> */const u=x("bencode"),k=x("block-stream2"),R=x("piece-length"),A=x("path"),{BlobReadStream:w}=x("fast-blob-stream"),I=x("is-file"),N=x("junk"),L=x("join-async-iterator"),G=x("once"),J=x("run-parallel"),se=x("queue-microtask"),ce=x("simple-sha1"),{Transform:Y,PassThrough:B,Readable:_}=x("streamx"),p=x("./get-files"),T=[["udp://tracker.leechers-paradise.org:6969"],["udp://tracker.coppersurfer.tk:6969"],["udp://tracker.opentrackr.org:1337"],["udp://explodie.org:6969"],["udp://tracker.empire-js.us:1337"],["wss://tracker.btorrent.xyz"],["wss://tracker.openwebtorrent.com"]],M=Symbol("itemPath"),F=5;V.exports=C,V.exports.parseInput=E,V.exports.announceList=T,V.exports.isJunkPath=a}).call(this)}).call(this,x("buffer").Buffer)},{"./get-files":41,bencode:27,"block-stream2":38,buffer:75,"fast-blob-stream":124,"is-file":41,"join-async-iterator":149,junk:150,once:177,path:184,"piece-length":191,"queue-microtask":205,"run-parallel":232,"simple-sha1":247,streamx:263}],89:[function(x,V,O){O.randomBytes=O.rng=O.pseudoRandomBytes=O.prng=x("randombytes"),O.createHash=O.Hash=x("create-hash"),O.createHmac=O.Hmac=x("create-hmac");var g=x("browserify-sign/algos"),C=Object.keys(g),E=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(C);O.getHashes=function(){return E};var y=x("pbkdf2");O.pbkdf2=y.pbkdf2,O.pbkdf2Sync=y.pbkdf2Sync;var i=x("browserify-cipher");O.Cipher=i.Cipher,O.createCipher=i.createCipher,O.Cipheriv=i.Cipheriv,O.createCipheriv=i.createCipheriv,O.Decipher=i.Decipher,O.createDecipher=i.createDecipher,O.Decipheriv=i.Decipheriv,O.createDecipheriv=i.createDecipheriv,O.getCiphers=i.getCiphers,O.listCiphers=i.listCiphers;var m=x("diffie-hellman");O.DiffieHellmanGroup=m.DiffieHellmanGroup,O.createDiffieHellmanGroup=m.createDiffieHellmanGroup,O.getDiffieHellman=m.getDiffieHellman,O.createDiffieHellman=m.createDiffieHellman,O.DiffieHellman=m.DiffieHellman;var a=x("browserify-sign");O.createSign=a.createSign,O.Sign=a.Sign,O.createVerify=a.createVerify,O.Verify=a.Verify,O.createECDH=x("create-ecdh");var o=x("public-encrypt");O.publicEncrypt=o.publicEncrypt,O.privateEncrypt=o.privateEncrypt,O.publicDecrypt=o.publicDecrypt,O.privateDecrypt=o.privateDecrypt;var h=x("randomfill");O.randomFill=h.randomFill,O.randomFillSync=h.randomFillSync,O.createCredentials=function(){throw new Error(`sorry, createCredentials is not implemented yet
we accept pull requests
https://github.com/crypto-browserify/crypto-browserify`)},O.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":59,"browserify-sign":66,"browserify-sign/algos":63,"create-ecdh":82,"create-hash":84,"create-hmac":86,"diffie-hellman":98,pbkdf2:185,"public-encrypt":193,randombytes:208,randomfill:209}],90:[function(x,V,O){(function(g){(function(){function C(){return!!(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))||!(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function E(o){if(o[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+o[0]+(this.useColors?"%c ":" ")+"+"+V.exports.humanize(this.diff),!this.useColors)return;const h="color: "+this.color;o.splice(1,0,h,"color: inherit");let s=0,r=0;o[0].replace(/%[a-zA-Z%]/g,d=>{d==="%%"||(s++,d==="%c"&&(r=s))}),o.splice(r,0,h)}function y(o){try{o?O.storage.setItem("debug",o):O.storage.removeItem("debug")}catch{}}function i(){let o;try{o=O.storage.getItem("debug")}catch{}return!o&&typeof g<"u"&&"env"in g&&(o=g.env.DEBUG),o}function m(){try{return localStorage}catch{}}O.formatArgs=E,O.save=y,O.load=i,O.useColors=C,O.storage=m(),O.destroy=(()=>{let o=!1;return()=>{o||(o=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),O.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],O.log=console.debug||console.log||(()=>{}),V.exports=x("./common")(O);const{formatters:a}=V.exports;a.j=function(o){try{return JSON.stringify(o)}catch(h){return"[UnexpectedJSONParseError]: "+h.message}}}).call(this)}).call(this,x("_process"))},{"./common":91,_process:192}],91:[function(x,V,O){function g(C){function E(d){let c=0;for(let f=0;f<d.length;f++)c=(c<<5)-c+d.charCodeAt(f),c|=0;return y.colors[S(c)%y.colors.length]}function y(d){function c(...A){if(!c.enabled)return;const w=c,I=+new Date,N=I-(u||I);w.diff=N,w.prev=u,w.curr=I,u=I,A[0]=y.coerce(A[0]),typeof A[0]!="string"&&A.unshift("%O");let L=0;A[0]=A[0].replace(/%([a-zA-Z%])/g,(J,se)=>{if(J==="%%")return"%";L++;const ce=y.formatters[se];if(typeof ce=="function"){const Y=A[L];J=ce.call(w,Y),A.splice(L,1),L--}return J}),y.formatArgs.call(w,A),(w.log||y.log).apply(w,A)}let f=null,u,k,R;return c.namespace=d,c.useColors=y.useColors(),c.color=y.selectColor(d),c.extend=i,c.destroy=y.destroy,Object.defineProperty(c,"enabled",{enumerable:!0,configurable:!1,get:()=>f===null?(k!==y.namespaces&&(k=y.namespaces,R=y.enabled(d)),R):f,set:A=>{f=A}}),typeof y.init=="function"&&y.init(c),c}function i(d,c){const f=y(this.namespace+(typeof c>"u"?":":c)+d);return f.log=this.log,f}function m(d){y.save(d),y.namespaces=d,y.names=[],y.skips=[];let c;const f=(typeof d=="string"?d:"").split(/[\s,]+/),u=f.length;for(c=0;c<u;c++)f[c]&&(d=f[c].replace(/\*/g,".*?"),d[0]==="-"?y.skips.push(new RegExp("^"+d.slice(1)+"$")):y.names.push(new RegExp("^"+d+"$")))}function a(){const d=[...y.names.map(h),...y.skips.map(h).map(c=>"-"+c)].join(",");return y.enable(""),d}function o(d){if(d[d.length-1]==="*")return!0;let c,f;for(c=0,f=y.skips.length;c<f;c++)if(y.skips[c].test(d))return!1;for(c=0,f=y.names.length;c<f;c++)if(y.names[c].test(d))return!0;return!1}function h(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}function s(d){return d instanceof Error?d.stack||d.message:d}function r(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return y.debug=y,y.default=y,y.coerce=s,y.disable=a,y.enable=m,y.enabled=o,y.humanize=x("ms"),y.destroy=r,Object.keys(C).forEach(d=>{y[d]=C[d]}),y.names=[],y.skips=[],y.formatters={},y.selectColor=E,y.enable(y.load()),y}V.exports=g},{ms:175}],92:[function(x,V,O){O.utils=x("./des/utils"),O.Cipher=x("./des/cipher"),O.DES=x("./des/des"),O.CBC=x("./des/cbc"),O.EDE=x("./des/ede")},{"./des/cbc":93,"./des/cipher":94,"./des/des":95,"./des/ede":96,"./des/utils":97}],93:[function(x,V,O){function g(m){E.equal(m.length,8,"Invalid IV length"),this.iv=Array(8);for(var a=0;a<this.iv.length;a++)this.iv[a]=m[a]}function C(m){function a(r){m.call(this,r),this._cbcInit()}y(a,m);for(var o=Object.keys(i),h=0,s;h<o.length;h++)s=o[h],a.prototype[s]=i[s];return a.create=function(d){return new a(d)},a}var E=x("minimalistic-assert"),y=x("inherits"),i={};O.instantiate=C,i._cbcInit=function(){var a=new g(this.options.iv);this._cbcState=a},i._update=function(a,o,h,s){var r=this._cbcState,d=this.constructor.super_.prototype,c=r.iv;if(this.type==="encrypt"){for(var f=0;f<this.blockSize;f++)c[f]^=a[o+f];d._update.call(this,c,0,h,s);for(var f=0;f<this.blockSize;f++)c[f]=h[s+f]}else{d._update.call(this,a,o,h,s);for(var f=0;f<this.blockSize;f++)h[s+f]^=c[f];for(var f=0;f<this.blockSize;f++)c[f]=a[o+f]}}},{inherits:146,"minimalistic-assert":167}],94:[function(x,V,O){function g(E){this.options=E,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=Array(this.blockSize),this.bufferOff=0}var C=x("minimalistic-assert");V.exports=g,g.prototype._init=function(){},g.prototype.update=function(y){return y.length===0?[]:this.type==="decrypt"?this._updateDecrypt(y):this._updateEncrypt(y)},g.prototype._buffer=function(y,i){for(var m=ke(this.buffer.length-this.bufferOff,y.length-i),a=0;a<m;a++)this.buffer[this.bufferOff+a]=y[i+a];return this.bufferOff+=m,m},g.prototype._flushBuffer=function(y,i){return this._update(this.buffer,0,y,i),this.bufferOff=0,this.blockSize},g.prototype._updateEncrypt=function(y){var i=0,m=0,a=0|(this.bufferOff+y.length)/this.blockSize,o=Array(a*this.blockSize);this.bufferOff!==0&&(i+=this._buffer(y,i),this.bufferOff===this.buffer.length&&(m+=this._flushBuffer(o,m)));for(var h=y.length-(y.length-i)%this.blockSize;i<h;i+=this.blockSize)this._update(y,i,o,m),m+=this.blockSize;for(;i<y.length;i++,this.bufferOff++)this.buffer[this.bufferOff]=y[i];return o},g.prototype._updateDecrypt=function(y){for(var i=0,m=0,a=Ee((this.bufferOff+y.length)/this.blockSize)-1,o=Array(a*this.blockSize);0<a;a--)i+=this._buffer(y,i),m+=this._flushBuffer(o,m);return i+=this._buffer(y,i),o},g.prototype.final=function(y){var i;y&&(i=this.update(y));var m;return m=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),i?i.concat(m):m},g.prototype._pad=function(y,i){if(i===0)return!1;for(;i<y.length;)y[i++]=0;return!0},g.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var y=Array(this.blockSize);return this._update(this.buffer,0,y,0),y},g.prototype._unpad=function(y){return y},g.prototype._finalDecrypt=function(){C.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var y=Array(this.blockSize);return this._flushBuffer(y,0),this._unpad(y)}},{"minimalistic-assert":167}],95:[function(x,V,O){function g(){this.tmp=[,,],this.keys=null}function C(o){m.call(this,o);var h=new g;this._desState=h,this.deriveKeys(h,o.key)}var E=x("minimalistic-assert"),y=x("inherits"),i=x("./utils"),m=x("./cipher");y(C,m),V.exports=C,C.create=function(h){return new C(h)};var a=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];C.prototype.deriveKeys=function(h,s){h.keys=Array(32),E.equal(s.length,this.blockSize,"Invalid key length");var r=i.readUInt32BE(s,0),d=i.readUInt32BE(s,4);i.pc1(r,d,h.tmp,0),r=h.tmp[0],d=h.tmp[1];for(var c=0,f;c<h.keys.length;c+=2)f=a[c>>>1],r=i.r28shl(r,f),d=i.r28shl(d,f),i.pc2(r,d,h.keys,c)},C.prototype._update=function(h,s,r,d){var c=this._desState,f=i.readUInt32BE(h,s),u=i.readUInt32BE(h,s+4);i.ip(f,u,c.tmp,0),f=c.tmp[0],u=c.tmp[1],this.type==="encrypt"?this._encrypt(c,f,u,c.tmp,0):this._decrypt(c,f,u,c.tmp,0),f=c.tmp[0],u=c.tmp[1],i.writeUInt32BE(r,f,d),i.writeUInt32BE(r,u,d+4)},C.prototype._pad=function(h,s){for(var r=h.length-s,d=s;d<h.length;d++)h[d]=r;return!0},C.prototype._unpad=function(h){for(var s=h[h.length-1],r=h.length-s;r<h.length;r++)E.equal(h[r],s);return h.slice(0,h.length-s)},C.prototype._encrypt=function(h,s,r,d,c){for(var f=s,u=r,k=0;k<h.keys.length;k+=2){var R=h.keys[k],A=h.keys[k+1];i.expand(u,h.tmp,0),R^=h.tmp[0],A^=h.tmp[1];var w=i.substitute(R,A),I=i.permute(w),N=u;u=(f^I)>>>0,f=N}i.rip(u,f,d,c)},C.prototype._decrypt=function(h,s,r,d,c){for(var f=r,u=s,k=h.keys.length-2;0<=k;k-=2){var R=h.keys[k],A=h.keys[k+1];i.expand(f,h.tmp,0),R^=h.tmp[0],A^=h.tmp[1];var w=i.substitute(R,A),I=i.permute(w),N=f;f=(u^I)>>>0,u=N}i.rip(f,u,d,c)}},{"./cipher":94,"./utils":97,inherits:146,"minimalistic-assert":167}],96:[function(x,V,O){function g(a,o){E.equal(o.length,24,"Invalid key length");var h=o.slice(0,8),s=o.slice(8,16),r=o.slice(16,24);this.ciphers=a==="encrypt"?[m.create({type:"encrypt",key:h}),m.create({type:"decrypt",key:s}),m.create({type:"encrypt",key:r})]:[m.create({type:"decrypt",key:r}),m.create({type:"encrypt",key:s}),m.create({type:"decrypt",key:h})]}function C(a){i.call(this,a);var o=new g(this.type,this.options.key);this._edeState=o}var E=x("minimalistic-assert"),y=x("inherits"),i=x("./cipher"),m=x("./des");y(C,i),V.exports=C,C.create=function(o){return new C(o)},C.prototype._update=function(o,h,s,r){var d=this._edeState;d.ciphers[0]._update(o,h,s,r),d.ciphers[1]._update(s,r,s,r),d.ciphers[2]._update(s,r,s,r)},C.prototype._pad=m.prototype._pad,C.prototype._unpad=m.prototype._unpad},{"./cipher":94,"./des":95,inherits:146,"minimalistic-assert":167}],97:[function(x,V,O){O.readUInt32BE=function(i,m){var a=i[0+m]<<24|i[1+m]<<16|i[2+m]<<8|i[3+m];return a>>>0},O.writeUInt32BE=function(i,m,a){i[0+a]=m>>>24,i[1+a]=255&m>>>16,i[2+a]=255&m>>>8,i[3+a]=255&m},O.ip=function(i,m,a,o){for(var h=0,s=0,r=6;0<=r;r-=2){for(var d=0;24>=d;d+=8)h<<=1,h|=1&m>>>d+r;for(var d=0;24>=d;d+=8)h<<=1,h|=1&i>>>d+r}for(var r=6;0<=r;r-=2){for(var d=1;25>=d;d+=8)s<<=1,s|=1&m>>>d+r;for(var d=1;25>=d;d+=8)s<<=1,s|=1&i>>>d+r}a[o+0]=h>>>0,a[o+1]=s>>>0},O.rip=function(i,m,a,o){for(var h=0,s=0,r=0;4>r;r++)for(var d=24;0<=d;d-=8)h<<=1,h|=1&m>>>d+r,h<<=1,h|=1&i>>>d+r;for(var r=4;8>r;r++)for(var d=24;0<=d;d-=8)s<<=1,s|=1&m>>>d+r,s<<=1,s|=1&i>>>d+r;a[o+0]=h>>>0,a[o+1]=s>>>0},O.pc1=function(i,m,a,o){for(var h=0,s=0,r=7;5<=r;r--){for(var d=0;24>=d;d+=8)h<<=1,h|=1&m>>d+r;for(var d=0;24>=d;d+=8)h<<=1,h|=1&i>>d+r}for(var d=0;24>=d;d+=8)h<<=1,h|=1&m>>d+r;for(var r=1;3>=r;r++){for(var d=0;24>=d;d+=8)s<<=1,s|=1&m>>d+r;for(var d=0;24>=d;d+=8)s<<=1,s|=1&i>>d+r}for(var d=0;24>=d;d+=8)s<<=1,s|=1&i>>d+r;a[o+0]=h>>>0,a[o+1]=s>>>0},O.r28shl=function(i,m){return 268435455&i<<m|i>>>28-m};var g=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];O.pc2=function(i,m,a,o){for(var h=0,s=0,r=g.length>>>1,d=0;d<r;d++)h<<=1,h|=1&i>>>g[d];for(var d=r;d<g.length;d++)s<<=1,s|=1&m>>>g[d];a[o+0]=h>>>0,a[o+1]=s>>>0},O.expand=function(i,m,a){var o=0,h=0;o=(1&i)<<5|i>>>27;for(var s=23;15<=s;s-=4)o<<=6,o|=63&i>>>s;for(var s=11;3<=s;s-=4)h|=63&i>>>s,h<<=6;h|=(31&i)<<1|i>>>31,m[a+0]=o>>>0,m[a+1]=h>>>0};var C=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];O.substitute=function(i,m){for(var a=0,o=0;4>o;o++){var h=63&i>>>18-6*o,s=C[64*o+h];a<<=4,a|=s}for(var o=0;4>o;o++){var h=63&m>>>18-6*o,s=C[256+64*o+h];a<<=4,a|=s}return a>>>0};var E=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];O.permute=function(i){for(var m=0,a=0;a<E.length;a++)m<<=1,m|=1&i>>>E[a];return m>>>0},O.padSplit=function(i,m,a){for(var o=i.toString(2);o.length<m;)o="0"+o;for(var h=[],s=0;s<m;s+=a)h.push(o.slice(s,s+a));return h.join(" ")}},{}],98:[function(x,V,O){(function(g){(function(){function C(o){var h=new g(i[o].prime,"hex"),s=new g(i[o].gen,"hex");return new m(h,s)}function E(o,h,s,r){return g.isBuffer(h)||a[h]===void 0?E(o,"binary",h,s):(h=h||"binary",r=r||"binary",s=s||new g([2]),g.isBuffer(s)||(s=new g(s,r)),typeof o=="number"?new m(y(o,s),s,!0):(g.isBuffer(o)||(o=new g(o,h)),new m(o,s,!0)))}var y=x("./lib/generatePrime"),i=x("./lib/primes.json"),m=x("./lib/dh"),a={binary:!0,hex:!0,base64:!0};O.DiffieHellmanGroup=O.createDiffieHellmanGroup=O.getDiffieHellman=C,O.createDiffieHellman=O.DiffieHellman=E}).call(this)}).call(this,x("buffer").Buffer)},{"./lib/dh":99,"./lib/generatePrime":100,"./lib/primes.json":101,buffer:75}],99:[function(x,V,O){(function(g){(function(){function C(A,w){return w=w||"utf8",g.isBuffer(A)||(A=new g(A,w)),this._pub=new a(A),this}function E(A,w){return w=w||"utf8",g.isBuffer(A)||(A=new g(A,w)),this._priv=new a(A),this}function y(A,w){var I=w.toString("hex"),N=[I,A.toString(16)].join("_");if(N in R)return R[N];var L=0;if(A.isEven()||!u.simpleSieve||!u.fermatTest(A)||!h.test(A))return L+=1,L+=I==="02"||I==="05"?8:4,R[N]=L,L;h.test(A.shrn(1))||(L+=2);var G;return I==="02"?A.mod(s).cmp(r)&&(L+=8):I==="05"?(G=A.mod(d),G.cmp(c)&&G.cmp(f)&&(L+=8)):L+=4,R[N]=L,L}function i(A,w,I){this.setGenerator(w),this.__prime=new a(A),this._prime=a.mont(this.__prime),this._primeLen=A.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,I?(this.setPublicKey=C,this.setPrivateKey=E):this._primeCode=8}function m(A,w){var I=new g(A.toArray());return w?I.toString(w):I}var a=x("bn.js"),o=x("miller-rabin"),h=new o,s=new a(24),r=new a(11),d=new a(10),c=new a(3),f=new a(7),u=x("./generatePrime"),k=x("randombytes");V.exports=i;var R={};Object.defineProperty(i.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=y(this.__prime,this.__gen)),this._primeCode}}),i.prototype.generateKeys=function(){return this._priv||(this._priv=new a(k(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},i.prototype.computeSecret=function(A){A=new a(A),A=A.toRed(this._prime);var w=A.redPow(this._priv).fromRed(),I=new g(w.toArray()),N=this.getPrime();if(I.length<N.length){var L=new g(N.length-I.length);L.fill(0),I=g.concat([L,I])}return I},i.prototype.getPublicKey=function(w){return m(this._pub,w)},i.prototype.getPrivateKey=function(w){return m(this._priv,w)},i.prototype.getPrime=function(A){return m(this.__prime,A)},i.prototype.getGenerator=function(A){return m(this._gen,A)},i.prototype.setGenerator=function(A,w){return w=w||"utf8",g.isBuffer(A)||(A=new g(A,w)),this.__gen=A,this._gen=new a(A),this}}).call(this)}).call(this,x("buffer").Buffer)},{"./generatePrime":100,"bn.js":102,buffer:75,"miller-rabin":161,randombytes:208}],100:[function(x,V,O){function g(){var A=Math.sqrt;if(R!==null)return R;var w=[];w[0]=2;for(var I=1,N=3,L;1048576>N;N+=2){L=Ee(A(N));for(var G=0;G<I&&w[G]<=L&&N%w[G]!=0;G++);I!=G&&w[G]<=L||(w[I++]=N)}return R=w,w}function C(A){for(var w=g(),I=0;I<w.length;I++)if(A.modn(w[I])===0)return A.cmpn(w[I])===0;return!0}function E(A){var w=m.mont(A);return r.toRed(w).redPow(A.subn(1)).fromRed().cmpn(1)===0}function y(A,w){if(16>A)return w===2||w===5?new m([140,123]):new m([140,39]);w=new m(w);for(var I,N;;){for(I=new m(i(Ee(A/8)));I.bitLength()>A;)I.ishrn(1);if(I.isEven()&&I.iadd(s),I.testn(1)||I.iadd(r),!w.cmp(r))for(;I.mod(a).cmp(u);)I.iadd(k);else if(!w.cmp(d))for(;I.mod(c).cmp(f);)I.iadd(k);if(N=I.shrn(1),C(N)&&C(I)&&E(N)&&E(I)&&h.test(N)&&h.test(I))return I}}var i=x("randombytes");V.exports=y,y.simpleSieve=C,y.fermatTest=E;var m=x("bn.js"),a=new m(24),o=x("miller-rabin"),h=new o,s=new m(1),r=new m(2),d=new m(5);new m(16),new m(8);var c=new m(10),f=new m(3);new m(7);var u=new m(11),k=new m(4);new m(12);var R=null},{"bn.js":102,"miller-rabin":161,randombytes:208}],101:[function(x,V,O){V.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],102:[function(x,V,O){arguments[4][22][0].apply(O,arguments)},{buffer:41,dup:22}],103:[function(x,V,O){var g=O;g.version=x("../package.json").version,g.utils=x("./elliptic/utils"),g.rand=x("brorand"),g.curve=x("./elliptic/curve"),g.curves=x("./elliptic/curves"),g.ec=x("./elliptic/ec"),g.eddsa=x("./elliptic/eddsa")},{"../package.json":119,"./elliptic/curve":106,"./elliptic/curves":109,"./elliptic/ec":110,"./elliptic/eddsa":113,"./elliptic/utils":117,brorand:40}],104:[function(x,V,O){function g(o,h){this.type=o,this.p=new E(h.p,16),this.red=h.prime?E.red(h.prime):E.mont(this.p),this.zero=new E(0).toRed(this.red),this.one=new E(1).toRed(this.red),this.two=new E(2).toRed(this.red),this.n=h.n&&new E(h.n,16),this.g=h.g&&this.pointFromJSON(h.g,h.gRed),this._wnafT1=[,,,,],this._wnafT2=[,,,,],this._wnafT3=[,,,,],this._wnafT4=[,,,,],this._bitLength=this.n?this.n.bitLength():0;var s=this.n&&this.p.div(this.n);!s||0<s.cmpn(100)?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function C(o,h){this.curve=o,this.type=h,this.precomputed=null}var E=x("bn.js"),y=x("../utils"),i=y.getNAF,m=y.getJSF,a=y.assert;V.exports=g,g.prototype.point=function(){throw new Error("Not implemented")},g.prototype.validate=function(){throw new Error("Not implemented")},g.prototype._fixedNafMul=function(h,s){a(h.precomputed);var r=h._getDoubles(),d=i(s,1,this._bitLength),c=(1<<r.step+1)-(r.step%2==0?2:1);c/=3;var f=[],u,k;for(u=0;u<d.length;u+=r.step){k=0;for(var R=u+r.step-1;R>=u;R--)k=(k<<1)+d[R];f.push(k)}for(var A=this.jpoint(null,null,null),w=this.jpoint(null,null,null),I=c;0<I;I--){for(u=0;u<f.length;u++)k=f[u],k===I?w=w.mixedAdd(r.points[u]):k===-I&&(w=w.mixedAdd(r.points[u].neg()));A=A.add(w)}return A.toP()},g.prototype._wnafMul=function(h,s){var r=4,d=h._getNAFPoints(r);r=d.wnd;for(var c=d.points,f=i(s,r,this._bitLength),u=this.jpoint(null,null,null),k=f.length-1;0<=k;k--){for(var R=0;0<=k&&f[k]===0;k--)R++;if(0<=k&&R++,u=u.dblp(R),0>k)break;var A=f[k];a(A!==0),u=h.type==="affine"?0<A?u.mixedAdd(c[A-1>>1]):u.mixedAdd(c[-A-1>>1].neg()):0<A?u.add(c[A-1>>1]):u.add(c[-A-1>>1].neg())}return h.type==="affine"?u.toP():u},g.prototype._wnafMulAdd=function(h,s,r,d,c){var f=this._wnafT1,u=this._wnafT2,k=this._wnafT3,R=0,A,w,I;for(A=0;A<d;A++){I=s[A];var N=I._getNAFPoints(h);f[A]=N.wnd,u[A]=N.points}for(A=d-1;1<=A;A-=2){var L=A-1,G=A;if(f[L]!==1||f[G]!==1){k[L]=i(r[L],f[L],this._bitLength),k[G]=i(r[G],f[G],this._bitLength),R=be(k[L].length,R),R=be(k[G].length,R);continue}var J=[s[L],null,null,s[G]];s[L].y.cmp(s[G].y)===0?(J[1]=s[L].add(s[G]),J[2]=s[L].toJ().mixedAdd(s[G].neg())):s[L].y.cmp(s[G].y.redNeg())===0?(J[1]=s[L].toJ().mixedAdd(s[G]),J[2]=s[L].add(s[G].neg())):(J[1]=s[L].toJ().mixedAdd(s[G]),J[2]=s[L].toJ().mixedAdd(s[G].neg()));var se=[-3,-1,-5,-7,0,7,5,1,3],ce=m(r[L],r[G]);for(R=be(ce[0].length,R),k[L]=Array(R),k[G]=Array(R),w=0;w<R;w++){var Y=0|ce[0][w],B=0|ce[1][w];k[L][w]=se[3*(Y+1)+(B+1)],k[G][w]=0,u[L]=J}}var _=this.jpoint(null,null,null),p=this._wnafT4;for(A=R;0<=A;A--){for(var T=0,M;0<=A;){for(M=!0,w=0;w<d;w++)p[w]=0|k[w][A],p[w]!==0&&(M=!1);if(!M)break;T++,A--}if(0<=A&&T++,_=_.dblp(T),0>A)break;for(w=0;w<d;w++){var F=p[w];F!==0&&(0<F?I=u[w][F-1>>1]:0>F&&(I=u[w][-F-1>>1].neg()),_=I.type==="affine"?_.mixedAdd(I):_.add(I))}}for(A=0;A<d;A++)u[A]=null;return c?_:_.toP()},g.BasePoint=C,C.prototype.eq=function(){throw new Error("Not implemented")},C.prototype.validate=function(){return this.curve.validate(this)},g.prototype.decodePoint=function(h,s){h=y.toArray(h,s);var r=this.p.byteLength();if((h[0]===4||h[0]===6||h[0]===7)&&h.length-1==2*r){h[0]===6?a(h[h.length-1]%2==0):h[0]===7&&a(h[h.length-1]%2==1);var d=this.point(h.slice(1,1+r),h.slice(1+r,1+2*r));return d}if((h[0]===2||h[0]===3)&&h.length-1===r)return this.pointFromX(h.slice(1,1+r),h[0]===3);throw new Error("Unknown point format")},C.prototype.encodeCompressed=function(h){return this.encode(h,!0)},C.prototype._encode=function(h){var s=this.curve.p.byteLength(),r=this.getX().toArray("be",s);return h?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",s))},C.prototype.encode=function(h,s){return y.encode(this._encode(s),h)},C.prototype.precompute=function(h){if(this.precomputed)return this;var s={doubles:null,naf:null,beta:null};return s.naf=this._getNAFPoints(8),s.doubles=this._getDoubles(4,h),s.beta=this._getBeta(),this.precomputed=s,this},C.prototype._hasDoubles=function(h){if(!this.precomputed)return!1;var s=this.precomputed.doubles;return!!s&&s.points.length>=Ee((h.bitLength()+1)/s.step)},C.prototype._getDoubles=function(h,s){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],d=this,c=0;c<s;c+=h){for(var f=0;f<h;f++)d=d.dbl();r.push(d)}return{step:h,points:r}},C.prototype._getNAFPoints=function(h){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var s=[this],r=(1<<h)-1,d=r===1?null:this.dbl(),c=1;c<r;c++)s[c]=s[c-1].add(d);return{wnd:h,points:s}},C.prototype._getBeta=function(){return null},C.prototype.dblp=function(h){for(var s=this,r=0;r<h;r++)s=s.dbl();return s}},{"../utils":117,"bn.js":118}],105:[function(x,V,O){function g(o){this.twisted=(0|o.a)!=1,this.mOneA=this.twisted&&(0|o.a)==-1,this.extended=this.mOneA,m.call(this,"edwards",o),this.a=new y(o.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new y(o.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new y(o.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|o.c)==1}function C(o,h,s,r,d){m.BasePoint.call(this,o,"projective"),h===null&&s===null&&r===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new y(h,16),this.y=new y(s,16),this.z=r?new y(r,16):this.curve.one,this.t=d&&new y(d,16),!this.x.red&&(this.x=this.x.toRed(this.curve.red)),!this.y.red&&(this.y=this.y.toRed(this.curve.red)),!this.z.red&&(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),!this.zOne&&(this.t=this.t.redMul(this.z.redInvm()))))}var E=x("../utils"),y=x("bn.js"),i=x("inherits"),m=x("./base"),a=E.assert;i(g,m),V.exports=g,g.prototype._mulA=function(h){return this.mOneA?h.redNeg():this.a.redMul(h)},g.prototype._mulC=function(h){return this.oneC?h:this.c.redMul(h)},g.prototype.jpoint=function(h,s,r,d){return this.point(h,s,r,d)},g.prototype.pointFromX=function(h,s){h=new y(h,16),h.red||(h=h.toRed(this.red));var r=h.redSqr(),d=this.c2.redSub(this.a.redMul(r)),c=this.one.redSub(this.c2.redMul(this.d).redMul(r)),f=d.redMul(c.redInvm()),u=f.redSqrt();if(u.redSqr().redSub(f).cmp(this.zero)!==0)throw new Error("invalid point");var k=u.fromRed().isOdd();return(s&&!k||!s&&k)&&(u=u.redNeg()),this.point(h,u)},g.prototype.pointFromY=function(h,s){h=new y(h,16),h.red||(h=h.toRed(this.red));var r=h.redSqr(),d=r.redSub(this.c2),c=r.redMul(this.d).redMul(this.c2).redSub(this.a),f=d.redMul(c.redInvm());if(f.cmp(this.zero)===0){if(s)throw new Error("invalid point");return this.point(this.zero,h)}var u=f.redSqrt();if(u.redSqr().redSub(f).cmp(this.zero)!==0)throw new Error("invalid point");return u.fromRed().isOdd()!==s&&(u=u.redNeg()),this.point(u,h)},g.prototype.validate=function(h){if(h.isInfinity())return!0;h.normalize();var s=h.x.redSqr(),r=h.y.redSqr(),d=s.redMul(this.a).redAdd(r),c=this.c2.redMul(this.one.redAdd(this.d.redMul(s).redMul(r)));return d.cmp(c)===0},i(C,m.BasePoint),g.prototype.pointFromJSON=function(h){return C.fromJSON(this,h)},g.prototype.point=function(h,s,r,d){return new C(this,h,s,r,d)},C.fromJSON=function(h,s){return new C(h,s[0],s[1],s[2])},C.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},C.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},C.prototype._extDbl=function(){var h=this.x.redSqr(),s=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var d=this.curve._mulA(h),c=this.x.redAdd(this.y).redSqr().redISub(h).redISub(s),f=d.redAdd(s),u=f.redSub(r),k=d.redSub(s),R=c.redMul(u),A=f.redMul(k),w=c.redMul(k),I=u.redMul(f);return this.curve.point(R,A,I,w)},C.prototype._projDbl=function(){var h=this.x.redAdd(this.y).redSqr(),s=this.x.redSqr(),r=this.y.redSqr(),d,c,f,u,k,R;if(this.curve.twisted){u=this.curve._mulA(s);var A=u.redAdd(r);this.zOne?(d=h.redSub(s).redSub(r).redMul(A.redSub(this.curve.two)),c=A.redMul(u.redSub(r)),f=A.redSqr().redSub(A).redSub(A)):(k=this.z.redSqr(),R=A.redSub(k).redISub(k),d=h.redSub(s).redISub(r).redMul(R),c=A.redMul(u.redSub(r)),f=A.redMul(R))}else u=s.redAdd(r),k=this.curve._mulC(this.z).redSqr(),R=u.redSub(k).redSub(k),d=this.curve._mulC(h.redISub(u)).redMul(R),c=this.curve._mulC(u).redMul(s.redISub(r)),f=u.redMul(R);return this.curve.point(d,c,f)},C.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},C.prototype._extAdd=function(h){var s=this.y.redSub(this.x).redMul(h.y.redSub(h.x)),r=this.y.redAdd(this.x).redMul(h.y.redAdd(h.x)),d=this.t.redMul(this.curve.dd).redMul(h.t),c=this.z.redMul(h.z.redAdd(h.z)),f=r.redSub(s),u=c.redSub(d),k=c.redAdd(d),R=r.redAdd(s),A=f.redMul(u),w=k.redMul(R),I=f.redMul(R),N=u.redMul(k);return this.curve.point(A,w,N,I)},C.prototype._projAdd=function(h){var s=this.z.redMul(h.z),r=s.redSqr(),d=this.x.redMul(h.x),c=this.y.redMul(h.y),f=this.curve.d.redMul(d).redMul(c),u=r.redSub(f),k=r.redAdd(f),R=this.x.redAdd(this.y).redMul(h.x.redAdd(h.y)).redISub(d).redISub(c),A=s.redMul(u).redMul(R),w,I;return this.curve.twisted?(w=s.redMul(k).redMul(c.redSub(this.curve._mulA(d))),I=u.redMul(k)):(w=s.redMul(k).redMul(c.redSub(d)),I=this.curve._mulC(u).redMul(k)),this.curve.point(A,w,I)},C.prototype.add=function(h){return this.isInfinity()?h:h.isInfinity()?this:this.curve.extended?this._extAdd(h):this._projAdd(h)},C.prototype.mul=function(h){return this._hasDoubles(h)?this.curve._fixedNafMul(this,h):this.curve._wnafMul(this,h)},C.prototype.mulAdd=function(h,s,r){return this.curve._wnafMulAdd(1,[this,s],[h,r],2,!1)},C.prototype.jmulAdd=function(h,s,r){return this.curve._wnafMulAdd(1,[this,s],[h,r],2,!0)},C.prototype.normalize=function(){if(this.zOne)return this;var h=this.z.redInvm();return this.x=this.x.redMul(h),this.y=this.y.redMul(h),this.t&&(this.t=this.t.redMul(h)),this.z=this.curve.one,this.zOne=!0,this},C.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},C.prototype.getX=function(){return this.normalize(),this.x.fromRed()},C.prototype.getY=function(){return this.normalize(),this.y.fromRed()},C.prototype.eq=function(h){return this===h||this.getX().cmp(h.getX())===0&&this.getY().cmp(h.getY())===0},C.prototype.eqXToP=function(h){var s=h.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(s)===0)return!0;for(var r=h.clone(),d=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),0<=r.cmp(this.curve.p))return!1;if(s.redIAdd(d),this.x.cmp(s)===0)return!0}},C.prototype.toP=C.prototype.normalize,C.prototype.mixedAdd=C.prototype.add},{"../utils":117,"./base":104,"bn.js":118,inherits:146}],106:[function(x,V,O){var g=O;g.base=x("./base"),g.short=x("./short"),g.mont=x("./mont"),g.edwards=x("./edwards")},{"./base":104,"./edwards":105,"./mont":107,"./short":108}],107:[function(x,V,O){function g(a){i.call(this,"mont",a),this.a=new E(a.a,16).toRed(this.red),this.b=new E(a.b,16).toRed(this.red),this.i4=new E(4).toRed(this.red).redInvm(),this.two=new E(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function C(a,o,h){i.BasePoint.call(this,a,"projective"),o===null&&h===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new E(o,16),this.z=new E(h,16),!this.x.red&&(this.x=this.x.toRed(this.curve.red)),!this.z.red&&(this.z=this.z.toRed(this.curve.red)))}var E=x("bn.js"),y=x("inherits"),i=x("./base"),m=x("../utils");y(g,i),V.exports=g,g.prototype.validate=function(o){var h=o.normalize().x,s=h.redSqr(),r=s.redMul(h).redAdd(s.redMul(this.a)).redAdd(h),d=r.redSqrt();return d.redSqr().cmp(r)===0},y(C,i.BasePoint),g.prototype.decodePoint=function(o,h){return this.point(m.toArray(o,h),1)},g.prototype.point=function(o,h){return new C(this,o,h)},g.prototype.pointFromJSON=function(o){return C.fromJSON(this,o)},C.prototype.precompute=function(){},C.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},C.fromJSON=function(o,h){return new C(o,h[0],h[1]||o.one)},C.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},C.prototype.isInfinity=function(){return this.z.cmpn(0)===0},C.prototype.dbl=function(){var o=this.x.redAdd(this.z),h=o.redSqr(),s=this.x.redSub(this.z),r=s.redSqr(),d=h.redSub(r),c=h.redMul(r),f=d.redMul(r.redAdd(this.curve.a24.redMul(d)));return this.curve.point(c,f)},C.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},C.prototype.diffAdd=function(o,h){var s=this.x.redAdd(this.z),r=this.x.redSub(this.z),d=o.x.redAdd(o.z),c=o.x.redSub(o.z),f=c.redMul(s),u=d.redMul(r),k=h.z.redMul(f.redAdd(u).redSqr()),R=h.x.redMul(f.redISub(u).redSqr());return this.curve.point(k,R)},C.prototype.mul=function(o){for(var h=o.clone(),s=this,r=this.curve.point(null,null),d=this,c=[];h.cmpn(0)!==0;h.iushrn(1))c.push(h.andln(1));for(var f=c.length-1;0<=f;f--)c[f]===0?(s=s.diffAdd(r,d),r=r.dbl()):(r=s.diffAdd(r,d),s=s.dbl());return r},C.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},C.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},C.prototype.eq=function(o){return this.getX().cmp(o.getX())===0},C.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},C.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":117,"./base":104,"bn.js":118,inherits:146}],108:[function(x,V,O){function g(h){a.call(this,"short",h),this.a=new i(h.a,16).toRed(this.red),this.b=new i(h.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(h),this._endoWnafT1=[,,,,],this._endoWnafT2=[,,,,]}function C(h,s,r,d){a.BasePoint.call(this,h,"affine"),s===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(s,16),this.y=new i(r,16),d&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),!this.x.red&&(this.x=this.x.toRed(this.curve.red)),!this.y.red&&(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function E(h,s,r,d){a.BasePoint.call(this,h,"jacobian"),s===null&&r===null&&d===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(s,16),this.y=new i(r,16),this.z=new i(d,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}var y=x("../utils"),i=x("bn.js"),m=x("inherits"),a=x("./base"),o=y.assert;m(g,a),V.exports=g,g.prototype._getEndomorphism=function(s){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var r,d;if(s.beta)r=new i(s.beta,16).toRed(this.red);else{var c=this._getEndoRoots(this.p);r=0>c[0].cmp(c[1])?c[0]:c[1],r=r.toRed(this.red)}if(s.lambda)d=new i(s.lambda,16);else{var f=this._getEndoRoots(this.n);this.g.mul(f[0]).x.cmp(this.g.x.redMul(r))===0?d=f[0]:(d=f[1],o(this.g.mul(d).x.cmp(this.g.x.redMul(r))===0))}var u;return u=s.basis?s.basis.map(function(k){return{a:new i(k.a,16),b:new i(k.b,16)}}):this._getEndoBasis(d),{beta:r,lambda:d,basis:u}}},g.prototype._getEndoRoots=function(s){var r=s===this.p?this.red:i.mont(s),d=new i(2).toRed(r).redInvm(),c=d.redNeg(),f=new i(3).toRed(r).redNeg().redSqrt().redMul(d),u=c.redAdd(f).fromRed(),k=c.redSub(f).fromRed();return[u,k]},g.prototype._getEndoBasis=function(s){for(var r=this.n.ushrn(D(this.n.bitLength()/2)),d=s,c=this.n.clone(),f=new i(1),u=new i(0),k=new i(0),R=new i(1),A=0,w,I,N,L,G,J,se,ce,Y,B;d.cmpn(0)!==0;){B=c.div(d),ce=c.sub(B.mul(d)),Y=k.sub(B.mul(f));var _=R.sub(B.mul(u));if(!N&&0>ce.cmp(r))w=se.neg(),I=f,N=ce.neg(),L=Y;else if(N&&++A==2)break;se=ce,c=d,d=ce,k=f,f=Y,R=u,u=_}G=ce.neg(),J=Y;var p=N.sqr().add(L.sqr()),T=G.sqr().add(J.sqr());return 0<=T.cmp(p)&&(G=w,J=I),N.negative&&(N=N.neg(),L=L.neg()),G.negative&&(G=G.neg(),J=J.neg()),[{a:N,b:L},{a:G,b:J}]},g.prototype._endoSplit=function(s){var r=this.endo.basis,d=r[0],c=r[1],f=c.b.mul(s).divRound(this.n),u=d.b.neg().mul(s).divRound(this.n),k=f.mul(d.a),R=u.mul(c.a),A=f.mul(d.b),w=u.mul(c.b),I=s.sub(k).sub(R),N=A.add(w).neg();return{k1:I,k2:N}},g.prototype.pointFromX=function(s,r){s=new i(s,16),s.red||(s=s.toRed(this.red));var d=s.redSqr().redMul(s).redIAdd(s.redMul(this.a)).redIAdd(this.b),c=d.redSqrt();if(c.redSqr().redSub(d).cmp(this.zero)!==0)throw new Error("invalid point");var f=c.fromRed().isOdd();return(r&&!f||!r&&f)&&(c=c.redNeg()),this.point(s,c)},g.prototype.validate=function(s){if(s.inf)return!0;var r=s.x,d=s.y,c=this.a.redMul(r),f=r.redSqr().redMul(r).redIAdd(c).redIAdd(this.b);return d.redSqr().redISub(f).cmpn(0)===0},g.prototype._endoWnafMulAdd=function(s,r,d){for(var c=this._endoWnafT1,f=this._endoWnafT2,u=0;u<s.length;u++){var k=this._endoSplit(r[u]),R=s[u],A=R._getBeta();k.k1.negative&&(k.k1.ineg(),R=R.neg(!0)),k.k2.negative&&(k.k2.ineg(),A=A.neg(!0)),c[2*u]=R,c[2*u+1]=A,f[2*u]=k.k1,f[2*u+1]=k.k2}for(var w=this._wnafMulAdd(1,c,f,2*u,d),I=0;I<2*u;I++)c[I]=null,f[I]=null;return w},m(C,a.BasePoint),g.prototype.point=function(s,r,d){return new C(this,s,r,d)},g.prototype.pointFromJSON=function(s,r){return C.fromJSON(this,s,r)},C.prototype._getBeta=function(){if(this.curve.endo){var s=this.precomputed;if(s&&s.beta)return s.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(s){var d=this.curve,c=function(f){return d.point(f.x.redMul(d.endo.beta),f.y)};s.beta=r,r.precomputed={beta:null,naf:s.naf&&{wnd:s.naf.wnd,points:s.naf.points.map(c)},doubles:s.doubles&&{step:s.doubles.step,points:s.doubles.points.map(c)}}}return r}},C.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},C.fromJSON=function(s,r,d){function c(k){return s.point(k[0],k[1],d)}typeof r=="string"&&(r=JSON.parse(r));var f=s.point(r[0],r[1],d);if(!r[2])return f;var u=r[2];return f.precomputed={beta:null,doubles:u.doubles&&{step:u.doubles.step,points:[f].concat(u.doubles.points.map(c))},naf:u.naf&&{wnd:u.naf.wnd,points:[f].concat(u.naf.points.map(c))}},f},C.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},C.prototype.isInfinity=function(){return this.inf},C.prototype.add=function(s){if(this.inf)return s;if(s.inf)return this;if(this.eq(s))return this.dbl();if(this.neg().eq(s))return this.curve.point(null,null);if(this.x.cmp(s.x)===0)return this.curve.point(null,null);var r=this.y.redSub(s.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(s.x).redInvm()));var d=r.redSqr().redISub(this.x).redISub(s.x),c=r.redMul(this.x.redSub(d)).redISub(this.y);return this.curve.point(d,c)},C.prototype.dbl=function(){if(this.inf)return this;var s=this.y.redAdd(this.y);if(s.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,d=this.x.redSqr(),c=s.redInvm(),f=d.redAdd(d).redIAdd(d).redIAdd(r).redMul(c),u=f.redSqr().redISub(this.x.redAdd(this.x)),k=f.redMul(this.x.redSub(u)).redISub(this.y);return this.curve.point(u,k)},C.prototype.getX=function(){return this.x.fromRed()},C.prototype.getY=function(){return this.y.fromRed()},C.prototype.mul=function(s){return s=new i(s,16),this.isInfinity()?this:this._hasDoubles(s)?this.curve._fixedNafMul(this,s):this.curve.endo?this.curve._endoWnafMulAdd([this],[s]):this.curve._wnafMul(this,s)},C.prototype.mulAdd=function(s,r,d){var c=[this,r],f=[s,d];return this.curve.endo?this.curve._endoWnafMulAdd(c,f):this.curve._wnafMulAdd(1,c,f,2)},C.prototype.jmulAdd=function(s,r,d){var c=[this,r],f=[s,d];return this.curve.endo?this.curve._endoWnafMulAdd(c,f,!0):this.curve._wnafMulAdd(1,c,f,2,!0)},C.prototype.eq=function(s){return this===s||this.inf===s.inf&&(this.inf||this.x.cmp(s.x)===0&&this.y.cmp(s.y)===0)},C.prototype.neg=function(s){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(s&&this.precomputed){var d=this.precomputed,c=function(f){return f.neg()};r.precomputed={naf:d.naf&&{wnd:d.naf.wnd,points:d.naf.points.map(c)},doubles:d.doubles&&{step:d.doubles.step,points:d.doubles.points.map(c)}}}return r},C.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var s=this.curve.jpoint(this.x,this.y,this.curve.one);return s},m(E,a.BasePoint),g.prototype.jpoint=function(s,r,d){return new E(this,s,r,d)},E.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var s=this.z.redInvm(),r=s.redSqr(),d=this.x.redMul(r),c=this.y.redMul(r).redMul(s);return this.curve.point(d,c)},E.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},E.prototype.add=function(s){if(this.isInfinity())return s;if(s.isInfinity())return this;var r=s.z.redSqr(),d=this.z.redSqr(),c=this.x.redMul(r),f=s.x.redMul(d),u=this.y.redMul(r.redMul(s.z)),k=s.y.redMul(d.redMul(this.z)),R=c.redSub(f),A=u.redSub(k);if(R.cmpn(0)===0)return A.cmpn(0)===0?this.dbl():this.curve.jpoint(null,null,null);var w=R.redSqr(),I=w.redMul(R),N=c.redMul(w),L=A.redSqr().redIAdd(I).redISub(N).redISub(N),G=A.redMul(N.redISub(L)).redISub(u.redMul(I)),J=this.z.redMul(s.z).redMul(R);return this.curve.jpoint(L,G,J)},E.prototype.mixedAdd=function(s){if(this.isInfinity())return s.toJ();if(s.isInfinity())return this;var r=this.z.redSqr(),d=this.x,c=s.x.redMul(r),f=this.y,u=s.y.redMul(r).redMul(this.z),k=d.redSub(c),R=f.redSub(u);if(k.cmpn(0)===0)return R.cmpn(0)===0?this.dbl():this.curve.jpoint(null,null,null);var A=k.redSqr(),w=A.redMul(k),I=d.redMul(A),N=R.redSqr().redIAdd(w).redISub(I).redISub(I),L=R.redMul(I.redISub(N)).redISub(f.redMul(w)),G=this.z.redMul(k);return this.curve.jpoint(N,L,G)},E.prototype.dblp=function(s){if(s===0)return this;if(this.isInfinity())return this;if(!s)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var d=this;for(r=0;r<s;r++)d=d.dbl();return d}var c=this.curve.a,f=this.curve.tinv,u=this.x,k=this.y,R=this.z,A=R.redSqr().redSqr(),w=k.redAdd(k);for(r=0;r<s;r++){var I=u.redSqr(),N=w.redSqr(),L=N.redSqr(),G=I.redAdd(I).redIAdd(I).redIAdd(c.redMul(A)),J=u.redMul(N),se=G.redSqr().redISub(J.redAdd(J)),ce=J.redISub(se),Y=G.redMul(ce);Y=Y.redIAdd(Y).redISub(L);var B=w.redMul(R);r+1<s&&(A=A.redMul(L)),u=se,R=B,w=Y}return this.curve.jpoint(u,w.redMul(f),R)},E.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},E.prototype._zeroDbl=function(){var s,r,d;if(this.zOne){var c=this.x.redSqr(),f=this.y.redSqr(),u=f.redSqr(),k=this.x.redAdd(f).redSqr().redISub(c).redISub(u);k=k.redIAdd(k);var R=c.redAdd(c).redIAdd(c),A=R.redSqr().redISub(k).redISub(k),w=u.redIAdd(u);w=w.redIAdd(w),w=w.redIAdd(w),s=A,r=R.redMul(k.redISub(A)).redISub(w),d=this.y.redAdd(this.y)}else{var I=this.x.redSqr(),N=this.y.redSqr(),L=N.redSqr(),G=this.x.redAdd(N).redSqr().redISub(I).redISub(L);G=G.redIAdd(G);var J=I.redAdd(I).redIAdd(I),se=J.redSqr(),ce=L.redIAdd(L);ce=ce.redIAdd(ce),ce=ce.redIAdd(ce),s=se.redISub(G).redISub(G),r=J.redMul(G.redISub(s)).redISub(ce),d=this.y.redMul(this.z),d=d.redIAdd(d)}return this.curve.jpoint(s,r,d)},E.prototype._threeDbl=function(){var s,r,d;if(this.zOne){var c=this.x.redSqr(),f=this.y.redSqr(),u=f.redSqr(),k=this.x.redAdd(f).redSqr().redISub(c).redISub(u);k=k.redIAdd(k);var R=c.redAdd(c).redIAdd(c).redIAdd(this.curve.a),A=R.redSqr().redISub(k).redISub(k);s=A;var w=u.redIAdd(u);w=w.redIAdd(w),w=w.redIAdd(w),r=R.redMul(k.redISub(A)).redISub(w),d=this.y.redAdd(this.y)}else{var I=this.z.redSqr(),N=this.y.redSqr(),L=this.x.redMul(N),G=this.x.redSub(I).redMul(this.x.redAdd(I));G=G.redAdd(G).redIAdd(G);var J=L.redIAdd(L);J=J.redIAdd(J);var se=J.redAdd(J);s=G.redSqr().redISub(se),d=this.y.redAdd(this.z).redSqr().redISub(N).redISub(I);var ce=N.redSqr();ce=ce.redIAdd(ce),ce=ce.redIAdd(ce),ce=ce.redIAdd(ce),r=G.redMul(J.redISub(s)).redISub(ce)}return this.curve.jpoint(s,r,d)},E.prototype._dbl=function(){var s=this.curve.a,r=this.x,d=this.y,c=this.z,f=c.redSqr().redSqr(),u=r.redSqr(),k=d.redSqr(),R=u.redAdd(u).redIAdd(u).redIAdd(s.redMul(f)),A=r.redAdd(r);A=A.redIAdd(A);var w=A.redMul(k),I=R.redSqr().redISub(w.redAdd(w)),N=w.redISub(I),L=k.redSqr();L=L.redIAdd(L),L=L.redIAdd(L),L=L.redIAdd(L);var G=R.redMul(N).redISub(L),J=d.redAdd(d).redMul(c);return this.curve.jpoint(I,G,J)},E.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var s=this.x.redSqr(),r=this.y.redSqr(),d=this.z.redSqr(),c=r.redSqr(),f=s.redAdd(s).redIAdd(s),u=f.redSqr(),k=this.x.redAdd(r).redSqr().redISub(s).redISub(c);k=k.redIAdd(k),k=k.redAdd(k).redIAdd(k),k=k.redISub(u);var R=k.redSqr(),A=c.redIAdd(c);A=A.redIAdd(A),A=A.redIAdd(A),A=A.redIAdd(A);var w=f.redIAdd(k).redSqr().redISub(u).redISub(R).redISub(A),I=r.redMul(w);I=I.redIAdd(I),I=I.redIAdd(I);var N=this.x.redMul(R).redISub(I);N=N.redIAdd(N),N=N.redIAdd(N);var L=this.y.redMul(w.redMul(A.redISub(w)).redISub(k.redMul(R)));L=L.redIAdd(L),L=L.redIAdd(L),L=L.redIAdd(L);var G=this.z.redAdd(k).redSqr().redISub(d).redISub(R);return this.curve.jpoint(N,L,G)},E.prototype.mul=function(s,r){return s=new i(s,r),this.curve._wnafMul(this,s)},E.prototype.eq=function(s){if(s.type==="affine")return this.eq(s.toJ());if(this===s)return!0;var r=this.z.redSqr(),d=s.z.redSqr();if(this.x.redMul(d).redISub(s.x.redMul(r)).cmpn(0)!==0)return!1;var c=r.redMul(this.z),f=d.redMul(s.z);return this.y.redMul(f).redISub(s.y.redMul(c)).cmpn(0)===0},E.prototype.eqXToP=function(s){var r=this.z.redSqr(),d=s.toRed(this.curve.red).redMul(r);if(this.x.cmp(d)===0)return!0;for(var c=s.clone(),f=this.curve.redN.redMul(r);;){if(c.iadd(this.curve.n),0<=c.cmp(this.curve.p))return!1;if(d.redIAdd(f),this.x.cmp(d)===0)return!0}},E.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},E.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":117,"./base":104,"bn.js":118,inherits:146}],109:[function(x,V,O){function g(h){this.curve=h.type==="short"?new i.short(h):h.type==="edwards"?new i.edwards(h):new i.mont(h),this.g=this.curve.g,this.n=this.curve.n,this.hash=h.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function C(h,s){Object.defineProperty(E,h,{configurable:!0,enumerable:!0,get:function(){var r=new g(s);return Object.defineProperty(E,h,{configurable:!0,enumerable:!0,value:r}),r}})}var E=O,y=x("hash.js"),i=x("./curve"),m=x("./utils"),a=m.assert;E.PresetCurve=g,C("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:y.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),C("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:y.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),C("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:y.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),C("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:y.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),C("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:y.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),C("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:y.sha256,gRed:!1,g:["9"]}),C("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:y.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=x("./precomputed/secp256k1")}catch{o=void 0}C("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:y.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})},{"./curve":106,"./precomputed/secp256k1":116,"./utils":117,"hash.js":130}],110:[function(x,V,O){function g(s){return this instanceof g?(typeof s=="string"&&(a(Object.prototype.hasOwnProperty.call(i,s),"Unknown curve "+s),s=i[s]),s instanceof i.PresetCurve&&(s={curve:s}),this.curve=s.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=s.curve.g,this.g.precompute(s.curve.n.bitLength()+1),void(this.hash=s.hash||s.curve.hash)):new g(s)}var C=x("bn.js"),E=x("hmac-drbg"),y=x("../utils"),i=x("../curves"),m=x("brorand"),a=y.assert,o=x("./key"),h=x("./signature");V.exports=g,g.prototype.keyPair=function(r){return new o(this,r)},g.prototype.keyFromPrivate=function(r,d){return o.fromPrivate(this,r,d)},g.prototype.keyFromPublic=function(r,d){return o.fromPublic(this,r,d)},g.prototype.genKeyPair=function(r){r||(r={});for(var d=new E({hash:this.hash,pers:r.pers,persEnc:r.persEnc||"utf8",entropy:r.entropy||m(this.hash.hmacStrength),entropyEnc:r.entropy&&r.entropyEnc||"utf8",nonce:this.n.toArray()}),c=this.n.byteLength(),f=this.n.sub(new C(2));;){var u=new C(d.generate(c));if(!(0<u.cmp(f)))return u.iaddn(1),this.keyFromPrivate(u)}},g.prototype._truncateToN=function(r,d){var c=8*r.byteLength()-this.n.bitLength();return 0<c&&(r=r.ushrn(c)),!d&&0<=r.cmp(this.n)?r.sub(this.n):r},g.prototype.sign=function(r,d,c,f){typeof c=="object"&&(f=c,c=null),f||(f={}),d=this.keyFromPrivate(d,c),r=this._truncateToN(new C(r,16));for(var u=this.n.byteLength(),k=d.getPrivate().toArray("be",u),R=r.toArray("be",u),A=new E({hash:this.hash,entropy:k,nonce:R,pers:f.pers,persEnc:f.persEnc||"utf8"}),w=this.n.sub(new C(1)),I=0,N;;I++)if(N=f.k?f.k(I):new C(A.generate(this.n.byteLength())),N=this._truncateToN(N,!0),!(0>=N.cmpn(1)||0<=N.cmp(w))){var L=this.g.mul(N);if(!L.isInfinity()){var G=L.getX(),J=G.umod(this.n);if(J.cmpn(0)!==0){var se=N.invm(this.n).mul(J.mul(d.getPrivate()).iadd(r));if(se=se.umod(this.n),se.cmpn(0)!==0){var ce=(L.getY().isOdd()?1:0)|(G.cmp(J)===0?0:2);return f.canonical&&0<se.cmp(this.nh)&&(se=this.n.sub(se),ce^=1),new h({r:J,s:se,recoveryParam:ce})}}}}},g.prototype.verify=function(r,d,c,f){r=this._truncateToN(new C(r,16)),c=this.keyFromPublic(c,f),d=new h(d,"hex");var u=d.r,k=d.s;if(0>u.cmpn(1)||0<=u.cmp(this.n)||0>k.cmpn(1)||0<=k.cmp(this.n))return!1;var R=k.invm(this.n),A=R.mul(r).umod(this.n),w=R.mul(u).umod(this.n),I;return this.curve._maxwellTrick?(I=this.g.jmulAdd(A,c.getPublic(),w),!I.isInfinity()&&I.eqXToP(u)):(I=this.g.mulAdd(A,c.getPublic(),w),!I.isInfinity()&&I.getX().umod(this.n).cmp(u)===0)},g.prototype.recoverPubKey=function(s,r,d,c){a((3&d)===d,"The recovery param is more than two bits"),r=new h(r,c);var f=this.n,u=new C(s),k=r.r,R=r.s,A=1&d,w=d>>1;if(0<=k.cmp(this.curve.p.umod(this.curve.n))&&w)throw new Error("Unable to find sencond key candinate");k=w?this.curve.pointFromX(k.add(this.curve.n),A):this.curve.pointFromX(k,A);var I=r.r.invm(f),N=f.sub(u).mul(I).umod(f),L=R.mul(I).umod(f);return this.g.mulAdd(N,k,L)},g.prototype.getKeyRecoveryParam=function(s,r,d,c){if(r=new h(r,c),r.recoveryParam!==null)return r.recoveryParam;for(var f=0;4>f;f++){var u;try{u=this.recoverPubKey(s,r,f)}catch{continue}if(u.eq(d))return f}throw new Error("Unable to find valid recovery factor")}},{"../curves":109,"../utils":117,"./key":111,"./signature":112,"bn.js":118,brorand:40,"hmac-drbg":142}],111:[function(x,V,O){function g(i,m){this.ec=i,this.priv=null,this.pub=null,m.priv&&this._importPrivate(m.priv,m.privEnc),m.pub&&this._importPublic(m.pub,m.pubEnc)}var C=x("bn.js"),E=x("../utils"),y=E.assert;V.exports=g,g.fromPublic=function(m,a,o){return a instanceof g?a:new g(m,{pub:a,pubEnc:o})},g.fromPrivate=function(m,a,o){return a instanceof g?a:new g(m,{priv:a,privEnc:o})},g.prototype.validate=function(){var m=this.getPublic();return m.isInfinity()?{result:!1,reason:"Invalid public key"}:m.validate()?m.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},g.prototype.getPublic=function(m,a){return typeof m=="string"&&(a=m,m=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),a?this.pub.encode(a,m):this.pub},g.prototype.getPrivate=function(m){return m==="hex"?this.priv.toString(16,2):this.priv},g.prototype._importPrivate=function(m,a){this.priv=new C(m,a||16),this.priv=this.priv.umod(this.ec.curve.n)},g.prototype._importPublic=function(m,a){return m.x||m.y?(this.ec.curve.type==="mont"?y(m.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&y(m.x&&m.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(m.x,m.y))):void(this.pub=this.ec.curve.decodePoint(m,a))},g.prototype.derive=function(m){return m.validate()||y(m.validate(),"public point not validated"),m.mul(this.priv).getX()},g.prototype.sign=function(m,a,o){return this.ec.sign(m,this,a,o)},g.prototype.verify=function(m,a){return this.ec.verify(m,a,this)},g.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":117,"bn.js":118}],112:[function(x,V,O){function g(h,s){return h instanceof g?h:void(this._importDER(h,s)||(o(h.r&&h.s,"Signature without r or s"),this.r=new m(h.r,16),this.s=new m(h.s,16),this.recoveryParam=h.recoveryParam===void 0?null:h.recoveryParam))}function C(){this.place=0}function E(h,s){var r=h[s.place++];if(!(128&r))return r;var d=15&r;if(d==0||4<d)return!1;for(var c=0,f=0,u=s.place;f<d;f++,u++)c<<=8,c|=h[u],c>>>=0;return!(127>=c)&&(s.place=u,c)}function y(h){for(var s=0,r=h.length-1;!h[s]&&!(128&h[s+1])&&s<r;)s++;return s===0?h:h.slice(s)}function i(h,s){if(128>s)return void h.push(s);var r=1+(l(s)/n>>>3);for(h.push(128|r);--r;)h.push(255&s>>>(r<<3));h.push(s)}var m=x("bn.js"),a=x("../utils"),o=a.assert;V.exports=g,g.prototype._importDER=function(s,r){s=a.toArray(s,r);var d=new C;if(s[d.place++]!==48)return!1;var c=E(s,d);if(c===!1||c+d.place!==s.length||s[d.place++]!==2)return!1;var f=E(s,d);if(f===!1)return!1;var u=s.slice(d.place,f+d.place);if(d.place+=f,s[d.place++]!==2)return!1;var k=E(s,d);if(k===!1||s.length!==k+d.place)return!1;var R=s.slice(d.place,k+d.place);if(u[0]===0)if(128&u[1])u=u.slice(1);else return!1;if(R[0]===0)if(128&R[1])R=R.slice(1);else return!1;return this.r=new m(u),this.s=new m(R),this.recoveryParam=null,!0},g.prototype.toDER=function(s){var r=this.r.toArray(),d=this.s.toArray();for(128&r[0]&&(r=[0].concat(r)),128&d[0]&&(d=[0].concat(d)),r=y(r),d=y(d);!d[0]&&!(128&d[1]);)d=d.slice(1);var c=[2];i(c,r.length),c=c.concat(r),c.push(2),i(c,d.length);var f=c.concat(d),u=[48];return i(u,f.length),u=u.concat(f),a.encode(u,s)}},{"../utils":117,"bn.js":118}],113:[function(x,V,O){function g(h){return i(h==="ed25519","only tested with ed25519 so far"),this instanceof g?(h=E[h].curve,this.curve=h,this.g=h.g,this.g.precompute(h.n.bitLength()+1),this.pointClass=h.point().constructor,this.encodingLength=Ee(h.n.bitLength()/8),void(this.hash=C.sha512)):new g(h)}var C=x("hash.js"),E=x("../curves"),y=x("../utils"),i=y.assert,m=y.parseBytes,a=x("./key"),o=x("./signature");V.exports=g,g.prototype.sign=function(s,r){s=m(s);var d=this.keyFromSecret(r),c=this.hashInt(d.messagePrefix(),s),f=this.g.mul(c),u=this.encodePoint(f),k=this.hashInt(u,d.pubBytes(),s).mul(d.priv()),R=c.add(k).umod(this.curve.n);return this.makeSignature({R:f,S:R,Rencoded:u})},g.prototype.verify=function(s,r,d){s=m(s),r=this.makeSignature(r);var c=this.keyFromPublic(d),f=this.hashInt(r.Rencoded(),c.pubBytes(),s),u=this.g.mul(r.S()),k=r.R().add(c.pub().mul(f));return k.eq(u)},g.prototype.hashInt=function(){for(var s=this.hash(),r=0;r<arguments.length;r++)s.update(arguments[r]);return y.intFromLE(s.digest()).umod(this.curve.n)},g.prototype.keyFromPublic=function(s){return a.fromPublic(this,s)},g.prototype.keyFromSecret=function(s){return a.fromSecret(this,s)},g.prototype.makeSignature=function(s){return s instanceof o?s:new o(this,s)},g.prototype.encodePoint=function(s){var r=s.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=s.getX().isOdd()?128:0,r},g.prototype.decodePoint=function(s){s=y.parseBytes(s);var r=s.length-1,d=s.slice(0,r).concat(-129&s[r]),c=(128&s[r])!=0,f=y.intFromLE(d);return this.curve.pointFromY(f,c)},g.prototype.encodeInt=function(s){return s.toArray("le",this.encodingLength)},g.prototype.decodeInt=function(s){return y.intFromLE(s)},g.prototype.isPoint=function(s){return s instanceof this.pointClass}},{"../curves":109,"../utils":117,"./key":114,"./signature":115,"hash.js":130}],114:[function(x,V,O){function g(m,a){this.eddsa=m,this._secret=y(a.secret),m.isPoint(a.pub)?this._pub=a.pub:this._pubBytes=y(a.pub)}var C=x("../utils"),E=C.assert,y=C.parseBytes,i=C.cachedProperty;g.fromPublic=function(a,o){return o instanceof g?o:new g(a,{pub:o})},g.fromSecret=function(a,o){return o instanceof g?o:new g(a,{secret:o})},g.prototype.secret=function(){return this._secret},i(g,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),i(g,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),i(g,"privBytes",function(){var a=this.eddsa,o=this.hash(),h=a.encodingLength-1,s=o.slice(0,a.encodingLength);return s[0]&=248,s[h]&=127,s[h]|=64,s}),i(g,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),i(g,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),i(g,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),g.prototype.sign=function(a){return E(this._secret,"KeyPair can only verify"),this.eddsa.sign(a,this)},g.prototype.verify=function(a,o){return this.eddsa.verify(a,o,this)},g.prototype.getSecret=function(a){return E(this._secret,"KeyPair is public only"),C.encode(this.secret(),a)},g.prototype.getPublic=function(a){return C.encode(this.pubBytes(),a)},V.exports=g},{"../utils":117}],115:[function(x,V,O){function g(a,o){this.eddsa=a,typeof o!="object"&&(o=m(o)),Array.isArray(o)&&(o={R:o.slice(0,a.encodingLength),S:o.slice(a.encodingLength)}),y(o.R&&o.S,"Signature without R or S"),a.isPoint(o.R)&&(this._R=o.R),o.S instanceof C&&(this._S=o.S),this._Rencoded=Array.isArray(o.R)?o.R:o.Rencoded,this._Sencoded=Array.isArray(o.S)?o.S:o.Sencoded}var C=x("bn.js"),E=x("../utils"),y=E.assert,i=E.cachedProperty,m=E.parseBytes;i(g,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),i(g,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),i(g,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),i(g,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),g.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},g.prototype.toHex=function(){return E.encode(this.toBytes(),"hex").toUpperCase()},V.exports=g},{"../utils":117,"bn.js":118}],116:[function(x,V,O){V.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],117:[function(x,V,O){function g(s,r,d){var c=Array(be(s.bitLength(),d)+1);c.fill(0);for(var f=1<<r+1,u=s.clone(),k=0;k<c.length;k++){var R=u.andln(f-1),A;u.isOdd()?(A=R>(f>>1)-1?(f>>1)-R:R,u.isubn(A)):A=0,c[k]=A,u.iushrn(1)}return c}function C(s,r){var d=[[],[]];s=s.clone(),r=r.clone();for(var c=0,f=0,u;0<s.cmpn(-c)||0<r.cmpn(-f);){var k=3&s.andln(3)+c,R=3&r.andln(3)+f;k==3&&(k=-1),R===3&&(R=-1);var A;(1&k)==0?A=0:(u=7&s.andln(7)+c,A=(u===3||u===5)&&R===2?-k:k),d[0].push(A);var w;(1&R)==0?w=0:(u=7&r.andln(7)+f,w=(u===3||u===5)&&k===2?-R:R),d[1].push(w),2*c===A+1&&(c=1-c),2*f===w+1&&(f=1-f),s.iushrn(1),r.iushrn(1)}return d}function E(s,r,d){var c="_"+r;s.prototype[r]=function(){return this[c]===void 0?this[c]=d.call(this):this[c]}}function y(s){return typeof s=="string"?m.toArray(s,"hex"):s}function i(s){return new a(s,"hex","le")}var m=O,a=x("bn.js"),o=x("minimalistic-assert"),h=x("minimalistic-crypto-utils");m.assert=o,m.toArray=h.toArray,m.zero2=h.zero2,m.toHex=h.toHex,m.encode=h.encode,m.getNAF=g,m.getJSF=C,m.cachedProperty=E,m.parseBytes=y,m.intFromLE=i},{"bn.js":118,"minimalistic-assert":167,"minimalistic-crypto-utils":168}],118:[function(x,V,O){arguments[4][22][0].apply(O,arguments)},{buffer:41,dup:22}],119:[function(x,V,O){V.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],120:[function(x,V,O){(function(g){(function(){var C=x("once"),E=function(){},y=function(a){return a.setHeader&&typeof a.abort=="function"},i=function(a){return a.stdio&&Array.isArray(a.stdio)&&a.stdio.length===3},m=function(a,o,h){if(typeof o=="function")return m(a,null,o);o||(o={}),h=C(h||E);var s=a._writableState,r=a._readableState,d=o.readable||o.readable!==!1&&a.readable,c=o.writable||o.writable!==!1&&a.writable,f=!1,u=function(){a.writable||k()},k=function(){c=!1,d||h.call(a)},R=function(){d=!1,c||h.call(a)},A=function(G){h.call(a,G?new Error("exited with error code: "+G):null)},w=function(G){h.call(a,G)},I=function(){g.nextTick(N)},N=function(){return f?void 0:d&&!(r&&r.ended&&!r.destroyed)?h.call(a,new Error("premature close")):c&&!(s&&s.ended&&!s.destroyed)?h.call(a,new Error("premature close")):void 0},L=function(){a.req.on("finish",k)};return y(a)?(a.on("complete",k),a.on("abort",I),a.req?L():a.on("request",L)):c&&!s&&(a.on("end",u),a.on("close",u)),i(a)&&a.on("exit",A),a.on("end",R),a.on("finish",k),o.error!==!1&&a.on("error",w),a.on("close",I),function(){f=!0,a.removeListener("complete",k),a.removeListener("abort",I),a.removeListener("request",L),a.req&&a.req.removeListener("finish",k),a.removeListener("end",u),a.removeListener("close",u),a.removeListener("finish",k),a.removeListener("exit",A),a.removeListener("end",R),a.removeListener("error",w),a.removeListener("close",I)}};V.exports=m}).call(this)}).call(this,x("_process"))},{_process:192,once:177}],121:[function(x,V,O){function g(E,y){for(const i in y)Object.defineProperty(E,i,{value:y[i],enumerable:!0,configurable:!0});return E}function C(E,y,i){if(!E||typeof E=="string")throw new TypeError("Please pass an Error to err-code");i||(i={}),typeof y=="object"&&(i=y,y=""),y&&(i.code=y);try{return g(E,i)}catch{i.message=E.message,i.stack=E.stack;const a=function(){};return a.prototype=Object.create(Object.getPrototypeOf(E)),g(new a,i)}}V.exports=C},{}],122:[function(x,V,O){function g(N){console&&console.warn&&console.warn(N)}function C(){C.init.call(this)}function E(N){if(typeof N!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof N)}function y(N){return N._maxListeners===void 0?C.defaultMaxListeners:N._maxListeners}function i(N,L,G,J){var se,ce,Y;if(E(G),ce=N._events,ce===void 0?(ce=N._events=Object.create(null),N._eventsCount=0):(ce.newListener!==void 0&&(N.emit("newListener",L,G.listener?G.listener:G),ce=N._events),Y=ce[L]),Y===void 0)Y=ce[L]=G,++N._eventsCount;else if(typeof Y=="function"?Y=ce[L]=J?[G,Y]:[Y,G]:J?Y.unshift(G):Y.push(G),se=y(N),0<se&&Y.length>se&&!Y.warned){Y.warned=!0;var B=new Error("Possible EventEmitter memory leak detected. "+Y.length+" "+(L+" listeners added. Use emitter.setMaxListeners() to increase limit"));B.name="MaxListenersExceededWarning",B.emitter=N,B.type=L,B.count=Y.length,g(B)}return N}function m(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function a(N,L,G){var J={fired:!1,wrapFn:void 0,target:N,type:L,listener:G},se=m.bind(J);return se.listener=G,J.wrapFn=se,se}function o(N,L,G){var J=N._events;if(J===void 0)return[];var se=J[L];return se===void 0?[]:typeof se=="function"?G?[se.listener||se]:[se]:G?d(se):s(se,se.length)}function h(N){var L=this._events;if(L!==void 0){var G=L[N];if(typeof G=="function")return 1;if(G!==void 0)return G.length}return 0}function s(N,L){for(var G=Array(L),J=0;J<L;++J)G[J]=N[J];return G}function r(N,L){for(;L+1<N.length;L++)N[L]=N[L+1];N.pop()}function d(N){for(var L=Array(N.length),G=0;G<L.length;++G)L[G]=N[G].listener||N[G];return L}function c(N,L){return new Promise(function(G,J){function se(Y){N.removeListener(L,ce),J(Y)}function ce(){typeof N.removeListener=="function"&&N.removeListener("error",se),G([].slice.call(arguments))}u(N,L,ce,{once:!0}),L!=="error"&&f(N,se,{once:!0})})}function f(N,L,G){typeof N.on=="function"&&u(N,"error",L,G)}function u(N,L,G,J){if(typeof N.on=="function")J.once?N.once(L,G):N.on(L,G);else if(typeof N.addEventListener=="function")N.addEventListener(L,function se(ce){J.once&&N.removeEventListener(L,se),G(ce)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof N)}var k=typeof Reflect=="object"?Reflect:null,R=k&&typeof k.apply=="function"?k.apply:function(L,G,J){return Function.prototype.apply.call(L,G,J)},A;A=k&&typeof k.ownKeys=="function"?k.ownKeys:Object.getOwnPropertySymbols?function(L){return Object.getOwnPropertyNames(L).concat(Object.getOwnPropertySymbols(L))}:function(L){return Object.getOwnPropertyNames(L)};var w=Number.isNaN||function(L){return L!==L};V.exports=C,V.exports.once=c,C.EventEmitter=C,C.prototype._events=void 0,C.prototype._eventsCount=0,C.prototype._maxListeners=void 0;var I=10;Object.defineProperty(C,"defaultMaxListeners",{enumerable:!0,get:function(){return I},set:function(N){if(typeof N!="number"||0>N||w(N))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+N+".");I=N}}),C.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},C.prototype.setMaxListeners=function(L){if(typeof L!="number"||0>L||w(L))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+L+".");return this._maxListeners=L,this},C.prototype.getMaxListeners=function(){return y(this)},C.prototype.emit=function(L){for(var G=[],J=1;J<arguments.length;J++)G.push(arguments[J]);var se=L==="error",ce=this._events;if(ce!==void 0)se=se&&ce.error===void 0;else if(!se)return!1;if(se){var Y;if(0<G.length&&(Y=G[0]),Y instanceof Error)throw Y;var B=new Error("Unhandled error."+(Y?" ("+Y.message+")":""));throw B.context=Y,B}var _=ce[L];if(_===void 0)return!1;if(typeof _=="function")R(_,this,G);else for(var p=_.length,T=s(_,p),J=0;J<p;++J)R(T[J],this,G);return!0},C.prototype.addListener=function(L,G){return i(this,L,G,!1)},C.prototype.on=C.prototype.addListener,C.prototype.prependListener=function(L,G){return i(this,L,G,!0)},C.prototype.once=function(L,G){return E(G),this.on(L,a(this,L,G)),this},C.prototype.prependOnceListener=function(L,G){return E(G),this.prependListener(L,a(this,L,G)),this},C.prototype.removeListener=function(L,G){var J,se,ce,Y,B;if(E(G),se=this._events,se===void 0)return this;if(J=se[L],J===void 0)return this;if(J===G||J.listener===G)--this._eventsCount==0?this._events=Object.create(null):(delete se[L],se.removeListener&&this.emit("removeListener",L,J.listener||G));else if(typeof J!="function"){for(ce=-1,Y=J.length-1;0<=Y;Y--)if(J[Y]===G||J[Y].listener===G){B=J[Y].listener,ce=Y;break}if(0>ce)return this;ce===0?J.shift():r(J,ce),J.length===1&&(se[L]=J[0]),se.removeListener!==void 0&&this.emit("removeListener",L,B||G)}return this},C.prototype.off=C.prototype.removeListener,C.prototype.removeAllListeners=function(L){var G,J,se;if(J=this._events,J===void 0)return this;if(J.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):J[L]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete J[L]),this;if(arguments.length===0){var ce=Object.keys(J),Y;for(se=0;se<ce.length;++se)Y=ce[se],Y!=="removeListener"&&this.removeAllListeners(Y);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(G=J[L],typeof G=="function")this.removeListener(L,G);else if(G!==void 0)for(se=G.length-1;0<=se;se--)this.removeListener(L,G[se]);return this},C.prototype.listeners=function(L){return o(this,L,!0)},C.prototype.rawListeners=function(L){return o(this,L,!1)},C.listenerCount=function(N,L){return typeof N.listenerCount=="function"?N.listenerCount(L):h.call(N,L)},C.prototype.listenerCount=h,C.prototype.eventNames=function(){return 0<this._eventsCount?A(this._events):[]}},{}],123:[function(x,V,O){function g(y,i,m,a){if(C.isBuffer(y)||(y=C.from(y,"binary")),i&&(C.isBuffer(i)||(i=C.from(i,"binary")),i.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var o=m/8,h=C.alloc(o),s=C.alloc(a||0),r=C.alloc(0),d;0<o||0<a;){d=new E,d.update(r),d.update(y),i&&d.update(i),r=d.digest();var c=0;if(0<o){var f=h.length-o;c=ke(o,r.length),r.copy(h,f,0,c),o-=c}if(c<r.length&&0<a){var u=s.length-a,k=ke(a,r.length-c);r.copy(s,u,c,c+k),a-=k}}return r.fill(0),{key:h,iv:s}}var C=x("safe-buffer").Buffer,E=x("md5.js");V.exports=g},{"md5.js":158,"safe-buffer":234}],124:[function(x,V,O){function g(i,m={}){return C.from(i.stream(),m)}const{Readable:C,Writable:E}=x("streamx");x("fast-readable-async-iterator");class y extends E{constructor(m,a={}){super(Object.assign({decodeStrings:!1},a)),this.chunks=[];const o=a.mimeType;this.once("close",()=>{const h=o==null?new Blob(this.chunks):new Blob(this.chunks,{type:o});m(h),this.emit("blob",h)})}_write(m,a){this.chunks.push(m),a()}}V.exports={BlobWriteStream:y,BlobReadStream:g}},{"fast-readable-async-iterator":127,streamx:263}],125:[function(x,V,O){V.exports=class{constructor(C){if(!(0<C)||(C-1&C)!=0)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=Array(C),this.mask=C-1,this.top=0,this.btm=0,this.next=null}push(C){return this.buffer[this.top]===void 0&&(this.buffer[this.top]=C,this.top=this.top+1&this.mask,!0)}shift(){const C=this.buffer[this.btm];if(C!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,C}peek(){return this.buffer[this.btm]}isEmpty(){return this.buffer[this.btm]===void 0}}},{}],126:[function(x,V,O){const g=x("./fixed-size");V.exports=class{constructor(E){this.hwm=E||16,this.head=new g(this.hwm),this.tail=this.head}push(E){if(!this.head.push(E)){const y=this.head;this.head=y.next=new g(2*this.head.buffer.length),this.head.push(E)}}shift(){const E=this.tail.shift();if(E===void 0&&this.tail.next){const y=this.tail.next;return this.tail.next=null,this.tail=y,this.tail.shift()}return E}peek(){return this.tail.peek()}isEmpty(){return this.head.isEmpty()}}},{"./fixed-size":125}],127:[function(x,V,O){typeof ReadableStream>"u"||ReadableStream.prototype[Symbol.asyncIterator]||(ReadableStream.prototype[Symbol.asyncIterator]=function(){const g=this.getReader();let C=g.read();return{next(){const E=C;return C=g.read(),E},return(){C.then(()=>g.releaseLock())},throw(E){throw this.return(),E},[Symbol.asyncIterator](){return this}}})},{}],128:[function(x,V,O){V.exports=function(){if(typeof globalThis>"u")return null;var C={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return C.RTCPeerConnection?C:null}},{}],129:[function(x,V,O){function g(m,a){if(!E.isBuffer(m)&&typeof m!="string")throw new TypeError(a+" must be a string or a buffer")}function C(m){y.call(this),this._block=E.allocUnsafe(m),this._blockSize=m,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}var E=x("safe-buffer").Buffer,y=x("readable-stream").Transform,i=x("inherits");i(C,y),C.prototype._transform=function(m,a,o){var h=null;try{this.update(m,a)}catch(s){h=s}o(h)},C.prototype._flush=function(m){var a=null;try{this.push(this.digest())}catch(o){a=o}m(a)},C.prototype.update=function(m,a){if(g(m,"Data"),this._finalized)throw new Error("Digest already called");E.isBuffer(m)||(m=E.from(m,a));for(var o=this._block,h=0;this._blockOffset+m.length-h>=this._blockSize;){for(var s=this._blockOffset;s<this._blockSize;)o[s++]=m[h++];this._update(),this._blockOffset=0}for(;h<m.length;)o[this._blockOffset++]=m[h++];for(var r=0,d=8*m.length;0<d;++r)this._length[r]+=d,d=0|this._length[r]/4294967296,0<d&&(this._length[r]-=4294967296*d);return this},C.prototype._update=function(){throw new Error("_update is not implemented")},C.prototype.digest=function(m){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var a=this._digest();m!==void 0&&(a=a.toString(m)),this._block.fill(0),this._blockOffset=0;for(var o=0;4>o;++o)this._length[o]=0;return a},C.prototype._digest=function(){throw new Error("_digest is not implemented")},V.exports=C},{inherits:146,"readable-stream":227,"safe-buffer":234}],130:[function(x,V,O){var g=O;g.utils=x("./hash/utils"),g.common=x("./hash/common"),g.sha=x("./hash/sha"),g.ripemd=x("./hash/ripemd"),g.hmac=x("./hash/hmac"),g.sha1=g.sha.sha1,g.sha256=g.sha.sha256,g.sha224=g.sha.sha224,g.sha384=g.sha.sha384,g.sha512=g.sha.sha512,g.ripemd160=g.ripemd.ripemd160},{"./hash/common":131,"./hash/hmac":132,"./hash/ripemd":133,"./hash/sha":134,"./hash/utils":141}],131:[function(x,V,O){function g(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var C=x("./utils"),E=x("minimalistic-assert");O.BlockHash=g,g.prototype.update=function(i,m){if(i=C.toArray(i,m),this.pending=this.pending?this.pending.concat(i):i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var a=i.length%this._delta8;this.pending=i.slice(i.length-a,i.length),this.pending.length===0&&(this.pending=null),i=C.join32(i,0,i.length-a,this.endian);for(var o=0;o<i.length;o+=this._delta32)this._update(i,o,o+this._delta32)}return this},g.prototype.digest=function(i){return this.update(this._pad()),E(this.pending===null),this._digest(i)},g.prototype._pad=function(){var i=this.pendingTotal,m=this._delta8,a=m-(i+this.padLength)%m,o=Array(a+this.padLength);o[0]=128;for(var h=1;h<a;h++)o[h]=0;if(i<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)o[h++]=0;o[h++]=0,o[h++]=0,o[h++]=0,o[h++]=0,o[h++]=255&i>>>24,o[h++]=255&i>>>16,o[h++]=255&i>>>8,o[h++]=255&i}else for(o[h++]=255&i,o[h++]=255&i>>>8,o[h++]=255&i>>>16,o[h++]=255&i>>>24,o[h++]=0,o[h++]=0,o[h++]=0,o[h++]=0,s=8;s<this.padLength;s++)o[h++]=0;return o}},{"./utils":141,"minimalistic-assert":167}],132:[function(x,V,O){function g(y,i,m){return this instanceof g?(this.Hash=y,this.blockSize=y.blockSize/8,this.outSize=y.outSize/8,this.inner=null,this.outer=null,void this._init(C.toArray(i,m))):new g(y,i,m)}var C=x("./utils"),E=x("minimalistic-assert");V.exports=g,g.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),E(i.length<=this.blockSize);for(var m=i.length;m<this.blockSize;m++)i.push(0);for(m=0;m<i.length;m++)i[m]^=54;for(this.inner=new this.Hash().update(i),m=0;m<i.length;m++)i[m]^=106;this.outer=new this.Hash().update(i)},g.prototype.update=function(i,m){return this.inner.update(i,m),this},g.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)}},{"./utils":141,"minimalistic-assert":167}],133:[function(x,V,O){function g(){return this instanceof g?(r.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],void(this.endian="little")):new g}function C(k,R,A,w){return 15>=k?R^A^w:31>=k?R&A|~R&w:47>=k?(R|~A)^w:63>=k?R&w|A&~w:R^(A|~w)}function E(k){return 15>=k?0:31>=k?1518500249:47>=k?1859775393:63>=k?2400959708:2840853838}function y(k){return 15>=k?1352829926:31>=k?1548603684:47>=k?1836072691:63>=k?2053994217:0}var i=x("./utils"),m=x("./common"),a=i.rotl32,o=i.sum32,h=i.sum32_3,s=i.sum32_4,r=m.BlockHash;i.inherits(g,r),O.ripemd160=g,g.blockSize=512,g.outSize=160,g.hmacStrength=192,g.padLength=64,g.prototype._update=function(R,A){for(var w=this.h[0],I=this.h[1],N=this.h[2],L=this.h[3],G=this.h[4],J=w,se=I,ce=N,Y=L,B=G,_=0,p;80>_;_++)p=o(a(s(w,C(_,I,N,L),R[d[_]+A],E(_)),f[_]),G),w=G,G=L,L=a(N,10),N=I,I=p,p=o(a(s(J,C(79-_,se,ce,Y),R[c[_]+A],y(_)),u[_]),B),J=B,B=Y,Y=a(ce,10),ce=se,se=p;p=h(this.h[1],N,Y),this.h[1]=h(this.h[2],L,B),this.h[2]=h(this.h[3],G,J),this.h[3]=h(this.h[4],w,se),this.h[4]=h(this.h[0],I,ce),this.h[0]=p},g.prototype._digest=function(R){return R==="hex"?i.toHex32(this.h,"little"):i.split32(this.h,"little")};var d=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],f=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],u=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":131,"./utils":141}],134:[function(x,V,O){O.sha1=x("./sha/1"),O.sha224=x("./sha/224"),O.sha256=x("./sha/256"),O.sha384=x("./sha/384"),O.sha512=x("./sha/512")},{"./sha/1":135,"./sha/224":136,"./sha/256":137,"./sha/384":138,"./sha/512":139}],135:[function(x,V,O){function g(){return this instanceof g?(h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],void(this.W=Array(80))):new g}var C=x("../utils"),E=x("../common"),y=x("./common"),i=C.rotl32,m=C.sum32,a=C.sum32_5,o=y.ft_1,h=E.BlockHash,s=[1518500249,1859775393,2400959708,3395469782];C.inherits(g,h),V.exports=g,g.blockSize=512,g.outSize=160,g.hmacStrength=80,g.padLength=64,g.prototype._update=function(d,c){for(var f=this.W,u=0;16>u;u++)f[u]=d[c+u];for(;u<f.length;u++)f[u]=i(f[u-3]^f[u-8]^f[u-14]^f[u-16],1);var k=this.h[0],R=this.h[1],A=this.h[2],w=this.h[3],I=this.h[4];for(u=0;u<f.length;u++){var N=~~(u/20),L=a(i(k,5),o(N,R,A,w),I,f[u],s[N]);I=w,w=A,A=i(R,30),R=k,k=L}this.h[0]=m(this.h[0],k),this.h[1]=m(this.h[1],R),this.h[2]=m(this.h[2],A),this.h[3]=m(this.h[3],w),this.h[4]=m(this.h[4],I)},g.prototype._digest=function(d){return d==="hex"?C.toHex32(this.h,"big"):C.split32(this.h,"big")}},{"../common":131,"../utils":141,"./common":140}],136:[function(x,V,O){function g(){return this instanceof g?(E.call(this),void(this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])):new g}var C=x("../utils"),E=x("./256");C.inherits(g,E),V.exports=g,g.blockSize=512,g.outSize=224,g.hmacStrength=192,g.padLength=64,g.prototype._digest=function(i){return i==="hex"?C.toHex32(this.h.slice(0,7),"big"):C.split32(this.h.slice(0,7),"big")}},{"../utils":141,"./256":137}],137:[function(x,V,O){function g(){return this instanceof g?(u.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=k,void(this.W=Array(64))):new g}var C=x("../utils"),E=x("../common"),y=x("./common"),i=x("minimalistic-assert"),m=C.sum32,a=C.sum32_4,o=C.sum32_5,h=y.ch32,s=y.maj32,r=y.s0_256,d=y.s1_256,c=y.g0_256,f=y.g1_256,u=E.BlockHash,k=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];C.inherits(g,u),V.exports=g,g.blockSize=512,g.outSize=256,g.hmacStrength=192,g.padLength=64,g.prototype._update=function(A,w){for(var I=this.W,N=0;16>N;N++)I[N]=A[w+N];for(;N<I.length;N++)I[N]=a(f(I[N-2]),I[N-7],c(I[N-15]),I[N-16]);var L=this.h[0],G=this.h[1],J=this.h[2],se=this.h[3],ce=this.h[4],Y=this.h[5],B=this.h[6],_=this.h[7];for(i(this.k.length===I.length),N=0;N<I.length;N++){var p=o(_,d(ce),h(ce,Y,B),this.k[N],I[N]),T=m(r(L),s(L,G,J));_=B,B=Y,Y=ce,ce=m(se,p),se=J,J=G,G=L,L=m(p,T)}this.h[0]=m(this.h[0],L),this.h[1]=m(this.h[1],G),this.h[2]=m(this.h[2],J),this.h[3]=m(this.h[3],se),this.h[4]=m(this.h[4],ce),this.h[5]=m(this.h[5],Y),this.h[6]=m(this.h[6],B),this.h[7]=m(this.h[7],_)},g.prototype._digest=function(A){return A==="hex"?C.toHex32(this.h,"big"):C.split32(this.h,"big")}},{"../common":131,"../utils":141,"./common":140,"minimalistic-assert":167}],138:[function(x,V,O){function g(){return this instanceof g?(E.call(this),void(this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428])):new g}var C=x("../utils"),E=x("./512");C.inherits(g,E),V.exports=g,g.blockSize=1024,g.outSize=384,g.hmacStrength=192,g.padLength=128,g.prototype._digest=function(i){return i==="hex"?C.toHex32(this.h.slice(0,12),"big"):C.split32(this.h.slice(0,12),"big")}},{"../utils":141,"./512":139}],139:[function(x,V,O){function g(){return this instanceof g?(B.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=_,void(this.W=Array(160))):new g}function C(p,T,M,F,j){var U=p&M^~p&j;return 0>U&&(U+=4294967296),U}function E(p,T,M,F,j,U){var K=T&F^~T&U;return 0>K&&(K+=4294967296),K}function y(p,T,M,F,j){var U=p&M^p&j^M&j;return 0>U&&(U+=4294967296),U}function i(p,T,M,F,j,U){var K=T&F^T&U^F&U;return 0>K&&(K+=4294967296),K}function m(p,T){var M=R(p,T,28),F=R(T,p,2),j=R(T,p,7),U=M^F^j;return 0>U&&(U+=4294967296),U}function a(p,T){var M=A(p,T,28),F=A(T,p,2),j=A(T,p,7),U=M^F^j;return 0>U&&(U+=4294967296),U}function o(p,T){var M=R(p,T,14),F=R(p,T,18),j=R(T,p,9),U=M^F^j;return 0>U&&(U+=4294967296),U}function h(p,T){var M=A(p,T,14),F=A(p,T,18),j=A(T,p,9),U=M^F^j;return 0>U&&(U+=4294967296),U}function s(p,T){var M=R(p,T,1),F=R(p,T,8),j=w(p,T,7),U=M^F^j;return 0>U&&(U+=4294967296),U}function r(p,T){var M=A(p,T,1),F=A(p,T,8),j=I(p,T,7),U=M^F^j;return 0>U&&(U+=4294967296),U}function d(p,T){var M=R(p,T,19),F=R(T,p,29),j=w(p,T,6),U=M^F^j;return 0>U&&(U+=4294967296),U}function c(p,T){var M=A(p,T,19),F=A(T,p,29),j=I(p,T,6),U=M^F^j;return 0>U&&(U+=4294967296),U}var f=x("../utils"),u=x("../common"),k=x("minimalistic-assert"),R=f.rotr64_hi,A=f.rotr64_lo,w=f.shr64_hi,I=f.shr64_lo,N=f.sum64,L=f.sum64_hi,G=f.sum64_lo,J=f.sum64_4_hi,se=f.sum64_4_lo,ce=f.sum64_5_hi,Y=f.sum64_5_lo,B=u.BlockHash,_=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];f.inherits(g,B),V.exports=g,g.blockSize=1024,g.outSize=512,g.hmacStrength=192,g.padLength=128,g.prototype._prepareBlock=function(T,M){for(var F=this.W,j=0;32>j;j++)F[j]=T[M+j];for(;j<F.length;j+=2){var U=d(F[j-4],F[j-3]),K=c(F[j-4],F[j-3]),Q=F[j-14],ee=F[j-13],fe=s(F[j-30],F[j-29]),ae=r(F[j-30],F[j-29]),me=F[j-32],he=F[j-31];F[j]=J(U,K,Q,ee,fe,ae,me,he),F[j+1]=se(U,K,Q,ee,fe,ae,me,he)}},g.prototype._update=function(T,M){this._prepareBlock(T,M);var F=this.W,j=this.h[0],U=this.h[1],K=this.h[2],Q=this.h[3],ee=this.h[4],fe=this.h[5],ae=this.h[6],me=this.h[7],he=this.h[8],Se=this.h[9],Ae=this.h[10],pe=this.h[11],ge=this.h[12],xe=this.h[13],Ce=this.h[14],de=this.h[15];k(this.k.length===F.length);for(var q=0;q<F.length;q+=2){var P=Ce,H=de,Z=o(he,Se),oe=h(he,Se),ue=C(he,Se,Ae,pe,ge),ve=E(he,Se,Ae,pe,ge,xe),Re=this.k[q],Pe=this.k[q+1],Ie=F[q],Be=F[q+1],De=ce(P,H,Z,oe,ue,ve,Re,Pe,Ie,Be),Ne=Y(P,H,Z,oe,ue,ve,Re,Pe,Ie,Be);P=m(j,U),H=a(j,U),Z=y(j,U,K,Q,ee),oe=i(j,U,K,Q,ee,fe);var Le=L(P,H,Z,oe),We=G(P,H,Z,oe);Ce=ge,de=xe,ge=Ae,xe=pe,Ae=he,pe=Se,he=L(ae,me,De,Ne),Se=G(me,me,De,Ne),ae=ee,me=fe,ee=K,fe=Q,K=j,Q=U,j=L(De,Ne,Le,We),U=G(De,Ne,Le,We)}N(this.h,0,j,U),N(this.h,2,K,Q),N(this.h,4,ee,fe),N(this.h,6,ae,me),N(this.h,8,he,Se),N(this.h,10,Ae,pe),N(this.h,12,ge,xe),N(this.h,14,Ce,de)},g.prototype._digest=function(T){return T==="hex"?f.toHex32(this.h,"big"):f.split32(this.h,"big")}},{"../common":131,"../utils":141,"minimalistic-assert":167}],140:[function(x,V,O){function g(r,d,c,f){return r===0?C(d,c,f):r===1||r===3?y(d,c,f):r===2?E(d,c,f):void 0}function C(r,d,c){return r&d^~r&c}function E(r,d,c){return r&d^r&c^d&c}function y(r,d,c){return r^d^c}function i(r){return s(r,2)^s(r,13)^s(r,22)}function m(r){return s(r,6)^s(r,11)^s(r,25)}function a(r){return s(r,7)^s(r,18)^r>>>3}function o(r){return s(r,17)^s(r,19)^r>>>10}var h=x("../utils"),s=h.rotr32;O.ft_1=g,O.ch32=C,O.maj32=E,O.p32=y,O.s0_256=i,O.s1_256=m,O.g0_256=a,O.g1_256=o},{"../utils":141}],141:[function(x,V,O){function g(_,p){return(64512&_.charCodeAt(p))==55296&&!(0>p||p+1>=_.length)&&(64512&_.charCodeAt(p+1))==56320}function C(_,p){if(Array.isArray(_))return _.slice();if(!_)return[];var T=[];if(typeof _!="string")for(F=0;F<_.length;F++)T[F]=0|_[F];else if(p){if(p==="hex")for(_=_.replace(/[^a-z0-9]+/ig,""),_.length%2!=0&&(_="0"+_),F=0;F<_.length;F+=2)T.push(parseInt(_[F]+_[F+1],16))}else for(var M=0,F=0,j;F<_.length;F++)j=_.charCodeAt(F),128>j?T[M++]=j:2048>j?(T[M++]=192|j>>6,T[M++]=128|63&j):g(_,F)?(j=65536+((1023&j)<<10)+(1023&_.charCodeAt(++F)),T[M++]=240|j>>18,T[M++]=128|63&j>>12,T[M++]=128|63&j>>6,T[M++]=128|63&j):(T[M++]=224|j>>12,T[M++]=128|63&j>>6,T[M++]=128|63&j);return T}function E(_){for(var p="",T=0;T<_.length;T++)p+=m(_[T].toString(16));return p}function y(_){var p=_>>>24|65280&_>>>8|16711680&_<<8|(255&_)<<24;return p>>>0}function i(_,p){for(var T="",M=0,F;M<_.length;M++)F=_[M],p==="little"&&(F=y(F)),T+=a(F.toString(16));return T}function m(_){return _.length===1?"0"+_:_}function a(_){return _.length===7?"0"+_:_.length===6?"00"+_:_.length===5?"000"+_:_.length===4?"0000"+_:_.length===3?"00000"+_:_.length===2?"000000"+_:_.length===1?"0000000"+_:_}function o(_,p,T,M){var F=T-p;Y(F%4==0);for(var j=Array(F/4),U=0,K=p;U<j.length;U++,K+=4){var Q;Q=M==="big"?_[K]<<24|_[K+1]<<16|_[K+2]<<8|_[K+3]:_[K+3]<<24|_[K+2]<<16|_[K+1]<<8|_[K],j[U]=Q>>>0}return j}function h(_,p){for(var T=Array(4*_.length),M=0,F=0,j;M<_.length;M++,F+=4)j=_[M],p==="big"?(T[F]=j>>>24,T[F+1]=255&j>>>16,T[F+2]=255&j>>>8,T[F+3]=255&j):(T[F+3]=j>>>24,T[F+2]=255&j>>>16,T[F+1]=255&j>>>8,T[F]=255&j);return T}function s(_,p){return _>>>p|_<<32-p}function r(_,p){return _<<p|_>>>32-p}function d(_,p){return _+p>>>0}function c(_,p,T){return _+p+T>>>0}function f(_,p,T,M){return _+p+T+M>>>0}function u(_,p,T,M,F){return _+p+T+M+F>>>0}function k(_,p,T,M){var F=_[p],j=_[p+1],U=M+j>>>0,K=(U<M?1:0)+T+F;_[p]=K>>>0,_[p+1]=U}function R(_,p,T,M){var F=p+M>>>0,j=(F<p?1:0)+_+T;return j>>>0}function A(_,p,T,M){var F=p+M;return F>>>0}function w(_,p,T,M,F,j,U,K){var Q=0,ee=p;ee=ee+M>>>0,Q+=ee<p?1:0,ee=ee+j>>>0,Q+=ee<j?1:0,ee=ee+K>>>0,Q+=ee<K?1:0;var fe=_+T+F+U+Q;return fe>>>0}function I(_,p,T,M,F,j,U,K){var Q=p+M+j+K;return Q>>>0}function N(_,p,T,M,F,j,U,K,Q,ee){var fe=0,ae=p;ae=ae+M>>>0,fe+=ae<p?1:0,ae=ae+j>>>0,fe+=ae<j?1:0,ae=ae+K>>>0,fe+=ae<K?1:0,ae=ae+ee>>>0,fe+=ae<ee?1:0;var me=_+T+F+U+Q+fe;return me>>>0}function L(_,p,T,M,F,j,U,K,Q,ee){var fe=p+M+j+K+ee;return fe>>>0}function G(_,p,T){var M=p<<32-T|_>>>T;return M>>>0}function J(_,p,T){var M=_<<32-T|p>>>T;return M>>>0}function se(_,p,T){return _>>>T}function ce(_,p,T){var M=_<<32-T|p>>>T;return M>>>0}var Y=x("minimalistic-assert"),B=x("inherits");O.inherits=B,O.toArray=C,O.toHex=E,O.htonl=y,O.toHex32=i,O.zero2=m,O.zero8=a,O.join32=o,O.split32=h,O.rotr32=s,O.rotl32=r,O.sum32=d,O.sum32_3=c,O.sum32_4=f,O.sum32_5=u,O.sum64=k,O.sum64_hi=R,O.sum64_lo=A,O.sum64_4_hi=w,O.sum64_4_lo=I,O.sum64_5_hi=N,O.sum64_5_lo=L,O.rotr64_hi=G,O.rotr64_lo=J,O.shr64_hi=se,O.shr64_lo=ce},{inherits:146,"minimalistic-assert":167}],142:[function(x,V,O){function g(i){if(!(this instanceof g))return new g(i);this.hash=i.hash,this.predResist=!!i.predResist,this.outLen=this.hash.outSize,this.minEntropy=i.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var m=E.toArray(i.entropy,i.entropyEnc||"hex"),a=E.toArray(i.nonce,i.nonceEnc||"hex"),o=E.toArray(i.pers,i.persEnc||"hex");y(m.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(m,a,o)}var C=x("hash.js"),E=x("minimalistic-crypto-utils"),y=x("minimalistic-assert");V.exports=g,g.prototype._init=function(m,a,o){var h=m.concat(a).concat(o);this.K=Array(this.outLen/8),this.V=Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(h),this._reseed=1,this.reseedInterval=281474976710656},g.prototype._hmac=function(){return new C.hmac(this.hash,this.K)},g.prototype._update=function(m){var a=this._hmac().update(this.V).update([0]);m&&(a=a.update(m)),this.K=a.digest(),this.V=this._hmac().update(this.V).digest(),m&&(this.K=this._hmac().update(this.V).update([1]).update(m).digest(),this.V=this._hmac().update(this.V).digest())},g.prototype.reseed=function(m,a,o,h){typeof a!="string"&&(h=o,o=a,a=null),m=E.toArray(m,a),o=E.toArray(o,h),y(m.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(m.concat(o||[])),this._reseed=1},g.prototype.generate=function(m,a,o,h){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof a!="string"&&(h=o,o=a,a=null),o&&(o=E.toArray(o,h||"hex"),this._update(o));for(var s=[];s.length<m;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var r=s.slice(0,m);return this._update(o),this._reseed++,E.encode(r,a)}},{"hash.js":130,"minimalistic-assert":167,"minimalistic-crypto-utils":168}],143:[function(x,V,O){function g(m){if(typeof m=="string"&&(m=E.parse(m)),m.protocol||(m.protocol="https:"),m.protocol!=="https:")throw new Error('Protocol "'+m.protocol+'" not supported. Expected "https:"');return m}var C=x("http"),E=x("url"),y=V.exports;for(var i in C)C.hasOwnProperty(i)&&(y[i]=C[i]);y.request=function(m,a){return m=g(m),C.request.call(this,m,a)},y.get=function(m,a){return m=g(m),C.get.call(this,m,a)}},{http:256,url:273}],144:[function(x,V,O){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */O.read=function(g,C,E,y,i){var m=8*i-y-1,a=(1<<m)-1,o=a>>1,h=-7,s=E?i-1:0,r=E?-1:1,d=g[C+s],c,f;for(s+=r,c=d&(1<<-h)-1,d>>=-h,h+=m;0<h;c=256*c+g[C+s],s+=r,h-=8);for(f=c&(1<<-h)-1,c>>=-h,h+=y;0<h;f=256*f+g[C+s],s+=r,h-=8);if(c===0)c=1-o;else{if(c===a)return f?NaN:(d?-1:1)*(1/0);f+=v(2,y),c-=o}return(d?-1:1)*f*v(2,c-y)},O.write=function(g,C,E,y,i,m){var a=8*m-i-1,o=(1<<a)-1,h=o>>1,s=i===23?v(2,-24)-v(2,-77):0,r=y?0:m-1,d=y?1:-1,c=0>C||C===0&&0>1/C?1:0,f,u,k;for(C=S(C),isNaN(C)||C===1/0?(u=isNaN(C)?1:0,f=o):(f=D(l(C)/n),1>C*(k=v(2,-f))&&(f--,k*=2),C+=1<=f+h?s/k:s*v(2,1-h),2<=C*k&&(f++,k/=2),f+h>=o?(u=0,f=o):1<=f+h?(u=(C*k-1)*v(2,i),f+=h):(u=C*v(2,h-1)*v(2,i),f=0));8<=i;g[E+r]=255&u,r+=d,u/=256,i-=8);for(f=f<<i|u,a+=i;0<a;g[E+r]=255&f,r+=d,f/=256,a-=8);g[E+r-d]|=128*c}},{}],145:[function(x,V,O){/*! immediate-chunk-store. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */const g=x("queue-microtask");class C{constructor(y){if(this.store=y,this.chunkLength=y.chunkLength,!this.store||!this.store.get||!this.store.put)throw new Error("First argument must be abstract-chunk-store compliant");this.mem=[]}put(y,i,m=()=>{}){this.mem[y]=i,this.store.put(y,i,a=>{this.mem[y]=null,m(a)})}get(y,i,m=()=>{}){if(typeof i=="function")return this.get(y,null,i);let a=this.mem[y];if(!a)return this.store.get(y,i,m);i||(i={});const o=i.offset||0,h=i.length||a.length-o;(o!==0||h!==a.length)&&(a=a.slice(o,h+o)),g(()=>m(null,a))}close(y=()=>{}){this.store.close(y)}destroy(y=()=>{}){this.store.destroy(y)}}V.exports=C},{"queue-microtask":205}],146:[function(x,V,O){V.exports=typeof Object.create=="function"?function(C,E){E&&(C.super_=E,C.prototype=Object.create(E.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}))}:function(C,E){if(E){C.super_=E;var y=function(){};y.prototype=E.prototype,C.prototype=new y,C.prototype.constructor=C}}},{}],147:[function(x,V,O){V.exports=function(C){for(var E=0,y=C.length;E<y;++E)if(C.charCodeAt(E)>127)return!1;return!0}},{}],148:[function(x,V,O){function g(E){return!!E.constructor&&typeof E.constructor.isBuffer=="function"&&E.constructor.isBuffer(E)}function C(E){return typeof E.readFloatLE=="function"&&typeof E.slice=="function"&&g(E.slice(0,0))}/*!
* Determine if an object is a Buffer
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/V.exports=function(E){return E!=null&&(g(E)||C(E)||!!E._isBuffer)}},{}],149:[function(x,V,O){V.exports=async function*(g){for(let C of g)typeof C=="function"&&(C=C()),yield*C}},{}],150:[function(x,V,O){const g=["^npm-debug\\.log$","^\\..*\\.swp$","^\\.DS_Store$","^\\.AppleDouble$","^\\.LSOverride$","^Icon\\r$","^\\._.*","^\\.Spotlight-V100(?:$|\\/)","\\.Trashes","^__MACOSX$","~$","^Thumbs\\.db$","^ehthumbs\\.db$","^Desktop\\.ini$","@eaDir$"];O.re=()=>{throw new Error("`junk.re` was renamed to `junk.regex`")},O.regex=new RegExp(g.join("|")),O.is=C=>O.regex.test(C),O.not=C=>!O.is(C),O.default=V.exports},{}],151:[function(x,V,O){O.RateLimiter=x("./lib/rateLimiter"),O.TokenBucket=x("./lib/tokenBucket")},{"./lib/rateLimiter":153,"./lib/tokenBucket":154}],152:[function(x,V,O){(function(g){(function(){var C=function(){if(typeof g<"u"&&g.hrtime){var E=g.hrtime(),y=E[0],i=E[1];return 1e3*y+D(i/1e6)}return new Date().getTime()};V.exports=C}).call(this)}).call(this,x("_process"))},{_process:192}],153:[function(x,V,O){(function(g){(function(){var C=x("./tokenBucket"),E=x("./clock"),y=function(i,m,a){this.tokenBucket=new C(i,i,m,null),this.tokenBucket.content=i,this.curIntervalStart=E(),this.tokensThisInterval=0,this.fireImmediately=a};y.prototype={tokenBucket:null,curIntervalStart:0,tokensThisInterval:0,fireImmediately:!1,removeTokens:function(i,m){function a(r,d){return r?m(r,null):(o.tokensThisInterval+=i,void m(null,d))}if(i>this.tokenBucket.bucketSize)return g.nextTick(m.bind(null,"Requested tokens "+i+" exceeds maximum tokens per interval "+this.tokenBucket.bucketSize,null)),!1;var o=this,h=E();if((h<this.curIntervalStart||h-this.curIntervalStart>=this.tokenBucket.interval)&&(this.curIntervalStart=h,this.tokensThisInterval=0),i>this.tokenBucket.tokensPerInterval-this.tokensThisInterval){if(this.fireImmediately)g.nextTick(m.bind(null,null,-1));else{var s=Ee(this.curIntervalStart+this.tokenBucket.interval-h);setTimeout(function(){o.tokenBucket.removeTokens(i,a)},s)}return!1}return this.tokenBucket.removeTokens(i,a)},tryRemoveTokens:function(i){if(i>this.tokenBucket.bucketSize)return!1;var m=E();if((m<this.curIntervalStart||m-this.curIntervalStart>=this.tokenBucket.interval)&&(this.curIntervalStart=m,this.tokensThisInterval=0),i>this.tokenBucket.tokensPerInterval-this.tokensThisInterval)return!1;var a=this.tokenBucket.tryRemoveTokens(i);return a&&(this.tokensThisInterval+=i),a},getTokensRemaining:function(){return this.tokenBucket.drip(),this.tokenBucket.content}},V.exports=y}).call(this)}).call(this,x("_process"))},{"./clock":152,"./tokenBucket":154,_process:192}],154:[function(x,V,O){(function(g){(function(){var C=function(E,y,i,m){if(this.bucketSize=E,this.tokensPerInterval=y,typeof i=="string")switch(i){case"sec":case"second":this.interval=1e3;break;case"min":case"minute":this.interval=6e4;break;case"hr":case"hour":this.interval=36e5;break;case"day":this.interval=864e5;break;default:throw new Error("Invaid interval "+i)}else this.interval=i;this.parentBucket=m,this.content=0,this.lastDrip=+new Date};C.prototype={bucketSize:1,tokensPerInterval:1,interval:1e3,parentBucket:null,content:0,lastDrip:0,removeTokens:function(E,y){function i(){var a=Ee((E-m.content)*(m.interval/m.tokensPerInterval));return setTimeout(function(){m.removeTokens(E,y)},a),!1}var m=this;return this.bucketSize?E>this.bucketSize?(g.nextTick(y.bind(null,"Requested tokens "+E+" exceeds bucket size "+this.bucketSize,null)),!1):(this.drip(),E>this.content?i():this.parentBucket?this.parentBucket.removeTokens(E,function(a,o){return a?y(a,null):E>m.content?i():(m.content-=E,void y(null,ke(o,m.content)))}):(this.content-=E,g.nextTick(y.bind(null,null,this.content)),!0)):(g.nextTick(y.bind(null,null,E,Number.POSITIVE_INFINITY)),!0)},tryRemoveTokens:function(E){return!this.bucketSize||!(E>this.bucketSize)&&(this.drip(),!(E>this.content))&&(!this.parentBucket||this.parentBucket.tryRemoveTokens(E))&&(this.content-=E,!0)},drip:function(){if(!this.tokensPerInterval)return void(this.content=this.bucketSize);var E=+new Date,y=be(E-this.lastDrip,0);this.lastDrip=E;var i=y*(this.tokensPerInterval/this.interval);this.content=ke(this.content+i,this.bucketSize)}},V.exports=C}).call(this)}).call(this,x("_process"))},{_process:192}],155:[function(x,V,O){function g(y){return this instanceof g?(typeof y=="number"&&(y={max:y}),!y&&(y={}),C.EventEmitter.call(this),this.cache={},this.head=this.tail=null,this.length=0,this.max=y.max||1e3,void(this.maxAge=y.maxAge||0)):new g(y)}var C=x("events"),E=x("inherits");V.exports=g,E(g,C.EventEmitter),Object.defineProperty(g.prototype,"keys",{get:function(){return Object.keys(this.cache)}}),g.prototype.clear=function(){this.cache={},this.head=this.tail=null,this.length=0},g.prototype.remove=function(y){if(typeof y!="string"&&(y=""+y),!!this.cache.hasOwnProperty(y)){var i=this.cache[y];return delete this.cache[y],this._unlink(y,i.prev,i.next),i.value}},g.prototype._unlink=function(y,i,m){this.length--,this.length===0?this.head=this.tail=null:this.head===y?(this.head=i,this.cache[this.head].next=null):this.tail===y?(this.tail=m,this.cache[this.tail].prev=null):(this.cache[i].next=m,this.cache[m].prev=i)},g.prototype.peek=function(y){if(this.cache.hasOwnProperty(y)){var i=this.cache[y];return this._checkAge(y,i)?i.value:void 0}},g.prototype.set=function(y,i){typeof y!="string"&&(y=""+y);var m;if(this.cache.hasOwnProperty(y)){if(m=this.cache[y],m.value=i,this.maxAge&&(m.modified=Date.now()),y===this.head)return i;this._unlink(y,m.prev,m.next)}else m={value:i,modified:0,next:null,prev:null},this.maxAge&&(m.modified=Date.now()),this.cache[y]=m,this.length===this.max&&this.evict();return this.length++,m.next=null,m.prev=this.head,this.head&&(this.cache[this.head].next=y),this.head=y,this.tail||(this.tail=y),i},g.prototype._checkAge=function(y,i){return!(this.maxAge&&Date.now()-i.modified>this.maxAge)||(this.remove(y),this.emit("evict",{key:y,value:i.value}),!1)},g.prototype.get=function(y){if(typeof y!="string"&&(y=""+y),!!this.cache.hasOwnProperty(y)){var i=this.cache[y];if(this._checkAge(y,i))return this.head!==y&&(y===this.tail?(this.tail=i.next,this.cache[this.tail].prev=null):this.cache[i.prev].next=i.next,this.cache[i.next].prev=i.prev,this.cache[this.head].next=y,i.prev=this.head,i.next=null,this.head=y),i.value}},g.prototype.evict=function(){if(this.tail){var y=this.tail,i=this.remove(this.tail);this.emit("evict",{key:y,value:i})}}},{events:122,inherits:146}],156:[function(x,V,O){(function(g){(function(){/*! lt_donthave. MIT License. WebTorrent LLC <https://webtorrent.io/opensource> */const C=x("unordered-array-remove"),{EventEmitter:E}=x("events"),y=x("debug")("lt_donthave");V.exports=()=>{class i extends E{constructor(a){super(),this._peerSupports=!1,this._wire=a}onExtendedHandshake(){this._peerSupports=!0}onMessage(a){let o;try{o=a.readUInt32BE()}catch{return}this._wire.peerPieces.get(o)&&(y("got donthave %d",o),this._wire.peerPieces.set(o,!1),this.emit("donthave",o),this._failRequests(o))}donthave(a){if(this._peerSupports){y("donthave %d",a);const o=g.alloc(4);o.writeUInt32BE(a),this._wire.extended("lt_donthave",o)}}_failRequests(a){const o=this._wire.requests;for(let h=0;h<o.length;h++){const s=o[h];s.piece===a&&(C(o,h),h-=1,this._wire._callback(s,new Error("peer sent donthave"),null))}}}return i.prototype.name="lt_donthave",i}}).call(this)}).call(this,x("buffer").Buffer)},{buffer:75,debug:90,events:122,"unordered-array-remove":272}],157:[function(x,V,O){(function(g){(function(){function C(m){const a={},o=m.split("magnet:?")[1];(o&&0<=o.length?o.split("&"):[]).forEach(r=>{const d=r.split("=");if(d.length!==2)return;const c=d[0];let f=d[1];c==="dn"&&(f=decodeURIComponent(f).replace(/\+/g," ")),(c==="tr"||c==="xs"||c==="as"||c==="ws")&&(f=decodeURIComponent(f)),c==="kt"&&(f=decodeURIComponent(f).split("+")),c==="ix"&&(f=+f),c==="so"&&(f=i.parse(decodeURIComponent(f).split(","))),a[c]?(!Array.isArray(a[c])&&(a[c]=[a[c]]),a[c].push(f)):a[c]=f});let s;return a.xt&&(Array.isArray(a.xt)?a.xt:[a.xt]).forEach(d=>{if(s=d.match(/^urn:btih:(.{40})/))a.infoHash=s[1].toLowerCase();else if(s=d.match(/^urn:btih:(.{32})/)){const c=y.decode(s[1]);a.infoHash=g.from(c,"binary").toString("hex")}else(s=d.match(/^urn:btmh:1220(.{64})/))&&(a.infoHashV2=s[1].toLowerCase())}),a.xs&&(Array.isArray(a.xs)?a.xs:[a.xs]).forEach(d=>{(s=d.match(/^urn:btpk:(.{64})/))&&(a.publicKey=s[1].toLowerCase())}),a.infoHash&&(a.infoHashBuffer=g.from(a.infoHash,"hex")),a.infoHashV2&&(a.infoHashV2Buffer=g.from(a.infoHashV2,"hex")),a.publicKey&&(a.publicKeyBuffer=g.from(a.publicKey,"hex")),a.dn&&(a.name=a.dn),a.kt&&(a.keywords=a.kt),a.announce=[],(typeof a.tr=="string"||Array.isArray(a.tr))&&(a.announce=a.announce.concat(a.tr)),a.urlList=[],(typeof a.as=="string"||Array.isArray(a.as))&&(a.urlList=a.urlList.concat(a.as)),(typeof a.ws=="string"||Array.isArray(a.ws))&&(a.urlList=a.urlList.concat(a.ws)),a.peerAddresses=[],(typeof a["x.pe"]=="string"||Array.isArray(a["x.pe"]))&&(a.peerAddresses=a.peerAddresses.concat(a["x.pe"])),a.announce=Array.from(new Set(a.announce)),a.urlList=Array.from(new Set(a.urlList)),a.peerAddresses=Array.from(new Set(a.peerAddresses)),a}function E(m){m=Object.assign({},m);let a=new Set;m.xt&&typeof m.xt=="string"&&a.add(m.xt),m.xt&&Array.isArray(m.xt)&&(a=new Set(m.xt)),m.infoHashBuffer&&a.add(`urn:btih:${m.infoHashBuffer.toString("hex")}`),m.infoHash&&a.add(`urn:btih:${m.infoHash}`),m.infoHashV2Buffer&&a.add(m.xt=`urn:btmh:1220${m.infoHashV2Buffer.toString("hex")}`),m.infoHashV2&&a.add(`urn:btmh:1220${m.infoHashV2}`);const o=Array.from(a);o.length===1&&(m.xt=o[0]),1<o.length&&(m.xt=o),m.publicKeyBuffer&&(m.xs=`urn:btpk:${m.publicKeyBuffer.toString("hex")}`),m.publicKey&&(m.xs=`urn:btpk:${m.publicKey}`),m.name&&(m.dn=m.name),m.keywords&&(m.kt=m.keywords),m.announce&&(m.tr=m.announce),m.urlList&&(m.ws=m.urlList,delete m.as),m.peerAddresses&&(m["x.pe"]=m.peerAddresses);let h="magnet:?";return Object.keys(m).filter(s=>s.length===2||s==="x.pe").forEach((s,r)=>{const d=Array.isArray(m[s])?m[s]:[m[s]];d.forEach((c,f)=>{(0<r||0<f)&&(s!=="kt"&&s!=="so"||f===0)&&(h+="&"),s==="dn"&&(c=encodeURIComponent(c).replace(/%20/g,"+")),(s==="tr"||s==="as"||s==="ws")&&(c=encodeURIComponent(c)),s!=="xs"||c.startsWith("urn:btpk:")||(c=encodeURIComponent(c)),s==="kt"&&(c=encodeURIComponent(c)),s==="so"||(s==="kt"&&0<f?h+=`+${c}`:h+=`${s}=${c}`)}),s==="so"&&(h+=`${s}=${i.compose(d)}`)}),h}V.exports=C,V.exports.decode=C,V.exports.encode=E;const y=x("thirty-two"),i=x("bep53-range")}).call(this)}).call(this,x("buffer").Buffer)},{"bep53-range":29,buffer:75,"thirty-two":265}],158:[function(x,V,O){function g(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function C(r,d){return r<<d|r>>>32-d}function E(r,d,c,f,u,k,R){return 0|C(0|r+(d&c|~d&f)+u+k,R)+d}function y(r,d,c,f,u,k,R){return 0|C(0|r+(d&f|c&~f)+u+k,R)+d}function i(r,d,c,f,u,k,R){return 0|C(0|r+(d^c^f)+u+k,R)+d}function m(r,d,c,f,u,k,R){return 0|C(0|r+(c^(d|~f))+u+k,R)+d}var a=x("inherits"),o=x("hash-base"),h=x("safe-buffer").Buffer,s=Array(16);a(g,o),g.prototype._update=function(){for(var r=s,d=0;16>d;++d)r[d]=this._block.readInt32LE(4*d);var c=this._a,f=this._b,u=this._c,k=this._d;c=E(c,f,u,k,r[0],3614090360,7),k=E(k,c,f,u,r[1],3905402710,12),u=E(u,k,c,f,r[2],606105819,17),f=E(f,u,k,c,r[3],3250441966,22),c=E(c,f,u,k,r[4],4118548399,7),k=E(k,c,f,u,r[5],1200080426,12),u=E(u,k,c,f,r[6],2821735955,17),f=E(f,u,k,c,r[7],4249261313,22),c=E(c,f,u,k,r[8],1770035416,7),k=E(k,c,f,u,r[9],2336552879,12),u=E(u,k,c,f,r[10],4294925233,17),f=E(f,u,k,c,r[11],2304563134,22),c=E(c,f,u,k,r[12],1804603682,7),k=E(k,c,f,u,r[13],4254626195,12),u=E(u,k,c,f,r[14],2792965006,17),f=E(f,u,k,c,r[15],1236535329,22),c=y(c,f,u,k,r[1],4129170786,5),k=y(k,c,f,u,r[6],3225465664,9),u=y(u,k,c,f,r[11],643717713,14),f=y(f,u,k,c,r[0],3921069994,20),c=y(c,f,u,k,r[5],3593408605,5),k=y(k,c,f,u,r[10],38016083,9),u=y(u,k,c,f,r[15],3634488961,14),f=y(f,u,k,c,r[4],3889429448,20),c=y(c,f,u,k,r[9],568446438,5),k=y(k,c,f,u,r[14],3275163606,9),u=y(u,k,c,f,r[3],4107603335,14),f=y(f,u,k,c,r[8],1163531501,20),c=y(c,f,u,k,r[13],2850285829,5),k=y(k,c,f,u,r[2],4243563512,9),u=y(u,k,c,f,r[7],1735328473,14),f=y(f,u,k,c,r[12],2368359562,20),c=i(c,f,u,k,r[5],4294588738,4),k=i(k,c,f,u,r[8],2272392833,11),u=i(u,k,c,f,r[11],1839030562,16),f=i(f,u,k,c,r[14],4259657740,23),c=i(c,f,u,k,r[1],2763975236,4),k=i(k,c,f,u,r[4],1272893353,11),u=i(u,k,c,f,r[7],4139469664,16),f=i(f,u,k,c,r[10],3200236656,23),c=i(c,f,u,k,r[13],681279174,4),k=i(k,c,f,u,r[0],3936430074,11),u=i(u,k,c,f,r[3],3572445317,16),f=i(f,u,k,c,r[6],76029189,23),c=i(c,f,u,k,r[9],3654602809,4),k=i(k,c,f,u,r[12],3873151461,11),u=i(u,k,c,f,r[15],530742520,16),f=i(f,u,k,c,r[2],3299628645,23),c=m(c,f,u,k,r[0],4096336452,6),k=m(k,c,f,u,r[7],1126891415,10),u=m(u,k,c,f,r[14],2878612391,15),f=m(f,u,k,c,r[5],4237533241,21),c=m(c,f,u,k,r[12],1700485571,6),k=m(k,c,f,u,r[3],2399980690,10),u=m(u,k,c,f,r[10],4293915773,15),f=m(f,u,k,c,r[1],2240044497,21),c=m(c,f,u,k,r[8],1873313359,6),k=m(k,c,f,u,r[15],4264355552,10),u=m(u,k,c,f,r[6],2734768916,15),f=m(f,u,k,c,r[13],1309151649,21),c=m(c,f,u,k,r[4],4149444226,6),k=m(k,c,f,u,r[11],3174756917,10),u=m(u,k,c,f,r[2],718787259,15),f=m(f,u,k,c,r[9],3951481745,21),this._a=0|this._a+c,this._b=0|this._b+f,this._c=0|this._c+u,this._d=0|this._d+k},g.prototype._digest=function(){this._block[this._blockOffset++]=128,56<this._blockOffset&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var r=h.allocUnsafe(16);return r.writeInt32LE(this._a,0),r.writeInt32LE(this._b,4),r.writeInt32LE(this._c,8),r.writeInt32LE(this._d,12),r},V.exports=g},{"hash-base":129,inherits:146,"safe-buffer":234}],159:[function(x,V,O){function g(o,h){var s=this;if(!(s instanceof g))return new g(o,h);if(!a)throw new Error("web browser lacks MediaSource support");h||(h={}),s._debug=h.debug,s._bufferDuration=h.bufferDuration||60,s._elem=o,s._mediaSource=new a,s._streams=[],s.detailedError=null,s._errorHandler=function(){s._elem.removeEventListener("error",s._errorHandler);var r=s._streams.slice();r.forEach(function(d){d.destroy(s._elem.error)})},s._elem.addEventListener("error",s._errorHandler),s._elem.src=window.URL.createObjectURL(s._mediaSource)}function C(o,h){var s=this;if(i.Writable.call(s),s._wrapper=o,s._elem=o._elem,s._mediaSource=o._mediaSource,s._allStreams=o._streams,s._allStreams.push(s),s._bufferDuration=o._bufferDuration,s._sourceBuffer=null,s._debugBuffers=[],s._openHandler=function(){s._onSourceOpen()},s._flowHandler=function(){s._flow()},s._errorHandler=function(r){s.destroyed||s.emit("error",r)},typeof h=="string")s._type=h,s._mediaSource.readyState==="open"?s._createSourceBuffer():s._mediaSource.addEventListener("sourceopen",s._openHandler);else if(h._sourceBuffer===null)h.destroy(),s._type=h._type,s._mediaSource.addEventListener("sourceopen",s._openHandler);else if(h._sourceBuffer)h.destroy(),s._type=h._type,s._sourceBuffer=h._sourceBuffer,s._debugBuffers=h._debugBuffers,s._sourceBuffer.addEventListener("updateend",s._flowHandler),s._sourceBuffer.addEventListener("error",s._errorHandler);else throw new Error("The argument to MediaElementWrapper.createWriteStream must be a string or a previous stream returned from that function");s._elem.addEventListener("timeupdate",s._flowHandler),s.on("error",function(r){s._wrapper.error(r)}),s.on("finish",function(){if(!s.destroyed&&(s._finished=!0,s._allStreams.every(function(r){return r._finished}))){s._wrapper._dumpDebugData();try{s._mediaSource.endOfStream()}catch{}}})}function E(o,h){var s=document.createElement("a");s.href=window.URL.createObjectURL(new window.Blob(o)),s.download=h,s.click()}V.exports=g;var y=x("inherits"),i=x("readable-stream"),m=x("to-arraybuffer"),a=typeof window<"u"&&window.MediaSource;g.prototype.createWriteStream=function(o){var h=this;return new C(h,o)},g.prototype.error=function(o){var h=this;h.detailedError||(h.detailedError=o),h._dumpDebugData();try{h._mediaSource.endOfStream("decode")}catch{}try{window.URL.revokeObjectURL(h._elem.src)}catch{}},g.prototype._dumpDebugData=function(){var o=this;o._debug&&(o._debug=!1,o._streams.forEach(function(h,s){E(h._debugBuffers,"mediasource-stream-"+s)}))},y(C,i.Writable),C.prototype._onSourceOpen=function(){var o=this;o.destroyed||(o._mediaSource.removeEventListener("sourceopen",o._openHandler),o._createSourceBuffer())},C.prototype.destroy=function(o){var h=this;h.destroyed||(h.destroyed=!0,h._allStreams.splice(h._allStreams.indexOf(h),1),h._mediaSource.removeEventListener("sourceopen",h._openHandler),h._elem.removeEventListener("timeupdate",h._flowHandler),h._sourceBuffer&&(h._sourceBuffer.removeEventListener("updateend",h._flowHandler),h._sourceBuffer.removeEventListener("error",h._errorHandler),h._mediaSource.readyState==="open"&&h._sourceBuffer.abort()),o&&h.emit("error",o),h.emit("close"))},C.prototype._createSourceBuffer=function(){var o=this;if(!o.destroyed){if(!a.isTypeSupported(o._type))o.destroy(new Error("The provided type is not supported"));else if(o._sourceBuffer=o._mediaSource.addSourceBuffer(o._type),o._sourceBuffer.addEventListener("updateend",o._flowHandler),o._sourceBuffer.addEventListener("error",o._errorHandler),o._cb){var h=o._cb;o._cb=null,h()}}},C.prototype._write=function(o,h,s){var r=this;if(!r.destroyed){if(!r._sourceBuffer)return void(r._cb=function(c){return c?s(c):void r._write(o,h,s)});if(r._sourceBuffer.updating)return s(new Error("Cannot append buffer while source buffer updating"));var d=m(o);r._wrapper._debug&&r._debugBuffers.push(d);try{r._sourceBuffer.appendBuffer(d)}catch(c){return void r.destroy(c)}r._cb=s}},C.prototype._flow=function(){var o=this;if(!(o.destroyed||!o._sourceBuffer||o._sourceBuffer.updating)&&!(o._mediaSource.readyState==="open"&&o._getBufferDuration()>o._bufferDuration)&&o._cb){var h=o._cb;o._cb=null,h()}},C.prototype._getBufferDuration=function(){for(var o=this,h=o._sourceBuffer.buffered,s=o._elem.currentTime,r=-1,d=0;d<h.length;d++){var c=h.start(d),f=h.end(d)+0;if(c>s)break;(0<=r||s<=f)&&(r=f)}var u=r-s;return 0>u&&(u=0),u}},{inherits:146,"readable-stream":227,"to-arraybuffer":268}],160:[function(x,V,O){function g(E,y){if(!(this instanceof g))return new g(E,y);if(y||(y={}),this.chunkLength=+E,!this.chunkLength)throw new Error("First argument must be a chunk length");this.chunks=[],this.closed=!1,this.length=+y.length||1/0,this.length!==1/0&&(this.lastChunkLength=this.length%this.chunkLength||this.chunkLength,this.lastChunkIndex=Ee(this.length/this.chunkLength)-1)}V.exports=g;const C=x("queue-microtask");g.prototype.put=function(E,y,i=()=>{}){if(this.closed)return C(()=>i(new Error("Storage is closed")));const m=E===this.lastChunkIndex;return m&&y.length!==this.lastChunkLength?C(()=>i(new Error("Last chunk length must be "+this.lastChunkLength))):m||y.length===this.chunkLength?(this.chunks[E]=y,void C(()=>i(null))):C(()=>i(new Error("Chunk length must be "+this.chunkLength)))},g.prototype.get=function(E,y,i=()=>{}){if(typeof y=="function")return this.get(E,null,y);if(this.closed)return C(()=>i(new Error("Storage is closed")));let m=this.chunks[E];if(!m){const h=new Error("Chunk not found");return h.notFound=!0,C(()=>i(h))}y||(y={});const a=y.offset||0,o=y.length||m.length-a;(a!==0||o!==m.length)&&(m=m.slice(a,o+a)),C(()=>i(null,m))},g.prototype.close=g.prototype.destroy=function(E=()=>{}){return this.closed?C(()=>E(new Error("Storage is closed"))):(this.closed=!0,this.chunks=null,void C(()=>E(null)))}},{"queue-microtask":205}],161:[function(x,V,O){function g(y){this.rand=y||new E.Rand}var C=x("bn.js"),E=x("brorand");V.exports=g,g.create=function(i){return new g(i)},g.prototype._randbelow=function(i){var m=i.bitLength(),a=Ee(m/8);do var o=new C(this.rand.generate(a));while(0<=o.cmp(i));return o},g.prototype._randrange=function(i,m){var a=m.sub(i);return i.add(this._randbelow(a))},g.prototype.test=function(i,m,a){var o=i.bitLength(),h=C.mont(i),s=new C(1).toRed(h);m||(m=be(1,0|o/48));for(var r=i.subn(1),d=0;!r.testn(d);d++);for(var c=i.shrn(d),f=r.toRed(h),u=!0;0<m;m--){var k=this._randrange(new C(2),r);a&&a(k);var R=k.toRed(h).redPow(c);if(R.cmp(s)!==0&&R.cmp(f)!==0){for(var A=1;A<d;A++){if(R=R.redSqr(),R.cmp(s)===0)return!1;if(R.cmp(f)===0)break}if(A===d)return!1}}return u},g.prototype.getDivisor=function(i,m){var a=i.bitLength(),o=C.mont(i),h=new C(1).toRed(o);m||(m=be(1,0|a/48));for(var s=i.subn(1),r=0;!s.testn(r);r++);for(var d=i.shrn(r),c=s.toRed(o);0<m;m--){var f=this._randrange(new C(2),s),u=i.gcd(f);if(u.cmpn(1)!==0)return u;var k=f.toRed(o).redPow(d);if(k.cmp(h)!==0&&k.cmp(c)!==0){for(var R=1;R<r;R++){if(k=k.redSqr(),k.cmp(h)===0)return k.fromRed().subn(1).gcd(i);if(k.cmp(c)===0)break}if(R===r)return k=k.redSqr(),k.fromRed().subn(1).gcd(i)}}return!1}},{"bn.js":162,brorand:40}],162:[function(x,V,O){arguments[4][22][0].apply(O,arguments)},{buffer:41,dup:22}],163:[function(x,V,O){function g(){this._types=Object.create(null),this._extensions=Object.create(null);for(let C=0;C<arguments.length;C++)this.define(arguments[C]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}g.prototype.define=function(C,E){for(let y in C){let i=C[y].map(function(m){return m.toLowerCase()});y=y.toLowerCase();for(let m=0;m<i.length;m++){const a=i[m];if(a[0]!=="*"){if(!E&&a in this._types)throw new Error('Attempt to change mapping for "'+a+'" extension from "'+this._types[a]+'" to "'+y+'". Pass `force=true` to allow this, otherwise remove "'+a+'" from the list of extensions for "'+y+'".');this._types[a]=y}}if(E||!this._extensions[y]){const m=i[0];this._extensions[y]=m[0]==="*"?m.substr(1):m}}},g.prototype.getType=function(C){C=C+"";let E=C.replace(/^.*[/\\]/,"").toLowerCase(),y=E.replace(/^.*\./,"").toLowerCase(),i=E.length<C.length;return(y.length<E.length-1||!i)&&this._types[y]||null},g.prototype.getExtension=function(C){return C=/^\s*([^;\s]*)/.test(C)&&RegExp.$1,C&&this._extensions[C.toLowerCase()]||null},V.exports=g},{}],164:[function(x,V,O){let g=x("./Mime");V.exports=new g(x("./types/standard"),x("./types/other"))},{"./Mime":163,"./types/other":165,"./types/standard":166}],165:[function(x,V,O){V.exports={"application/prs.cww":["cww"],"application/vnd.1000minds.decision-model+xml":["1km"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.keynote":["key"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.numbers":["numbers"],"application/vnd.apple.pages":["pages"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.balsamiq.bmml+xml":["bmml"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.citationstyles.style+xml":["csl"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dbf":["dbf"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mapbox-vector-tile":["mvt"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["*stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.ac+xml":["*ac"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openblox.game+xml":["obgx"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openstreetmap.data+xml":["osm"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.rar":["rar"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.software602.filler.form+xml":["fo"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.syncml.dmddf+xml":["ddf"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":["*dmg"],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":["*bdoc"],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["*deb","udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":["*iso"],"application/x-iwork-keynote-sffkey":["*key"],"application/x-iwork-numbers-sffnumbers":["*numbers"],"application/x-iwork-pages-sffpages":["*pages"],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-keepass2":["kdbx"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":["*exe"],"application/x-msdownload":["*exe","*dll","com","bat","*msi"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["*wmf","*wmz","*emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":["*prc","*pdb"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["*rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["*obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["*xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":["*m4a"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":["*ra"],"audio/x-wav":["*wav"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/prs.btif":["btif"],"image/prs.pti":["pti"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.airzip.accelerator.azv":["azv"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["*sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.microsoft.icon":["ico"],"image/vnd.ms-dds":["dds"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.pco.b16":["b16"],"image/vnd.tencent.tap":["tap"],"image/vnd.valve.source.texture":["vtf"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/vnd.zbrush.pcx":["pcx"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["*ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":["*bmp"],"image/x-pcx":["*pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/vnd.wfa.wsc":["wsc"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.opengex":["ogex"],"model/vnd.parasolid.transmit.binary":["x_b"],"model/vnd.parasolid.transmit.text":["x_t"],"model/vnd.sap.vds":["vds"],"model/vnd.usdz+zip":["usdz"],"model/vnd.valve.source.compiled-map":["bsp"],"model/vnd.vtu":["vtu"],"text/prs.lines.tag":["dsc"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":["*org"],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]}},{}],166:[function(x,V,O){V.exports={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]}},{}],167:[function(x,V,O){function g(C,E){if(!C)throw new Error(E||"Assertion failed")}V.exports=g,g.equal=function(E,y,i){if(E!=y)throw new Error(i||"Assertion failed: "+E+" != "+y)}},{}],168:[function(x,V,O){function g(i,m){if(Array.isArray(i))return i.slice();if(!i)return[];var a=[];if(typeof i!="string"){for(var o=0;o<i.length;o++)a[o]=0|i[o];return a}if(m==="hex"){i=i.replace(/[^a-z0-9]+/ig,""),i.length%2!=0&&(i="0"+i);for(var o=0;o<i.length;o+=2)a.push(parseInt(i[o]+i[o+1],16))}else for(var o=0;o<i.length;o++){var h=i.charCodeAt(o),s=h>>8,r=255&h;s?a.push(s,r):a.push(r)}return a}function C(i){return i.length===1?"0"+i:i}function E(i){for(var m="",a=0;a<i.length;a++)m+=C(i[a].toString(16));return m}var y=O;y.toArray=g,y.zero2=C,y.toHex=E,y.encode=function(m,a){return a==="hex"?E(m):m}},{}],169:[function(x,V,O){(function(g){(function(){function C(w,I,N){for(var L=I;L<N;L++)w[L]=0}function E(w,I,N){I.writeUInt32BE(D((w.getTime()+20828448e5)/1e3),N)}function y(w,I,N){I.writeUIntBE(D((w.getTime()+20828448e5)/1e3),N,6)}function i(w,I,N){I.writeUInt16BE(D(w)%65536,N),I.writeUInt16BE(D(256*(256*w))%65536,N+2)}function m(w,I,N){I[N]=D(w)%256,I[N+1]=D(256*w)%256}function a(w,I,N){w||(w=[0,0,0,0,0,0,0,0,0]);for(var L=0;L<w.length;L++)i(w[L],I,N+4*L)}function o(w,I,N){var L=g.from(w,"utf8");L.copy(I,N),I[N+L.length]=0}function h(w){for(var I=Array(w.length/4),N=0;N<I.length;N++)I[N]=d(w,4*N);return I}function s(w,I){return new Date(1e3*w.readUIntBE(I,6)-20828448e5)}function r(w,I){return new Date(1e3*w.readUInt32BE(I)-20828448e5)}function d(w,I){return w.readUInt16BE(I)+w.readUInt16BE(I+2)/65536}function c(w,I){return w[I]+w[I+1]/256}function f(w,I,N){var L;for(L=0;L<N&&w[I+L]!==0;L++);return w.toString("utf8",I,I+L)}var u=x("./index"),k=x("./descriptor"),R=x("uint64be");O.fullBoxes={};var A=["mvhd","tkhd","mdhd","vmhd","smhd","stsd","esds","stsz","stco","co64","stss","stts","ctts","stsc","dref","elst","hdlr","mehd","trex","mfhd","tfhd","tfdt","trun"];A.forEach(function(w){O.fullBoxes[w]=!0}),O.ftyp={},O.ftyp.encode=function(w,I,N){I=I?I.slice(N):g.alloc(O.ftyp.encodingLength(w));var L=w.compatibleBrands||[];I.write(w.brand,0,4,"ascii"),I.writeUInt32BE(w.brandVersion,4);for(var G=0;G<L.length;G++)I.write(L[G],8+4*G,4,"ascii");return O.ftyp.encode.bytes=8+4*L.length,I},O.ftyp.decode=function(w,I){w=w.slice(I);for(var N=w.toString("ascii",0,4),L=w.readUInt32BE(4),G=[],J=8;J<w.length;J+=4)G.push(w.toString("ascii",J,J+4));return{brand:N,brandVersion:L,compatibleBrands:G}},O.ftyp.encodingLength=function(w){return 8+4*(w.compatibleBrands||[]).length},O.mvhd={},O.mvhd.encode=function(w,I,N){return I=I?I.slice(N):g.alloc(96),E(w.ctime||new Date,I,0),E(w.mtime||new Date,I,4),I.writeUInt32BE(w.timeScale||0,8),I.writeUInt32BE(w.duration||0,12),i(w.preferredRate||0,I,16),m(w.preferredVolume||0,I,20),C(I,22,32),a(w.matrix,I,32),I.writeUInt32BE(w.previewTime||0,68),I.writeUInt32BE(w.previewDuration||0,72),I.writeUInt32BE(w.posterTime||0,76),I.writeUInt32BE(w.selectionTime||0,80),I.writeUInt32BE(w.selectionDuration||0,84),I.writeUInt32BE(w.currentTime||0,88),I.writeUInt32BE(w.nextTrackId||0,92),O.mvhd.encode.bytes=96,I},O.mvhd.decode=function(w,I){return w=w.slice(I),{ctime:r(w,0),mtime:r(w,4),timeScale:w.readUInt32BE(8),duration:w.readUInt32BE(12),preferredRate:d(w,16),preferredVolume:c(w,20),matrix:h(w.slice(32,68)),previewTime:w.readUInt32BE(68),previewDuration:w.readUInt32BE(72),posterTime:w.readUInt32BE(76),selectionTime:w.readUInt32BE(80),selectionDuration:w.readUInt32BE(84),currentTime:w.readUInt32BE(88),nextTrackId:w.readUInt32BE(92)}},O.mvhd.encodingLength=function(w){return 96},O.tkhd={},O.tkhd.encode=function(w,I,N){return I=I?I.slice(N):g.alloc(80),E(w.ctime||new Date,I,0),E(w.mtime||new Date,I,4),I.writeUInt32BE(w.trackId||0,8),C(I,12,16),I.writeUInt32BE(w.duration||0,16),C(I,20,28),I.writeUInt16BE(w.layer||0,28),I.writeUInt16BE(w.alternateGroup||0,30),I.writeUInt16BE(w.volume||0,32),a(w.matrix,I,36),I.writeUInt32BE(w.trackWidth||0,72),I.writeUInt32BE(w.trackHeight||0,76),O.tkhd.encode.bytes=80,I},O.tkhd.decode=function(w,I){return w=w.slice(I),{ctime:r(w,0),mtime:r(w,4),trackId:w.readUInt32BE(8),duration:w.readUInt32BE(16),layer:w.readUInt16BE(28),alternateGroup:w.readUInt16BE(30),volume:w.readUInt16BE(32),matrix:h(w.slice(36,72)),trackWidth:w.readUInt32BE(72),trackHeight:w.readUInt32BE(76)}},O.tkhd.encodingLength=function(w){return 80},O.mdhd={},O.mdhd.encode=function(w,I,N){return w.version===1?(I=I?I.slice(N):g.alloc(32),y(w.ctime||new Date,I,0),y(w.mtime||new Date,I,8),I.writeUInt32BE(w.timeScale||0,16),I.writeUIntBE(w.duration||0,20,6),I.writeUInt16BE(w.language||0,28),I.writeUInt16BE(w.quality||0,30),O.mdhd.encode.bytes=32,I):(I=I?I.slice(N):g.alloc(20),E(w.ctime||new Date,I,0),E(w.mtime||new Date,I,4),I.writeUInt32BE(w.timeScale||0,8),I.writeUInt32BE(w.duration||0,12),I.writeUInt16BE(w.language||0,16),I.writeUInt16BE(w.quality||0,18),O.mdhd.encode.bytes=20,I)},O.mdhd.decode=function(w,I,N){w=w.slice(I);var L=N-I!=20;return L?{ctime:s(w,0),mtime:s(w,8),timeScale:w.readUInt32BE(16),duration:w.readUIntBE(20,6),language:w.readUInt16BE(28),quality:w.readUInt16BE(30)}:{ctime:r(w,0),mtime:r(w,4),timeScale:w.readUInt32BE(8),duration:w.readUInt32BE(12),language:w.readUInt16BE(16),quality:w.readUInt16BE(18)}},O.mdhd.encodingLength=function(w){return w.version===1?32:20},O.vmhd={},O.vmhd.encode=function(w,I,N){I=I?I.slice(N):g.alloc(8),I.writeUInt16BE(w.graphicsMode||0,0);var L=w.opcolor||[0,0,0];return I.writeUInt16BE(L[0],2),I.writeUInt16BE(L[1],4),I.writeUInt16BE(L[2],6),O.vmhd.encode.bytes=8,I},O.vmhd.decode=function(w,I){return w=w.slice(I),{graphicsMode:w.readUInt16BE(0),opcolor:[w.readUInt16BE(2),w.readUInt16BE(4),w.readUInt16BE(6)]}},O.vmhd.encodingLength=function(w){return 8},O.smhd={},O.smhd.encode=function(w,I,N){return I=I?I.slice(N):g.alloc(4),I.writeUInt16BE(w.balance||0,0),C(I,2,4),O.smhd.encode.bytes=4,I},O.smhd.decode=function(w,I){return w=w.slice(I),{balance:w.readUInt16BE(0)}},O.smhd.encodingLength=function(w){return 4},O.stsd={},O.stsd.encode=function(w,I,N){I=I?I.slice(N):g.alloc(O.stsd.encodingLength(w));var L=w.entries||[];I.writeUInt32BE(L.length,0);for(var G=4,J=0,se;J<L.length;J++)se=L[J],u.encode(se,I,G),G+=u.encode.bytes;return O.stsd.encode.bytes=G,I},O.stsd.decode=function(w,I,N){w=w.slice(I);for(var L=w.readUInt32BE(0),G=Array(L),J=4,se=0,ce;se<L;se++)ce=u.decode(w,J,N),G[se]=ce,J+=ce.length;return{entries:G}},O.stsd.encodingLength=function(w){var I=4;if(!w.entries)return I;for(var N=0;N<w.entries.length;N++)I+=u.encodingLength(w.entries[N]);return I},O.avc1=O.VisualSampleEntry={},O.VisualSampleEntry.encode=function(w,I,N){I=I?I.slice(N):g.alloc(O.VisualSampleEntry.encodingLength(w)),C(I,0,6),I.writeUInt16BE(w.dataReferenceIndex||0,6),C(I,8,24),I.writeUInt16BE(w.width||0,24),I.writeUInt16BE(w.height||0,26),I.writeUInt32BE(w.hResolution||4718592,28),I.writeUInt32BE(w.vResolution||4718592,32),C(I,36,40),I.writeUInt16BE(w.frameCount||1,40);var L=w.compressorName||"",G=ke(L.length,31);I.writeUInt8(G,42),I.write(L,43,G,"utf8"),I.writeUInt16BE(w.depth||24,74),I.writeInt16BE(-1,76);var J=78,se=w.children||[];se.forEach(function(ce){u.encode(ce,I,J),J+=u.encode.bytes}),O.VisualSampleEntry.encode.bytes=J},O.VisualSampleEntry.decode=function(w,I,N){w=w.slice(I);for(var L=N-I,G=ke(w.readUInt8(42),31),J={dataReferenceIndex:w.readUInt16BE(6),width:w.readUInt16BE(24),height:w.readUInt16BE(26),hResolution:w.readUInt32BE(28),vResolution:w.readUInt32BE(32),frameCount:w.readUInt16BE(40),compressorName:w.toString("utf8",43,43+G),depth:w.readUInt16BE(74),children:[]},se=78;8<=L-se;){var ce=u.decode(w,se,L);J.children.push(ce),J[ce.type]=ce,se+=ce.length}return J},O.VisualSampleEntry.encodingLength=function(w){var I=78,N=w.children||[];return N.forEach(function(L){I+=u.encodingLength(L)}),I},O.avcC={},O.avcC.encode=function(w,I,N){I=I?I.slice(N):g.alloc(w.buffer.length),w.buffer.copy(I),O.avcC.encode.bytes=w.buffer.length},O.avcC.decode=function(w,I,N){return w=w.slice(I,N),{mimeCodec:w.toString("hex",1,4),buffer:g.from(w)}},O.avcC.encodingLength=function(w){return w.buffer.length},O.mp4a=O.AudioSampleEntry={},O.AudioSampleEntry.encode=function(w,I,N){I=I?I.slice(N):g.alloc(O.AudioSampleEntry.encodingLength(w)),C(I,0,6),I.writeUInt16BE(w.dataReferenceIndex||0,6),C(I,8,16),I.writeUInt16BE(w.channelCount||2,16),I.writeUInt16BE(w.sampleSize||16,18),C(I,20,24),I.writeUInt32BE(w.sampleRate||0,24);var L=28,G=w.children||[];G.forEach(function(J){u.encode(J,I,L),L+=u.encode.bytes}),O.AudioSampleEntry.encode.bytes=L},O.AudioSampleEntry.decode=function(w,I,N){w=w.slice(I,N);for(var L=N-I,G={dataReferenceIndex:w.readUInt16BE(6),channelCount:w.readUInt16BE(16),sampleSize:w.readUInt16BE(18),sampleRate:w.readUInt32BE(24),children:[]},J=28;8<=L-J;){var se=u.decode(w,J,L);G.children.push(se),G[se.type]=se,J+=se.length}return G},O.AudioSampleEntry.encodingLength=function(w){var I=28,N=w.children||[];return N.forEach(function(L){I+=u.encodingLength(L)}),I},O.esds={},O.esds.encode=function(w,I,N){I=I?I.slice(N):g.alloc(w.buffer.length),w.buffer.copy(I,0),O.esds.encode.bytes=w.buffer.length},O.esds.decode=function(w,I,N){w=w.slice(I,N);var L=k.Descriptor.decode(w,0,w.length),G=L.tagName==="ESDescriptor"?L:{},J=G.DecoderConfigDescriptor||{},se=J.oti||0,ce=J.DecoderSpecificInfo,Y=ce?(248&ce.buffer.readUInt8(0))>>3:0,B=null;return se&&(B=se.toString(16),Y&&(B+="."+Y)),{mimeCodec:B,buffer:g.from(w.slice(0))}},O.esds.encodingLength=function(w){return w.buffer.length},O.stsz={},O.stsz.encode=function(w,I,N){var L=w.entries||[];I=I?I.slice(N):g.alloc(O.stsz.encodingLength(w)),I.writeUInt32BE(0,0),I.writeUInt32BE(L.length,4);for(var G=0;G<L.length;G++)I.writeUInt32BE(L[G],4*G+8);return O.stsz.encode.bytes=8+4*L.length,I},O.stsz.decode=function(w,I){w=w.slice(I);for(var N=w.readUInt32BE(0),L=w.readUInt32BE(4),G=Array(L),J=0;J<L;J++)G[J]=N===0?w.readUInt32BE(4*J+8):N;return{entries:G}},O.stsz.encodingLength=function(w){return 8+4*w.entries.length},O.stss=O.stco={},O.stco.encode=function(w,I,N){var L=w.entries||[];I=I?I.slice(N):g.alloc(O.stco.encodingLength(w)),I.writeUInt32BE(L.length,0);for(var G=0;G<L.length;G++)I.writeUInt32BE(L[G],4*G+4);return O.stco.encode.bytes=4+4*L.length,I},O.stco.decode=function(w,I){w=w.slice(I);for(var N=w.readUInt32BE(0),L=Array(N),G=0;G<N;G++)L[G]=w.readUInt32BE(4*G+4);return{entries:L}},O.stco.encodingLength=function(w){return 4+4*w.entries.length},O.co64={},O.co64.encode=function(w,I,N){var L=w.entries||[];I=I?I.slice(N):g.alloc(O.co64.encodingLength(w)),I.writeUInt32BE(L.length,0);for(var G=0;G<L.length;G++)R.encode(L[G],I,8*G+4);return O.co64.encode.bytes=4+8*L.length,I},O.co64.decode=function(w,I){w=w.slice(I);for(var N=w.readUInt32BE(0),L=Array(N),G=0;G<N;G++)L[G]=R.decode(w,8*G+4);return{entries:L}},O.co64.encodingLength=function(w){return 4+8*w.entries.length},O.stts={},O.stts.encode=function(w,I,N){var L=w.entries||[];I=I?I.slice(N):g.alloc(O.stts.encodingLength(w)),I.writeUInt32BE(L.length,0);for(var G=0,J;G<L.length;G++)J=8*G+4,I.writeUInt32BE(L[G].count||0,J),I.writeUInt32BE(L[G].duration||0,J+4);return O.stts.encode.bytes=4+8*w.entries.length,I},O.stts.decode=function(w,I){w=w.slice(I);for(var N=w.readUInt32BE(0),L=Array(N),G=0,J;G<N;G++)J=8*G+4,L[G]={count:w.readUInt32BE(J),duration:w.readUInt32BE(J+4)};return{entries:L}},O.stts.encodingLength=function(w){return 4+8*w.entries.length},O.ctts={},O.ctts.encode=function(w,I,N){var L=w.entries||[];I=I?I.slice(N):g.alloc(O.ctts.encodingLength(w)),I.writeUInt32BE(L.length,0);for(var G=0,J;G<L.length;G++)J=8*G+4,I.writeUInt32BE(L[G].count||0,J),I.writeUInt32BE(L[G].compositionOffset||0,J+4);return O.ctts.encode.bytes=4+8*L.length,I},O.ctts.decode=function(w,I){w=w.slice(I);for(var N=w.readUInt32BE(0),L=Array(N),G=0,J;G<N;G++)J=8*G+4,L[G]={count:w.readUInt32BE(J),compositionOffset:w.readInt32BE(J+4)};return{entries:L}},O.ctts.encodingLength=function(w){return 4+8*w.entries.length},O.stsc={},O.stsc.encode=function(w,I,N){var L=w.entries||[];I=I?I.slice(N):g.alloc(O.stsc.encodingLength(w)),I.writeUInt32BE(L.length,0);for(var G=0,J;G<L.length;G++)J=12*G+4,I.writeUInt32BE(L[G].firstChunk||0,J),I.writeUInt32BE(L[G].samplesPerChunk||0,J+4),I.writeUInt32BE(L[G].sampleDescriptionId||0,J+8);return O.stsc.encode.bytes=4+12*L.length,I},O.stsc.decode=function(w,I){w=w.slice(I);for(var N=w.readUInt32BE(0),L=Array(N),G=0,J;G<N;G++)J=12*G+4,L[G]={firstChunk:w.readUInt32BE(J),samplesPerChunk:w.readUInt32BE(J+4),sampleDescriptionId:w.readUInt32BE(J+8)};return{entries:L}},O.stsc.encodingLength=function(w){return 4+12*w.entries.length},O.dref={},O.dref.encode=function(w,I,N){I=I?I.slice(N):g.alloc(O.dref.encodingLength(w));var L=w.entries||[];I.writeUInt32BE(L.length,0);for(var G=4,J=0;J<L.length;J++){var se=L[J],ce=(se.buf?se.buf.length:0)+4+4;I.writeUInt32BE(ce,G),G+=4,I.write(se.type,G,4,"ascii"),G+=4,se.buf&&(se.buf.copy(I,G),G+=se.buf.length)}return O.dref.encode.bytes=G,I},O.dref.decode=function(w,I){w=w.slice(I);for(var N=w.readUInt32BE(0),L=Array(N),G=4,J=0;J<N;J++){var se=w.readUInt32BE(G),ce=w.toString("ascii",G+4,G+8),Y=w.slice(G+8,G+se);G+=se,L[J]={type:ce,buf:Y}}return{entries:L}},O.dref.encodingLength=function(w){var I=4;if(!w.entries)return I;for(var N=0,L;N<w.entries.length;N++)L=w.entries[N].buf,I+=(L?L.length:0)+4+4;return I},O.elst={},O.elst.encode=function(w,I,N){var L=w.entries||[];I=I?I.slice(N):g.alloc(O.elst.encodingLength(w)),I.writeUInt32BE(L.length,0);for(var G=0,J;G<L.length;G++)J=12*G+4,I.writeUInt32BE(L[G].trackDuration||0,J),I.writeUInt32BE(L[G].mediaTime||0,J+4),i(L[G].mediaRate||0,I,J+8);return O.elst.encode.bytes=4+12*L.length,I},O.elst.decode=function(w,I){w=w.slice(I);for(var N=w.readUInt32BE(0),L=Array(N),G=0,J;G<N;G++)J=12*G+4,L[G]={trackDuration:w.readUInt32BE(J),mediaTime:w.readInt32BE(J+4),mediaRate:d(w,J+8)};return{entries:L}},O.elst.encodingLength=function(w){return 4+12*w.entries.length},O.hdlr={},O.hdlr.encode=function(w,I,N){I=I?I.slice(N):g.alloc(O.hdlr.encodingLength(w));var L=21+(w.name||"").length;return I.fill(0,0,L),I.write(w.handlerType||"",4,4,"ascii"),o(w.name||"",I,20),O.hdlr.encode.bytes=L,I},O.hdlr.decode=function(w,I,N){return w=w.slice(I),{handlerType:w.toString("ascii",4,8),name:f(w,20,N)}},O.hdlr.encodingLength=function(w){return 21+(w.name||"").length},O.mehd={},O.mehd.encode=function(w,I,N){return I=I?I.slice(N):g.alloc(4),I.writeUInt32BE(w.fragmentDuration||0,0),O.mehd.encode.bytes=4,I},O.mehd.decode=function(w,I){return w=w.slice(I),{fragmentDuration:w.readUInt32BE(0)}},O.mehd.encodingLength=function(w){return 4},O.trex={},O.trex.encode=function(w,I,N){return I=I?I.slice(N):g.alloc(20),I.writeUInt32BE(w.trackId||0,0),I.writeUInt32BE(w.defaultSampleDescriptionIndex||0,4),I.writeUInt32BE(w.defaultSampleDuration||0,8),I.writeUInt32BE(w.defaultSampleSize||0,12),I.writeUInt32BE(w.defaultSampleFlags||0,16),O.trex.encode.bytes=20,I},O.trex.decode=function(w,I){return w=w.slice(I),{trackId:w.readUInt32BE(0),defaultSampleDescriptionIndex:w.readUInt32BE(4),defaultSampleDuration:w.readUInt32BE(8),defaultSampleSize:w.readUInt32BE(12),defaultSampleFlags:w.readUInt32BE(16)}},O.trex.encodingLength=function(w){return 20},O.mfhd={},O.mfhd.encode=function(w,I,N){return I=I?I.slice(N):g.alloc(4),I.writeUInt32BE(w.sequenceNumber||0,0),O.mfhd.encode.bytes=4,I},O.mfhd.decode=function(w,I){return{sequenceNumber:w.readUInt32BE(0)}},O.mfhd.encodingLength=function(w){return 4},O.tfhd={},O.tfhd.encode=function(w,I,N){return I=I?I.slice(N):g.alloc(4),I.writeUInt32BE(w.trackId,0),O.tfhd.encode.bytes=4,I},O.tfhd.decode=function(w,I){},O.tfhd.encodingLength=function(w){return 4},O.tfdt={},O.tfdt.encode=function(w,I,N){return I=I?I.slice(N):g.alloc(4),I.writeUInt32BE(w.baseMediaDecodeTime||0,0),O.tfdt.encode.bytes=4,I},O.tfdt.decode=function(w,I){},O.tfdt.encodingLength=function(w){return 4},O.trun={},O.trun.encode=function(w,I,N){I=I?I.slice(N):g.alloc(8+16*w.entries.length),I.writeUInt32BE(w.entries.length,0),I.writeInt32BE(w.dataOffset,4);for(var L=8,G=0,J;G<w.entries.length;G++)J=w.entries[G],I.writeUInt32BE(J.sampleDuration,L),L+=4,I.writeUInt32BE(J.sampleSize,L),L+=4,I.writeUInt32BE(J.sampleFlags,L),L+=4,(w.version||0)===0?I.writeUInt32BE(J.sampleCompositionTimeOffset,L):I.writeInt32BE(J.sampleCompositionTimeOffset,L),L+=4;O.trun.encode.bytes=L},O.trun.decode=function(w,I){},O.trun.encodingLength=function(w){return 8+16*w.entries.length},O.mdat={},O.mdat.encode=function(w,I,N){w.buffer?(w.buffer.copy(I,N),O.mdat.encode.bytes=w.buffer.length):O.mdat.encode.bytes=O.mdat.encodingLength(w)},O.mdat.decode=function(w,I,N){return{buffer:g.from(w.slice(I,N))}},O.mdat.encodingLength=function(w){return w.buffer?w.buffer.length:w.contentLength}}).call(this)}).call(this,x("buffer").Buffer)},{"./descriptor":170,"./index":171,buffer:75,uint64be:271}],170:[function(x,V,O){(function(g){(function(){var C={3:"ESDescriptor",4:"DecoderConfigDescriptor",5:"DecoderSpecificInfo",6:"SLConfigDescriptor"};O.Descriptor={},O.Descriptor.decode=function(E,y,i){var m=E.readUInt8(y),a=y+1,o=0,h;do h=E.readUInt8(a++),o=o<<7|127&h;while(128&h);var s=C[m],r;return r=O[s]?O[s].decode(E,a,i):{buffer:g.from(E.slice(a,a+o))},r.tag=m,r.tagName=s,r.length=a-y+o,r.contentsLen=o,r},O.DescriptorArray={},O.DescriptorArray.decode=function(E,y,i){for(var m=y,a={};m+2<=i;){var o=O.Descriptor.decode(E,m,i);m+=o.length;var h=C[o.tag]||"Descriptor"+o.tag;a[h]=o}return a},O.ESDescriptor={},O.ESDescriptor.decode=function(E,y,i){var m=E.readUInt8(y+2),a=y+3;if(128&m&&(a+=2),64&m){var o=E.readUInt8(a);a+=o+1}return 32&m&&(a+=2),O.DescriptorArray.decode(E,a,i)},O.DecoderConfigDescriptor={},O.DecoderConfigDescriptor.decode=function(E,y,i){var m=E.readUInt8(y),a=O.DescriptorArray.decode(E,y+13,i);return a.oti=m,a}}).call(this)}).call(this,x("buffer").Buffer)},{buffer:75}],171:[function(x,V,O){(function(g){(function(){var C=x("uint64be"),E=x("./boxes"),y=4294967295,i=O,m=O.containers={moov:["mvhd","meta","traks","mvex"],trak:["tkhd","tref","trgr","edts","meta","mdia","udta"],edts:["elst"],mdia:["mdhd","hdlr","elng","minf"],minf:["vmhd","smhd","hmhd","sthd","nmhd","dinf","stbl"],dinf:["dref"],stbl:["stsd","stts","ctts","cslg","stsc","stsz","stz2","stco","co64","stss","stsh","padb","stdp","sdtp","sbgps","sgpds","subss","saizs","saios"],mvex:["mehd","trexs","leva"],moof:["mfhd","meta","trafs"],traf:["tfhd","tfdt","trun","sbgps","sgpds","subss","saizs","saios","meta"]};i.encode=function(a,o,h){return i.encodingLength(a),h=h||0,o=o||g.alloc(a.length),i._encode(a,o,h)},i._encode=function(a,o,h){var s=a.type,r=a.length;r>y&&(r=1),o.writeUInt32BE(r,h),o.write(a.type,h+4,4,"ascii");var d=h+8;if(r===1&&(C.encode(a.length,o,d),d+=8),E.fullBoxes[s]&&(o.writeUInt32BE(a.flags||0,d),o.writeUInt8(a.version||0,d),d+=4),m[s]){var c=m[s];c.forEach(function(k){if(k.length===5){var R=a[k]||[];k=k.substr(0,4),R.forEach(function(A){i._encode(A,o,d),d+=i.encode.bytes})}else a[k]&&(i._encode(a[k],o,d),d+=i.encode.bytes)}),a.otherBoxes&&a.otherBoxes.forEach(function(k){i._encode(k,o,d),d+=i.encode.bytes})}else if(E[s]){var f=E[s].encode;f(a,o,d),d+=f.bytes}else if(a.buffer){var u=a.buffer;u.copy(o,d),d+=a.buffer.length}else throw new Error("Either `type` must be set to a known type (not'"+s+"') or `buffer` must be set");return i.encode.bytes=d-h,o},i.readHeaders=function(a,o,h){if(o=o||0,h=h||a.length,8>h-o)return 8;var s=a.readUInt32BE(o),r=a.toString("ascii",o+4,o+8),d=o+8;if(s===1){if(16>h-o)return 16;s=C.decode(a,d),d+=8}var c,f;return E.fullBoxes[r]&&(c=a.readUInt8(d),f=16777215&a.readUInt32BE(d),d+=4),{length:s,headersLen:d-o,contentLen:s-(d-o),type:r,version:c,flags:f}},i.decode=function(a,o,h){o=o||0,h=h||a.length;var s=i.readHeaders(a,o,h);if(!s||s.length>h-o)throw new Error("Data too short");return i.decodeWithoutHeaders(s,a,o+s.headersLen,o+s.length)},i.decodeWithoutHeaders=function(a,o,h,s){h=h||0,s=s||o.length;var r=a.type,d={};if(m[r]){d.otherBoxes=[];for(var c=m[r],f=h,u;8<=s-f;)if(u=i.decode(o,f,s),f+=u.length,0<=c.indexOf(u.type))d[u.type]=u;else if(0<=c.indexOf(u.type+"s")){var k=u.type+"s",R=d[k]=d[k]||[];R.push(u)}else d.otherBoxes.push(u)}else if(E[r]){var A=E[r].decode;d=A(o,h,s)}else d.buffer=g.from(o.slice(h,s));return d.length=a.length,d.contentLen=a.contentLen,d.type=a.type,d.version=a.version,d.flags=a.flags,d},i.encodingLength=function(a){var o=a.type,h=8;if(E.fullBoxes[o]&&(h+=4),m[o]){var s=m[o];s.forEach(function(r){if(r.length===5){var d=a[r]||[];r=r.substr(0,4),d.forEach(function(f){f.type=r,h+=i.encodingLength(f)})}else if(a[r]){var c=a[r];c.type=r,h+=i.encodingLength(c)}}),a.otherBoxes&&a.otherBoxes.forEach(function(r){h+=i.encodingLength(r)})}else if(E[o])h+=E[o].encodingLength(a);else if(a.buffer)h+=a.buffer.length;else throw new Error("Either `type` must be set to a known type (not'"+o+"') or `buffer` must be set");return h>y&&(h+=8),a.length=h,h}}).call(this)}).call(this,x("buffer").Buffer)},{"./boxes":169,buffer:75,uint64be:271}],172:[function(x,V,O){(function(g){(function(){var C=x("readable-stream"),E=x("next-event"),y=x("mp4-box-encoding"),i=g.alloc(0);class m extends C.Writable{constructor(h){super(h),this.destroyed=!1,this._pending=0,this._missing=0,this._ignoreEmpty=!1,this._buf=null,this._str=null,this._cb=null,this._ondrain=null,this._writeBuffer=null,this._writeCb=null,this._ondrain=null,this._kick()}destroy(h){this.destroyed||(this.destroyed=!0,h&&this.emit("error",h),this.emit("close"))}_write(h,s,r){if(!this.destroyed){for(var d=!this._str||!this._str._writableState.needDrain;h.length&&!this.destroyed;){if(!this._missing&&!this._ignoreEmpty)return this._writeBuffer=h,void(this._writeCb=r);var c=h.length<this._missing?h.length:this._missing;if(this._buf?h.copy(this._buf,this._buf.length-this._missing):this._str&&(d=this._str.write(c===h.length?h:h.slice(0,c))),this._missing-=c,!this._missing){var f=this._buf,u=this._cb,k=this._str;this._buf=this._cb=this._str=this._ondrain=null,d=!0,this._ignoreEmpty=!1,k&&k.end(),u&&u(f)}h=c===h.length?i:h.slice(c)}return this._pending&&!this._missing?(this._writeBuffer=h,void(this._writeCb=r)):void(d?r():this._ondrain(r))}}_buffer(h,s){this._missing=h,this._buf=g.alloc(h),this._cb=s}_stream(h,s){return this._missing=h,this._str=new a(this),this._ondrain=E(this._str,"drain"),this._pending++,this._str.on("end",()=>{this._pending--,this._kick()}),this._cb=s,this._str}_readBox(){const h=(s,r)=>{this._buffer(s,d=>{r=r?g.concat([r,d]):d;var c=y.readHeaders(r);typeof c=="number"?h(c-r.length,r):(this._pending++,this._headers=c,this.emit("box",c))})};h(8)}stream(){if(!this._headers)throw new Error("this function can only be called once after 'box' is emitted");var h=this._headers;return this._headers=null,this._stream(h.contentLen,()=>{this._pending--,this._kick()})}decode(h){if(!this._headers)throw new Error("this function can only be called once after 'box' is emitted");var s=this._headers;this._headers=null,this._buffer(s.contentLen,r=>{var d=y.decodeWithoutHeaders(s,r);h(d),this._pending--,this._kick()})}ignore(){if(!this._headers)throw new Error("this function can only be called once after 'box' is emitted");var h=this._headers;this._headers=null,this._missing=h.contentLen,this._missing===0&&(this._ignoreEmpty=!0),this._cb=()=>{this._pending--,this._kick()}}_kick(){if(!this._pending&&(this._buf||this._str||this._readBox(),this._writeBuffer)){var h=this._writeCb,s=this._writeBuffer;this._writeBuffer=null,this._writeCb=null,this._write(s,null,h)}}}class a extends C.PassThrough{constructor(h){super(),this._parent=h,this.destroyed=!1}destroy(h){this.destroyed||(this.destroyed=!0,this._parent.destroy(h),h&&this.emit("error",h),this.emit("close"))}}V.exports=m}).call(this)}).call(this,x("buffer").Buffer)},{buffer:75,"mp4-box-encoding":171,"next-event":176,"readable-stream":227}],173:[function(x,V,O){(function(g){(function(){function C(){}var E=x("readable-stream"),y=x("mp4-box-encoding"),i=x("queue-microtask");class m extends E.Readable{constructor(h){super(h),this.destroyed=!1,this._finalized=!1,this._reading=!1,this._stream=null,this._drain=null,this._want=!1,this._onreadable=()=>{this._want&&(this._want=!1,this._read())},this._onend=()=>{this._stream=null}}mdat(h,s){this.mediaData(h,s)}mediaData(h,s){var r=new a(this);return this.box({type:"mdat",contentLength:h,encodeBufferLen:8,stream:r},s),r}box(h,s){if(s||(s=C),this.destroyed)return s(new Error("Encoder is destroyed"));var r;if(h.encodeBufferLen&&(r=g.alloc(h.encodeBufferLen)),h.stream)h.buffer=null,r=y.encode(h,r),this.push(r),this._stream=h.stream,this._stream.on("readable",this._onreadable),this._stream.on("end",this._onend),this._stream.on("end",s),this._forward();else{r=y.encode(h,r);var d=this.push(r);if(d)return i(s);this._drain=s}}destroy(h){if(!this.destroyed){if(this.destroyed=!0,this._stream&&this._stream.destroy&&this._stream.destroy(),this._stream=null,this._drain){var s=this._drain;this._drain=null,s(h)}h&&this.emit("error",h),this.emit("close")}}finalize(){this._finalized=!0,this._stream||this._drain||this.push(null)}_forward(){if(this._stream)for(;!this.destroyed;){var h=this._stream.read();if(!h)return void(this._want=!!this._stream);if(!this.push(h))return}}_read(){if(!(this._reading||this.destroyed)){if(this._reading=!0,this._stream&&this._forward(),this._drain){var h=this._drain;this._drain=null,h()}this._reading=!1,this._finalized&&this.push(null)}}}class a extends E.PassThrough{constructor(h){super(),this._parent=h,this.destroyed=!1}destroy(h){this.destroyed||(this.destroyed=!0,this._parent.destroy(h),h&&this.emit("error",h),this.emit("close"))}}V.exports=m}).call(this)}).call(this,x("buffer").Buffer)},{buffer:75,"mp4-box-encoding":171,"queue-microtask":205,"readable-stream":227}],174:[function(x,V,O){const g=x("./decode"),C=x("./encode");O.decode=E=>new g(E),O.encode=E=>new C(E)},{"./decode":172,"./encode":173}],175:[function(x,V,O){function g(i){if(i+="",!(100<i.length)){var m=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(i);if(m){var a=parseFloat(m[1]),o=(m[2]||"ms").toLowerCase();return o==="years"||o==="year"||o==="yrs"||o==="yr"||o==="y"?315576e5*a:o==="weeks"||o==="week"||o==="w"?6048e5*a:o==="days"||o==="day"||o==="d"?864e5*a:o==="hours"||o==="hour"||o==="hrs"||o==="hr"||o==="h"?36e5*a:o==="minutes"||o==="minute"||o==="mins"||o==="min"||o==="m"?6e4*a:o==="seconds"||o==="second"||o==="secs"||o==="sec"||o==="s"?1e3*a:o==="milliseconds"||o==="millisecond"||o==="msecs"||o==="msec"||o==="ms"?a:void 0}}}function C(i){var m=S(i);return 864e5<=m?$(i/864e5)+"d":36e5<=m?$(i/36e5)+"h":6e4<=m?$(i/6e4)+"m":1e3<=m?$(i/1e3)+"s":i+"ms"}function E(i){var m=S(i);return 864e5<=m?y(i,m,864e5,"day"):36e5<=m?y(i,m,36e5,"hour"):6e4<=m?y(i,m,6e4,"minute"):1e3<=m?y(i,m,1e3,"second"):i+" ms"}function y(i,m,a,o){var h=m>=1.5*a;return $(i/a)+" "+o+(h?"s":"")}V.exports=function(i,m){m=m||{};var a=typeof i;if(a=="string"&&0<i.length)return g(i);if(a==="number"&&isFinite(i))return m.long?E(i):C(i);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(i))}},{}],176:[function(x,V,O){function g(C,E){var y=null;return C.on(E,function(i){if(y){var m=y;y=null,m(i)}}),function(i){y=i}}V.exports=g},{}],177:[function(x,V,O){function g(y){var i=function(){return i.called?i.value:(i.called=!0,i.value=y.apply(this,arguments))};return i.called=!1,i}function C(y){var i=function(){if(i.called)throw new Error(i.onceError);return i.called=!0,i.value=y.apply(this,arguments)},m=y.name||"Function wrapped with `once`";return i.onceError=m+" shouldn't be called more than once",i.called=!1,i}var E=x("wrappy");V.exports=E(g),V.exports.strict=E(C),g.proto=g(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return g(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return C(this)},configurable:!0})})},{wrappy:279}],178:[function(x,V,O){V.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],179:[function(x,V,O){var g=x("asn1.js");O.certificate=x("./certificate");var C=g.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});O.RSAPrivateKey=C;var E=g.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});O.RSAPublicKey=E;var y=g.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(i),this.key("subjectPublicKey").bitstr())});O.PublicKey=y;var i=g.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),m=g.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(i),this.key("subjectPrivateKey").octstr())});O.PrivateKey=m;var a=g.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});O.EncryptedPrivateKey=a;var o=g.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});O.DSAPrivateKey=o,O.DSAparam=g.define("DSAparam",function(){this.int()});var h=g.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(s),this.key("publicKey").optional().explicit(1).bitstr())});O.ECPrivateKey=h;var s=g.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});O.signature=g.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":180,"asn1.js":8}],180:[function(x,V,O){var g=x("asn1.js"),C=g.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),E=g.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),y=g.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),i=g.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(y),this.key("subjectPublicKey").bitstr())}),m=g.define("RelativeDistinguishedName",function(){this.setof(E)}),a=g.define("RDNSequence",function(){this.seqof(m)}),o=g.define("Name",function(){this.choice({rdnSequence:this.use(a)})}),h=g.define("Validity",function(){this.seq().obj(this.key("notBefore").use(C),this.key("notAfter").use(C))}),s=g.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),r=g.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(y),this.key("issuer").use(o),this.key("validity").use(h),this.key("subject").use(o),this.key("subjectPublicKeyInfo").use(i),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(s).optional())}),d=g.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(r),this.key("signatureAlgorithm").use(y),this.key("signatureValue").bitstr())});V.exports=d},{"asn1.js":8}],181:[function(x,V,O){var g=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,C=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,E=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,y=x("evp_bytestokey"),i=x("browserify-aes"),m=x("safe-buffer").Buffer;V.exports=function(a,o){var h=a.toString(),s=h.match(g),r;if(s){var c="aes"+s[1],f=m.from(s[2],"hex"),u=m.from(s[3].replace(/[\r\n]/g,""),"base64"),k=y(o,f.slice(0,8),parseInt(s[1],10)).key,R=[],A=i.createDecipheriv(c,k,f);R.push(A.update(u)),R.push(A.final()),r=m.concat(R)}else{var d=h.match(E);r=m.from(d[2].replace(/[\r\n]/g,""),"base64")}var w=h.match(C)[1];return{tag:w,data:r}}},{"browserify-aes":44,evp_bytestokey:123,"safe-buffer":234}],182:[function(x,V,O){function g(h){var s;typeof h!="object"||o.isBuffer(h)||(s=h.passphrase,h=h.key),typeof h=="string"&&(h=o.from(h));var r=i(h,s),d=r.tag,c=r.data,f,u;switch(d){case"CERTIFICATE":u=E.certificate.decode(c,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(u||(u=E.PublicKey.decode(c,"der")),f=u.algorithm.algorithm.join("."),f){case"1.2.840.113549.1.1.1":return E.RSAPublicKey.decode(u.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return u.subjectPrivateKey=u.subjectPublicKey,{type:"ec",data:u};case"1.2.840.10040.4.1":return u.algorithm.params.pub_key=E.DSAparam.decode(u.subjectPublicKey.data,"der"),{type:"dsa",data:u.algorithm.params};default:throw new Error("unknown key id "+f)}case"ENCRYPTED PRIVATE KEY":c=E.EncryptedPrivateKey.decode(c,"der"),c=C(c,s);case"PRIVATE KEY":switch(u=E.PrivateKey.decode(c,"der"),f=u.algorithm.algorithm.join("."),f){case"1.2.840.113549.1.1.1":return E.RSAPrivateKey.decode(u.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:u.algorithm.curve,privateKey:E.ECPrivateKey.decode(u.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return u.algorithm.params.priv_key=E.DSAparam.decode(u.subjectPrivateKey,"der"),{type:"dsa",params:u.algorithm.params};default:throw new Error("unknown key id "+f)}case"RSA PUBLIC KEY":return E.RSAPublicKey.decode(c,"der");case"RSA PRIVATE KEY":return E.RSAPrivateKey.decode(c,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:E.DSAPrivateKey.decode(c,"der")};case"EC PRIVATE KEY":return c=E.ECPrivateKey.decode(c,"der"),{curve:c.parameters.value,privateKey:c.privateKey};default:throw new Error("unknown key type "+d)}}function C(h,s){var r=h.algorithm.decrypt.kde.kdeparams.salt,d=parseInt(h.algorithm.decrypt.kde.kdeparams.iters.toString(),10),c=y[h.algorithm.decrypt.cipher.algo.join(".")],f=h.algorithm.decrypt.cipher.iv,u=h.subjectPrivateKey,k=parseInt(c.split("-")[1],10)/8,R=a.pbkdf2Sync(s,r,d,k,"sha1"),A=m.createDecipheriv(c,R,f),w=[];return w.push(A.update(u)),w.push(A.final()),o.concat(w)}var E=x("./asn1"),y=x("./aesid.json"),i=x("./fixProc"),m=x("browserify-aes"),a=x("pbkdf2"),o=x("safe-buffer").Buffer;V.exports=g,g.signature=E.signature},{"./aesid.json":178,"./asn1":179,"./fixProc":181,"browserify-aes":44,pbkdf2:185,"safe-buffer":234}],183:[function(x,V,O){(function(g){(function(){function C(A){if(typeof A=="string"&&/^(stream-)?magnet:/.test(A)){const w=f(A);if(!w.infoHash)throw new Error("Invalid torrent identifier");return w}if(typeof A=="string"&&(/^[a-f0-9]{40}$/i.test(A)||/^[a-z2-7]{32}$/i.test(A)))return f(`magnet:?xt=urn:btih:${A}`);if(g.isBuffer(A)&&A.length===20)return f(`magnet:?xt=urn:btih:${A.toString("hex")}`);if(g.isBuffer(A))return y(A);if(A&&A.infoHash)return A.infoHash=A.infoHash.toLowerCase(),A.announce||(A.announce=[]),typeof A.announce=="string"&&(A.announce=[A.announce]),A.urlList||(A.urlList=[]),A;throw new Error("Invalid torrent identifier")}function E(A,w,I){function N(G){try{L=C(G)}catch(J){return I(J)}L&&L.infoHash?I(null,L):I(new Error("Invalid torrent identifier"))}if(typeof w=="function")return E(A,{},w);if(typeof I!="function")throw new Error("second argument must be a Function");let L;try{L=C(A)}catch{}L&&L.infoHash?R(()=>{I(null,L)}):m(A)?r(A,(G,J)=>G?I(new Error(`Error converting Blob: ${G.message}`)):void N(J)):typeof c=="function"&&/^https?:/.test(A)?(w=Object.assign({url:A,timeout:3e4,headers:{"user-agent":"WebTorrent (https://webtorrent.io)"}},w),c.concat(w,(G,J,se)=>G?I(new Error(`Error downloading torrent: ${G.message}`)):void N(se))):typeof d.readFile=="function"&&typeof A=="string"?d.readFile(A,(G,J)=>G?I(new Error("Invalid torrent identifier")):void N(J)):R(()=>{I(new Error("Invalid torrent identifier"))})}function y(A){g.isBuffer(A)&&(A=s.decode(A)),h(A.info,"info"),h(A.info["name.utf-8"]||A.info.name,"info.name"),h(A.info["piece length"],"info['piece length']"),h(A.info.pieces,"info.pieces"),A.info.files?A.info.files.forEach(L=>{h(typeof L.length=="number","info.files[0].length"),h(L["path.utf-8"]||L.path,"info.files[0].path")}):h(typeof A.info.length=="number","info.length");const w={info:A.info,infoBuffer:s.encode(A.info),name:(A.info["name.utf-8"]||A.info.name).toString(),announce:[]};w.infoHash=k.sync(w.infoBuffer),w.infoHashBuffer=g.from(w.infoHash,"hex"),A.info.private!==void 0&&(w.private=!!A.info.private),A["creation date"]&&(w.created=new Date(1e3*A["creation date"])),A["created by"]&&(w.createdBy=A["created by"].toString()),g.isBuffer(A.comment)&&(w.comment=A.comment.toString()),Array.isArray(A["announce-list"])&&0<A["announce-list"].length?A["announce-list"].forEach(L=>{L.forEach(G=>{w.announce.push(G.toString())})}):A.announce&&w.announce.push(A.announce.toString()),g.isBuffer(A["url-list"])&&(A["url-list"]=0<A["url-list"].length?[A["url-list"]]:[]),w.urlList=(A["url-list"]||[]).map(L=>L.toString()),w.announce=Array.from(new Set(w.announce)),w.urlList=Array.from(new Set(w.urlList));const I=A.info.files||[A.info];w.files=I.map((L,G)=>{const J=[].concat(w.name,L["path.utf-8"]||L.path||[]).map(se=>se.toString());return{path:u.join.apply(null,[u.sep].concat(J)).slice(1),name:J[J.length-1],length:L.length,offset:I.slice(0,G).reduce(a,0)}}),w.length=I.reduce(a,0);const N=w.files[w.files.length-1];return w.pieceLength=A.info["piece length"],w.lastPieceLength=(N.offset+N.length)%w.pieceLength||w.pieceLength,w.pieces=o(A.info.pieces),w}function i(A){const w={info:A.info};return w["announce-list"]=(A.announce||[]).map(I=>(w.announce||(w.announce=I),I=g.from(I,"utf8"),[I])),w["url-list"]=A.urlList||[],A.private!==void 0&&(w.private=+A.private),A.created&&(w["creation date"]=0|A.created.getTime()/1e3),A.createdBy&&(w["created by"]=A.createdBy),A.comment&&(w.comment=A.comment),s.encode(w)}function m(A){return typeof Blob<"u"&&A instanceof Blob}function a(A,w){return A+w.length}function o(A){const w=[];for(let I=0;I<A.length;I+=20)w.push(A.slice(I,I+20).toString("hex"));return w}function h(A,w){if(!A)throw new Error(`Torrent is missing required field: ${w}`)}/*! parse-torrent. MIT License. WebTorrent LLC <https://webtorrent.io/opensource> */const s=x("bencode"),r=x("blob-to-buffer"),d=x("fs"),c=x("simple-get"),f=x("magnet-uri"),u=x("path"),k=x("simple-sha1"),R=x("queue-microtask");V.exports=C,V.exports.remote=E,V.exports.toMagnetURI=f.encode,V.exports.toTorrentFile=i,g.alloc(0)}).call(this)}).call(this,x("buffer").Buffer)},{bencode:27,"blob-to-buffer":37,buffer:75,fs:41,"magnet-uri":157,path:184,"queue-microtask":205,"simple-get":245,"simple-sha1":247}],184:[function(x,V,O){(function(g){(function(){function C(m){if(typeof m!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(m))}function E(m,a){for(var o="",h=0,s=-1,r=0,d=0,c;d<=m.length;++d){if(d<m.length)c=m.charCodeAt(d);else{if(c===47)break;c=47}if(c===47){if(!(s===d-1||r===1))if(s!==d-1&&r===2){if(2>o.length||h!==2||o.charCodeAt(o.length-1)!==46||o.charCodeAt(o.length-2)!==46){if(2<o.length){var f=o.lastIndexOf("/");if(f!==o.length-1){f===-1?(o="",h=0):(o=o.slice(0,f),h=o.length-1-o.lastIndexOf("/")),s=d,r=0;continue}}else if(o.length===2||o.length===1){o="",h=0,s=d,r=0;continue}}a&&(0<o.length?o+="/..":o="..",h=2)}else 0<o.length?o+="/"+m.slice(s+1,d):o=m.slice(s+1,d),h=d-s-1;s=d,r=0}else c===46&&r!==-1?++r:r=-1}return o}function y(m,a){var o=a.dir||a.root,h=a.base||(a.name||"")+(a.ext||"");return o?o===a.root?o+h:o+m+h:h}var i={resolve:function(){for(var a="",o=!1,h=arguments.length-1,s;-1<=h&&!o;h--){var r;0<=h?r=arguments[h]:(s===void 0&&(s=g.cwd()),r=s),C(r),r.length!==0&&(a=r+"/"+a,o=r.charCodeAt(0)===47)}return a=E(a,!o),o?0<a.length?"/"+a:"/":0<a.length?a:"."},normalize:function(a){if(C(a),a.length===0)return".";var o=a.charCodeAt(0)===47,h=a.charCodeAt(a.length-1)===47;return a=E(a,!o),a.length!==0||o||(a="."),0<a.length&&h&&(a+="/"),o?"/"+a:a},isAbsolute:function(a){return C(a),0<a.length&&a.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var a=0,o,h;a<arguments.length;++a)h=arguments[a],C(h),0<h.length&&(o===void 0?o=h:o+="/"+h);return o===void 0?".":i.normalize(o)},relative:function(a,o){if(C(a),C(o),a===o||(a=i.resolve(a),o=i.resolve(o),a===o))return"";for(var h=1;h<a.length&&a.charCodeAt(h)===47;++h);for(var s=a.length,r=s-h,d=1;d<o.length&&o.charCodeAt(d)===47;++d);for(var c=o.length,f=c-d,u=r<f?r:f,k=-1,R=0;R<=u;++R){if(R===u){if(f>u){if(o.charCodeAt(d+R)===47)return o.slice(d+R+1);if(R===0)return o.slice(d+R)}else r>u&&(a.charCodeAt(h+R)===47?k=R:R===0&&(k=0));break}var A=a.charCodeAt(h+R),w=o.charCodeAt(d+R);if(A!==w)break;A===47&&(k=R)}var I="";for(R=h+k+1;R<=s;++R)(R===s||a.charCodeAt(R)===47)&&(I+=I.length===0?"..":"/..");return 0<I.length?I+o.slice(d+k):(d+=k,o.charCodeAt(d)===47&&++d,o.slice(d))},_makeLong:function(a){return a},dirname:function(a){if(C(a),a.length===0)return".";for(var o=a.charCodeAt(0),h=o===47,s=-1,r=!0,d=a.length-1;1<=d;--d)if(o=a.charCodeAt(d),o!==47)r=!1;else if(!r){s=d;break}return s===-1?h?"/":".":h&&s===1?"//":a.slice(0,s)},basename:function(a,o){if(o!==void 0&&typeof o!="string")throw new TypeError('"ext" argument must be a string');C(a);var h=0,s=-1,r=!0,d;if(o!==void 0&&0<o.length&&o.length<=a.length){if(o.length===a.length&&o===a)return"";var c=o.length-1,f=-1;for(d=a.length-1;0<=d;--d){var u=a.charCodeAt(d);if(u!==47)f===-1&&(r=!1,f=d+1),0<=c&&(u===o.charCodeAt(c)?--c==-1&&(s=d):(c=-1,s=f));else if(!r){h=d+1;break}}return h===s?s=f:s===-1&&(s=a.length),a.slice(h,s)}for(d=a.length-1;0<=d;--d)if(a.charCodeAt(d)!==47)s===-1&&(r=!1,s=d+1);else if(!r){h=d+1;break}return s===-1?"":a.slice(h,s)},extname:function(a){C(a);for(var o=-1,h=0,s=-1,r=!0,d=0,c=a.length-1,f;0<=c;--c){if(f=a.charCodeAt(c),f===47){if(!r){h=c+1;break}continue}s===-1&&(r=!1,s=c+1),f===46?o===-1?o=c:d!==1&&(d=1):o!==-1&&(d=-1)}return o===-1||s===-1||d===0||d===1&&o===s-1&&o===h+1?"":a.slice(o,s)},format:function(a){if(a===null||typeof a!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof a);return y("/",a)},parse:function(a){C(a);var o={root:"",dir:"",base:"",ext:"",name:""};if(a.length===0)return o;var h=a.charCodeAt(0),s=h===47,r;s?(o.root="/",r=1):r=0;for(var d=-1,c=0,f=-1,u=!0,k=a.length-1,R=0;k>=r;--k){if(h=a.charCodeAt(k),h===47){if(!u){c=k+1;break}continue}f===-1&&(u=!1,f=k+1),h===46?d===-1?d=k:R!==1&&(R=1):d!==-1&&(R=-1)}return d===-1||f===-1||R===0||R===1&&d===f-1&&d===c+1?f!==-1&&(c===0&&s?o.base=o.name=a.slice(1,f):o.base=o.name=a.slice(c,f)):(c===0&&s?(o.name=a.slice(1,d),o.base=a.slice(1,f)):(o.name=a.slice(c,d),o.base=a.slice(c,f)),o.ext=a.slice(d,f)),0<c?o.dir=a.slice(0,c-1):s&&(o.dir="/"),o},sep:"/",delimiter:":",win32:null,posix:null};i.posix=i,V.exports=i}).call(this)}).call(this,x("_process"))},{_process:192}],185:[function(x,V,O){O.pbkdf2=x("./lib/async"),O.pbkdf2Sync=x("./lib/sync")},{"./lib/async":186,"./lib/sync":189}],186:[function(x,V,O){(function(g){(function(){function C(k){if(g.process&&!g.process.browser||!r||!r.importKey||!r.deriveBits)return Promise.resolve(!1);if(c[k]!==void 0)return c[k];f=f||m.alloc(8);var R=y(f,f,10,128,k).then(function(){return!0}).catch(function(){return!1});return c[k]=R,R}function E(){return u||(u=g.process&&g.process.nextTick?g.process.nextTick:g.queueMicrotask?g.queueMicrotask:g.setImmediate?g.setImmediate:g.setTimeout,u)}function y(k,R,A,w,I){return r.importKey("raw",k,{name:"PBKDF2"},!1,["deriveBits"]).then(function(N){return r.deriveBits({name:"PBKDF2",salt:R,iterations:A,hash:{name:I}},N,w<<3)}).then(function(N){return m.from(N)})}function i(k,R){k.then(function(A){E()(function(){R(null,A)})},function(A){E()(function(){R(A)})})}var m=x("safe-buffer").Buffer,a=x("./precondition"),o=x("./default-encoding"),h=x("./sync"),s=x("./to-buffer"),r=g.crypto&&g.crypto.subtle,d={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},c=[],f,u;V.exports=function(k,R,A,w,I,N){typeof I=="function"&&(N=I,I=void 0),I=I||"sha1";var L=d[I.toLowerCase()];if(!L||typeof g.Promise!="function")return void E()(function(){var G;try{G=h(k,R,A,w,I)}catch(J){return N(J)}N(null,G)});if(a(A,w),k=s(k,o,"Password"),R=s(R,o,"Salt"),typeof N!="function")throw new Error("No callback provided to pbkdf2");i(C(L).then(function(G){return G?y(k,R,A,w,L):h(k,R,A,w,I)}),N)}}).call(this)}).call(this,typeof ut>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:ut)},{"./default-encoding":187,"./precondition":188,"./sync":189,"./to-buffer":190,"safe-buffer":234}],187:[function(x,V,O){(function(g,C){(function(){var E;if(C.process&&C.process.browser)E="utf-8";else if(C.process&&C.process.version){var y=parseInt(g.version.split(".")[0].slice(1),10);E=6<=y?"utf-8":"binary"}else E="utf-8";V.exports=E}).call(this)}).call(this,x("_process"),typeof ut>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:ut)},{_process:192}],188:[function(x,V,O){V.exports=function(g,C){if(typeof g!="number")throw new TypeError("Iterations not a number");if(0>g)throw new TypeError("Bad iterations");if(typeof C!="number")throw new TypeError("Key length not a number");if(0>C||1073741823<C||C!==C)throw new TypeError("Bad key length")}},{}],189:[function(x,V,O){function g(c,f,u){var k=C(c),R=c==="sha512"||c==="sha384"?128:64;f.length>R?f=k(f):f.length<R&&(f=a.concat([f,r],R));for(var A=a.allocUnsafe(R+d[c]),w=a.allocUnsafe(R+d[c]),I=0;I<R;I++)A[I]=54^f[I],w[I]=92^f[I];var N=a.allocUnsafe(R+u+4);A.copy(N,0,0,R),this.ipad1=N,this.ipad2=A,this.opad=w,this.alg=c,this.blocksize=R,this.hash=k,this.size=d[c]}function C(c){function f(k){return m(c).update(k).digest()}function u(k){return new i().update(k).digest()}return c==="rmd160"||c==="ripemd160"?u:c==="md5"?y:f}function E(c,f,u,k,R){o(u,k),c=s(c,h,"Password"),f=s(f,h,"Salt"),R=R||"sha1";var A=new g(R,c,f.length),w=a.allocUnsafe(k),I=a.allocUnsafe(f.length+4);f.copy(I,0,0,f.length);for(var N=0,L=d[R],G=Ee(k/L),J=1;J<=G;J++){I.writeUInt32BE(J,f.length);for(var se=A.run(I,A.ipad1),ce=se,Y=1;Y<u;Y++){ce=A.run(ce,A.ipad2);for(var B=0;B<L;B++)se[B]^=ce[B]}se.copy(w,N),N+=L}return w}var y=x("create-hash/md5"),i=x("ripemd160"),m=x("sha.js"),a=x("safe-buffer").Buffer,o=x("./precondition"),h=x("./default-encoding"),s=x("./to-buffer"),r=a.alloc(128),d={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};g.prototype.run=function(c,f){c.copy(f,this.blocksize);var u=this.hash(f);return u.copy(this.opad,this.blocksize),this.hash(this.opad)},V.exports=E},{"./default-encoding":187,"./precondition":188,"./to-buffer":190,"create-hash/md5":85,ripemd160:230,"safe-buffer":234,"sha.js":237}],190:[function(x,V,O){var g=x("safe-buffer").Buffer;V.exports=function(C,E,y){if(g.isBuffer(C))return C;if(typeof C=="string")return g.from(C,E);if(ArrayBuffer.isView(C))return g.from(C.buffer);throw new TypeError(y+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":234}],191:[function(x,V,O){function g(C){return be(16384,0|1<<Math.log2(1024>C?1:C/1024)+.5)}V.exports=g},{}],192:[function(x,V,O){function g(){throw new Error("setTimeout has not been defined")}function C(){throw new Error("clearTimeout has not been defined")}function E(k){if(s===setTimeout)return setTimeout(k,0);if((s===g||!s)&&setTimeout)return s=setTimeout,setTimeout(k,0);try{return s(k,0)}catch{try{return s.call(null,k,0)}catch{return s.call(this,k,0)}}}function y(k){if(r===clearTimeout)return clearTimeout(k);if((r===C||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(k);try{return r(k)}catch{try{return r.call(null,k)}catch{return r.call(this,k)}}}function i(){c&&u&&(c=!1,u.length?d=u.concat(d):f=-1,d.length&&m())}function m(){if(!c){var k=E(i);c=!0;for(var R=d.length;R;){for(u=d,d=[];++f<R;)u&&u[f].run();f=-1,R=d.length}u=null,c=!1,y(k)}}function a(k,R){this.fun=k,this.array=R}function o(){}var h=V.exports={},s,r;(function(){try{s=typeof setTimeout=="function"?setTimeout:g}catch{s=g}try{r=typeof clearTimeout=="function"?clearTimeout:C}catch{r=C}})();var d=[],c=!1,f=-1,u;h.nextTick=function(k){var R=Array(arguments.length-1);if(1<arguments.length)for(var A=1;A<arguments.length;A++)R[A-1]=arguments[A];d.push(new a(k,R)),d.length!==1||c||E(m)},a.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=o,h.addListener=o,h.once=o,h.off=o,h.removeListener=o,h.removeAllListeners=o,h.emit=o,h.prependListener=o,h.prependOnceListener=o,h.listeners=function(k){return[]},h.binding=function(k){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(k){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],193:[function(x,V,O){O.publicEncrypt=x("./publicEncrypt"),O.privateDecrypt=x("./privateDecrypt"),O.privateEncrypt=function(C,E){return O.publicEncrypt(C,E,!0)},O.publicDecrypt=function(C,E){return O.privateDecrypt(C,E,!0)}},{"./privateDecrypt":196,"./publicEncrypt":197}],194:[function(x,V,O){function g(y){var i=E.allocUnsafe(4);return i.writeUInt32BE(y,0),i}var C=x("create-hash"),E=x("safe-buffer").Buffer;V.exports=function(y,i){for(var m=E.alloc(0),a=0,o;m.length<i;)o=g(a++),m=E.concat([m,C("sha1").update(y).update(o).digest()]);return m.slice(0,i)}},{"create-hash":84,"safe-buffer":234}],195:[function(x,V,O){arguments[4][22][0].apply(O,arguments)},{buffer:41,dup:22}],196:[function(x,V,O){function g(d,c){var f=d.modulus.byteLength(),u=h("sha1").update(r.alloc(0)).digest(),k=u.length;if(c[0]!==0)throw new Error("decryption error");var R=c.slice(1,k+1),A=c.slice(k+1),w=m(R,i(A,k)),I=m(A,i(w,f-k-1));if(E(u,I.slice(0,k)))throw new Error("decryption error");for(var N=k;I[N]===0;)N++;if(I[N++]!==1)throw new Error("decryption error");return I.slice(N)}function C(d,c,f){for(var u=c.slice(0,2),k=2,R=0;c[k++]!==0;)if(k>=c.length){R++;break}var A=c.slice(2,k-1);if((u.toString("hex")!=="0002"&&!f||u.toString("hex")!=="0001"&&f)&&R++,8>A.length&&R++,R)throw new Error("decryption error");return c.slice(k)}function E(d,c){d=r.from(d),c=r.from(c);var f=0,u=d.length;d.length!==c.length&&(f++,u=ke(d.length,c.length));for(var k=-1;++k<u;)f+=d[k]^c[k];return f}var y=x("parse-asn1"),i=x("./mgf"),m=x("./xor"),a=x("bn.js"),o=x("browserify-rsa"),h=x("create-hash"),s=x("./withPublic"),r=x("safe-buffer").Buffer;V.exports=function(c,f,u){var k;k=c.padding?c.padding:u?1:4;var R=y(c),A=R.modulus.byteLength();if(f.length>A||0<=new a(f).cmp(R.modulus))throw new Error("decryption error");var w;w=u?s(new a(f),R):o(f,R);var I=r.alloc(A-w.length);if(w=r.concat([I,w],A),k===4)return g(R,w);if(k===1)return C(R,w,u);if(k===3)return w;throw new Error("unknown padding")}},{"./mgf":194,"./withPublic":198,"./xor":199,"bn.js":195,"browserify-rsa":62,"create-hash":84,"parse-asn1":182,"safe-buffer":234}],197:[function(x,V,O){function g(c,f){var u=c.modulus.byteLength(),k=f.length,R=m("sha1").update(d.alloc(0)).digest(),A=R.length,w=2*A;if(k>u-w-2)throw new Error("message too long");var I=d.alloc(u-k-w-2),N=u-A-1,L=i(A),G=o(d.concat([R,I,d.alloc(1,1),f],N),a(L,N)),J=o(L,a(G,A));return new h(d.concat([d.alloc(1),J,G],u))}function C(c,f,u){var k=f.length,R=c.modulus.byteLength();if(k>R-11)throw new Error("message too long");var A;return A=u?d.alloc(R-k-3,255):E(R-k-3),new h(d.concat([d.from([0,u?1:2]),A,d.alloc(1),f],R))}function E(c){for(var f=d.allocUnsafe(c),u=0,k=i(2*c),R=0,A;u<c;)R===k.length&&(k=i(2*c),R=0),A=k[R++],A&&(f[u++]=A);return f}var y=x("parse-asn1"),i=x("randombytes"),m=x("create-hash"),a=x("./mgf"),o=x("./xor"),h=x("bn.js"),s=x("./withPublic"),r=x("browserify-rsa"),d=x("safe-buffer").Buffer;V.exports=function(f,u,k){var R;R=f.padding?f.padding:k?1:4;var A=y(f),w;if(R===4)w=g(A,u);else if(R===1)w=C(A,u,k);else{if(R!==3)throw new Error("unknown padding");if(w=new h(u),0<=w.cmp(A.modulus))throw new Error("data too long for modulus")}return k?r(w,A):s(w,A)}},{"./mgf":194,"./withPublic":198,"./xor":199,"bn.js":195,"browserify-rsa":62,"create-hash":84,"parse-asn1":182,randombytes:208,"safe-buffer":234}],198:[function(x,V,O){function g(y,i){return E.from(y.toRed(C.mont(i.modulus)).redPow(new C(i.publicExponent)).fromRed().toArray())}var C=x("bn.js"),E=x("safe-buffer").Buffer;V.exports=g},{"bn.js":195,"safe-buffer":234}],199:[function(x,V,O){V.exports=function(C,E){for(var y=C.length,i=-1;++i<y;)C[i]^=E[i];return C}},{}],200:[function(x,V,O){(function(g){(function(){var C=x("once"),E=x("end-of-stream"),y=x("fs"),i=function(){},m=/^v?\.0/.test(g.version),a=function(f){return typeof f=="function"},o=function(f){return!!m&&!!y&&(f instanceof(y.ReadStream||i)||f instanceof(y.WriteStream||i))&&a(f.close)},h=function(f){return f.setHeader&&a(f.abort)},s=function(f,u,k,R){R=C(R);var A=!1;f.on("close",function(){A=!0}),E(f,{readable:u,writable:k},function(I){return I?R(I):(A=!0,void R())});var w=!1;return function(I){if(!A)return w?void 0:(w=!0,o(f)?f.close(i):h(f)?f.abort():a(f.destroy)?f.destroy():void R(I||new Error("stream was destroyed")))}},r=function(f){f()},d=function(f,u){return f.pipe(u)},c=function(){var f=Array.prototype.slice.call(arguments),u=a(f[f.length-1]||i)&&f.pop()||i;if(Array.isArray(f[0])&&(f=f[0]),2>f.length)throw new Error("pump requires two streams per minimum");var k=f.map(function(A,w){var I=w<f.length-1,N=0<w;return s(A,I,N,function(L){R||(R=L),L&&k.forEach(r),I||(k.forEach(r),u(R))})}),R;return f.reduce(d)};V.exports=c}).call(this)}).call(this,x("_process"))},{_process:192,"end-of-stream":120,fs:41,once:177}],201:[function(x,V,O){(function(g){(function(){/*! https://mths.be/punycode v1.4.1 by @mathias */(function(C){function E(ce){throw new RangeError(N[ce])}function y(ce,Y){for(var B=ce.length,_=[];B--;)_[B]=Y(ce[B]);return _}function i(ce,Y){var B=ce.split("@"),_="";1<B.length&&(_=B[0]+"@",ce=B[1]),ce=ce.replace(I,".");var p=ce.split("."),T=y(p,Y).join(".");return _+T}function m(ce){for(var Y=[],B=0,_=ce.length,p,T;B<_;)p=ce.charCodeAt(B++),55296<=p&&56319>=p&&B<_?(T=ce.charCodeAt(B++),(64512&T)==56320?Y.push(((1023&p)<<10)+(1023&T)+65536):(Y.push(p),B--)):Y.push(p);return Y}function a(ce){return y(ce,function(Y){var B="";return 65535<Y&&(Y-=65536,B+=G(55296|1023&Y>>>10),Y=56320|1023&Y),B+=G(Y),B}).join("")}function o(ce){return 10>ce-48?ce-22:26>ce-65?ce-65:26>ce-97?ce-97:36}function h(ce,Y){return ce+22+75*(26>ce)-((Y!=0)<<5)}function s(ce,Y,B){var _=0;for(ce=B?L(ce/700):ce>>1,ce+=L(ce/Y);455<ce;_+=36)ce=L(ce/35);return L(_+36*ce/(ce+38))}function r(ce){var Y=[],B=ce.length,_=0,p=128,T=72,M,F,j,U,K,Q,ee,fe,ae,me;for(F=ce.lastIndexOf("-"),0>F&&(F=0),j=0;j<F;++j)128<=ce.charCodeAt(j)&&E("not-basic"),Y.push(ce.charCodeAt(j));for(U=0<F?F+1:0;U<B;){for(K=_,Q=1,ee=36;U>=B&&E("invalid-input"),fe=o(ce.charCodeAt(U++)),(36<=fe||fe>L((2147483647-_)/Q))&&E("overflow"),_+=fe*Q,ae=ee<=T?1:ee>=T+26?26:ee-T,!(fe<ae);ee+=36)me=36-ae,Q>L(2147483647/me)&&E("overflow"),Q*=me;M=Y.length+1,T=s(_-K,M,K==0),L(_/M)>2147483647-p&&E("overflow"),p+=L(_/M),_%=M,Y.splice(_++,0,p)}return a(Y)}function d(ce){var Y=[],B,_,p,T,M,F,j,U,K,Q,ee,fe,ae,me,he;for(ce=m(ce),fe=ce.length,B=128,_=0,M=72,F=0;F<fe;++F)ee=ce[F],128>ee&&Y.push(G(ee));for(p=T=Y.length,T&&Y.push("-");p<fe;){for(j=2147483647,F=0;F<fe;++F)ee=ce[F],ee>=B&&ee<j&&(j=ee);for(ae=p+1,j-B>L((2147483647-_)/ae)&&E("overflow"),_+=(j-B)*ae,B=j,F=0;F<fe;++F)if(ee=ce[F],ee<B&&2147483647<++_&&E("overflow"),ee==B){for(U=_,K=36;Q=K<=M?1:K>=M+26?26:K-M,!(U<Q);K+=36)he=U-Q,me=36-Q,Y.push(G(h(Q+he%me,0))),U=L(he/me);Y.push(G(h(U,0))),M=s(_,ae,p==T),_=0,++p}++_,++B}return Y.join("")}function c(ce){return i(ce,function(Y){return A.test(Y)?r(Y.slice(4).toLowerCase()):Y})}function f(ce){return i(ce,function(Y){return w.test(Y)?"xn--"+d(Y):Y})}var u=typeof O=="object"&&O&&!O.nodeType&&O,k=typeof V=="object"&&V&&!V.nodeType&&V,R=typeof g=="object"&&g;(R.global===R||R.window===R||R.self===R)&&(C=R);var A=/^xn--/,w=/[^\x20-\x7E]/,I=/[\x2E\u3002\uFF0E\uFF61]/g,N={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},L=D,G=_e,J,se;if(J={version:"1.4.1",ucs2:{decode:m,encode:a},decode:r,encode:d,toASCII:f,toUnicode:c},typeof Te!="function")if(!(u&&k))C.punycode=J;else if(V.exports==u)k.exports=J;else for(se in J)J.hasOwnProperty(se)&&(u[se]=J[se])})(this)}).call(this)}).call(this,typeof ut>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:ut)},{}],202:[function(x,V,O){function g(E,y){return Object.prototype.hasOwnProperty.call(E,y)}V.exports=function(E,y,i,m){y=y||"&",i=i||"=";var a={};if(typeof E!="string"||E.length===0)return a;var o=/\+/g;E=E.split(y);var h=1e3;m&&typeof m.maxKeys=="number"&&(h=m.maxKeys);var s=E.length;0<h&&s>h&&(s=h);for(var r=0;r<s;++r){var d=E[r].replace(o,"%20"),c=d.indexOf(i),f,u,k,R;0<=c?(f=d.substr(0,c),u=d.substr(c+1)):(f=d,u=""),k=decodeURIComponent(f),R=decodeURIComponent(u),g(a,k)?C(a[k])?a[k].push(R):a[k]=[a[k],R]:a[k]=R}return a};var C=Array.isArray||function(E){return Object.prototype.toString.call(E)==="[object Array]"}},{}],203:[function(x,V,O){function g(i,m){if(i.map)return i.map(m);for(var a=[],o=0;o<i.length;o++)a.push(m(i[o],o));return a}var C=function(i){switch(typeof i){case"string":return i;case"boolean":return i?"true":"false";case"number":return isFinite(i)?i:"";default:return""}};V.exports=function(i,m,a,o){return m=m||"&",a=a||"=",i===null&&(i=void 0),typeof i=="object"?g(y(i),function(h){var s=encodeURIComponent(C(h))+a;return E(i[h])?g(i[h],function(r){return s+encodeURIComponent(C(r))}).join(m):s+encodeURIComponent(C(i[h]))}).join(m):o?encodeURIComponent(C(o))+a+encodeURIComponent(C(i)):""};var E=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"},y=Object.keys||function(i){var m=[];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&m.push(a);return m}},{}],204:[function(x,V,O){O.decode=O.parse=x("./decode"),O.encode=O.stringify=x("./encode")},{"./decode":202,"./encode":203}],205:[function(x,V,O){(function(g){(function(){/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let C;V.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window>"u"?g:window):E=>(C||(C=Promise.resolve())).then(E).catch(y=>setTimeout(()=>{throw y},0))}).call(this)}).call(this,typeof ut>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:ut)},{}],206:[function(x,V,O){V.exports=typeof queueMicrotask=="function"?queueMicrotask:g=>Promise.resolve().then(g)},{}],207:[function(x,V,O){var g=function(C){var E=0;return function(){if(E===C.length)return null;var y=C.length-E,i=0|Math.random()*y,m=C[E+i],a=C[E];return C[E]=m,C[E+i]=a,E++,m}};V.exports=g},{}],208:[function(x,V,O){(function(g,C){(function(){function E(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}function y(a,o){if(a>4294967295)throw new RangeError("requested too many random bytes");var h=i.allocUnsafe(a);if(0<a)if(65536<a)for(var s=0;s<a;s+=65536)m.getRandomValues(h.slice(s,s+65536));else m.getRandomValues(h);return typeof o=="function"?g.nextTick(function(){o(null,h)}):h}var i=x("safe-buffer").Buffer,m=C.crypto||C.msCrypto;V.exports=m&&m.getRandomValues?y:E}).call(this)}).call(this,x("_process"),typeof ut>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:ut)},{_process:192,"safe-buffer":234}],209:[function(x,V,O){(function(g,C){(function(){function E(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}function y(f,u){if(typeof f!="number"||f!==f)throw new TypeError("offset must be a number");if(4294967295<f||0>f)throw new TypeError("offset must be a uint32");if(f>d||f>u)throw new RangeError("offset out of range")}function i(f,u,k){if(typeof f!="number"||f!==f)throw new TypeError("size must be a number");if(4294967295<f||0>f)throw new TypeError("size must be a uint32");if(f+u>k||f>d)throw new RangeError("buffer too small")}function m(f,u,k,R){if(!r.isBuffer(f)&&!(f instanceof C.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof u=="function")R=u,u=0,k=f.length;else if(typeof k=="function")R=k,k=f.length-u;else if(typeof R!="function")throw new TypeError('"cb" argument must be a function');return y(u,f.length),i(k,u,f.length),a(f,u,k,R)}function a(f,u,k,R){if(g.browser){var A=f.buffer,w=new Uint8Array(A,u,k);return c.getRandomValues(w),R?void g.nextTick(function(){R(null,f)}):f}if(R)return void s(k,function(N,L){return N?R(N):(L.copy(f,u),void R(null,f))});var I=s(k);return I.copy(f,u),f}function o(f,u,k){if(typeof u>"u"&&(u=0),!r.isBuffer(f)&&!(f instanceof C.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return y(u,f.length),k===void 0&&(k=f.length-u),i(k,u,f.length),a(f,u,k)}var h=x("safe-buffer"),s=x("randombytes"),r=h.Buffer,d=h.kMaxLength,c=C.crypto||C.msCrypto;c&&c.getRandomValues||!g.browser?(O.randomFill=m,O.randomFillSync=o):(O.randomFill=E,O.randomFillSync=E)}).call(this)}).call(this,x("_process"),typeof ut>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:ut)},{_process:192,randombytes:208,"safe-buffer":234}],210:[function(x,V,O){function g(a,o,h){if(typeof o!="string")throw new TypeError("argument str must be a string");var s=o.indexOf("=");if(s===-1)return-2;var r=o.slice(s+1).split(","),d=[];d.type=o.slice(0,s);for(var c=0;c<r.length;c++){var f=r[c].split("-"),u=parseInt(f[0],10),k=parseInt(f[1],10);isNaN(u)?(u=a-k,k=a-1):isNaN(k)&&(k=a-1),k>a-1&&(k=a-1),!(isNaN(u)||isNaN(k)||u>k||0>u)&&d.push({start:u,end:k})}return 1>d.length?-1:h&&h.combine?C(d):d}function C(a){for(var o=a.map(E).sort(m),h=0,s=1;s<o.length;s++){var r=o[s],d=o[h];r.start>d.end+1?o[++h]=r:r.end>d.end&&(d.end=r.end,d.index=ke(d.index,r.index))}o.length=h+1;var c=o.sort(i).map(y);return c.type=a.type,c}function E(a,o){return{start:a.start,end:a.end,index:o}}function y(a){return{start:a.start,end:a.end}}function i(a,o){return a.index-o.index}function m(a,o){return a.start-o.start}V.exports=g},{}],211:[function(x,V,O){const{Writable:g,PassThrough:C}=x("readable-stream");class E extends g{constructor(i,m={}){super(m),this.destroyed=!1,this._queue=[],this._position=i||0,this._cb=null,this._buffer=null,this._out=null}_write(i,m,a){let o=!0;for(;;){if(this.destroyed)return;if(this._queue.length===0)return this._buffer=i,void(this._cb=a);this._buffer=null;var h=this._queue[0];const s=be(h.start-this._position,0),r=h.end-this._position;if(s>=i.length)return this._position+=i.length,a(null);let d;if(r>i.length){this._position+=i.length,d=s===0?i:i.slice(s),o=h.stream.write(d)&&o;break}this._position+=r,d=s===0&&r===i.length?i:i.slice(s,r),o=h.stream.write(d)&&o,h.last&&h.stream.end(),i=i.slice(r),this._queue.shift()}o?a(null):h.stream.once("drain",a.bind(null,null))}slice(i){if(this.destroyed)return null;Array.isArray(i)||(i=[i]);const m=new C;return i.forEach((a,o)=>{this._queue.push({start:a.start,end:a.end,stream:m,last:o===i.length-1})}),this._buffer&&this._write(this._buffer,null,this._cb),m}destroy(i){this.destroyed||(this.destroyed=!0,i&&this.emit("error",i))}}V.exports=E},{"readable-stream":227}],212:[function(x,V,O){function g(a){return parseInt(a,10)===a}function C(a){function o(){for(var r=Array(a),d=0;d<a;d++)r[d]=d;return r}function h(r){if(r===void 0){r=Array(a);for(var d=0;d<a;d++)r[d]=D(Math.random()*a)}else if(typeof r=="string")r=""+r,r=r.split("").map(function(A){return A.charCodeAt(0)%a});else if(Array.isArray(r)){if(!r.every(function(A){return typeof A=="number"&&A===(0|A)}))throw new TypeError("invalid seed key specified: not array of integers")}else throw new TypeError("invalid seed key specified");for(var c=r.length,f=o(),u=0,k=0;k<a;k++){u=(u+f[k]+r[k%c])%a;var R=f[k];f[k]=f[u],f[u]=R}return f}function s(r){this.s=h(r),this.i=0,this.j=0}return s.prototype.randomNative=function(){this.i=(this.i+1)%a,this.j=(this.j+this.s[this.i])%a;var r=this.s[this.i];this.s[this.i]=this.s[this.j],this.s[this.j]=r;var d=this.s[(this.s[this.i]+this.s[this.j])%a];return d},s.prototype.randomUInt32=function(){var r=this.randomByte(),d=this.randomByte(),c=this.randomByte(),f=this.randomByte();return 256*(256*(256*r+d)+c)+f},s.prototype.randomFloat=function(){return this.randomUInt32()/4294967296},s.prototype.random=function(){var r,d;if(arguments.length===1)r=0,d=arguments[0];else if(arguments.length===2)r=arguments[0],d=arguments[1];else throw new TypeError("random takes one or two integer arguments");if(!g(r)||!g(d))throw new TypeError("random takes one or two integer arguments");return r+this.randomUInt32()%(d-r+1)},s.prototype.currentState=function(){return{i:this.i,j:this.j,s:this.s.slice()}},s.prototype.setState=function(r){var d=r.s,c=r.i,f=r.j;if(!(c===(0|c)&&0<=c&&c<a))throw new Error("state.i should be integer [0, "+(a-1)+"]");if(!(f===(0|f)&&0<=f&&f<a))throw new Error("state.j should be integer [0, "+(a-1)+"]");if(!Array.isArray(d)||d.length!==a)throw new Error("state should be array of length "+a);for(var u=0;u<a;u++)if(d.indexOf(u)===-1)throw new Error("state should be permutation of 0.."+(a-1)+": "+u+" is missing");this.i=c,this.j=f,this.s=d.slice()},s}function E(a){return 10>a?_e(48+a):_e(97+a-10)}function y(a){return parseInt(a,16)}var i=C(256);i.prototype.randomByte=i.prototype.randomNative;var m=C(16);m.prototype.randomByte=function(){var a=this.randomNative(),o=this.randomNative();return 16*a+o},m.prototype.currentStateString=function(){var a=this.currentState(),o=E(a.i),h=E(a.j),s=o+h+a.s.map(E).join("");return s},m.prototype.setStateString=function(a){if(!a.match(/^[0-9a-f]{18}$/))throw new TypeError("RC4small stateString should be 18 hex character string");var o=y(a[0]),h=y(a[1]),s=a.split("").slice(2).map(y);this.setState({i:o,j:h,s})},i.RC4small=m,V.exports=i},{}],213:[function(x,V,O){function g(o,h){o.prototype=Object.create(h.prototype),o.prototype.constructor=o,o.__proto__=h}function C(o,h,s){function r(c,f,u){return typeof h=="string"?h:h(c,f,u)}s||(s=Error);var d=function(c){function f(u,k,R){return c.call(this,r(u,k,R))||this}return g(f,c),f}(s);d.prototype.name=s.name,d.prototype.code=o,a[o]=d}function E(o,h){if(Array.isArray(o)){var s=o.length;return o=o.map(function(r){return r+""}),2<s?"one of ".concat(h," ").concat(o.slice(0,s-1).join(", "),", or ")+o[s-1]:s===2?"one of ".concat(h," ").concat(o[0]," or ").concat(o[1]):"of ".concat(h," ").concat(o[0])}return"of ".concat(h," ").concat(o+"")}function y(o,h,s){return o.substr(!s||0>s?0:+s,h.length)===h}function i(o,h,s){return(s===void 0||s>o.length)&&(s=o.length),o.substring(s-h.length,s)===h}function m(o,h,s){return typeof s!="number"&&(s=0),!(s+h.length>o.length)&&o.indexOf(h,s)!==-1}var a={};C("ERR_INVALID_OPT_VALUE",function(o,h){return'The value "'+h+'" is invalid for option "'+o+'"'},TypeError),C("ERR_INVALID_ARG_TYPE",function(o,h,s){var r;typeof h=="string"&&y(h,"not ")?(r="must not be",h=h.replace(/^not /,"")):r="must be";var d;if(i(o," argument"))d="The ".concat(o," ").concat(r," ").concat(E(h,"type"));else{var c=m(o,".")?"property":"argument";d='The "'.concat(o,'" ').concat(c," ").concat(r," ").concat(E(h,"type"))}return d+=". Received type ".concat(typeof s),d},TypeError),C("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),C("ERR_METHOD_NOT_IMPLEMENTED",function(o){return"The "+o+" method is not implemented"}),C("ERR_STREAM_PREMATURE_CLOSE","Premature close"),C("ERR_STREAM_DESTROYED",function(o){return"Cannot call "+o+" after a stream was destroyed"}),C("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),C("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),C("ERR_STREAM_WRITE_AFTER_END","write after end"),C("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),C("ERR_UNKNOWN_ENCODING",function(o){return"Unknown encoding: "+o},TypeError),C("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),V.exports.codes=a},{}],214:[function(x,V,O){(function(g){(function(){function C(r){return this instanceof C?(m.call(this,r),a.call(this,r),this.allowHalfOpen=!0,void(r&&(r.readable===!1&&(this.readable=!1),r.writable===!1&&(this.writable=!1),r.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",E))))):new C(r)}function E(){this._writableState.ended||g.nextTick(y,this)}function y(r){r.end()}var i=Object.keys||function(r){var d=[];for(var c in r)d.push(c);return d};V.exports=C;var m=x("./_stream_readable"),a=x("./_stream_writable");x("inherits")(C,m);for(var o=i(a.prototype),h=0,s;h<o.length;h++)s=o[h],C.prototype[s]||(C.prototype[s]=a.prototype[s]);Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(C.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(C.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(d){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=d,this._writableState.destroyed=d)}})}).call(this)}).call(this,x("_process"))},{"./_stream_readable":216,"./_stream_writable":218,_process:192,inherits:146}],215:[function(x,V,O){function g(E){return this instanceof g?void C.call(this,E):new g(E)}V.exports=g;var C=x("./_stream_transform");x("inherits")(g,C),g.prototype._transform=function(E,y,i){i(null,E)}},{"./_stream_transform":217,inherits:146}],216:[function(x,V,O){(function(g,C){(function(){function E(de){return T.from(de)}function y(de){return T.isBuffer(de)||de instanceof M}function i(de,q,P){return typeof de.prependListener=="function"?de.prependListener(q,P):void(de._events&&de._events[q]?Array.isArray(de._events[q])?de._events[q].unshift(P):de._events[q]=[P,de._events[q]]:de.on(q,P))}function m(de,q,P){B=B||x("./_stream_duplex"),de=de||{},typeof P!="boolean"&&(P=q instanceof B),this.objectMode=!!de.objectMode,P&&(this.objectMode=this.objectMode||!!de.readableObjectMode),this.highWaterMark=ee(this,de,"readableHighWaterMark",P),this.buffer=new U,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=de.emitClose!==!1,this.autoDestroy=!!de.autoDestroy,this.destroyed=!1,this.defaultEncoding=de.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,de.encoding&&(!Ae&&(Ae=x("string_decoder/").StringDecoder),this.decoder=new Ae(de.encoding),this.encoding=de.encoding)}function a(de){if(B=B||x("./_stream_duplex"),!(this instanceof a))return new a(de);var q=this instanceof B;this._readableState=new m(de,this,q),this.readable=!0,de&&(typeof de.read=="function"&&(this._read=de.read),typeof de.destroy=="function"&&(this._destroy=de.destroy)),p.call(this)}function o(de,q,P,H,Z){j("readableAddChunk",q);var oe=de._readableState;if(q===null)oe.reading=!1,c(de,oe);else{var ue;if(Z||(ue=s(oe,q)),ue)xe(de,ue);else if(!(oe.objectMode||q&&0<q.length))H||(oe.reading=!1,k(de,oe));else if(typeof q=="string"||oe.objectMode||Object.getPrototypeOf(q)===T.prototype||(q=E(q)),H)oe.endEmitted?xe(de,new Se):h(de,oe,q,!0);else if(oe.ended)xe(de,new me);else{if(oe.destroyed)return!1;oe.reading=!1,oe.decoder&&!P?(q=oe.decoder.write(q),oe.objectMode||q.length!==0?h(de,oe,q,!1):k(de,oe)):h(de,oe,q,!1)}}return!oe.ended&&(oe.length<oe.highWaterMark||oe.length===0)}function h(de,q,P,H){q.flowing&&q.length===0&&!q.sync?(q.awaitDrain=0,de.emit("data",P)):(q.length+=q.objectMode?1:P.length,H?q.buffer.unshift(P):q.buffer.push(P),q.needReadable&&f(de)),k(de,q)}function s(de,q){var P;return y(q)||typeof q=="string"||q===void 0||de.objectMode||(P=new ae("chunk",["string","Buffer","Uint8Array"],q)),P}function r(de){return 1073741824<=de?de=1073741824:(de--,de|=de>>>1,de|=de>>>2,de|=de>>>4,de|=de>>>8,de|=de>>>16,de++),de}function d(de,q){return 0>=de||q.length===0&&q.ended?0:q.objectMode?1:de===de?(de>q.highWaterMark&&(q.highWaterMark=r(de)),de<=q.length?de:q.ended?q.length:(q.needReadable=!0,0)):q.flowing&&q.length?q.buffer.head.data.length:q.length}function c(de,q){if(j("onEofChunk"),!q.ended){if(q.decoder){var P=q.decoder.end();P&&P.length&&(q.buffer.push(P),q.length+=q.objectMode?1:P.length)}q.ended=!0,q.sync?f(de):(q.needReadable=!1,!q.emittedReadable&&(q.emittedReadable=!0,u(de)))}}function f(de){var q=de._readableState;j("emitReadable",q.needReadable,q.emittedReadable),q.needReadable=!1,q.emittedReadable||(j("emitReadable",q.flowing),q.emittedReadable=!0,g.nextTick(u,de))}function u(de){var q=de._readableState;j("emitReadable_",q.destroyed,q.length,q.ended),!q.destroyed&&(q.length||q.ended)&&(de.emit("readable"),q.emittedReadable=!1),q.needReadable=!q.flowing&&!q.ended&&q.length<=q.highWaterMark,G(de)}function k(de,q){q.readingMore||(q.readingMore=!0,g.nextTick(R,de,q))}function R(de,q){for(;!q.reading&&!q.ended&&(q.length<q.highWaterMark||q.flowing&&q.length===0);){var P=q.length;if(j("maybeReadMore read 0"),de.read(0),P===q.length)break}q.readingMore=!1}function A(de){return function(){var P=de._readableState;j("pipeOnDrain",P.awaitDrain),P.awaitDrain&&P.awaitDrain--,P.awaitDrain===0&&_(de,"data")&&(P.flowing=!0,G(de))}}function w(de){var q=de._readableState;q.readableListening=0<de.listenerCount("readable"),q.resumeScheduled&&!q.paused?q.flowing=!0:0<de.listenerCount("data")&&de.resume()}function I(de){j("readable nexttick read 0"),de.read(0)}function N(de,q){q.resumeScheduled||(q.resumeScheduled=!0,g.nextTick(L,de,q))}function L(de,q){j("resume",q.reading),q.reading||de.read(0),q.resumeScheduled=!1,de.emit("resume"),G(de),q.flowing&&!q.reading&&de.read(0)}function G(de){var q=de._readableState;for(j("flow",q.flowing);q.flowing&&de.read()!==null;);}function J(de,q){if(q.length===0)return null;var P;return q.objectMode?P=q.buffer.shift():!de||de>=q.length?(P=q.decoder?q.buffer.join(""):q.buffer.length===1?q.buffer.first():q.buffer.concat(q.length),q.buffer.clear()):P=q.buffer.consume(de,q.decoder),P}function se(de){var q=de._readableState;j("endReadable",q.endEmitted),q.endEmitted||(q.ended=!0,g.nextTick(ce,q,de))}function ce(de,q){if(j("endReadableNT",de.endEmitted,de.length),!de.endEmitted&&de.length===0&&(de.endEmitted=!0,q.readable=!1,q.emit("end"),de.autoDestroy)){var P=q._writableState;(!P||P.autoDestroy&&P.finished)&&q.destroy()}}function Y(de,q){for(var P=0,H=de.length;P<H;P++)if(de[P]===q)return P;return-1}V.exports=a;var B;a.ReadableState=m,x("events").EventEmitter;var _=function(q,P){return q.listeners(P).length},p=x("./internal/streams/stream"),T=x("buffer").Buffer,M=C.Uint8Array||function(){},F=x("util"),j;j=F&&F.debuglog?F.debuglog("stream"):function(){};var U=x("./internal/streams/buffer_list"),K=x("./internal/streams/destroy"),Q=x("./internal/streams/state"),ee=Q.getHighWaterMark,fe=x("../errors").codes,ae=fe.ERR_INVALID_ARG_TYPE,me=fe.ERR_STREAM_PUSH_AFTER_EOF,he=fe.ERR_METHOD_NOT_IMPLEMENTED,Se=fe.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Ae,pe,ge;x("inherits")(a,p);var xe=K.errorOrDestroy,Ce=["error","close","destroy","pause","resume"];Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(q){this._readableState&&(this._readableState.destroyed=q)}}),a.prototype.destroy=K.destroy,a.prototype._undestroy=K.undestroy,a.prototype._destroy=function(de,q){q(de)},a.prototype.push=function(de,q){var P=this._readableState,H;return P.objectMode?H=!0:typeof de=="string"&&(q=q||P.defaultEncoding,q!==P.encoding&&(de=T.from(de,q),q=""),H=!0),o(this,de,q,!1,H)},a.prototype.unshift=function(de){return o(this,de,null,!0,!1)},a.prototype.isPaused=function(){return this._readableState.flowing===!1},a.prototype.setEncoding=function(de){Ae||(Ae=x("string_decoder/").StringDecoder);var q=new Ae(de);this._readableState.decoder=q,this._readableState.encoding=this._readableState.decoder.encoding;for(var P=this._readableState.buffer.head,H="";P!==null;)H+=q.write(P.data),P=P.next;return this._readableState.buffer.clear(),H!==""&&this._readableState.buffer.push(H),this._readableState.length=H.length,this},a.prototype.read=function(de){j("read",de),de=parseInt(de,10);var q=this._readableState,P=de;if(de!==0&&(q.emittedReadable=!1),de===0&&q.needReadable&&((q.highWaterMark===0?0<q.length:q.length>=q.highWaterMark)||q.ended))return j("read: emitReadable",q.length,q.ended),q.length===0&&q.ended?se(this):f(this),null;if(de=d(de,q),de===0&&q.ended)return q.length===0&&se(this),null;var H=q.needReadable;j("need readable",H),(q.length===0||q.length-de<q.highWaterMark)&&(H=!0,j("length less than watermark",H)),q.ended||q.reading?(H=!1,j("reading or ended",H)):H&&(j("do read"),q.reading=!0,q.sync=!0,q.length===0&&(q.needReadable=!0),this._read(q.highWaterMark),q.sync=!1,!q.reading&&(de=d(P,q)));var Z;return Z=0<de?J(de,q):null,Z===null?(q.needReadable=q.length<=q.highWaterMark,de=0):(q.length-=de,q.awaitDrain=0),q.length===0&&(!q.ended&&(q.needReadable=!0),P!==de&&q.ended&&se(this)),Z!==null&&this.emit("data",Z),Z},a.prototype._read=function(de){xe(this,new he("_read()"))},a.prototype.pipe=function(de,q){function P(Ge,je){j("onunpipe"),Ge===Ie&&je&&je.hasUnpiped===!1&&(je.hasUnpiped=!0,Z())}function H(){j("onend"),de.end()}function Z(){j("cleanup"),de.removeListener("close",ve),de.removeListener("finish",Re),de.removeListener("drain",Le),de.removeListener("error",ue),de.removeListener("unpipe",P),Ie.removeListener("end",H),Ie.removeListener("end",Pe),Ie.removeListener("data",oe),We=!0,Be.awaitDrain&&(!de._writableState||de._writableState.needDrain)&&Le()}function oe(Ge){j("ondata");var je=de.write(Ge);j("dest.write",je),je===!1&&((Be.pipesCount===1&&Be.pipes===de||1<Be.pipesCount&&Y(Be.pipes,de)!==-1)&&!We&&(j("false write response, pause",Be.awaitDrain),Be.awaitDrain++),Ie.pause())}function ue(Ge){j("onerror",Ge),Pe(),de.removeListener("error",ue),_(de,"error")===0&&xe(de,Ge)}function ve(){de.removeListener("finish",Re),Pe()}function Re(){j("onfinish"),de.removeListener("close",ve),Pe()}function Pe(){j("unpipe"),Ie.unpipe(de)}var Ie=this,Be=this._readableState;switch(Be.pipesCount){case 0:Be.pipes=de;break;case 1:Be.pipes=[Be.pipes,de];break;default:Be.pipes.push(de)}Be.pipesCount+=1,j("pipe count=%d opts=%j",Be.pipesCount,q);var De=(!q||q.end!==!1)&&de!==g.stdout&&de!==g.stderr,Ne=De?H:Pe;Be.endEmitted?g.nextTick(Ne):Ie.once("end",Ne),de.on("unpipe",P);var Le=A(Ie);de.on("drain",Le);var We=!1;return Ie.on("data",oe),i(de,"error",ue),de.once("close",ve),de.once("finish",Re),de.emit("pipe",Ie),Be.flowing||(j("pipe resume"),Ie.resume()),de},a.prototype.unpipe=function(de){var q=this._readableState,P={hasUnpiped:!1};if(q.pipesCount===0)return this;if(q.pipesCount===1)return de&&de!==q.pipes?this:(de||(de=q.pipes),q.pipes=null,q.pipesCount=0,q.flowing=!1,de&&de.emit("unpipe",this,P),this);if(!de){var H=q.pipes,Z=q.pipesCount;q.pipes=null,q.pipesCount=0,q.flowing=!1;for(var oe=0;oe<Z;oe++)H[oe].emit("unpipe",this,{hasUnpiped:!1});return this}var ue=Y(q.pipes,de);return ue===-1?this:(q.pipes.splice(ue,1),q.pipesCount-=1,q.pipesCount===1&&(q.pipes=q.pipes[0]),de.emit("unpipe",this,P),this)},a.prototype.on=function(de,q){var P=p.prototype.on.call(this,de,q),H=this._readableState;return de==="data"?(H.readableListening=0<this.listenerCount("readable"),H.flowing!==!1&&this.resume()):de=="readable"&&!H.endEmitted&&!H.readableListening&&(H.readableListening=H.needReadable=!0,H.flowing=!1,H.emittedReadable=!1,j("on readable",H.length,H.reading),H.length?f(this):!H.reading&&g.nextTick(I,this)),P},a.prototype.addListener=a.prototype.on,a.prototype.removeListener=function(de,q){var P=p.prototype.removeListener.call(this,de,q);return de==="readable"&&g.nextTick(w,this),P},a.prototype.removeAllListeners=function(de){var q=p.prototype.removeAllListeners.apply(this,arguments);return(de==="readable"||de===void 0)&&g.nextTick(w,this),q},a.prototype.resume=function(){var de=this._readableState;return de.flowing||(j("resume"),de.flowing=!de.readableListening,N(this,de)),de.paused=!1,this},a.prototype.pause=function(){return j("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(j("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},a.prototype.wrap=function(de){var q=this,P=this._readableState,H=!1;for(var Z in de.on("end",function(){if(j("wrapped end"),P.decoder&&!P.ended){var ue=P.decoder.end();ue&&ue.length&&q.push(ue)}q.push(null)}),de.on("data",function(ue){if(j("wrapped data"),P.decoder&&(ue=P.decoder.write(ue)),!(P.objectMode&&ue==null)&&(P.objectMode||ue&&ue.length)){var ve=q.push(ue);ve||(H=!0,de.pause())}}),de)this[Z]===void 0&&typeof de[Z]=="function"&&(this[Z]=function(ve){return function(){return de[ve].apply(de,arguments)}}(Z));for(var oe=0;oe<Ce.length;oe++)de.on(Ce[oe],this.emit.bind(this,Ce[oe]));return this._read=function(ue){j("wrapped _read",ue),H&&(H=!1,de.resume())},this},typeof Symbol=="function"&&(a.prototype[Symbol.asyncIterator]=function(){return pe===void 0&&(pe=x("./internal/streams/async_iterator")),pe(this)}),Object.defineProperty(a.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(a.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(a.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(q){this._readableState&&(this._readableState.flowing=q)}}),a._fromList=J,Object.defineProperty(a.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(a.from=function(de,q){return ge===void 0&&(ge=x("./internal/streams/from")),ge(a,de,q)})}).call(this)}).call(this,x("_process"),typeof ut>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:ut)},{"../errors":213,"./_stream_duplex":214,"./internal/streams/async_iterator":219,"./internal/streams/buffer_list":220,"./internal/streams/destroy":221,"./internal/streams/from":223,"./internal/streams/state":225,"./internal/streams/stream":226,_process:192,buffer:75,events:122,inherits:146,"string_decoder/":264,util:41}],217:[function(x,V,O){function g(r,d){var c=this._transformState;c.transforming=!1;var f=c.writecb;if(f===null)return this.emit("error",new a);c.writechunk=null,c.writecb=null,d!=null&&this.push(d),f(r);var u=this._readableState;u.reading=!1,(u.needReadable||u.length<u.highWaterMark)&&this._read(u.highWaterMark)}function C(r){return this instanceof C?(s.call(this,r),this._transformState={afterTransform:g.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,r&&(typeof r.transform=="function"&&(this._transform=r.transform),typeof r.flush=="function"&&(this._flush=r.flush)),void this.on("prefinish",E)):new C(r)}function E(){var r=this;typeof this._flush!="function"||this._readableState.destroyed?y(this,null,null):this._flush(function(d,c){y(r,d,c)})}function y(r,d,c){if(d)return r.emit("error",d);if(c!=null&&r.push(c),r._writableState.length)throw new h;if(r._transformState.transforming)throw new o;return r.push(null)}V.exports=C;var i=x("../errors").codes,m=i.ERR_METHOD_NOT_IMPLEMENTED,a=i.ERR_MULTIPLE_CALLBACK,o=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,h=i.ERR_TRANSFORM_WITH_LENGTH_0,s=x("./_stream_duplex");x("inherits")(C,s),C.prototype.push=function(r,d){return this._transformState.needTransform=!1,s.prototype.push.call(this,r,d)},C.prototype._transform=function(r,d,c){c(new m("_transform()"))},C.prototype._write=function(r,d,c){var f=this._transformState;if(f.writecb=c,f.writechunk=r,f.writeencoding=d,!f.transforming){var u=this._readableState;(f.needTransform||u.needReadable||u.length<u.highWaterMark)&&this._read(u.highWaterMark)}},C.prototype._read=function(r){var d=this._transformState;d.writechunk===null||d.transforming?d.needTransform=!0:(d.transforming=!0,this._transform(d.writechunk,d.writeencoding,d.afterTransform))},C.prototype._destroy=function(r,d){s.prototype._destroy.call(this,r,function(c){d(c)})}},{"../errors":213,"./_stream_duplex":214,inherits:146}],218:[function(x,V,O){(function(g,C){(function(){function E(pe){var ge=this;this.next=null,this.entry=null,this.finish=function(){se(ge,pe)}}function y(pe){return _.from(pe)}function i(pe){return _.isBuffer(pe)||pe instanceof p}function m(){}function a(pe,ge,xe){ce=ce||x("./_stream_duplex"),pe=pe||{},typeof xe!="boolean"&&(xe=ge instanceof ce),this.objectMode=!!pe.objectMode,xe&&(this.objectMode=this.objectMode||!!pe.writableObjectMode),this.highWaterMark=F(this,pe,"writableHighWaterMark",xe),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Ce=pe.decodeStrings===!1;this.decodeStrings=!Ce,this.defaultEncoding=pe.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(de){k(ge,de)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=pe.emitClose!==!1,this.autoDestroy=!!pe.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new E(this)}function o(pe){ce=ce||x("./_stream_duplex");var ge=this instanceof ce;return ge||Ae.call(o,this)?(this._writableState=new a(pe,this,ge),this.writable=!0,pe&&(typeof pe.write=="function"&&(this._write=pe.write),typeof pe.writev=="function"&&(this._writev=pe.writev),typeof pe.destroy=="function"&&(this._destroy=pe.destroy),typeof pe.final=="function"&&(this._final=pe.final)),void B.call(this)):new o(pe)}function h(pe,ge){var xe=new me;Se(pe,xe),g.nextTick(ge,xe)}function s(pe,ge,xe,Ce){var de;return xe===null?de=new ae:typeof xe!="string"&&!ge.objectMode&&(de=new U("chunk",["string","Buffer"],xe)),!de||(Se(pe,de),g.nextTick(Ce,de),!1)}function r(pe,ge,xe){return pe.objectMode||pe.decodeStrings===!1||typeof ge!="string"||(ge=_.from(ge,xe)),ge}function d(pe,ge,xe,Ce,de,q){if(!xe){var P=r(ge,Ce,de);Ce!==P&&(xe=!0,de="buffer",Ce=P)}var H=ge.objectMode?1:Ce.length;ge.length+=H;var Z=ge.length<ge.highWaterMark;if(Z||(ge.needDrain=!0),ge.writing||ge.corked){var oe=ge.lastBufferedRequest;ge.lastBufferedRequest={chunk:Ce,encoding:de,isBuf:xe,callback:q,next:null},oe?oe.next=ge.lastBufferedRequest:ge.bufferedRequest=ge.lastBufferedRequest,ge.bufferedRequestCount+=1}else c(pe,ge,!1,H,Ce,de,q);return Z}function c(pe,ge,xe,Ce,de,q,P){ge.writelen=Ce,ge.writecb=P,ge.writing=!0,ge.sync=!0,ge.destroyed?ge.onwrite(new fe("write")):xe?pe._writev(de,ge.onwrite):pe._write(de,q,ge.onwrite),ge.sync=!1}function f(pe,ge,xe,Ce,de){--ge.pendingcb,xe?(g.nextTick(de,Ce),g.nextTick(G,pe,ge),pe._writableState.errorEmitted=!0,Se(pe,Ce)):(de(Ce),pe._writableState.errorEmitted=!0,Se(pe,Ce),G(pe,ge))}function u(pe){pe.writing=!1,pe.writecb=null,pe.length-=pe.writelen,pe.writelen=0}function k(pe,ge){var xe=pe._writableState,Ce=xe.sync,de=xe.writecb;if(typeof de!="function")throw new Q;if(u(xe),ge)f(pe,xe,Ce,ge,de);else{var q=I(xe)||pe.destroyed;q||xe.corked||xe.bufferProcessing||!xe.bufferedRequest||w(pe,xe),Ce?g.nextTick(R,pe,xe,q,de):R(pe,xe,q,de)}}function R(pe,ge,xe,Ce){xe||A(pe,ge),ge.pendingcb--,Ce(),G(pe,ge)}function A(pe,ge){ge.length===0&&ge.needDrain&&(ge.needDrain=!1,pe.emit("drain"))}function w(pe,ge){ge.bufferProcessing=!0;var xe=ge.bufferedRequest;if(pe._writev&&xe&&xe.next){var Ce=ge.bufferedRequestCount,de=Array(Ce),q=ge.corkedRequestsFree;q.entry=xe;for(var P=0,H=!0;xe;)de[P]=xe,xe.isBuf||(H=!1),xe=xe.next,P+=1;de.allBuffers=H,c(pe,ge,!0,ge.length,de,"",q.finish),ge.pendingcb++,ge.lastBufferedRequest=null,q.next?(ge.corkedRequestsFree=q.next,q.next=null):ge.corkedRequestsFree=new E(ge),ge.bufferedRequestCount=0}else{for(;xe;){var Z=xe.chunk,oe=xe.encoding,ue=xe.callback,ve=ge.objectMode?1:Z.length;if(c(pe,ge,!1,ve,Z,oe,ue),xe=xe.next,ge.bufferedRequestCount--,ge.writing)break}xe===null&&(ge.lastBufferedRequest=null)}ge.bufferedRequest=xe,ge.bufferProcessing=!1}function I(pe){return pe.ending&&pe.length===0&&pe.bufferedRequest===null&&!pe.finished&&!pe.writing}function N(pe,ge){pe._final(function(xe){ge.pendingcb--,xe&&Se(pe,xe),ge.prefinished=!0,pe.emit("prefinish"),G(pe,ge)})}function L(pe,ge){ge.prefinished||ge.finalCalled||(typeof pe._final!="function"||ge.destroyed?(ge.prefinished=!0,pe.emit("prefinish")):(ge.pendingcb++,ge.finalCalled=!0,g.nextTick(N,pe,ge)))}function G(pe,ge){var xe=I(ge);if(xe&&(L(pe,ge),ge.pendingcb===0&&(ge.finished=!0,pe.emit("finish"),ge.autoDestroy))){var Ce=pe._readableState;(!Ce||Ce.autoDestroy&&Ce.endEmitted)&&pe.destroy()}return xe}function J(pe,ge,xe){ge.ending=!0,G(pe,ge),xe&&(ge.finished?g.nextTick(xe):pe.once("finish",xe)),ge.ended=!0,pe.writable=!1}function se(pe,ge,xe){var Ce=pe.entry;for(pe.entry=null;Ce;){var de=Ce.callback;ge.pendingcb--,de(xe),Ce=Ce.next}ge.corkedRequestsFree.next=pe}V.exports=o;var ce;o.WritableState=a;var Y={deprecate:x("util-deprecate")},B=x("./internal/streams/stream"),_=x("buffer").Buffer,p=C.Uint8Array||function(){},T=x("./internal/streams/destroy"),M=x("./internal/streams/state"),F=M.getHighWaterMark,j=x("../errors").codes,U=j.ERR_INVALID_ARG_TYPE,K=j.ERR_METHOD_NOT_IMPLEMENTED,Q=j.ERR_MULTIPLE_CALLBACK,ee=j.ERR_STREAM_CANNOT_PIPE,fe=j.ERR_STREAM_DESTROYED,ae=j.ERR_STREAM_NULL_VALUES,me=j.ERR_STREAM_WRITE_AFTER_END,he=j.ERR_UNKNOWN_ENCODING,Se=T.errorOrDestroy;x("inherits")(o,B),a.prototype.getBuffer=function(){for(var ge=this.bufferedRequest,xe=[];ge;)xe.push(ge),ge=ge.next;return xe},function(){try{Object.defineProperty(a.prototype,"buffer",{get:Y.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var Ae;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Ae=Function.prototype[Symbol.hasInstance],Object.defineProperty(o,Symbol.hasInstance,{value:function(ge){return!!Ae.call(this,ge)||this===o&&ge&&ge._writableState instanceof a}})):Ae=function(ge){return ge instanceof this},o.prototype.pipe=function(){Se(this,new ee)},o.prototype.write=function(pe,ge,xe){var Ce=this._writableState,de=!1,q=!Ce.objectMode&&i(pe);return q&&!_.isBuffer(pe)&&(pe=y(pe)),typeof ge=="function"&&(xe=ge,ge=null),q?ge="buffer":!ge&&(ge=Ce.defaultEncoding),typeof xe!="function"&&(xe=m),Ce.ending?h(this,xe):(q||s(this,Ce,pe,xe))&&(Ce.pendingcb++,de=d(this,Ce,q,pe,ge,xe)),de},o.prototype.cork=function(){this._writableState.corked++},o.prototype.uncork=function(){var pe=this._writableState;pe.corked&&(pe.corked--,!pe.writing&&!pe.corked&&!pe.bufferProcessing&&pe.bufferedRequest&&w(this,pe))},o.prototype.setDefaultEncoding=function(ge){if(typeof ge=="string"&&(ge=ge.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ge+"").toLowerCase())))throw new he(ge);return this._writableState.defaultEncoding=ge,this},Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),o.prototype._write=function(pe,ge,xe){xe(new K("_write()"))},o.prototype._writev=null,o.prototype.end=function(pe,ge,xe){var Ce=this._writableState;return typeof pe=="function"?(xe=pe,pe=null,ge=null):typeof ge=="function"&&(xe=ge,ge=null),pe!=null&&this.write(pe,ge),Ce.corked&&(Ce.corked=1,this.uncork()),Ce.ending||J(this,Ce,xe),this},Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(ge){this._writableState&&(this._writableState.destroyed=ge)}}),o.prototype.destroy=T.destroy,o.prototype._undestroy=T.undestroy,o.prototype._destroy=function(pe,ge){ge(pe)}}).call(this)}).call(this,x("_process"),typeof ut>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:ut)},{"../errors":213,"./_stream_duplex":214,"./internal/streams/destroy":221,"./internal/streams/state":225,"./internal/streams/stream":226,_process:192,buffer:75,inherits:146,"util-deprecate":276}],219:[function(x,V,O){(function(g){(function(){function C(w,I,N){return I in w?Object.defineProperty(w,I,{value:N,enumerable:!0,configurable:!0,writable:!0}):w[I]=N,w}function E(w,I){return{value:w,done:I}}function y(w){var I=w[o];if(I!==null){var N=w[f].read();N!==null&&(w[d]=null,w[o]=null,w[h]=null,I(E(N,!1)))}}function i(w){g.nextTick(y,w)}function m(w,I){return function(N,L){w.then(function(){return I[r]?void N(E(void 0,!0)):void I[c](N,L)},L)}}var a=x("./end-of-stream"),o=Symbol("lastResolve"),h=Symbol("lastReject"),s=Symbol("error"),r=Symbol("ended"),d=Symbol("lastPromise"),c=Symbol("handlePromise"),f=Symbol("stream"),u=Object.getPrototypeOf(function(){}),k=Object.setPrototypeOf((A={get stream(){return this[f]},next:function(){var I=this,N=this[s];if(N!==null)return Promise.reject(N);if(this[r])return Promise.resolve(E(void 0,!0));if(this[f].destroyed)return new Promise(function(se,ce){g.nextTick(function(){I[s]?ce(I[s]):se(E(void 0,!0))})});var L=this[d],G;if(L)G=new Promise(m(L,this));else{var J=this[f].read();if(J!==null)return Promise.resolve(E(J,!1));G=new Promise(this[c])}return this[d]=G,G}},C(A,Symbol.asyncIterator,function(){return this}),C(A,"return",function(){var I=this;return new Promise(function(N,L){I[f].destroy(null,function(G){return G?void L(G):void N(E(void 0,!0))})})}),A),u),R=function(I){var N=Object.create(k,(L={},C(L,f,{value:I,writable:!0}),C(L,o,{value:null,writable:!0}),C(L,h,{value:null,writable:!0}),C(L,s,{value:null,writable:!0}),C(L,r,{value:I._readableState.endEmitted,writable:!0}),C(L,c,{value:function(J,se){var ce=N[f].read();ce?(N[d]=null,N[o]=null,N[h]=null,J(E(ce,!1))):(N[o]=J,N[h]=se)},writable:!0}),L)),L;return N[d]=null,a(I,function(G){if(G&&G.code!=="ERR_STREAM_PREMATURE_CLOSE"){var J=N[h];return J!==null&&(N[d]=null,N[o]=null,N[h]=null,J(G)),void(N[s]=G)}var se=N[o];se!==null&&(N[d]=null,N[o]=null,N[h]=null,se(E(void 0,!0))),N[r]=!0}),I.on("readable",i.bind(null,N)),N},A;V.exports=R}).call(this)}).call(this,x("_process"))},{"./end-of-stream":222,_process:192}],220:[function(x,V,O){function g(c,f){var u=Object.keys(c);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(c);f&&(k=k.filter(function(R){return Object.getOwnPropertyDescriptor(c,R).enumerable})),u.push.apply(u,k)}return u}function C(c){for(var f=1,u;f<arguments.length;f++)u=arguments[f]==null?{}:arguments[f],f%2?g(Object(u),!0).forEach(function(k){E(c,k,u[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(u)):g(Object(u)).forEach(function(k){Object.defineProperty(c,k,Object.getOwnPropertyDescriptor(u,k))});return c}function E(c,f,u){return f in c?Object.defineProperty(c,f,{value:u,enumerable:!0,configurable:!0,writable:!0}):c[f]=u,c}function y(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}function i(c,f){for(var u=0,k;u<f.length;u++)k=f[u],k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(c,k.key,k)}function m(c,f,u){return f&&i(c.prototype,f),u&&i(c,u),c}function a(c,f,u){h.prototype.copy.call(c,f,u)}var o=x("buffer"),h=o.Buffer,s=x("util"),r=s.inspect,d=r&&r.custom||"inspect";V.exports=function(){function c(){y(this,c),this.head=null,this.tail=null,this.length=0}return m(c,[{key:"push",value:function(u){var k={data:u,next:null};0<this.length?this.tail.next=k:this.head=k,this.tail=k,++this.length}},{key:"unshift",value:function(u){var k={data:u,next:this.head};this.length===0&&(this.tail=k),this.head=k,++this.length}},{key:"shift",value:function(){if(this.length!==0){var u=this.head.data;return this.head=this.length===1?this.tail=null:this.head.next,--this.length,u}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(u){if(this.length===0)return"";for(var k=this.head,R=""+k.data;k=k.next;)R+=u+k.data;return R}},{key:"concat",value:function(u){if(this.length===0)return h.alloc(0);for(var k=h.allocUnsafe(u>>>0),R=this.head,A=0;R;)a(R.data,k,A),A+=R.data.length,R=R.next;return k}},{key:"consume",value:function(u,k){var R;return u<this.head.data.length?(R=this.head.data.slice(0,u),this.head.data=this.head.data.slice(u)):u===this.head.data.length?R=this.shift():R=k?this._getString(u):this._getBuffer(u),R}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(u){var k=this.head,R=1,A=k.data;for(u-=A.length;k=k.next;){var w=k.data,I=u>w.length?w.length:u;if(A+=I===w.length?w:w.slice(0,u),u-=I,u===0){I===w.length?(++R,this.head=k.next?k.next:this.tail=null):(this.head=k,k.data=w.slice(I));break}++R}return this.length-=R,A}},{key:"_getBuffer",value:function(u){var k=h.allocUnsafe(u),R=this.head,A=1;for(R.data.copy(k),u-=R.data.length;R=R.next;){var w=R.data,I=u>w.length?w.length:u;if(w.copy(k,k.length-u,0,I),u-=I,u===0){I===w.length?(++A,this.head=R.next?R.next:this.tail=null):(this.head=R,R.data=w.slice(I));break}++A}return this.length-=A,k}},{key:d,value:function(u,k){return r(this,C({},k,{depth:0,customInspect:!1}))}}]),c}()},{buffer:75,util:41}],221:[function(x,V,O){(function(g){(function(){function C(o,h){var s=this,r=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return r||d?(h?h(o):o&&(this._writableState?!this._writableState.errorEmitted&&(this._writableState.errorEmitted=!0,g.nextTick(m,this,o)):g.nextTick(m,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(c){!h&&c?s._writableState?s._writableState.errorEmitted?g.nextTick(y,s):(s._writableState.errorEmitted=!0,g.nextTick(E,s,c)):g.nextTick(E,s,c):h?(g.nextTick(y,s),h(c)):g.nextTick(y,s)}),this)}function E(o,h){m(o,h),y(o)}function y(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function m(o,h){o.emit("error",h)}function a(o,h){var s=o._readableState,r=o._writableState;s&&s.autoDestroy||r&&r.autoDestroy?o.destroy(h):o.emit("error",h)}V.exports={destroy:C,undestroy:i,errorOrDestroy:a}}).call(this)}).call(this,x("_process"))},{_process:192}],222:[function(x,V,O){function g(m){var a=!1;return function(){if(!a){a=!0;for(var o=arguments.length,h=Array(o),s=0;s<o;s++)h[s]=arguments[s];m.apply(this,h)}}}function C(){}function E(m){return m.setHeader&&typeof m.abort=="function"}function y(m,a,o){if(typeof a=="function")return y(m,null,a);a||(a={}),o=g(o||C);var h=a.readable||a.readable!==!1&&m.readable,s=a.writable||a.writable!==!1&&m.writable,r=function(){m.writable||c()},d=m._writableState&&m._writableState.finished,c=function(){s=!1,d=!0,h||o.call(m)},f=m._readableState&&m._readableState.endEmitted,u=function(){h=!1,f=!0,s||o.call(m)},k=function(I){o.call(m,I)},R=function(){var I;return h&&!f?(m._readableState&&m._readableState.ended||(I=new i),o.call(m,I)):s&&!d?(m._writableState&&m._writableState.ended||(I=new i),o.call(m,I)):void 0},A=function(){m.req.on("finish",c)};return E(m)?(m.on("complete",c),m.on("abort",R),m.req?A():m.on("request",A)):s&&!m._writableState&&(m.on("end",r),m.on("close",r)),m.on("end",u),m.on("finish",c),a.error!==!1&&m.on("error",k),m.on("close",R),function(){m.removeListener("complete",c),m.removeListener("abort",R),m.removeListener("request",A),m.req&&m.req.removeListener("finish",c),m.removeListener("end",r),m.removeListener("close",r),m.removeListener("finish",c),m.removeListener("end",u),m.removeListener("error",k),m.removeListener("close",R)}}var i=x("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;V.exports=y},{"../../../errors":213}],223:[function(x,V,O){V.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],224:[function(x,V,O){function g(c){var f=!1;return function(){f||(f=!0,c.apply(void 0,arguments))}}function C(c){if(c)throw c}function E(c){return c.setHeader&&typeof c.abort=="function"}function y(c,f,u,k){k=g(k);var R=!1;c.on("close",function(){R=!0}),d===void 0&&(d=x("./end-of-stream")),d(c,{readable:f,writable:u},function(w){return w?k(w):(R=!0,void k())});var A=!1;return function(w){if(!R)return A?void 0:(A=!0,E(c)?c.abort():typeof c.destroy=="function"?c.destroy():void k(w||new r("pipe")))}}function i(c){c()}function m(c,f){return c.pipe(f)}function a(c){return c.length&&typeof c[c.length-1]=="function"?c.pop():C}function o(){for(var c=arguments.length,f=Array(c),u=0;u<c;u++)f[u]=arguments[u];var k=a(f);if(Array.isArray(f[0])&&(f=f[0]),2>f.length)throw new s("streams");var R=f.map(function(w,I){var N=I<f.length-1,L=0<I;return y(w,N,L,function(G){A||(A=G),G&&R.forEach(i),N||(R.forEach(i),k(A))})}),A;return f.reduce(m)}var h=x("../../../errors").codes,s=h.ERR_MISSING_ARGS,r=h.ERR_STREAM_DESTROYED,d;V.exports=o},{"../../../errors":213,"./end-of-stream":222}],225:[function(x,V,O){function g(y,i,m){return y.highWaterMark==null?i?y[m]:null:y.highWaterMark}function C(y,i,m,a){var o=g(i,a,m);if(o!=null){if(!(isFinite(o)&&D(o)===o)||0>o){var h=a?m:"highWaterMark";throw new E(h,o)}return D(o)}return y.objectMode?16:16384}var E=x("../../../errors").codes.ERR_INVALID_OPT_VALUE;V.exports={getHighWaterMark:C}},{"../../../errors":213}],226:[function(x,V,O){V.exports=x("events").EventEmitter},{events:122}],227:[function(x,V,O){O=V.exports=x("./lib/_stream_readable.js"),O.Stream=O,O.Readable=O,O.Writable=x("./lib/_stream_writable.js"),O.Duplex=x("./lib/_stream_duplex.js"),O.Transform=x("./lib/_stream_transform.js"),O.PassThrough=x("./lib/_stream_passthrough.js"),O.finished=x("./lib/internal/streams/end-of-stream.js"),O.pipeline=x("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":214,"./lib/_stream_passthrough.js":215,"./lib/_stream_readable.js":216,"./lib/_stream_transform.js":217,"./lib/_stream_writable.js":218,"./lib/internal/streams/end-of-stream.js":222,"./lib/internal/streams/pipeline.js":224}],228:[function(x,V,O){function g(se,ce,Y,B){typeof Y=="function"&&(B=Y,Y={}),Y||(Y={}),B||(B=()=>{}),i(se),a(Y),typeof ce=="string"&&(ce=document.querySelector(ce)),E(se,_=>{if(ce.nodeName!==_.toUpperCase()){const p=d.extname(se.name).toLowerCase();throw new Error(`Cannot render "${p}" inside a "${ce.nodeName.toLowerCase()}" element, expected "${_}"`)}return(_==="video"||_==="audio")&&o(ce,Y),ce},Y,B)}function C(se,ce,Y,B){function _(F){return F==="video"||F==="audio"?p(F):T(F)}function p(F){const j=T(F);return o(j,Y),ce.appendChild(j),j}function T(F){const j=document.createElement(F);return ce.appendChild(j),j}function M(F,j){F&&j&&j.remove(),B(F,j)}if(typeof Y=="function"&&(B=Y,Y={}),Y||(Y={}),B||(B=()=>{}),i(se),a(Y),typeof ce=="string"&&(ce=document.querySelector(ce)),ce&&(ce.nodeName==="VIDEO"||ce.nodeName==="AUDIO"))throw new Error("Invalid video/audio node argument. Argument must be root element that video/audio tag will be appended to.");E(se,_,Y,M)}function E(se,ce,Y,B){function _(){function me(){h(`Use \`videostream\` package for ${se.name}`),ge(),ae.addEventListener("error",Ae),ae.addEventListener("loadstart",M),ae.addEventListener("loadedmetadata",F),new f(se,ae)}function he(){h(`Use MediaSource API for ${se.name}`),ge(),ae.addEventListener("error",pe),ae.addEventListener("loadstart",M),ae.addEventListener("loadedmetadata",F);const Ce=new r(ae),de=Ce.createWriteStream(m(se.name));se.createReadStream().pipe(de),fe&&(ae.currentTime=fe)}function Se(){h(`Use Blob URL for ${se.name}`),ge(),ae.addEventListener("error",Q),ae.addEventListener("loadstart",M),ae.addEventListener("loadedmetadata",F),y(se,(Ce,de)=>Ce?Q(Ce):(ae.src=de,void(fe&&(ae.currentTime=fe))))}function Ae(Ce){h("videostream error: fallback to MediaSource API: %o",Ce.message||Ce),ae.removeEventListener("error",Ae),ae.removeEventListener("loadedmetadata",F),he()}function pe(Ce){h("MediaSource API error: fallback to Blob URL: %o",Ce.message||Ce),p()&&(ae.removeEventListener("error",pe),ae.removeEventListener("loadedmetadata",F),Se())}function ge(){ae||(ae=ce(xe),ae.addEventListener("progress",()=>{fe=ae.currentTime}))}const xe=k.includes(ee)?"video":"audio";J?u.includes(ee)?me():he():Se()}function p(){return!(typeof se.length=="number"&&se.length>Y.maxBlobLength)||(h("File length too large for Blob URL approach: %d (max: %d)",se.length,Y.maxBlobLength),Q(new Error(`File length too large for Blob URL approach: ${se.length} (max: ${Y.maxBlobLength})`)),!1)}function T(me){p()&&(ae=ce(me),y(se,(he,Se)=>he?Q(he):(ae.addEventListener("error",Q),ae.addEventListener("loadstart",M),ae.addEventListener("loadedmetadata",F),void(ae.src=Se))))}function M(){if(ae.removeEventListener("loadstart",M),Y.autoplay){const me=ae.play();typeof me<"u"&&me.catch(Q)}}function F(){ae.removeEventListener("loadedmetadata",F),B(null,ae)}function j(){ae=ce("img"),y(se,(me,he)=>me?Q(me):(ae.src=he,ae.alt=se.name,void B(null,ae)))}function U(){y(se,(me,he)=>me?Q(me):(ee===".pdf"?(ae=ce("object"),ae.setAttribute("typemustmatch",!0),ae.setAttribute("type","application/pdf"),ae.setAttribute("data",he)):(ae=ce("iframe"),ae.sandbox="allow-forms allow-scripts",ae.src=he),void B(null,ae)))}function K(){function me(){s(he)?(h('File extension "%s" appears ascii, so will render.',ee),U()):(h('File extension "%s" appears non-ascii, will not render.',ee),B(new Error(`Unsupported file type "${ee}": Cannot append to DOM`)))}h('Unknown file extension "%s" - will attempt to render into iframe',ee);let he="";se.createReadStream({start:0,end:1e3}).setEncoding("utf8").on("data",Se=>{he+=Se}).on("end",me).on("error",B)}function Q(me){me.message=`Error rendering file "${se.name}": ${me.message}`,h(me.message),B(me)}const ee=d.extname(se.name).toLowerCase();let fe=0,ae;A.includes(ee)?_():w.includes(ee)?T("video"):I.includes(ee)?T("audio"):N.includes(ee)?j():L.includes(ee)?U():K()}function y(se,ce){const Y=d.extname(se.name).toLowerCase();c(se.createReadStream(),O.mime[Y]).then(B=>ce(null,B),B=>ce(B))}function i(se){if(se==null)throw new Error("file cannot be null or undefined");if(typeof se.name!="string")throw new Error("missing or invalid file.name property");if(typeof se.createReadStream!="function")throw new Error("missing or invalid file.createReadStream property")}function m(se){const ce=d.extname(se).toLowerCase();return{".m4a":'audio/mp4; codecs="mp4a.40.5"',".m4b":'audio/mp4; codecs="mp4a.40.5"',".m4p":'audio/mp4; codecs="mp4a.40.5"',".m4v":'video/mp4; codecs="avc1.640029, mp4a.40.5"',".mkv":'video/webm; codecs="avc1.640029, mp4a.40.5"',".mp3":"audio/mpeg",".mp4":'video/mp4; codecs="avc1.640029, mp4a.40.5"',".webm":'video/webm; codecs="vorbis, vp8"'}[ce]}function a(se){se.autoplay==null&&(se.autoplay=!1),se.muted==null&&(se.muted=!1),se.controls==null&&(se.controls=!0),se.maxBlobLength==null&&(se.maxBlobLength=G)}function o(se,ce){se.autoplay=!!ce.autoplay,se.muted=!!ce.muted,se.controls=!!ce.controls}O.render=g,O.append=C,O.mime=x("./lib/mime.json");const h=x("debug")("render-media"),s=x("is-ascii"),r=x("mediasource"),d=x("path"),c=x("stream-to-blob-url"),f=x("videostream"),u=[".m4a",".m4b",".m4p",".m4v",".mp4"],k=[".m4v",".mkv",".mp4",".webm"],R=[".m4a",".m4b",".m4p",".mp3"],A=[].concat(k,R),w=[".mov",".ogv"],I=[".aac",".oga",".ogg",".wav",".flac"],N=[".bmp",".gif",".jpeg",".jpg",".png",".svg"],L=[".css",".html",".js",".md",".pdf",".srt",".txt"],G=2e8,J=typeof window<"u"&&window.MediaSource},{"./lib/mime.json":229,debug:90,"is-ascii":147,mediasource:159,path:184,"stream-to-blob-url":260,videostream:278}],229:[function(x,V,O){V.exports={".3gp":"video/3gpp",".aac":"audio/aac",".aif":"audio/x-aiff",".aiff":"audio/x-aiff",".atom":"application/atom+xml",".avi":"video/x-msvideo",".bmp":"image/bmp",".bz2":"application/x-bzip2",".conf":"text/plain",".css":"text/css",".csv":"text/plain",".diff":"text/x-diff",".doc":"application/msword",".flv":"video/x-flv",".gif":"image/gif",".gz":"application/x-gzip",".htm":"text/html",".html":"text/html",".ico":"image/vnd.microsoft.icon",".ics":"text/calendar",".iso":"application/octet-stream",".jar":"application/java-archive",".jpeg":"image/jpeg",".jpg":"image/jpeg",".js":"application/javascript",".json":"application/json",".less":"text/css",".log":"text/plain",".m3u":"audio/x-mpegurl",".m4a":"audio/x-m4a",".m4b":"audio/mp4",".m4p":"audio/mp4",".m4v":"video/x-m4v",".manifest":"text/cache-manifest",".markdown":"text/x-markdown",".mathml":"application/mathml+xml",".md":"text/x-markdown",".mid":"audio/midi",".midi":"audio/midi",".mov":"video/quicktime",".mp3":"audio/mpeg",".mp4":"video/mp4",".mp4v":"video/mp4",".mpeg":"video/mpeg",".mpg":"video/mpeg",".odp":"application/vnd.oasis.opendocument.presentation",".ods":"application/vnd.oasis.opendocument.spreadsheet",".odt":"application/vnd.oasis.opendocument.text",".oga":"audio/ogg",".ogg":"application/ogg",".pdf":"application/pdf",".png":"image/png",".pps":"application/vnd.ms-powerpoint",".ppt":"application/vnd.ms-powerpoint",".ps":"application/postscript",".psd":"image/vnd.adobe.photoshop",".qt":"video/quicktime",".rar":"application/x-rar-compressed",".rdf":"application/rdf+xml",".rss":"application/rss+xml",".rtf":"application/rtf",".svg":"image/svg+xml",".svgz":"image/svg+xml",".swf":"application/x-shockwave-flash",".tar":"application/x-tar",".tbz":"application/x-bzip-compressed-tar",".text":"text/plain",".tif":"image/tiff",".tiff":"image/tiff",".torrent":"application/x-bittorrent",".ttf":"application/x-font-ttf",".txt":"text/plain",".wav":"audio/wav",".webm":"video/webm",".wma":"audio/x-ms-wma",".wmv":"video/x-ms-wmv",".xls":"application/vnd.ms-excel",".xml":"application/xml",".yaml":"text/yaml",".yml":"text/yaml",".zip":"application/zip"}},{}],230:[function(x,V,O){function g(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function C(A,w){return A<<w|A>>>32-w}function E(A,w,I,N,L,G,J,se){return 0|C(0|A+(w^I^N)+G+J,se)+L}function y(A,w,I,N,L,G,J,se){return 0|C(0|A+(w&I|~w&N)+G+J,se)+L}function i(A,w,I,N,L,G,J,se){return 0|C(0|A+((w|~I)^N)+G+J,se)+L}function m(A,w,I,N,L,G,J,se){return 0|C(0|A+(w&N|I&~N)+G+J,se)+L}function a(A,w,I,N,L,G,J,se){return 0|C(0|A+(w^(I|~N))+G+J,se)+L}var o=x("buffer").Buffer,h=x("inherits"),s=x("hash-base"),r=Array(16),d=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],f=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],u=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],k=[0,1518500249,1859775393,2400959708,2840853838],R=[1352829926,1548603684,1836072691,2053994217,0];h(g,s),g.prototype._update=function(){for(var A=r,w=0;16>w;++w)A[w]=this._block.readInt32LE(4*w);for(var I=0|this._a,N=0|this._b,L=0|this._c,G=0|this._d,J=0|this._e,se=0|this._a,ce=0|this._b,Y=0|this._c,B=0|this._d,_=0|this._e,p=0;80>p;p+=1){var T,M;16>p?(T=E(I,N,L,G,J,A[d[p]],k[0],f[p]),M=a(se,ce,Y,B,_,A[c[p]],R[0],u[p])):32>p?(T=y(I,N,L,G,J,A[d[p]],k[1],f[p]),M=m(se,ce,Y,B,_,A[c[p]],R[1],u[p])):48>p?(T=i(I,N,L,G,J,A[d[p]],k[2],f[p]),M=i(se,ce,Y,B,_,A[c[p]],R[2],u[p])):64>p?(T=m(I,N,L,G,J,A[d[p]],k[3],f[p]),M=y(se,ce,Y,B,_,A[c[p]],R[3],u[p])):(T=a(I,N,L,G,J,A[d[p]],k[4],f[p]),M=E(se,ce,Y,B,_,A[c[p]],R[4],u[p])),I=J,J=G,G=C(L,10),L=N,N=T,se=_,_=B,B=C(Y,10),Y=ce,ce=M}var F=0|this._b+L+B;this._b=0|this._c+G+_,this._c=0|this._d+J+se,this._d=0|this._e+I+ce,this._e=0|this._a+N+Y,this._a=F},g.prototype._digest=function(){this._block[this._blockOffset++]=128,56<this._blockOffset&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var A=o.alloc?o.alloc(20):new o(20);return A.writeInt32LE(this._a,0),A.writeInt32LE(this._b,4),A.writeInt32LE(this._c,8),A.writeInt32LE(this._d,12),A.writeInt32LE(this._e,16),A},V.exports=g},{buffer:75,"hash-base":129,inherits:146}],231:[function(x,V,O){function g(E,y,i){function m(u){function k(){i&&i(u,h),i=null}o?C(k):k()}function a(u,k,R){if(h[u]=R,k&&(c=!0),--r==0||k)m(k);else if(!c&&f<s){let A;d?(A=d[f],f+=1,E[A](function(w,I){a(A,w,I)})):(A=f,f+=1,E[A](function(w,I){a(A,w,I)}))}}if(typeof y!="number")throw new Error("second argument must be a Number");let o=!0,h,s,r,d,c,f;Array.isArray(E)?(h=[],r=s=E.length):(d=Object.keys(E),h={},r=s=d.length),f=y,r?d?d.some(function(u,k){return E[u](function(R,A){a(u,R,A)}),k===y-1}):E.some(function(u,k){return u(function(R,A){a(k,R,A)}),k===y-1}):m(null),o=!1}V.exports=g;const C=x("queue-microtask")},{"queue-microtask":205}],232:[function(x,V,O){function g(E,y){function i(r){function d(){y&&y(r,o),y=null}a?C(d):d()}function m(r,d,c){o[r]=c,(--h==0||d)&&i(d)}let a=!0,o,h,s;Array.isArray(E)?(o=[],h=E.length):(s=Object.keys(E),o={},h=s.length),h?s?s.forEach(function(r){E[r](function(d,c){m(r,d,c)})}):E.forEach(function(r,d){r(function(c,f){m(d,c,f)})}):i(null),a=!1}V.exports=g;const C=x("queue-microtask")},{"queue-microtask":205}],233:[function(x,V,O){(function(C,E){typeof O=="object"&&typeof V=="object"?V.exports=E():typeof O=="object"?O.Rusha=E():C.Rusha=E()})(typeof self>"u"?this:self,function(){return function(g){function C(y){if(E[y])return E[y].exports;var i=E[y]={i:y,l:!1,exports:{}};return g[y].call(i.exports,i,i.exports,C),i.l=!0,i.exports}var E={};return C.m=g,C.c=E,C.d=function(y,i,m){C.o(y,i)||Object.defineProperty(y,i,{configurable:!1,enumerable:!0,get:m})},C.n=function(y){var i=y&&y.__esModule?function(){return y.default}:function(){return y};return C.d(i,"a",i),i},C.o=function(y,i){return Object.prototype.hasOwnProperty.call(y,i)},C.p="",C(C.s=3)}([function(g,C,E){function y(u,k){if(!(u instanceof k))throw new TypeError("Cannot call a class as a function")}var i=E(5),m=E(1),a=m.toHex,o=m.ceilHeapSize,h=E(6),s=function(u){for(u+=9;0<u%64;u+=1);return u},r=function(u,k){var R=new Uint8Array(u.buffer),A=k%4,w=k-A;switch(A){case 0:R[w+3]=0;case 1:R[w+2]=0;case 2:R[w+1]=0;case 3:R[w+0]=0}for(var I=(k>>2)+1;I<u.length;I++)u[I]=0},d=function(u,k,R){u[k>>2]|=128<<24-(k%4<<3),u[(-16&(k>>2)+2)+14]=0|R/536870912,u[(-16&(k>>2)+2)+15]=R<<3},c=function(u,k){var R=new Int32Array(u,k+320,5),A=new Int32Array(5),w=new DataView(A.buffer);return w.setInt32(0,R[0],!1),w.setInt32(4,R[1],!1),w.setInt32(8,R[2],!1),w.setInt32(12,R[3],!1),w.setInt32(16,R[4],!1),A},f=function(){function u(k){if(y(this,u),k=k||65536,0<k%64)throw new Error("Chunk size must be a multiple of 128 bit");this._offset=0,this._maxChunkLen=k,this._padMaxChunkLen=s(k),this._heap=new ArrayBuffer(o(this._padMaxChunkLen+320+20)),this._h32=new Int32Array(this._heap),this._h8=new Int8Array(this._heap),this._core=new i({Int32Array},{},this._heap)}return u.prototype._initState=function(R,A){this._offset=0;var w=new Int32Array(R,A+320,5);w[0]=1732584193,w[1]=-271733879,w[2]=-1732584194,w[3]=271733878,w[4]=-1009589776},u.prototype._padChunk=function(R,A){var w=s(R),I=new Int32Array(this._heap,0,w>>2);return r(I,R),d(I,R,A),w},u.prototype._write=function(R,A,w,I){h(R,this._h8,this._h32,A,w,I||0)},u.prototype._coreCall=function(R,A,w,I,N){var L=w;this._write(R,A,w),N&&(L=this._padChunk(w,I)),this._core.hash(L,this._padMaxChunkLen)},u.prototype.rawDigest=function(R){var A=R.byteLength||R.length||R.size||0;this._initState(this._heap,this._padMaxChunkLen);var w=0,I=this._maxChunkLen;for(w=0;A>w+I;w+=I)this._coreCall(R,w,I,A,!1);return this._coreCall(R,w,A-w,A,!0),c(this._heap,this._padMaxChunkLen)},u.prototype.digest=function(R){return a(this.rawDigest(R).buffer)},u.prototype.digestFromString=function(R){return this.digest(R)},u.prototype.digestFromBuffer=function(R){return this.digest(R)},u.prototype.digestFromArrayBuffer=function(R){return this.digest(R)},u.prototype.resetState=function(){return this._initState(this._heap,this._padMaxChunkLen),this},u.prototype.append=function(R){var A=0,w=R.byteLength||R.length||R.size||0,I=this._offset%this._maxChunkLen,N=void 0;for(this._offset+=w;A<w;)N=ke(w-A,this._maxChunkLen-I),this._write(R,A,N,I),I+=N,A+=N,I===this._maxChunkLen&&(this._core.hash(this._maxChunkLen,this._padMaxChunkLen),I=0);return this},u.prototype.getState=function(){var R=this._offset%this._maxChunkLen,A=void 0;if(R)A=this._heap.slice(0);else{var w=new Int32Array(this._heap,this._padMaxChunkLen+320,5);A=w.buffer.slice(w.byteOffset,w.byteOffset+w.byteLength)}return{offset:this._offset,heap:A}},u.prototype.setState=function(R){if(this._offset=R.offset,R.heap.byteLength===20){var A=new Int32Array(this._heap,this._padMaxChunkLen+320,5);A.set(new Int32Array(R.heap))}else this._h32.set(new Int32Array(R.heap));return this},u.prototype.rawEnd=function(){var R=this._offset,A=R%this._maxChunkLen,w=this._padChunk(A,R);this._core.hash(w,this._padMaxChunkLen);var I=c(this._heap,this._padMaxChunkLen);return this._initState(this._heap,this._padMaxChunkLen),I},u.prototype.end=function(){return a(this.rawEnd().buffer)},u}();g.exports=f,g.exports._core=i},function(g,C){for(var E=Array(256),y=0;256>y;y++)E[y]=(16>y?"0":"")+y.toString(16);g.exports.toHex=function(i){for(var m=new Uint8Array(i),a=Array(i.byteLength),o=0;o<a.length;o++)a[o]=E[m[o]];return a.join("")},g.exports.ceilHeapSize=function(i){var m=0;if(65536>=i)return 65536;if(16777216>i)for(m=1;m<i;m<<=1);else for(m=16777216;m<i;m+=16777216);return m},g.exports.isDedicatedWorkerScope=function(i){var m="WorkerGlobalScope"in i&&i instanceof i.WorkerGlobalScope,a="SharedWorkerGlobalScope"in i&&i instanceof i.SharedWorkerGlobalScope,o="ServiceWorkerGlobalScope"in i&&i instanceof i.ServiceWorkerGlobalScope;return m&&!a&&!o}},function(g,C,E){g.exports=function(){var y=E(0),i=function(o,h,s){try{return s(null,o.digest(h))}catch(r){return s(r)}},m=function(o,h,s,r,d){var c=new self.FileReader;c.onloadend=function(){if(c.error)return d(c.error);var u=c.result;h+=c.result.byteLength;try{o.append(u)}catch(k){return void d(k)}h<r.size?m(o,h,s,r,d):d(null,o.end())},c.readAsArrayBuffer(r.slice(h,h+s))},a=!0;return self.onmessage=function(o){if(a){var h=o.data.data,s=o.data.file,r=o.data.id;if(typeof r<"u"&&(s||h)){var d=o.data.blockSize||4194304,c=new y(d);c.resetState();var f=function(u,k){u?self.postMessage({id:r,error:u.name}):self.postMessage({id:r,hash:k})};h&&i(c,h,f),s&&m(c,0,d,s,f)}}},function(){a=!1}}},function(g,C,E){var y=E(4),i=E(0),m=E(7),a=E(2),o=E(1),h=o.isDedicatedWorkerScope,s=typeof self<"u"&&h(self);i.disableWorkerBehaviour=s?a():function(){},i.createWorker=function(){var r=y(2),d=r.terminate;return r.terminate=function(){URL.revokeObjectURL(r.objectURL),d.call(r)},r},i.createHash=m,g.exports=i},function(g,C,E){function y(h){function s(c){if(r[c])return r[c].exports;var f=r[c]={i:c,l:!1,exports:{}};return h[c].call(f.exports,f,f.exports,s),f.l=!0,f.exports}var r={};s.m=h,s.c=r,s.i=function(c){return c},s.d=function(c,f,u){s.o(c,f)||Object.defineProperty(c,f,{configurable:!1,enumerable:!0,get:u})},s.r=function(c){Object.defineProperty(c,"__esModule",{value:!0})},s.n=function(c){var f=c&&c.__esModule?function(){return c.default}:function(){return c};return s.d(f,"a",f),f},s.o=function(c,f){return Object.prototype.hasOwnProperty.call(c,f)},s.p="/",s.oe=function(c){throw console.error(c),c};var d=s(s.s=ENTRY_MODULE);return d.default||d}function i(h){return(h+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function m(h,s,r){var d={};d[r]=[];var c=s.toString(),f=c.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!f)return d;for(var u=f[1],k=new RegExp("(\\\\n|\\W)"+i(u)+"\\((/\\*.*?\\*/)?s?.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)","g"),R;R=k.exec(c);)R[3]!=="dll-reference"&&d[r].push(R[3]);for(k=new RegExp("\\("+i(u)+'\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)\\((/\\*.*?\\*/)?s?.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)',"g");R=k.exec(c);)h[R[2]]||(d[r].push(R[1]),h[R[2]]=E(R[1]).m),d[R[2]]=d[R[2]]||[],d[R[2]].push(R[4]);return d}function a(h){var s=Object.keys(h);return s.reduce(function(r,d){return r||0<h[d].length},!1)}function o(h,s){for(var r={main:[s]},d={main:[]},c={main:{}};a(r);)for(var f=Object.keys(r),u=0;u<f.length;u++){var k=f[u],R=r[k],A=R.pop();if(c[k]=c[k]||{},!c[k][A]&&h[k][A]){c[k][A]=!0,d[k]=d[k]||[],d[k].push(A);for(var w=m(h,h[k][A],k),I=Object.keys(w),N=0;N<I.length;N++)r[I[N]]=r[I[N]]||[],r[I[N]]=r[I[N]].concat(w[I[N]])}}return d}g.exports=function(h,s){s=s||{};var r={main:E.m},d=s.all?{main:Object.keys(r)}:o(r,h),c="";Object.keys(d).filter(function(A){return A!=="main"}).forEach(function(A){for(var w=0;d[A][w];)w++;d[A].push(w),r[A][w]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",c=c+"var "+A+" = ("+y.toString().replace("ENTRY_MODULE",JSON.stringify(w))+")({"+d[A].map(function(I){return""+JSON.stringify(I)+": "+r[A][I].toString()}).join(",")+`});
`}),c=c+"("+y.toString().replace("ENTRY_MODULE",JSON.stringify(h))+")({"+d.main.map(function(A){return""+JSON.stringify(A)+": "+r.main[A].toString()}).join(",")+"})(self);";var f=new window.Blob([c],{type:"text/javascript"});if(s.bare)return f;var u=window.URL||window.webkitURL||window.mozURL||window.msURL,k=u.createObjectURL(f),R=new window.Worker(k);return R.objectURL=k,R}},function(g,C){g.exports=function(y,i,m){function a(h,s){h|=0,s|=0;var r=0,d=0,c=0,f=0,u=0,k=0,R=0,A=0,w=0,I=0,N=0,L=0,G=0,J=0;for(c=0|o[s+320>>2],u=0|o[s+324>>2],R=0|o[s+328>>2],w=0|o[s+332>>2],N=0|o[s+336>>2],r=0;(0|r)<(0|h);r=0|r+64){for(f=c,k=u,A=R,I=w,L=N,d=0;64>(0|d);d=0|d+4)J=0|o[r+d>>2],G=0|(0|(c<<5|c>>>27)+(u&R|~u&w))+(0|(0|J+N)+1518500249),N=w,w=R,R=u<<30|u>>>2,u=c,c=G,o[h+d>>2]=J;for(d=0|h+64;(0|d)<(0|h+80);d=0|d+4)J=(o[d-12>>2]^o[d-32>>2]^o[d-56>>2]^o[d-64>>2])<<1|(o[d-12>>2]^o[d-32>>2]^o[d-56>>2]^o[d-64>>2])>>>31,G=0|(0|(c<<5|c>>>27)+(u&R|~u&w))+(0|(0|J+N)+1518500249),N=w,w=R,R=u<<30|u>>>2,u=c,c=G,o[d>>2]=J;for(d=0|h+80;(0|d)<(0|h+160);d=0|d+4)J=(o[d-12>>2]^o[d-32>>2]^o[d-56>>2]^o[d-64>>2])<<1|(o[d-12>>2]^o[d-32>>2]^o[d-56>>2]^o[d-64>>2])>>>31,G=0|(0|(c<<5|c>>>27)+(u^R^w))+(0|(0|J+N)+1859775393),N=w,w=R,R=u<<30|u>>>2,u=c,c=G,o[d>>2]=J;for(d=0|h+160;(0|d)<(0|h+240);d=0|d+4)J=(o[d-12>>2]^o[d-32>>2]^o[d-56>>2]^o[d-64>>2])<<1|(o[d-12>>2]^o[d-32>>2]^o[d-56>>2]^o[d-64>>2])>>>31,G=0|(0|(c<<5|c>>>27)+(u&R|u&w|R&w))+(0|(0|J+N)-1894007588),N=w,w=R,R=u<<30|u>>>2,u=c,c=G,o[d>>2]=J;for(d=0|h+240;(0|d)<(0|h+320);d=0|d+4)J=(o[d-12>>2]^o[d-32>>2]^o[d-56>>2]^o[d-64>>2])<<1|(o[d-12>>2]^o[d-32>>2]^o[d-56>>2]^o[d-64>>2])>>>31,G=0|(0|(c<<5|c>>>27)+(u^R^w))+(0|(0|J+N)-899497514),N=w,w=R,R=u<<30|u>>>2,u=c,c=G,o[d>>2]=J;c=0|c+f,u=0|u+k,R=0|R+A,w=0|w+I,N=0|N+L}o[s+320>>2]=c,o[s+324>>2]=u,o[s+328>>2]=R,o[s+332>>2]=w,o[s+336>>2]=N}var o=new y.Int32Array(m);return{hash:a}}},function(g,C){var E=this,y=void 0;typeof self<"u"&&typeof self.FileReaderSync<"u"&&(y=new self.FileReaderSync);var i=function(o,h,s,r,d,c){var f=c%4,u=(d+f)%4,k=d-u,R;switch(f){case 0:h[c]=o.charCodeAt(r+3);case 1:h[0|c+1-(f<<1)]=o.charCodeAt(r+2);case 2:h[0|c+2-(f<<1)]=o.charCodeAt(r+1);case 3:h[0|c+3-(f<<1)]=o.charCodeAt(r)}if(!(d<u+(4-f))){for(R=4-f;R<k;R=0|R+4)s[c+R>>2]=o.charCodeAt(r+R)<<24|o.charCodeAt(r+R+1)<<16|o.charCodeAt(r+R+2)<<8|o.charCodeAt(r+R+3);switch(u){case 3:h[0|c+k+1]=o.charCodeAt(r+k+2);case 2:h[0|c+k+2]=o.charCodeAt(r+k+1);case 1:h[0|c+k+3]=o.charCodeAt(r+k)}}},m=function(o,h,s,r,d,c){var f=c%4,u=(d+f)%4,k=d-u,R;switch(f){case 0:h[c]=o[r+3];case 1:h[0|c+1-(f<<1)]=o[r+2];case 2:h[0|c+2-(f<<1)]=o[r+1];case 3:h[0|c+3-(f<<1)]=o[r]}if(!(d<u+(4-f))){for(R=4-f;R<k;R=0|R+4)s[0|c+R>>2]=o[r+R]<<24|o[r+R+1]<<16|o[r+R+2]<<8|o[r+R+3];switch(u){case 3:h[0|c+k+1]=o[r+k+2];case 2:h[0|c+k+2]=o[r+k+1];case 1:h[0|c+k+3]=o[r+k]}}},a=function(o,h,s,r,d,c){var f=void 0,u=c%4,k=(d+u)%4,R=d-k,A=new Uint8Array(y.readAsArrayBuffer(o.slice(r,r+d)));switch(u){case 0:h[c]=A[3];case 1:h[0|c+1-(u<<1)]=A[2];case 2:h[0|c+2-(u<<1)]=A[1];case 3:h[0|c+3-(u<<1)]=A[0]}if(!(d<k+(4-u))){for(f=4-u;f<R;f=0|f+4)s[0|c+f>>2]=A[f]<<24|A[f+1]<<16|A[f+2]<<8|A[f+3];switch(k){case 3:h[0|c+R+1]=A[R+2];case 2:h[0|c+R+2]=A[R+1];case 1:h[0|c+R+3]=A[R]}}};g.exports=function(o,h,s,r,d,c){if(typeof o=="string")return i(o,h,s,r,d,c);if(o instanceof Array||E&&E.Buffer&&E.Buffer.isBuffer(o))return m(o,h,s,r,d,c);if(o instanceof ArrayBuffer)return m(new Uint8Array(o),h,s,r,d,c);if(o.buffer instanceof ArrayBuffer)return m(new Uint8Array(o.buffer,o.byteOffset,o.byteLength),h,s,r,d,c);if(o instanceof Blob)return a(o,h,s,r,d,c);throw new Error("Unsupported data type.")}},function(g,C,E){function y(s,r){if(!(s instanceof r))throw new TypeError("Cannot call a class as a function")}var i=function(){function s(r,d){for(var c=0,f;c<d.length;c++)f=d[c],f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(r,f.key,f)}return function(r,d,c){return d&&s(r.prototype,d),c&&s(r,c),r}}(),m=E(0),a=E(1),o=a.toHex,h=function(){function s(){y(this,s),this._rusha=new m,this._rusha.resetState()}return s.prototype.update=function(d){return this._rusha.append(d),this},s.prototype.digest=function(d){var c=this._rusha.rawEnd().buffer;if(!d)return c;if(d==="hex")return o(c);throw new Error("unsupported digest encoding")},i(s,[{key:"state",get:function(){return this._rusha.getState()},set:function(r){this._rusha.setState(r)}}]),s}();g.exports=function(){return new h}}])})},{}],234:[function(x,V,O){function g(i,m){for(var a in i)m[a]=i[a]}function C(i,m,a){return y(i,m,a)}/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var E=x("buffer"),y=E.Buffer;y.from&&y.alloc&&y.allocUnsafe&&y.allocUnsafeSlow?V.exports=E:(g(E,O),O.Buffer=C),C.prototype=Object.create(y.prototype),g(y,C),C.from=function(i,m,a){if(typeof i=="number")throw new TypeError("Argument must not be a number");return y(i,m,a)},C.alloc=function(i,m,a){if(typeof i!="number")throw new TypeError("Argument must be a number");var o=y(i);return m===void 0?o.fill(0):typeof a=="string"?o.fill(m,a):o.fill(m),o},C.allocUnsafe=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return y(i)},C.allocUnsafeSlow=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return E.SlowBuffer(i)}},{buffer:75}],235:[function(x,V,O){(function(g){(function(){var C=x("buffer"),E=C.Buffer,y={},i;for(i in C)C.hasOwnProperty(i)&&i!=="SlowBuffer"&&i!=="Buffer"&&(y[i]=C[i]);var m=y.Buffer={};for(i in E)E.hasOwnProperty(i)&&i!=="allocUnsafe"&&i!=="allocUnsafeSlow"&&(m[i]=E[i]);if(y.Buffer.prototype=E.prototype,m.from&&m.from!==Uint8Array.from||(m.from=function(a,o,h){if(typeof a=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof a);if(a&&typeof a.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof a);return E(a,o,h)}),m.alloc||(m.alloc=function(a,o,h){if(typeof a!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof a);if(0>a||2147483648<=a)throw new RangeError('The value "'+a+'" is invalid for option "size"');var s=E(a);return o&&o.length!==0?typeof h=="string"?s.fill(o,h):s.fill(o):s.fill(0),s}),!y.kStringMaxLength)try{y.kStringMaxLength=g.binding("buffer").kStringMaxLength}catch{}y.constants||(y.constants={MAX_LENGTH:y.kMaxLength},y.kStringMaxLength&&(y.constants.MAX_STRING_LENGTH=y.kStringMaxLength)),V.exports=y}).call(this)}).call(this,x("_process"))},{_process:192,buffer:75}],236:[function(x,V,O){function g(E,y){this._block=C.alloc(E),this._finalSize=y,this._blockSize=E,this._len=0}var C=x("safe-buffer").Buffer;g.prototype.update=function(E,y){typeof E=="string"&&(y=y||"utf8",E=C.from(E,y));for(var i=this._block,m=this._blockSize,a=E.length,o=this._len,h=0;h<a;){for(var s=o%m,r=ke(a-h,m-s),d=0;d<r;d++)i[s+d]=E[h+d];o+=r,h+=r,o%m==0&&this._update(i)}return this._len+=a,this},g.prototype.digest=function(E){var y=this._len%this._blockSize;this._block[y]=128,this._block.fill(0,y+1),y>=this._finalSize&&(this._update(this._block),this._block.fill(0));var i=8*this._len;if(4294967295>=i)this._block.writeUInt32BE(i,this._blockSize-4);else{var m=(4294967295&i)>>>0,a=(i-m)/4294967296;this._block.writeUInt32BE(a,this._blockSize-8),this._block.writeUInt32BE(m,this._blockSize-4)}this._update(this._block);var o=this._hash();return E?o.toString(E):o},g.prototype._update=function(){throw new Error("_update must be implemented by subclass")},V.exports=g},{"safe-buffer":234}],237:[function(x,V,g){var g=V.exports=function(E){E=E.toLowerCase();var y=g[E];if(!y)throw new Error(E+" is not supported (we accept pull requests)");return new y};g.sha=x("./sha"),g.sha1=x("./sha1"),g.sha224=x("./sha224"),g.sha256=x("./sha256"),g.sha384=x("./sha384"),g.sha512=x("./sha512")},{"./sha":238,"./sha1":239,"./sha224":240,"./sha256":241,"./sha384":242,"./sha512":243}],238:[function(x,V,O){function g(){this.init(),this._w=h,m.call(this,64,56)}function C(s){return s<<5|s>>>27}function E(s){return s<<30|s>>>2}function y(s,r,d,c){return s===0?r&d|~r&c:s===2?r&d|r&c|d&c:r^d^c}var i=x("inherits"),m=x("./hash"),a=x("safe-buffer").Buffer,o=[1518500249,1859775393,-1894007588,-899497514],h=Array(80);i(g,m),g.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},g.prototype._update=function(s){for(var r=this._w,d=0|this._a,c=0|this._b,f=0|this._c,u=0|this._d,k=0|this._e,R=0;16>R;++R)r[R]=s.readInt32BE(4*R);for(;80>R;++R)r[R]=r[R-3]^r[R-8]^r[R-14]^r[R-16];for(var A=0;80>A;++A){var w=~~(A/20),I=0|C(d)+y(w,c,f,u)+k+r[A]+o[w];k=u,u=f,f=E(c),c=d,d=I}this._a=0|d+this._a,this._b=0|c+this._b,this._c=0|f+this._c,this._d=0|u+this._d,this._e=0|k+this._e},g.prototype._hash=function(){var s=a.allocUnsafe(20);return s.writeInt32BE(0|this._a,0),s.writeInt32BE(0|this._b,4),s.writeInt32BE(0|this._c,8),s.writeInt32BE(0|this._d,12),s.writeInt32BE(0|this._e,16),s},V.exports=g},{"./hash":236,inherits:146,"safe-buffer":234}],239:[function(x,V,O){function g(){this.init(),this._w=s,a.call(this,64,56)}function C(r){return r<<1|r>>>31}function E(r){return r<<5|r>>>27}function y(r){return r<<30|r>>>2}function i(r,d,c,f){return r===0?d&c|~d&f:r===2?d&c|d&f|c&f:d^c^f}var m=x("inherits"),a=x("./hash"),o=x("safe-buffer").Buffer,h=[1518500249,1859775393,-1894007588,-899497514],s=Array(80);m(g,a),g.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},g.prototype._update=function(r){for(var d=this._w,c=0|this._a,f=0|this._b,u=0|this._c,k=0|this._d,R=0|this._e,A=0;16>A;++A)d[A]=r.readInt32BE(4*A);for(;80>A;++A)d[A]=C(d[A-3]^d[A-8]^d[A-14]^d[A-16]);for(var w=0;80>w;++w){var I=~~(w/20),N=0|E(c)+i(I,f,u,k)+R+d[w]+h[I];R=k,k=u,u=y(f),f=c,c=N}this._a=0|c+this._a,this._b=0|f+this._b,this._c=0|u+this._c,this._d=0|k+this._d,this._e=0|R+this._e},g.prototype._hash=function(){var r=o.allocUnsafe(20);return r.writeInt32BE(0|this._a,0),r.writeInt32BE(0|this._b,4),r.writeInt32BE(0|this._c,8),r.writeInt32BE(0|this._d,12),r.writeInt32BE(0|this._e,16),r},V.exports=g},{"./hash":236,inherits:146,"safe-buffer":234}],240:[function(x,V,O){function g(){this.init(),this._w=m,y.call(this,64,56)}var C=x("inherits"),E=x("./sha256"),y=x("./hash"),i=x("safe-buffer").Buffer,m=Array(64);C(g,E),g.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},g.prototype._hash=function(){var a=i.allocUnsafe(28);return a.writeInt32BE(this._a,0),a.writeInt32BE(this._b,4),a.writeInt32BE(this._c,8),a.writeInt32BE(this._d,12),a.writeInt32BE(this._e,16),a.writeInt32BE(this._f,20),a.writeInt32BE(this._g,24),a},V.exports=g},{"./hash":236,"./sha256":241,inherits:146,"safe-buffer":234}],241:[function(x,V,O){function g(){this.init(),this._w=d,h.call(this,64,56)}function C(c,f,u){return u^c&(f^u)}function E(c,f,u){return c&f|u&(c|f)}function y(c){return(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10)}function i(c){return(c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7)}function m(c){return(c>>>7|c<<25)^(c>>>18|c<<14)^c>>>3}function a(c){return(c>>>17|c<<15)^(c>>>19|c<<13)^c>>>10}var o=x("inherits"),h=x("./hash"),s=x("safe-buffer").Buffer,r=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],d=Array(64);o(g,h),g.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},g.prototype._update=function(c){for(var f=this._w,u=0|this._a,k=0|this._b,R=0|this._c,A=0|this._d,w=0|this._e,I=0|this._f,N=0|this._g,L=0|this._h,G=0;16>G;++G)f[G]=c.readInt32BE(4*G);for(;64>G;++G)f[G]=0|a(f[G-2])+f[G-7]+m(f[G-15])+f[G-16];for(var J=0;64>J;++J){var se=0|L+i(w)+C(w,I,N)+r[J]+f[J],ce=0|y(u)+E(u,k,R);L=N,N=I,I=w,w=0|A+se,A=R,R=k,k=u,u=0|se+ce}this._a=0|u+this._a,this._b=0|k+this._b,this._c=0|R+this._c,this._d=0|A+this._d,this._e=0|w+this._e,this._f=0|I+this._f,this._g=0|N+this._g,this._h=0|L+this._h},g.prototype._hash=function(){var c=s.allocUnsafe(32);return c.writeInt32BE(this._a,0),c.writeInt32BE(this._b,4),c.writeInt32BE(this._c,8),c.writeInt32BE(this._d,12),c.writeInt32BE(this._e,16),c.writeInt32BE(this._f,20),c.writeInt32BE(this._g,24),c.writeInt32BE(this._h,28),c},V.exports=g},{"./hash":236,inherits:146,"safe-buffer":234}],242:[function(x,V,O){function g(){this.init(),this._w=m,y.call(this,128,112)}var C=x("inherits"),E=x("./sha512"),y=x("./hash"),i=x("safe-buffer").Buffer,m=Array(160);C(g,E),g.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},g.prototype._hash=function(){function a(h,s,r){o.writeInt32BE(h,r),o.writeInt32BE(s,r+4)}var o=i.allocUnsafe(48);return a(this._ah,this._al,0),a(this._bh,this._bl,8),a(this._ch,this._cl,16),a(this._dh,this._dl,24),a(this._eh,this._el,32),a(this._fh,this._fl,40),o},V.exports=g},{"./hash":236,"./sha512":243,inherits:146,"safe-buffer":234}],243:[function(x,V,O){function g(){this.init(),this._w=u,d.call(this,128,112)}function C(k,R,A){return A^k&(R^A)}function E(k,R,A){return k&R|A&(k|R)}function y(k,R){return(k>>>28|R<<4)^(R>>>2|k<<30)^(R>>>7|k<<25)}function i(k,R){return(k>>>14|R<<18)^(k>>>18|R<<14)^(R>>>9|k<<23)}function m(k,R){return(k>>>1|R<<31)^(k>>>8|R<<24)^k>>>7}function a(k,R){return(k>>>1|R<<31)^(k>>>8|R<<24)^(k>>>7|R<<25)}function o(k,R){return(k>>>19|R<<13)^(R>>>29|k<<3)^k>>>6}function h(k,R){return(k>>>19|R<<13)^(R>>>29|k<<3)^(k>>>6|R<<26)}function s(k,R){return k>>>0<R>>>0?1:0}var r=x("inherits"),d=x("./hash"),c=x("safe-buffer").Buffer,f=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],u=Array(160);r(g,d),g.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},g.prototype._update=function(k){for(var R=this._w,A=0|this._ah,w=0|this._bh,I=0|this._ch,N=0|this._dh,L=0|this._eh,G=0|this._fh,J=0|this._gh,se=0|this._hh,ce=0|this._al,Y=0|this._bl,B=0|this._cl,_=0|this._dl,p=0|this._el,T=0|this._fl,M=0|this._gl,F=0|this._hl,j=0;32>j;j+=2)R[j]=k.readInt32BE(4*j),R[j+1]=k.readInt32BE(4*j+4);for(;160>j;j+=2){var U=R[j-30],K=R[j-30+1],Q=m(U,K),ee=a(K,U);U=R[j-4],K=R[j-4+1];var fe=o(U,K),ae=h(K,U),me=R[j-14],he=R[j-14+1],Se=R[j-32],Ae=R[j-32+1],pe=0|ee+he,ge=0|Q+me+s(pe,ee);pe=0|pe+ae,ge=0|ge+fe+s(pe,ae),pe=0|pe+Ae,ge=0|ge+Se+s(pe,Ae),R[j]=ge,R[j+1]=pe}for(var xe=0;160>xe;xe+=2){ge=R[xe],pe=R[xe+1];var Ce=E(A,w,I),de=E(ce,Y,B),q=y(A,ce),P=y(ce,A),H=i(L,p),Z=i(p,L),oe=f[xe],ue=f[xe+1],ve=C(L,G,J),Re=C(p,T,M),Pe=0|F+Z,Ie=0|se+H+s(Pe,F);Pe=0|Pe+Re,Ie=0|Ie+ve+s(Pe,Re),Pe=0|Pe+ue,Ie=0|Ie+oe+s(Pe,ue),Pe=0|Pe+pe,Ie=0|Ie+ge+s(Pe,pe);var Be=0|P+de,De=0|q+Ce+s(Be,P);se=J,F=M,J=G,M=T,G=L,T=p,p=0|_+Pe,L=0|N+Ie+s(p,_),N=I,_=B,I=w,B=Y,w=A,Y=ce,ce=0|Pe+Be,A=0|Ie+De+s(ce,Pe)}this._al=0|this._al+ce,this._bl=0|this._bl+Y,this._cl=0|this._cl+B,this._dl=0|this._dl+_,this._el=0|this._el+p,this._fl=0|this._fl+T,this._gl=0|this._gl+M,this._hl=0|this._hl+F,this._ah=0|this._ah+A+s(this._al,ce),this._bh=0|this._bh+w+s(this._bl,Y),this._ch=0|this._ch+I+s(this._cl,B),this._dh=0|this._dh+N+s(this._dl,_),this._eh=0|this._eh+L+s(this._el,p),this._fh=0|this._fh+G+s(this._fl,T),this._gh=0|this._gh+J+s(this._gl,M),this._hh=0|this._hh+se+s(this._hl,F)},g.prototype._hash=function(){function k(A,w,I){R.writeInt32BE(A,I),R.writeInt32BE(w,I+4)}var R=c.allocUnsafe(64);return k(this._ah,this._al,0),k(this._bh,this._bl,8),k(this._ch,this._cl,16),k(this._dh,this._dl,24),k(this._eh,this._el,32),k(this._fh,this._fl,40),k(this._gh,this._gl,48),k(this._hh,this._hl,56),R},V.exports=g},{"./hash":236,inherits:146,"safe-buffer":234}],244:[function(x,V,O){(function(g){(function(){/*! simple-concat. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */V.exports=function(C,E){var y=[];C.on("data",function(i){y.push(i)}),C.once("end",function(){E&&E(null,g.concat(y)),E=null}),C.once("error",function(i){E&&E(i),E=null})}}).call(this)}).call(this,x("buffer").Buffer)},{buffer:75}],245:[function(x,V,O){(function(g){(function(){function C(r,d){if(r=Object.assign({maxRedirects:10},typeof r=="string"?{url:r}:r),d=a(d),r.url){const{hostname:A,port:w,protocol:I,auth:N,path:L}=h.parse(r.url);delete r.url,A||w||I||N?Object.assign(r,{hostname:A,port:w,protocol:I,auth:N,path:L}):r.path=L}const c={"accept-encoding":"gzip, deflate"};r.headers&&Object.keys(r.headers).forEach(A=>c[A.toLowerCase()]=r.headers[A]),r.headers=c;let f;r.body?f=r.json&&!s(r.body)?JSON.stringify(r.body):r.body:r.form&&(f=typeof r.form=="string"?r.form:o.stringify(r.form),r.headers["content-type"]="application/x-www-form-urlencoded"),f&&(!r.method&&(r.method="POST"),!s(f)&&(r.headers["content-length"]=g.byteLength(f)),r.json&&!r.form&&(r.headers["content-type"]="application/json")),delete r.body,delete r.form,r.json&&(r.headers.accept="application/json"),r.method&&(r.method=r.method.toUpperCase());const u=r.hostname,k=r.protocol==="https:"?m:i,R=k.request(r,A=>{if(r.followRedirects!==!1&&300<=A.statusCode&&400>A.statusCode&&A.headers.location){r.url=A.headers.location,delete r.headers.host,A.resume();const I=h.parse(r.url).hostname;return I!==null&&I!==u&&(delete r.headers.cookie,delete r.headers.authorization),r.method==="POST"&&[301,302].includes(A.statusCode)&&(r.method="GET",delete r.headers["content-length"],delete r.headers["content-type"]),r.maxRedirects--==0?d(new Error("too many redirects")):C(r,d)}const w=typeof y=="function"&&r.method!=="HEAD";d(null,w?y(A):A)});return R.on("timeout",()=>{R.abort(),d(new Error("Request timed out"))}),R.on("error",d),s(f)?f.on("error",d).pipe(R):R.end(f),R}V.exports=C;const E=x("simple-concat"),y=x("decompress-response"),i=x("http"),m=x("https"),a=x("once"),o=x("querystring"),h=x("url"),s=r=>r!==null&&typeof r=="object"&&typeof r.pipe=="function";C.concat=(r,d)=>C(r,(c,f)=>c?d(c):void E(f,(u,k)=>{if(u)return d(u);if(r.json)try{k=JSON.parse(k.toString())}catch(R){return d(R,f,k)}d(null,f,k)})),["get","post","put","patch","head","delete"].forEach(r=>{C[r]=(d,c)=>(typeof d=="string"&&(d={url:d}),C(Object.assign({method:r.toUpperCase()},d),c))})}).call(this)}).call(this,x("buffer").Buffer)},{buffer:75,"decompress-response":41,http:256,https:143,once:177,querystring:204,"simple-concat":244,url:273}],246:[function(x,V,O){function g(f){return f.replace(/a=ice-options:trickle\s\n/g,"")}function C(f){console.warn(f)}/*! simple-peer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */const E=x("debug")("simple-peer"),y=x("get-browser-rtc"),i=x("randombytes"),m=x("readable-stream"),a=x("queue-microtask"),o=x("err-code"),{Buffer:h}=x("buffer"),s=65536,r=5e3,d=5e3;class c extends m.Duplex{constructor(u){if(u=Object.assign({allowHalfOpen:!1},u),super(u),this._id=i(4).toString("hex").slice(0,7),this._debug("new peer %o",u),this.channelName=u.initiator?u.channelName||i(20).toString("hex"):null,this.initiator=u.initiator||!1,this.channelConfig=u.channelConfig||c.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},c.config,u.config),this.offerOptions=u.offerOptions||{},this.answerOptions=u.answerOptions||{},this.sdpTransform=u.sdpTransform||(k=>k),this.streams=u.streams||(u.stream?[u.stream]:[]),this.trickle=u.trickle===void 0||u.trickle,this.allowHalfTrickle=u.allowHalfTrickle!==void 0&&u.allowHalfTrickle,this.iceCompleteTimeout=u.iceCompleteTimeout||r,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=u.wrtc&&typeof u.wrtc=="object"?u.wrtc:y(),!this._wrtc)throw o(typeof window>"u"?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(k){return void this.destroy(o(k,"ERR_PC_CONSTRUCTOR"))}this._isReactNativeWebrtc=typeof this._pc._peerConnectionId=="number",this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=k=>{this._onIceCandidate(k)},typeof this._pc.peerIdentity=="object"&&this._pc.peerIdentity.catch(k=>{this.destroy(o(k,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=k=>{this._setupData(k)},this.streams&&this.streams.forEach(k=>{this.addStream(k)}),this._pc.ontrack=k=>{this._onTrack(k)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&this._channel.readyState==="open"}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(u){if(!this.destroying){if(this.destroyed)throw o(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if(typeof u=="string")try{u=JSON.parse(u)}catch{u={}}this._debug("signal()"),u.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),u.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(u.transceiverRequest.kind,u.transceiverRequest.init)),u.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(u.candidate):this._pendingCandidates.push(u.candidate)),u.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(u)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(k=>{this._addIceCandidate(k)}),this._pendingCandidates=[],this._pc.remoteDescription.type==="offer"&&this._createAnswer())}).catch(k=>{this.destroy(o(k,"ERR_SET_REMOTE_DESCRIPTION"))}),u.sdp||u.candidate||u.renegotiate||u.transceiverRequest||this.destroy(o(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(u){const k=new this._wrtc.RTCIceCandidate(u);this._pc.addIceCandidate(k).catch(R=>{!k.address||k.address.endsWith(".local")?C("Ignoring unsupported ICE candidate."):this.destroy(o(R,"ERR_ADD_ICE_CANDIDATE"))})}send(u){if(!this.destroying){if(this.destroyed)throw o(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(u)}}addTransceiver(u,k){if(!this.destroying){if(this.destroyed)throw o(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(u,k),this._needsNegotiation()}catch(R){this.destroy(o(R,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:u,init:k}})}}addStream(u){if(!this.destroying){if(this.destroyed)throw o(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),u.getTracks().forEach(k=>{this.addTrack(k,u)})}}addTrack(u,k){if(this.destroying)return;if(this.destroyed)throw o(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const R=this._senderMap.get(u)||new Map;let A=R.get(k);if(!A)A=this._pc.addTrack(u,k),R.set(k,A),this._senderMap.set(u,R),this._needsNegotiation();else throw A.removed?o(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):o(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED")}replaceTrack(u,k,R){if(this.destroying)return;if(this.destroyed)throw o(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const A=this._senderMap.get(u),w=A?A.get(R):null;if(!w)throw o(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");k&&this._senderMap.set(k,A),w.replaceTrack==null?this.destroy(o(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK")):w.replaceTrack(k)}removeTrack(u,k){if(this.destroying)return;if(this.destroyed)throw o(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const R=this._senderMap.get(u),A=R?R.get(k):null;if(!A)throw o(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{A.removed=!0,this._pc.removeTrack(A)}catch(w){w.name==="NS_ERROR_UNEXPECTED"?this._sendersAwaitingStable.push(A):this.destroy(o(w,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(u){if(!this.destroying){if(this.destroyed)throw o(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),u.getTracks().forEach(k=>{this.removeTrack(k,u)})}}_needsNegotiation(){this._debug("_needsNegotiation"),this._batchedNegotiation||(this._batchedNegotiation=!0,a(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this.destroying){if(this.destroyed)throw o(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(u){this._destroy(u,()=>{})}_destroy(u,k){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",u&&(u.message||u)),a(()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",u&&(u.message||u)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch{}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch{}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,u&&this.emit("error",u),this.emit("close"),k()}))}_setupData(u){if(!u.channel)return this.destroy(o(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=u.channel,this._channel.binaryType="arraybuffer",typeof this._channel.bufferedAmountLowThreshold=="number"&&(this._channel.bufferedAmountLowThreshold=s),this.channelName=this._channel.label,this._channel.onmessage=R=>{this._onChannelMessage(R)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=R=>{const A=R.error instanceof Error?R.error:new Error(`Datachannel error: ${R.message} ${R.filename}:${R.lineno}:${R.colno}`);this.destroy(o(A,"ERR_DATA_CHANNEL"))};let k=!1;this._closingInterval=setInterval(()=>{this._channel&&this._channel.readyState==="closing"?(k&&this._onChannelClose(),k=!0):k=!1},d)}_read(){}_write(u,k,R){if(this.destroyed)return R(o(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(u)}catch(A){return this.destroy(o(A,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>s?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=R):R(null)}else this._debug("write before connect"),this._chunk=u,this._cb=R}_onFinish(){if(!this.destroyed){const u=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?u():this.once("connect",u)}}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(u=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(u.sdp=g(u.sdp)),u.sdp=this.sdpTransform(u.sdp);const k=()=>{if(!this.destroyed){const w=this._pc.localDescription||u;this._debug("signal"),this.emit("signal",{type:w.type,sdp:w.sdp})}},R=()=>{this._debug("createOffer success"),this.destroyed||(this.trickle||this._iceComplete?k():this.once("_iceComplete",k))},A=w=>{this.destroy(o(w,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(u).then(R).catch(A)}).catch(u=>{this.destroy(o(u,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(u=>{u.mid||!u.sender.track||u.requested||(u.requested=!0,this.addTransceiver(u.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(u=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(u.sdp=g(u.sdp)),u.sdp=this.sdpTransform(u.sdp);const k=()=>{if(!this.destroyed){const w=this._pc.localDescription||u;this._debug("signal"),this.emit("signal",{type:w.type,sdp:w.sdp}),this.initiator||this._requestMissingTransceivers()}},R=()=>{this.destroyed||(this.trickle||this._iceComplete?k():this.once("_iceComplete",k))},A=w=>{this.destroy(o(w,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(u).then(R).catch(A)}).catch(u=>{this.destroy(o(u,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||this._pc.connectionState==="failed"&&this.destroy(o(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const u=this._pc.iceConnectionState,k=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",u,k),this.emit("iceStateChange",u,k),(u==="connected"||u==="completed")&&(this._pcReady=!0,this._maybeReady()),u==="failed"&&this.destroy(o(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),u==="closed"&&this.destroy(o(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(u){const k=R=>(Object.prototype.toString.call(R.values)==="[object Array]"&&R.values.forEach(A=>{Object.assign(R,A)}),R);this._pc.getStats.length===0||this._isReactNativeWebrtc?this._pc.getStats().then(R=>{const A=[];R.forEach(w=>{A.push(k(w))}),u(null,A)},R=>u(R)):0<this._pc.getStats.length?this._pc.getStats(R=>{if(this.destroyed)return;const A=[];R.result().forEach(w=>{const I={};w.names().forEach(N=>{I[N]=w.stat(N)}),I.id=w.id,I.type=w.type,I.timestamp=w.timestamp,A.push(k(I))}),u(null,A)},R=>u(R)):u(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const u=()=>{this.destroyed||this.getStats((k,R)=>{if(this.destroyed)return;k&&(R=[]);const A={},w={},I={};let N=!1;R.forEach(G=>{(G.type==="remotecandidate"||G.type==="remote-candidate")&&(A[G.id]=G),(G.type==="localcandidate"||G.type==="local-candidate")&&(w[G.id]=G),(G.type==="candidatepair"||G.type==="candidate-pair")&&(I[G.id]=G)});const L=G=>{N=!0;let J=w[G.localCandidateId];J&&(J.ip||J.address)?(this.localAddress=J.ip||J.address,this.localPort=+J.port):J&&J.ipAddress?(this.localAddress=J.ipAddress,this.localPort=+J.portNumber):typeof G.googLocalAddress=="string"&&(J=G.googLocalAddress.split(":"),this.localAddress=J[0],this.localPort=+J[1]),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let se=A[G.remoteCandidateId];se&&(se.ip||se.address)?(this.remoteAddress=se.ip||se.address,this.remotePort=+se.port):se&&se.ipAddress?(this.remoteAddress=se.ipAddress,this.remotePort=+se.portNumber):typeof G.googRemoteAddress=="string"&&(se=G.googRemoteAddress.split(":"),this.remoteAddress=se[0],this.remotePort=+se[1]),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(R.forEach(G=>{G.type==="transport"&&G.selectedCandidatePairId&&L(I[G.selectedCandidatePairId]),(G.type==="googCandidatePair"&&G.googActiveConnection==="true"||(G.type==="candidatepair"||G.type==="candidate-pair")&&G.selected)&&L(G)}),!N&&(!Object.keys(I).length||Object.keys(w).length))return void setTimeout(u,100);if(this._connecting=!1,this._connected=!0,this._chunk){try{this.send(this._chunk)}catch(J){return this.destroy(o(J,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const G=this._cb;this._cb=null,G(null)}typeof this._channel.bufferedAmountLowThreshold!="number"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")})};u()}_onInterval(){this._cb&&this._channel&&!(this._channel.bufferedAmount>s)&&this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||(this._pc.signalingState==="stable"&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(u=>{this._pc.removeTrack(u),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(u){this.destroyed||(u.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:u.candidate.candidate,sdpMLineIndex:u.candidate.sdpMLineIndex,sdpMid:u.candidate.sdpMid}}):!u.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),u.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(u){if(this.destroyed)return;let k=u.data;k instanceof ArrayBuffer&&(k=h.from(k)),this.push(k)}_onChannelBufferedAmountLow(){if(!this.destroyed&&this._cb){this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const u=this._cb;this._cb=null,u(null)}}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(u){this.destroyed||u.streams.forEach(k=>{this._debug("on track"),this.emit("track",u.track,k),this._remoteTracks.push({track:u.track,stream:k}),this._remoteStreams.some(R=>R.id===k.id)||(this._remoteStreams.push(k),a(()=>{this._debug("on stream"),this.emit("stream",k)}))})}_debug(){const u=[].slice.call(arguments);u[0]="["+this._id+"] "+u[0],E.apply(null,u)}}c.WEBRTC_SUPPORT=!!y(),c.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},c.channelConfig={},V.exports=c},{buffer:75,debug:90,"err-code":121,"get-browser-rtc":128,"queue-microtask":205,randombytes:208,"readable-stream":227}],247:[function(x,V,O){function g(r){return a.digest(r)}function C(r,d){return s?(typeof r=="string"&&(r=E(r)),void s.digest({name:"sha-1"},r).then(function(f){d(y(new Uint8Array(f)))},function(){d(g(r))})):void(typeof window>"u"?queueMicrotask(()=>d(g(r))):m(r,function(f,u){return f?void d(g(r)):void d(u)}))}function E(r){const d=r.length,c=new Uint8Array(d);for(let f=0;f<d;f++)c[f]=r.charCodeAt(f);return c}function y(r){const d=r.length,c=[];for(let f=0;f<d;f++){const u=r[f];c.push((u>>>4).toString(16)),c.push((15&u).toString(16))}return c.join("")}const i=x("rusha"),m=x("./rusha-worker-sha1"),a=new i,o=typeof window>"u"?self:window,h=o.crypto||o.msCrypto||{};let s=h.subtle||h.webkitSubtle;try{s.digest({name:"sha-1"},new Uint8Array).catch(function(){s=!1})}catch{s=!1}V.exports=C,V.exports.sync=g},{"./rusha-worker-sha1":248,rusha:233}],248:[function(x,V,O){function g(){y=E.createWorker(),i=1,m={},y.onmessage=function(o){const h=o.data.id,s=m[h];delete m[h],o.data.error==null?s(null,o.data.hash):s(new Error("Rusha worker error: "+o.data.error))}}function C(a,o){y||g(),m[i]=o,y.postMessage({id:i,data:a}),i+=1}const E=x("rusha");let y,i,m;V.exports=C},{rusha:233}],249:[function(x,V,O){(function(g){(function(){/*! simple-websocket. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */const C=x("debug")("simple-websocket"),E=x("randombytes"),y=x("readable-stream"),i=x("queue-microtask"),m=x("ws"),a=typeof m=="function"?m:WebSocket,o=65536;class h extends y.Duplex{constructor(r={}){if(typeof r=="string"&&(r={url:r}),r=Object.assign({allowHalfOpen:!1},r),super(r),r.url==null&&r.socket==null)throw new Error("Missing required `url` or `socket` option");if(r.url!=null&&r.socket!=null)throw new Error("Must specify either `url` or `socket` option, not both");if(this._id=E(4).toString("hex").slice(0,7),this._debug("new websocket: %o",r),this.connected=!1,this.destroyed=!1,this._chunk=null,this._cb=null,this._interval=null,r.socket)this.url=r.socket.url,this._ws=r.socket,this.connected=r.socket.readyState===a.OPEN;else{this.url=r.url;try{this._ws=typeof m=="function"?new a(r.url,null,{...r,encoding:void 0}):new a(r.url)}catch(d){return void i(()=>this.destroy(d))}}this._ws.binaryType="arraybuffer",r.socket&&this.connected?i(()=>this._handleOpen()):this._ws.onopen=()=>this._handleOpen(),this._ws.onmessage=d=>this._handleMessage(d),this._ws.onclose=()=>this._handleClose(),this._ws.onerror=d=>this._handleError(d),this._handleFinishBound=()=>this._handleFinish(),this.once("finish",this._handleFinishBound)}send(r){this._ws.send(r)}destroy(r){this._destroy(r,()=>{})}_destroy(r,d){if(!this.destroyed){if(this._debug("destroy (error: %s)",r&&(r.message||r)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this.connected=!1,this.destroyed=!0,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._handleFinishBound&&this.removeListener("finish",this._handleFinishBound),this._handleFinishBound=null,this._ws){const c=this._ws,f=()=>{c.onclose=null};if(c.readyState===a.CLOSED)f();else try{c.onclose=f,c.close()}catch{f()}c.onopen=null,c.onmessage=null,c.onerror=()=>{}}this._ws=null,r&&this.emit("error",r),this.emit("close"),d()}}_read(){}_write(r,d,c){if(this.destroyed)return c(new Error("cannot write after socket is destroyed"));if(this.connected){try{this.send(r)}catch(f){return this.destroy(f)}typeof m!="function"&&this._ws.bufferedAmount>o?(this._debug("start backpressure: bufferedAmount %d",this._ws.bufferedAmount),this._cb=c):c(null)}else this._debug("write before connect"),this._chunk=r,this._cb=c}_handleOpen(){if(!(this.connected||this.destroyed)){if(this.connected=!0,this._chunk){try{this.send(this._chunk)}catch(d){return this.destroy(d)}this._chunk=null,this._debug('sent chunk from "write before connect"');const r=this._cb;this._cb=null,r(null)}typeof m!="function"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")}}_handleMessage(r){if(this.destroyed)return;let d=r.data;d instanceof ArrayBuffer&&(d=g.from(d)),this.push(d)}_handleClose(){this.destroyed||(this._debug("on close"),this.destroy())}_handleError(r){this.destroy(new Error(`Error connecting to ${this.url}`))}_handleFinish(){if(!this.destroyed){const r=()=>{setTimeout(()=>this.destroy(),1e3)};this.connected?r():this.once("connect",r)}}_onInterval(){if(this._cb&&this._ws&&!(this._ws.bufferedAmount>o)){this._debug("ending backpressure: bufferedAmount %d",this._ws.bufferedAmount);const r=this._cb;this._cb=null,r(null)}}_debug(){const r=[].slice.call(arguments);r[0]="["+this._id+"] "+r[0],C.apply(null,r)}}h.WEBSOCKET_SUPPORT=!!a,V.exports=h}).call(this)}).call(this,x("buffer").Buffer)},{buffer:75,debug:90,"queue-microtask":205,randombytes:208,"readable-stream":227,ws:41}],250:[function(x,V,O){const g=x("./lib/throttle"),C=x("./lib/throttle-group");V.exports={Throttle:g,ThrottleGroup:C}},{"./lib/throttle":252,"./lib/throttle-group":251}],251:[function(x,V,O){var g=Number.isInteger;const{TokenBucket:C}=x("limiter"),E=x("./throttle");class y{constructor(m={}){if(typeof m!="object")throw new Error("Options must be an object");this.throttles=[],this.setEnabled(m.enabled),this.setRate(m.rate,m.chunksize)}getEnabled(){return this._enabled}getRate(){return this.bucket.tokensPerInterval}getChunksize(){return this.chunksize}setEnabled(m=!0){if(typeof m!="boolean")throw new Error("Enabled must be a boolean");this._enabled=m;for(const a of this.throttles)a.setEnabled(m)}setRate(m,a=null){if(!g(m)||0>m)throw new Error("Rate must be an integer bigger than zero");if(m=parseInt(m),a&&(typeof a!="number"||0>=a))throw new Error("Chunksize must be bigger than zero");if(a=a||be(parseInt(m/10),1),a=parseInt(a),0<m&&a>m)throw new Error("Chunk size must be smaller than rate");this.bucket||(this.bucket=new C(m,m,"second",null)),this.bucket.bucketSize=m,this.bucket.tokensPerInterval=m,this.chunksize=a}setChunksize(m){if(!g(m)||0>=m)throw new Error("Chunk size must be an integer bigger than zero");const a=this.getRate();if(m=parseInt(m),0<a&&m>a)throw new Error("Chunk size must be smaller than rate");this.chunksize=m}throttle(m={}){if(typeof m!="object")throw new Error("Options must be an object");return new E({...m,group:this})}destroy(){for(const m of this.throttles)m.destroy();this.throttles=[]}_addThrottle(m){if(!(m instanceof E))throw new Error("Throttle must be an instance of Throttle");this.throttles.push(m)}_removeThrottle(m){const a=this.throttles.indexOf(m);-1<a&&this.throttles.splice(a,1)}}V.exports=y},{"./throttle":252,limiter:151}],252:[function(x,V,O){const{EventEmitter:g}=x("events"),{Transform:C}=x("streamx"),{wait:E}=x("./utils");class y extends C{constructor(a={}){if(super(),typeof a!="object")throw new Error("Options must be an object");const o=Object.assign({},a);if(o.group&&!(o.group instanceof i))throw new Error("Group must be an instanece of ThrottleGroup");o.group||(o.group=new i(o)),this._setEnabled(o.enabled||o.group.enabled),this._group=o.group,this._emitter=new g,this._destroyed=!1,this._group._addThrottle(this)}getEnabled(){return this._enabled}getGroup(){return this._group}_setEnabled(a=!0){if(typeof a!="boolean")throw new Error("Enabled must be a boolean");this._enabled=a}setEnabled(a){this._setEnabled(a),this._enabled?this._emitter.emit("enabled"):this._emitter.emit("disabled")}_transform(a,o){this._processChunk(a,o)}async _waitForTokens(a){return new Promise((o,h)=>{function s(c){if(d._emitter.removeListener("disabled",s),d._emitter.removeListener("destroyed",s),!r)return r=!0,c?h(c):void o()}let r=!1;const d=this;this._emitter.once("disabled",s),this._emitter.once("destroyed",s),this._group.bucket.removeTokens(a,s)})}_areBothEnabled(){return this._enabled&&this._group.getEnabled()}async _processChunk(a,o){if(!this._areBothEnabled())return o(null,a);let h=0,s=this._group.getChunksize(),r=a.slice(h,h+s);for(;0<r.length;){if(this._areBothEnabled())try{for(;this._group.getRate()===0&&!this._destroyed&&this._areBothEnabled();)if(await E(1e3),this._destroyed)return;if(this._areBothEnabled()&&!this._group.bucket.tryRemoveTokens(r.length)&&(await this._waitForTokens(r.length),this._destroyed))return}catch(d){return o(d)}this.push(r),h+=s,s=this._areBothEnabled()?this._group.getChunksize():a.length-h,r=a.slice(h,h+s)}return o()}destroy(...a){this._group._removeThrottle(this),this._destroyed=!0,this._emitter.emit("destroyed"),super.destroy(...a)}}V.exports=y;const i=x("./throttle-group")},{"./throttle-group":251,"./utils":253,events:122,streamx:263}],253:[function(x,V,O){function g(C){return new Promise(E=>setTimeout(E,C))}V.exports={wait:g}},{}],254:[function(x,V,O){var g=1,C=65535,E=4,y=function(){g=g+1&C},i;V.exports=function(m){i||(i=setInterval(y,0|1e3/E),i.unref&&i.unref());var a=E*(m||5),o=[0],h=1,s=g-1&C;return function(r){var d=g-s&C;for(d>a&&(d=a),s=g;d--;)h===a&&(h=0),o[h]=o[h===0?a-1:h-1],h++;r&&(o[h-1]+=r);var c=o[h-1],f=o.length<a?0:o[h===a?0:h];return o.length<E?c:(c-f)*E/o.length}}},{}],255:[function(x,V,O){function g(){C.call(this)}V.exports=g;var C=x("events").EventEmitter,E=x("inherits");E(g,C),g.Readable=x("readable-stream/lib/_stream_readable.js"),g.Writable=x("readable-stream/lib/_stream_writable.js"),g.Duplex=x("readable-stream/lib/_stream_duplex.js"),g.Transform=x("readable-stream/lib/_stream_transform.js"),g.PassThrough=x("readable-stream/lib/_stream_passthrough.js"),g.finished=x("readable-stream/lib/internal/streams/end-of-stream.js"),g.pipeline=x("readable-stream/lib/internal/streams/pipeline.js"),g.Stream=g,g.prototype.pipe=function(y,i){function m(f){y.writable&&y.write(f)===!1&&d.pause&&d.pause()}function a(){d.readable&&d.resume&&d.resume()}function o(){c||(c=!0,y.end())}function h(){c||(c=!0,typeof y.destroy=="function"&&y.destroy())}function s(f){if(r(),C.listenerCount(this,"error")===0)throw f}function r(){d.removeListener("data",m),y.removeListener("drain",a),d.removeListener("end",o),d.removeListener("close",h),d.removeListener("error",s),y.removeListener("error",s),d.removeListener("end",r),d.removeListener("close",r),y.removeListener("close",r)}var d=this;d.on("data",m),y.on("drain",a),y._isStdio||i&&i.end===!1||(d.on("end",o),d.on("close",h));var c=!1;return d.on("error",s),y.on("error",s),d.on("end",r),d.on("close",r),y.on("close",r),y.emit("pipe",d),y}},{events:122,inherits:146,"readable-stream/lib/_stream_duplex.js":214,"readable-stream/lib/_stream_passthrough.js":215,"readable-stream/lib/_stream_readable.js":216,"readable-stream/lib/_stream_transform.js":217,"readable-stream/lib/_stream_writable.js":218,"readable-stream/lib/internal/streams/end-of-stream.js":222,"readable-stream/lib/internal/streams/pipeline.js":224}],256:[function(x,V,O){(function(g){(function(){var C=x("./lib/request"),E=x("./lib/response"),y=x("xtend"),i=x("builtin-status-codes"),m=x("url"),a=O;a.request=function(o,h){o=typeof o=="string"?m.parse(o):y(o);var s=g.location.protocol.search(/^https?:$/)===-1?"http:":"",r=o.protocol||s,d=o.hostname||o.host,c=o.port,f=o.path||"/";d&&d.indexOf(":")!==-1&&(d="["+d+"]"),o.url=(d?r+"//"+d:"")+(c?":"+c:"")+f,o.method=(o.method||"GET").toUpperCase(),o.headers=o.headers||{};var u=new C(o);return h&&u.on("response",h),u},a.get=function(h,s){var r=a.request(h,s);return r.end(),r},a.ClientRequest=C,a.IncomingMessage=E.IncomingMessage,a.Agent=function(){},a.Agent.defaultMaxSockets=4,a.globalAgent=new a.Agent,a.STATUS_CODES=i,a.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this)}).call(this,typeof ut>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:ut)},{"./lib/request":258,"./lib/response":259,"builtin-status-codes":76,url:273,xtend:280}],257:[function(x,V,O){(function(g){(function(){function C(){if(i!==void 0)return i;if(g.XMLHttpRequest){i=new g.XMLHttpRequest;try{i.open("GET",g.XDomainRequest?"/":"https://example.com")}catch{i=null}}else i=null;return i}function E(m){var a=C();if(!a)return!1;try{return a.responseType=m,a.responseType===m}catch{}return!1}function y(m){return typeof m=="function"}O.fetch=y(g.fetch)&&y(g.ReadableStream),O.writableStream=y(g.WritableStream),O.abortController=y(g.AbortController);var i;O.arraybuffer=O.fetch||E("arraybuffer"),O.msstream=!O.fetch&&E("ms-stream"),O.mozchunkedarraybuffer=!O.fetch&&E("moz-chunked-arraybuffer"),O.overrideMimeType=O.fetch||!!C()&&y(C().overrideMimeType),i=null}).call(this)}).call(this,typeof ut>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:ut)},{}],258:[function(x,V,O){(function(g,C,E){(function(){function y(f,u){return m.fetch&&u?"fetch":m.mozchunkedarraybuffer?"moz-chunked-arraybuffer":m.msstream?"ms-stream":m.arraybuffer&&f?"arraybuffer":"text"}function i(f){try{var u=f.status;return u!==null&&u!==0}catch{return!1}}var m=x("./capability"),a=x("inherits"),o=x("./response"),h=x("readable-stream"),s=o.IncomingMessage,r=o.readyStates,d=V.exports=function(f){var u=this;h.Writable.call(u),u._opts=f,u._body=[],u._headers={},f.auth&&u.setHeader("Authorization","Basic "+E.from(f.auth).toString("base64")),Object.keys(f.headers).forEach(function(A){u.setHeader(A,f.headers[A])});var k=!0,R;if(f.mode==="disable-fetch"||"requestTimeout"in f&&!m.abortController)k=!1,R=!0;else if(f.mode==="prefer-streaming")R=!1;else if(f.mode==="allow-wrong-content-type")R=!m.overrideMimeType;else if(!f.mode||f.mode==="default"||f.mode==="prefer-fast")R=!0;else throw new Error("Invalid value for opts.mode");u._mode=y(R,k),u._fetchTimer=null,u._socketTimeout=null,u._socketTimer=null,u.on("finish",function(){u._onFinish()})};a(d,h.Writable),d.prototype.setHeader=function(f,u){var k=this,R=f.toLowerCase();c.indexOf(R)!==-1||(k._headers[R]={name:f,value:u})},d.prototype.getHeader=function(f){var u=this._headers[f.toLowerCase()];return u?u.value:null},d.prototype.removeHeader=function(f){var u=this;delete u._headers[f.toLowerCase()]},d.prototype._onFinish=function(){var f=this;if(!f._destroyed){var u=f._opts;"timeout"in u&&u.timeout!==0&&f.setTimeout(u.timeout);var k=f._headers,R=null;u.method!=="GET"&&u.method!=="HEAD"&&(R=new Blob(f._body,{type:(k["content-type"]||{}).value||""}));var A=[];if(Object.keys(k).forEach(function(L){var G=k[L].name,J=k[L].value;Array.isArray(J)?J.forEach(function(se){A.push([G,se])}):A.push([G,J])}),f._mode==="fetch"){var w=null;if(m.abortController){var I=new AbortController;w=I.signal,f._fetchAbortController=I,"requestTimeout"in u&&u.requestTimeout!==0&&(f._fetchTimer=C.setTimeout(function(){f.emit("requestTimeout"),f._fetchAbortController&&f._fetchAbortController.abort()},u.requestTimeout))}C.fetch(f._opts.url,{method:f._opts.method,headers:A,body:R||void 0,mode:"cors",credentials:u.withCredentials?"include":"same-origin",signal:w}).then(function(L){f._fetchResponse=L,f._resetTimers(!1),f._connect()},function(L){f._resetTimers(!0),f._destroyed||f.emit("error",L)})}else{var N=f._xhr=new C.XMLHttpRequest;try{N.open(f._opts.method,f._opts.url,!0)}catch(L){return void g.nextTick(function(){f.emit("error",L)})}"responseType"in N&&(N.responseType=f._mode),"withCredentials"in N&&(N.withCredentials=!!u.withCredentials),f._mode==="text"&&"overrideMimeType"in N&&N.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in u&&(N.timeout=u.requestTimeout,N.ontimeout=function(){f.emit("requestTimeout")}),A.forEach(function(L){N.setRequestHeader(L[0],L[1])}),f._response=null,N.onreadystatechange=function(){switch(N.readyState){case r.LOADING:case r.DONE:f._onXHRProgress()}},f._mode==="moz-chunked-arraybuffer"&&(N.onprogress=function(){f._onXHRProgress()}),N.onerror=function(){f._destroyed||(f._resetTimers(!0),f.emit("error",new Error("XHR error")))};try{N.send(R)}catch(L){return void g.nextTick(function(){f.emit("error",L)})}}}},d.prototype._onXHRProgress=function(){var f=this;f._resetTimers(!1),!i(f._xhr)||f._destroyed||(!f._response&&f._connect(),f._response._onXHRProgress(f._resetTimers.bind(f)))},d.prototype._connect=function(){var f=this;f._destroyed||(f._response=new s(f._xhr,f._fetchResponse,f._mode,f._resetTimers.bind(f)),f._response.on("error",function(u){f.emit("error",u)}),f.emit("response",f._response))},d.prototype._write=function(f,u,k){var R=this;R._body.push(f),k()},d.prototype._resetTimers=function(f){var u=this;C.clearTimeout(u._socketTimer),u._socketTimer=null,f?(C.clearTimeout(u._fetchTimer),u._fetchTimer=null):u._socketTimeout&&(u._socketTimer=C.setTimeout(function(){u.emit("timeout")},u._socketTimeout))},d.prototype.abort=d.prototype.destroy=function(f){var u=this;u._destroyed=!0,u._resetTimers(!0),u._response&&(u._response._destroyed=!0),u._xhr?u._xhr.abort():u._fetchAbortController&&u._fetchAbortController.abort(),f&&u.emit("error",f)},d.prototype.end=function(f,u,k){var R=this;typeof f=="function"&&(k=f,f=void 0),h.Writable.prototype.end.call(R,f,u,k)},d.prototype.setTimeout=function(f,u){var k=this;u&&k.once("timeout",u),k._socketTimeout=f,k._resetTimers(!1)},d.prototype.flushHeaders=function(){},d.prototype.setNoDelay=function(){},d.prototype.setSocketKeepAlive=function(){};var c=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this)}).call(this,x("_process"),typeof ut>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:ut,x("buffer").Buffer)},{"./capability":257,"./response":259,_process:192,buffer:75,inherits:146,"readable-stream":227}],259:[function(x,V,O){(function(g,C,E){(function(){var y=x("./capability"),i=x("inherits"),m=x("readable-stream"),a=O.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},o=O.IncomingMessage=function(h,s,r,d){var c=this;if(m.Readable.call(c),c._mode=r,c.headers={},c.rawHeaders=[],c.trailers={},c.rawTrailers=[],c.on("end",function(){g.nextTick(function(){c.emit("close")})}),r==="fetch"){let I=function(){u.read().then(function(N){if(!c._destroyed)return d(N.done),N.done?void c.push(null):(c.push(E.from(N.value)),void I())}).catch(function(N){d(!0),c._destroyed||c.emit("error",N)})};var w=I;if(c._fetchResponse=s,c.url=s.url,c.statusCode=s.status,c.statusMessage=s.statusText,s.headers.forEach(function(N,L){c.headers[L.toLowerCase()]=N,c.rawHeaders.push(L,N)}),y.writableStream){var f=new WritableStream({write:function(N){return d(!1),new Promise(function(L,G){c._destroyed?G():c.push(E.from(N))?L():c._resumeFetch=L})},close:function(){d(!0),c._destroyed||c.push(null)},abort:function(N){d(!0),c._destroyed||c.emit("error",N)}});try{return void s.body.pipeTo(f).catch(function(N){d(!0),c._destroyed||c.emit("error",N)})}catch{}}var u=s.body.getReader();I()}else{c._xhr=h,c._pos=0,c.url=h.responseURL,c.statusCode=h.status,c.statusMessage=h.statusText;var k=h.getAllResponseHeaders().split(/\r?\n/);if(k.forEach(function(I){var N=I.match(/^([^:]+):\s*(.*)/);if(N){var L=N[1].toLowerCase();L==="set-cookie"?(c.headers[L]===void 0&&(c.headers[L]=[]),c.headers[L].push(N[2])):c.headers[L]===void 0?c.headers[L]=N[2]:c.headers[L]+=", "+N[2],c.rawHeaders.push(N[1],N[2])}}),c._charset="x-user-defined",!y.overrideMimeType){var R=c.rawHeaders["mime-type"];if(R){var A=R.match(/;\s*charset=([^;])(;|$)/);A&&(c._charset=A[1].toLowerCase())}c._charset||(c._charset="utf-8")}}};i(o,m.Readable),o.prototype._read=function(){var h=this,s=h._resumeFetch;s&&(h._resumeFetch=null,s())},o.prototype._onXHRProgress=function(h){var s=this,r=s._xhr,d=null;switch(s._mode){case"text":if(d=r.responseText,d.length>s._pos){var c=d.substr(s._pos);if(s._charset==="x-user-defined"){for(var f=E.alloc(c.length),u=0;u<c.length;u++)f[u]=255&c.charCodeAt(u);s.push(f)}else s.push(c,s._charset);s._pos=d.length}break;case"arraybuffer":if(r.readyState!==a.DONE||!r.response)break;d=r.response,s.push(E.from(new Uint8Array(d)));break;case"moz-chunked-arraybuffer":if(d=r.response,r.readyState!==a.LOADING||!d)break;s.push(E.from(new Uint8Array(d)));break;case"ms-stream":if(d=r.response,r.readyState!==a.LOADING)break;var k=new C.MSStreamReader;k.onprogress=function(){k.result.byteLength>s._pos&&(s.push(E.from(new Uint8Array(k.result.slice(s._pos)))),s._pos=k.result.byteLength)},k.onload=function(){h(!0),s.push(null)},k.readAsArrayBuffer(d)}s._xhr.readyState===a.DONE&&s._mode!=="ms-stream"&&(h(!0),s.push(null))}}).call(this)}).call(this,x("_process"),typeof ut>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:ut,x("buffer").Buffer)},{"./capability":257,_process:192,buffer:75,inherits:146,"readable-stream":227}],260:[function(x,V,O){async function g(E,y){const i=await C(E,y);return URL.createObjectURL(i)}V.exports=g;const C=x("stream-to-blob")},{"stream-to-blob":261}],261:[function(x,V,O){function g(C,E){if(E!=null&&typeof E!="string")throw new Error("Invalid mimetype, expected string.");return new Promise((y,i)=>{const m=[];C.on("data",a=>m.push(a)).once("end",()=>{const a=E==null?new Blob(m):new Blob(m,{type:E});y(a)}).once("error",i)})}/*! stream-to-blob. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */V.exports=g},{}],262:[function(x,V,O){(function(g){(function(){/*! stream-with-known-length-to-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var C=x("once");V.exports=function(y,i,m){m=C(m);var a=g.alloc(i),o=0;y.on("data",function(h){h.copy(a,o),o+=h.length}).on("end",function(){m(null,a)}).on("error",m)}}).call(this)}).call(this,x("buffer").Buffer)},{buffer:75,once:177}],263:[function(x,V,O){function g(){this.stream._duplexState|=U,(this.stream._duplexState&xt)==0?this.updateNextTick():this.drain()}function C(Fe){const le=this.stream;Fe&&le.destroy(Fe),(le._duplexState&He)==0&&(le._duplexState|=Pe,le.emit("finish")),(le._duplexState&mt)===ht&&(le._duplexState|=Y),le._duplexState&=Ne,this.update()}function E(Fe){const le=this.stream;Fe||this.error===N||(Fe=this.error),Fe&&le.emit("error",Fe),le._duplexState|=B,le.emit("close");const Me=le._readableState,Qe=le._writableState;Me!==null&&Me.pipeline!==null&&Me.pipeline.done(le,Fe),Qe!==null&&Qe.pipeline!==null&&Qe.pipeline.done(le,Fe)}function y(Fe){const le=this.stream;Fe&&le.destroy(Fe),le._duplexState&=Ne,(le._duplexState&Ze)===Re&&(le._duplexState&=je,(le._duplexState&Ie)===Ie&&le.emit("drain")),(le._duplexState&ue)==0&&this.update()}function i(Fe){Fe&&this.stream.destroy(Fe),this.stream._duplexState&=Se,(this.stream._duplexState&M)==0&&this.update()}function m(){this.stream._duplexState&=H,this.update()}function a(){this.stream._duplexState&=ct,this.update()}function o(Fe){const le=this.stream;Fe&&le.destroy(Fe),(le._duplexState&Y)==0&&((le._duplexState&St)==0&&(le._duplexState|=T),(le._duplexState&Xe)==0&&(le._duplexState|=oe),le.emit("open")),le._duplexState&=lt,le._writableState!==null&&le._writableState.update(),le._readableState!==null&&le._readableState.update()}function h(Fe,le){le!=null&&this.push(le),this._writableState.afterWrite(Fe)}function s(Fe,le){const Me=this._transformState.afterFinal;return Fe?Me(Fe):(le!=null&&this.push(le),this.push(null),void Me(null))}function r(...Fe){return new Promise((le,Me)=>d(...Fe,Qe=>Qe?Me(Qe):void le()))}function d(Fe,...le){function Me(st,gn,dr,rs){function Gf(){return gn&&st._readableState&&!st._readableState.ended||dr&&st._writableState&&!st._writableState.ended?rs(L):void 0}st.on("error",rs),st.on("close",Gf)}function Qe(st){if(st&&!Gt){Gt=st;for(const gn of tt)gn.destroy(st)}}const tt=Array.isArray(Fe)?[...Fe,...le]:[Fe,...le],wt=tt.length&&typeof tt[tt.length-1]=="function"?tt.pop():null;if(2>tt.length)throw new Error("Pipeline requires at least 2 streams");let at=tt[0],Dt=null,Gt=null;for(let st=1;st<tt.length;st++)Dt=tt[st],f(at)?at.pipe(Dt,Qe):(Me(at,!0,1<st,Qe),at.pipe(Dt)),at=Dt;if(wt){let st=!1;Dt.on("finish",()=>{st=!0}),Dt.on("error",gn=>{Gt=Gt||gn}),Dt.on("close",()=>wt(Gt||(st?null:L)))}return Dt}function c(Fe){return!!Fe._readableState||!!Fe._writableState}function f(Fe){return typeof Fe._duplexState=="number"&&c(Fe)}function u(Fe){return f(Fe)&&Fe.readable}function k(Fe){return typeof Fe=="object"&&Fe!==null&&typeof Fe.byteLength=="number"}function R(Fe){return k(Fe)?Fe.byteLength:1024}function A(){}function w(){this.destroy(new Error("Stream aborted."))}const{EventEmitter:I}=x("events"),N=new Error("Stream was destroyed"),L=new Error("Premature close"),G=x("queue-tick"),J=x("fast-fifo"),se=33554431,ce=1,Y=2,B=4,_=se^ce,p=8,T=16,M=32,F=64,j=128,U=256,K=512,Q=1024,ee=2048,fe=4096,ae=8192,me=16392,he=32768,Se=se^p,Ae=se^T,pe=se^(T|he),ge=se^M,xe=se^he,Ce=se^j,de=se^(F|fe),q=se^K,P=se^(j|U),H=se^me,Z=65536,oe=131072,ue=262144,ve=524288,Re=1048576,Pe=2097152,Ie=4194304,Be=8454144,De=16777216,Ne=se^Z,Le=se^ue,We=se^oe,Ge=se^De,je=se^Re,ot=se^ve,ct=se^Be,ze=p|Z,lt=se^ze,ht=ae|Pe,He=Y|B,rt=He|ce,mt=He|ht,Ve=We&Ae,gt=(Be|me)&lt,vt=ze|gt,Ke=rt|gt,St=rt|K|ae,bt=rt|ae|F,qe=j|U,xt=p|M,kt=p|M|he,Je=T|p,Ct=rt|K|F,Tt=ee|F,Ye=rt|ee|F|fe,Rt=rt|p|K|ae|he,At=He|K|ae,Xe=rt|De|Pe,It=ve|Re,yt=ve|Z,Ze=ve|Re|rt|Z,_t=rt|Z|ve,ye=oe|Z,te=Z|ue,re=rt|De|yt|Pe,ne=Re|He|De|Pe,we=Symbol.asyncIterator||Symbol("asyncIterator");class un{constructor(le,{highWaterMark:Me=16384,map:Qe=null,mapWritable:tt,byteLength:wt,byteLengthWritable:at}={}){this.stream=le,this.queue=new J,this.highWaterMark=Me,this.buffered=0,this.error=null,this.pipeline=null,this.byteLength=at||wt||R,this.map=tt||Qe,this.afterWrite=y.bind(this),this.afterUpdateNextTick=a.bind(this)}get ended(){return(this.stream._duplexState&Pe)!=0}push(le){return this.map!==null&&(le=this.map(le)),this.buffered+=this.byteLength(le),this.queue.push(le),this.buffered<this.highWaterMark?(this.stream._duplexState|=ve,!0):(this.stream._duplexState|=It,!1)}shift(){const le=this.queue.shift(),Me=this.stream;return this.buffered-=this.byteLength(le),this.buffered===0&&(Me._duplexState&=ot),le}end(le){typeof le=="function"?this.stream.once("finish",le):le!=null&&this.push(le),this.stream._duplexState=(this.stream._duplexState|De)&We}autoBatch(le,Me){const Qe=[],tt=this.stream;for(Qe.push(le);(tt._duplexState&_t)===yt;)Qe.push(tt._writableState.shift());return(tt._duplexState&rt)==0?void tt._writev(Qe,Me):Me(null)}update(){const le=this.stream;for(;(le._duplexState&_t)===ve;){const Me=this.shift();le._duplexState|=te,le._write(Me,this.afterWrite),le._duplexState&=Le}(le._duplexState&ye)==0&&this.updateNonPrimary()}updateNonPrimary(){const le=this.stream;return(le._duplexState&re)===De?(le._duplexState=(le._duplexState|Z)&Ge,void le._final(C.bind(this))):(le._duplexState&He)===Y?void((le._duplexState&vt)==0&&(le._duplexState|=ze,le._destroy(E.bind(this)))):void((le._duplexState&Ke)===ce&&(le._duplexState=(le._duplexState|ze)&_,le._open(o.bind(this))))}updateNextTick(){(this.stream._duplexState&Be)!=0||(this.stream._duplexState|=Be,G(this.afterUpdateNextTick))}}class kn{constructor(le,{highWaterMark:Me=16384,map:Qe=null,mapReadable:tt,byteLength:wt,byteLengthReadable:at}={}){this.stream=le,this.queue=new J,this.highWaterMark=Me,this.buffered=0,this.error=null,this.pipeline=null,this.byteLength=at||wt||R,this.map=tt||Qe,this.pipeTo=null,this.afterRead=i.bind(this),this.afterUpdateNextTick=m.bind(this)}get ended(){return(this.stream._duplexState&ae)!=0}pipe(le,Me){if(this.pipeTo!==null)throw new Error("Can only pipe to one destination");if(typeof Me!="function"&&(Me=null),this.stream._duplexState|=U,this.pipeTo=le,this.pipeline=new Tn(this.stream,le,Me),Me&&this.stream.on("error",A),f(le))le._writableState.pipeline=this.pipeline,Me&&le.on("error",A),le.on("finish",this.pipeline.finished.bind(this.pipeline));else{const Qe=this.pipeline.done.bind(this.pipeline,le),tt=this.pipeline.done.bind(this.pipeline,le,null);le.on("error",Qe),le.on("close",tt),le.on("finish",this.pipeline.finished.bind(this.pipeline))}le.on("drain",g.bind(this)),this.stream.emit("piping",le),le.emit("pipe",this.stream)}push(le){const Me=this.stream;return le===null?(this.highWaterMark=0,Me._duplexState=(Me._duplexState|K)&pe,!1):(this.map!==null&&(le=this.map(le)),this.buffered+=this.byteLength(le),this.queue.push(le),Me._duplexState=(Me._duplexState|F)&xe,this.buffered<this.highWaterMark)}shift(){const le=this.queue.shift();return this.buffered-=this.byteLength(le),this.buffered===0&&(this.stream._duplexState&=de),le}unshift(le){let Me;const Qe=[];for(;(Me=this.queue.shift())!==void 0;)Qe.push(Me);this.push(le);for(let tt=0;tt<Qe.length;tt++)this.queue.push(Qe[tt])}read(){const le=this.stream;if((le._duplexState&bt)===F){const Me=this.shift();return this.pipeTo!==null&&this.pipeTo.write(Me)===!1&&(le._duplexState&=P),(le._duplexState&Q)!=0&&le.emit("data",Me),Me}return null}drain(){for(const le=this.stream;(le._duplexState&bt)===F&&(le._duplexState&qe)!=0;){const Me=this.shift();this.pipeTo!==null&&this.pipeTo.write(Me)===!1&&(le._duplexState&=P),(le._duplexState&Q)!=0&&le.emit("data",Me)}}update(){const le=this.stream;for(this.drain();this.buffered<this.highWaterMark&&(le._duplexState&Rt)==0;)le._duplexState|=kt,le._read(this.afterRead),le._duplexState&=ge,(le._duplexState&p)==0&&this.drain();(le._duplexState&Ye)===Tt&&(le._duplexState|=fe,le.emit("readable")),(le._duplexState&Je)==0&&this.updateNonPrimary()}updateNonPrimary(){const le=this.stream;return(le._duplexState&Ct)===K&&(le._duplexState=(le._duplexState|ae)&q,le.emit("end"),(le._duplexState&mt)===ht&&(le._duplexState|=Y),this.pipeTo!==null&&this.pipeTo.end()),(le._duplexState&He)===Y?void((le._duplexState&vt)==0&&(le._duplexState|=ze,le._destroy(E.bind(this)))):void((le._duplexState&Ke)===ce&&(le._duplexState=(le._duplexState|ze)&_,le._open(o.bind(this))))}updateNextTick(){(this.stream._duplexState&me)!=0||(this.stream._duplexState|=me,G(this.afterUpdateNextTick))}}class Cn{constructor(le){this.data=null,this.afterTransform=h.bind(le),this.afterFinal=null}}class Tn{constructor(le,Me,Qe){this.from=le,this.to=Me,this.afterPipe=Qe,this.error=null,this.pipeToFinished=!1}finished(){this.pipeToFinished=!0}done(le,Me){return Me&&(this.error=Me),le===this.to&&(this.to=null,this.from!==null)?void((this.from._duplexState&ae)!=0&&this.pipeToFinished||this.from.destroy(this.error||new Error("Writable stream closed prematurely"))):le===this.from&&(this.from=null,this.to!==null)?void((le._duplexState&ae)==0&&this.to.destroy(this.error||new Error("Readable stream closed before ending"))):(this.afterPipe!==null&&this.afterPipe(this.error),void(this.to=this.from=this.afterPipe=null))}}class sn extends I{constructor(le){super(),this._duplexState=0,this._readableState=null,this._writableState=null,le&&(le.open&&(this._open=le.open),le.destroy&&(this._destroy=le.destroy),le.predestroy&&(this._predestroy=le.predestroy),le.signal&&le.signal.addEventListener("abort",w.bind(this)))}_open(le){le(null)}_destroy(le){le(null)}_predestroy(){}get readable(){return this._readableState!==null||void 0}get writable(){return this._writableState!==null||void 0}get destroyed(){return(this._duplexState&B)!=0}get destroying(){return(this._duplexState&He)!=0}destroy(le){(this._duplexState&He)==0&&(!le&&(le=N),this._duplexState=(this._duplexState|Y)&Ve,this._readableState!==null&&(this._readableState.error=le,this._readableState.updateNextTick()),this._writableState!==null&&(this._writableState.error=le,this._writableState.updateNextTick()),this._predestroy())}on(le,Me){return this._readableState!==null&&(le==="data"&&(this._duplexState|=Q|j,this._readableState.updateNextTick()),le==="readable"&&(this._duplexState|=ee,this._readableState.updateNextTick())),this._writableState!==null&&le==="drain"&&(this._duplexState|=Ie,this._writableState.updateNextTick()),super.on(le,Me)}}class Qt extends sn{constructor(le){super(le),this._duplexState|=ce|Pe,this._readableState=new kn(this,le),le&&(le.read&&(this._read=le.read),le.eagerOpen&&this.resume().pause())}_read(le){le(null)}pipe(le,Me){return this._readableState.pipe(le,Me),this._readableState.updateNextTick(),le}read(){return this._readableState.updateNextTick(),this._readableState.read()}push(le){return this._readableState.updateNextTick(),this._readableState.push(le)}unshift(le){return this._readableState.updateNextTick(),this._readableState.unshift(le)}resume(){return this._duplexState|=j,this._readableState.updateNextTick(),this}pause(){return this._duplexState&=Ce,this}static _fromAsyncIterator(le,Me){function Qe(at){at.done?wt.push(null):wt.push(at.value)}let tt;const wt=new Qt({...Me,read(at){le.next().then(Qe).then(at.bind(null,null)).catch(at)},predestroy(){tt=le.return()},destroy(at){return tt?void tt.then(at.bind(null,null)).catch(at):at(null)}});return wt}static from(le,Me){if(u(le))return le;if(le[we])return this._fromAsyncIterator(le[we](),Me);Array.isArray(le)||(le=le===void 0?[]:[le]);let Qe=0;return new Qt({...Me,read(tt){this.push(Qe===le.length?null:le[Qe++]),tt(null)}})}static isBackpressured(le){return(le._duplexState&At)!=0||le._readableState.buffered>=le._readableState.highWaterMark}static isPaused(le){return(le._duplexState&j)==0}[we](){function le(){Dt!==null&&Qe(wt.read())}function Me(){Dt!==null&&Qe(null)}function Qe(st){Gt===null||(at?Gt(at):st===null&&(wt._duplexState&ae)==0?Gt(N):Dt({value:st,done:st==null}),Gt=Dt=null)}function tt(st){return wt.destroy(st),new Promise((gn,dr)=>wt._duplexState&B?gn({value:void 0,done:!0}):void wt.once("close",function(){st?dr(st):gn({value:void 0,done:!0})}))}const wt=this;let at=null,Dt=null,Gt=null;return this.on("error",st=>{at=st}),this.on("readable",le),this.on("close",Me),{[we](){return this},next(){return new Promise(function(st,gn){Dt=st,Gt=gn;const dr=wt.read();dr===null?(wt._duplexState&B)!=0&&Qe(null):Qe(dr)})},return(){return tt(null)},throw(st){return tt(st)}}}}class Rn extends sn{constructor(le){super(le),this._duplexState|=ce|ae,this._writableState=new un(this,le),le&&(le.writev&&(this._writev=le.writev),le.write&&(this._write=le.write),le.final&&(this._final=le.final))}_writev(le,Me){Me(null)}_write(le,Me){this._writableState.autoBatch(le,Me)}_final(le){le(null)}static isBackpressured(le){return(le._duplexState&ne)!=0}write(le){return this._writableState.updateNextTick(),this._writableState.push(le)}end(le){return this._writableState.updateNextTick(),this._writableState.end(le),this}}class pn extends Qt{constructor(le){super(le),this._duplexState=ce,this._writableState=new un(this,le),le&&(le.writev&&(this._writev=le.writev),le.write&&(this._write=le.write),le.final&&(this._final=le.final))}_writev(le,Me){Me(null)}_write(le,Me){this._writableState.autoBatch(le,Me)}_final(le){le(null)}write(le){return this._writableState.updateNextTick(),this._writableState.push(le)}end(le){return this._writableState.updateNextTick(),this._writableState.end(le),this}}class mn extends pn{constructor(le){super(le),this._transformState=new Cn(this),le&&(le.transform&&(this._transform=le.transform),le.flush&&(this._flush=le.flush))}_write(le,Me){this._readableState.buffered>=this._readableState.highWaterMark?this._transformState.data=le:this._transform(le,this._transformState.afterTransform)}_read(le){if(this._transformState.data!==null){const Me=this._transformState.data;this._transformState.data=null,le(null),this._transform(Me,this._transformState.afterTransform)}else le(null)}_transform(le,Me){Me(null,le)}_flush(le){le(null)}_final(le){this._transformState.afterFinal=le,this._flush(s.bind(this))}}class An extends mn{}V.exports={pipeline:d,pipelinePromise:r,isStream:c,isStreamx:f,Stream:sn,Writable:Rn,Readable:Qt,Duplex:pn,Transform:mn,PassThrough:An}},{events:122,"fast-fifo":126,"queue-tick":206}],264:[function(x,V,O){arguments[4][70][0].apply(O,arguments)},{dup:70,"safe-buffer":234}],265:[function(x,V,O){var g=x("./thirty-two");O.encode=g.encode,O.decode=g.decode},{"./thirty-two":266}],266:[function(x,V,O){(function(g){(function(){function C(y){var i=D(y.length/5);return y.length%5==0?i:i+1}var E=[255,255,26,27,28,29,30,31,255,255,255,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255];O.encode=function(y){g.isBuffer(y)||(y=new g(y));for(var i=0,m=0,a=0,o=0,h=new g(8*C(y));i<y.length;){var s=y[i];3<a?(o=s&255>>a,a=(a+5)%8,o=o<<a|(i+1<y.length?y[i+1]:0)>>8-a,i++):(o=31&s>>8-(a+5),a=(a+5)%8,a===0&&i++),h[m]="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567".charCodeAt(o),m++}for(i=m;i<h.length;i++)h[i]=61;return h},O.decode=function(y){var i=0,m=0,a=0,o;g.isBuffer(y)||(y=new g(y));for(var h=new g(Ee(5*y.length/8)),s=0;s<y.length&&y[s]!==61;s++){var r=y[s]-48;if(r<E.length)m=E[r],3>=i?(i=(i+5)%8,i===0?(o|=m,h[a]=o,a++,o=0):o|=255&m<<8-i):(i=(i+5)%8,o|=255&m>>>i,h[a]=o,a++,o=255&m<<8-i);else throw new Error("Invalid input - it is not base32 encoded string")}return h.slice(0,a)}}).call(this)}).call(this,x("buffer").Buffer)},{buffer:75}],267:[function(x,V,O){function g(i){return 65535&(+Date.now()-i)/y}const C=65535,E=10,y=1e3/E;V.exports=function(i){const m=+Date.now(),a=E*(i||5),o=[0];let h=1,s=g(m)-1&C;return function(r){const d=g(m);let c=d-s&C;for(c>a&&(c=a),s=d;c--;)h===a&&(h=0),o[h]=o[h===0?a-1:h-1],h++;r&&(o[h-1]+=r);const f=o[h-1],u=o.length<a?0:o[h===a?0:h];return o.length<E?f:(f-u)*E/o.length}}},{}],268:[function(x,V,O){var g=x("buffer").Buffer;V.exports=function(C){if(C instanceof Uint8Array){if(C.byteOffset===0&&C.byteLength===C.buffer.byteLength)return C.buffer;if(typeof C.buffer.slice=="function")return C.buffer.slice(C.byteOffset,C.byteOffset+C.byteLength)}if(g.isBuffer(C)){for(var E=new Uint8Array(C.length),y=C.length,i=0;i<y;i++)E[i]=C[i];return E.buffer}throw new Error("Argument must be a Buffer")}},{buffer:75}],269:[function(x,V,O){(function(g){(function(){/*! torrent-discovery. MIT License. WebTorrent LLC <https://webtorrent.io/opensource> */const C=x("debug")("torrent-discovery"),E=x("bittorrent-dht/client"),y=x("events").EventEmitter,i=x("run-parallel"),m=x("bittorrent-tracker/client"),a=x("bittorrent-lsd");class o extends y{constructor(s){if(super(),!s.peerId)throw new Error("Option `peerId` is required");if(!s.infoHash)throw new Error("Option `infoHash` is required");if(!g.browser&&!s.port)throw new Error("Option `port` is required");this.peerId=typeof s.peerId=="string"?s.peerId:s.peerId.toString("hex"),this.infoHash=typeof s.infoHash=="string"?s.infoHash.toLowerCase():s.infoHash.toString("hex"),this._port=s.port,this._userAgent=s.userAgent,this.destroyed=!1,this._announce=s.announce||[],this._intervalMs=s.intervalMs||9e5,this._trackerOpts=null,this._dhtAnnouncing=!1,this._dhtTimeout=!1,this._internalDHT=!1,this._onWarning=d=>{this.emit("warning",d)},this._onError=d=>{this.emit("error",d)},this._onDHTPeer=(d,c)=>{c.toString("hex")!==this.infoHash||this.emit("peer",`${d.host}:${d.port}`,"dht")},this._onTrackerPeer=d=>{this.emit("peer",d,"tracker")},this._onTrackerAnnounce=()=>{this.emit("trackerAnnounce")},this._onLSDPeer=(d,c)=>{this.emit("peer",d,"lsd")};const r=(d,c)=>{const f=new E(c);return f.on("warning",this._onWarning),f.on("error",this._onError),f.listen(d),this._internalDHT=!0,f};s.tracker===!1?this.tracker=null:s.tracker&&typeof s.tracker=="object"?(this._trackerOpts=Object.assign({},s.tracker),this.tracker=this._createTracker()):this.tracker=this._createTracker(),this.dht=s.dht===!1||typeof E!="function"?null:s.dht&&typeof s.dht.addNode=="function"?s.dht:s.dht&&typeof s.dht=="object"?r(s.dhtPort,s.dht):r(s.dhtPort),this.dht&&(this.dht.on("peer",this._onDHTPeer),this._dhtAnnounce()),this.lsd=s.lsd===!1||typeof a!="function"?null:this._createLSD()}updatePort(s){s===this._port||(this._port=s,this.dht&&this._dhtAnnounce(),this.tracker&&(this.tracker.stop(),this.tracker.destroy(()=>{this.tracker=this._createTracker()})))}complete(s){this.tracker&&this.tracker.complete(s)}destroy(s){if(!this.destroyed){this.destroyed=!0,clearTimeout(this._dhtTimeout);const r=[];this.tracker&&(this.tracker.stop(),this.tracker.removeListener("warning",this._onWarning),this.tracker.removeListener("error",this._onError),this.tracker.removeListener("peer",this._onTrackerPeer),this.tracker.removeListener("update",this._onTrackerAnnounce),r.push(d=>{this.tracker.destroy(d)})),this.dht&&this.dht.removeListener("peer",this._onDHTPeer),this._internalDHT&&(this.dht.removeListener("warning",this._onWarning),this.dht.removeListener("error",this._onError),r.push(d=>{this.dht.destroy(d)})),this.lsd&&(this.lsd.removeListener("warning",this._onWarning),this.lsd.removeListener("error",this._onError),this.lsd.removeListener("peer",this._onLSDPeer),r.push(d=>{this.lsd.destroy(d)})),i(r,s),this.dht=null,this.tracker=null,this.lsd=null,this._announce=null}}_createTracker(){const s=Object.assign({},this._trackerOpts,{infoHash:this.infoHash,announce:this._announce,peerId:this.peerId,port:this._port,userAgent:this._userAgent}),r=new m(s);return r.on("warning",this._onWarning),r.on("error",this._onError),r.on("peer",this._onTrackerPeer),r.on("update",this._onTrackerAnnounce),r.setInterval(this._intervalMs),r.start(),r}_dhtAnnounce(){this._dhtAnnouncing||(C("dht announce"),this._dhtAnnouncing=!0,clearTimeout(this._dhtTimeout),this.dht.announce(this.infoHash,this._port,s=>{this._dhtAnnouncing=!1,C("dht announce complete"),s&&this.emit("warning",s),this.emit("dhtAnnounce"),this.destroyed||(this._dhtTimeout=setTimeout(()=>{this._dhtAnnounce()},this._intervalMs+D(Math.random()*this._intervalMs/5)),this._dhtTimeout.unref&&this._dhtTimeout.unref())}))}_createLSD(){const s=Object.assign({},{infoHash:this.infoHash,peerId:this.peerId,port:this._port}),r=new a(s);return r.on("warning",this._onWarning),r.on("error",this._onError),r.on("peer",this._onLSDPeer),r.start(),r}}V.exports=o}).call(this)}).call(this,x("_process"))},{_process:192,"bittorrent-dht/client":41,"bittorrent-lsd":41,"bittorrent-tracker/client":33,debug:90,events:122,"run-parallel":232}],270:[function(x,V,O){(function(g){(function(){/*! torrent-piece. MIT License. WebTorrent LLC <https://webtorrent.io/opensource> */class E{constructor(i){this.length=i,this.missing=i,this.sources=null,this._chunks=Ee(i/16384),this._remainder=i%16384||16384,this._buffered=0,this._buffer=null,this._cancellations=null,this._reservations=0,this._flushed=!1}chunkLength(i){return i===this._chunks-1?this._remainder:16384}chunkLengthRemaining(i){return this.length-i*16384}chunkOffset(i){return i*16384}reserve(){return this.init()?this._cancellations.length?this._cancellations.pop():this._reservations<this._chunks?this._reservations++:-1:-1}reserveRemaining(){if(!this.init())return-1;if(this._cancellations.length||this._reservations<this._chunks){let i=this._reservations;for(;this._cancellations.length;)i=ke(i,this._cancellations.pop());return this._reservations=this._chunks,i}return-1}cancel(i){this.init()&&this._cancellations.push(i)}cancelRemaining(i){this.init()&&(this._reservations=i)}get(i){return this.init()?this._buffer[i]:null}set(i,m,a){if(!this.init())return!1;const o=m.length,h=Ee(o/16384);for(let s=0;s<h;s++)if(!this._buffer[i+s]){const r=s*16384,d=m.slice(r,r+16384);this._buffered++,this._buffer[i+s]=d,this.missing-=d.length,this.sources.includes(a)||this.sources.push(a)}return this._buffered===this._chunks}flush(){if(!this._buffer||this._chunks!==this._buffered)return null;const i=g.concat(this._buffer,this.length);return this._buffer=null,this._cancellations=null,this.sources=null,this._flushed=!0,i}init(){return!this._flushed&&(!!this._buffer||(this._buffer=Array(this._chunks),this._cancellations=[],this.sources=[],!0))}}Object.defineProperty(E,"BLOCK_LENGTH",{value:16384}),V.exports=E}).call(this)}).call(this,x("buffer").Buffer)},{buffer:75}],271:[function(x,V,O){var g=x("buffer-alloc"),C=v(2,32);O.encodingLength=function(){return 8},O.encode=function(E,y,i){y||(y=g(8)),i||(i=0);var m=D(E/C),a=E-m*C;return y.writeUInt32BE(m,i),y.writeUInt32BE(a,i+4),y},O.decode=function(E,y){y||(y=0);var i=E.readUInt32BE(y),m=E.readUInt32BE(y+4);return i*C+m},O.encode.bytes=8,O.decode.bytes=8},{"buffer-alloc":72}],272:[function(x,V,O){function g(C,E){if(!(E>=C.length||0>E)){var y=C.pop();if(E<C.length){var i=C[E];return C[E]=y,i}return y}}V.exports=g},{}],273:[function(x,V,O){function g(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function C(L,G,J){if(L&&a.isObject(L)&&L instanceof g)return L;var se=new g;return se.parse(L,G,J),se}function E(L){return a.isString(L)&&(L=C(L)),L instanceof g?L.format():g.prototype.format.call(L)}function y(L,G){return C(L,!1,!0).resolve(G)}function i(L,G){return L?C(L,!1,!0).resolveObject(G):G}var m=x("punycode"),a=x("./util");O.parse=C,O.resolve=y,O.resolveObject=i,O.format=E,O.Url=g;var o=/^([a-z0-9.+-]+:)/i,h=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,r=["<",">",'"',"`"," ","\r",`
`,"	"],d=["{","}","|","\\","^","`"].concat(r),c=["'"].concat(d),f=["%","/","?",";","#"].concat(c),u=["/","?","#"],k=/^[+a-z0-9A-Z_-]{0,63}$/,R=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,A={javascript:!0,"javascript:":!0},w={javascript:!0,"javascript:":!0},I={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},N=x("querystring");g.prototype.parse=function(L,G,J){if(!a.isString(L))throw new TypeError("Parameter 'url' must be a string, not "+typeof L);var se=L.indexOf("?"),ce=se!==-1&&se<L.indexOf("#")?"?":"#",Y=L.split(ce),B=/\\/g;Y[0]=Y[0].replace(B,"/"),L=Y.join(ce);var _=L;if(_=_.trim(),!J&&L.split("#").length===1){var p=s.exec(_);if(p)return this.path=_,this.href=_,this.pathname=p[1],p[2]?(this.search=p[2],this.query=G?N.parse(this.search.substr(1)):this.search.substr(1)):G&&(this.search="",this.query={}),this}var T=o.exec(_);if(T){T=T[0];var M=T.toLowerCase();this.protocol=M,_=_.substr(T.length)}if(J||T||_.match(/^\/\/[^@\/]+@[^@\/]+/)){var F=_.substr(0,2)==="//";F&&!(T&&w[T])&&(_=_.substr(2),this.slashes=!0)}if(!w[T]&&(F||T&&!I[T])){for(var j=-1,U=0,K;U<u.length;U++)K=_.indexOf(u[U]),K!==-1&&(j===-1||K<j)&&(j=K);var Q,ee;ee=j===-1?_.lastIndexOf("@"):_.lastIndexOf("@",j),ee!==-1&&(Q=_.slice(0,ee),_=_.slice(ee+1),this.auth=decodeURIComponent(Q)),j=-1;for(var U=0,K;U<f.length;U++)K=_.indexOf(f[U]),K!==-1&&(j===-1||K<j)&&(j=K);j===-1&&(j=_.length),this.host=_.slice(0,j),_=_.slice(j),this.parseHost(),this.hostname=this.hostname||"";var fe=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!fe){for(var ae=this.hostname.split(/\./),U=0,me=ae.length,he;U<me;U++)if(he=ae[U],he&&!he.match(k)){for(var Se="",Ae=0,pe=he.length;Ae<pe;Ae++)Se+=127<he.charCodeAt(Ae)?"x":he[Ae];if(!Se.match(k)){var ge=ae.slice(0,U),xe=ae.slice(U+1),Ce=he.match(R);Ce&&(ge.push(Ce[1]),xe.unshift(Ce[2])),xe.length&&(_="/"+xe.join(".")+_),this.hostname=ge.join(".");break}}}this.hostname=255<this.hostname.length?"":this.hostname.toLowerCase(),fe||(this.hostname=m.toASCII(this.hostname));var de=this.port?":"+this.port:"",q=this.hostname||"";this.host=q+de,this.href+=this.host,fe&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),_[0]!=="/"&&(_="/"+_))}if(!A[M]){for(var U=0,me=c.length,P;U<me;U++)if(P=c[U],_.indexOf(P)!==-1){var H=encodeURIComponent(P);H===P&&(H=escape(P)),_=_.split(P).join(H)}}var Z=_.indexOf("#");Z!==-1&&(this.hash=_.substr(Z),_=_.slice(0,Z));var oe=_.indexOf("?");if(oe===-1?G&&(this.search="",this.query={}):(this.search=_.substr(oe),this.query=_.substr(oe+1),G&&(this.query=N.parse(this.query)),_=_.slice(0,oe)),_&&(this.pathname=_),I[M]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var de=this.pathname||"",ue=this.search||"";this.path=de+ue}return this.href=this.format(),this},g.prototype.format=function(){var L=this.auth||"";L&&(L=encodeURIComponent(L),L=L.replace(/%3A/i,":"),L+="@");var G=this.protocol||"",J=this.pathname||"",se=this.hash||"",ce=!1,Y="";this.host?ce=L+this.host:this.hostname&&(ce=L+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(ce+=":"+this.port)),this.query&&a.isObject(this.query)&&Object.keys(this.query).length&&(Y=N.stringify(this.query));var B=this.search||Y&&"?"+Y||"";return G&&G.substr(-1)!==":"&&(G+=":"),this.slashes||(!G||I[G])&&ce!==!1?(ce="//"+(ce||""),J&&J.charAt(0)!=="/"&&(J="/"+J)):!ce&&(ce=""),se&&se.charAt(0)!=="#"&&(se="#"+se),B&&B.charAt(0)!=="?"&&(B="?"+B),J=J.replace(/[?#]/g,function(_){return encodeURIComponent(_)}),B=B.replace("#","%23"),G+ce+J+B+se},g.prototype.resolve=function(L){return this.resolveObject(C(L,!1,!0)).format()},g.prototype.resolveObject=function(L){if(a.isString(L)){var G=new g;G.parse(L,!1,!0),L=G}for(var J=new g,se=Object.keys(this),ce=0,Y;ce<se.length;ce++)Y=se[ce],J[Y]=this[Y];if(J.hash=L.hash,L.href==="")return J.href=J.format(),J;if(L.slashes&&!L.protocol){for(var B=Object.keys(L),_=0,p;_<B.length;_++)p=B[_],p!=="protocol"&&(J[p]=L[p]);return I[J.protocol]&&J.hostname&&!J.pathname&&(J.path=J.pathname="/"),J.href=J.format(),J}if(L.protocol&&L.protocol!==J.protocol){if(!I[L.protocol]){for(var T=Object.keys(L),M=0,F;M<T.length;M++)F=T[M],J[F]=L[F];return J.href=J.format(),J}if(J.protocol=L.protocol,!L.host&&!w[L.protocol]){for(var me=(L.pathname||"").split("/");me.length&&!(L.host=me.shift()););L.host||(L.host=""),L.hostname||(L.hostname=""),me[0]!==""&&me.unshift(""),2>me.length&&me.unshift(""),J.pathname=me.join("/")}else J.pathname=L.pathname;if(J.search=L.search,J.query=L.query,J.host=L.host||"",J.auth=L.auth,J.hostname=L.hostname||L.host,J.port=L.port,J.pathname||J.search){var j=J.pathname||"",U=J.search||"";J.path=j+U}return J.slashes=J.slashes||L.slashes,J.href=J.format(),J}var K=J.pathname&&J.pathname.charAt(0)==="/",Q=L.host||L.pathname&&L.pathname.charAt(0)==="/",ee=Q||K||J.host&&L.pathname,fe=ee,ae=J.pathname&&J.pathname.split("/")||[],me=L.pathname&&L.pathname.split("/")||[],he=J.protocol&&!I[J.protocol];if(he&&(J.hostname="",J.port=null,J.host&&(ae[0]===""?ae[0]=J.host:ae.unshift(J.host)),J.host="",L.protocol&&(L.hostname=null,L.port=null,L.host&&(me[0]===""?me[0]=L.host:me.unshift(L.host)),L.host=null),ee=ee&&(me[0]===""||ae[0]==="")),Q)J.host=L.host||L.host===""?L.host:J.host,J.hostname=L.hostname||L.hostname===""?L.hostname:J.hostname,J.search=L.search,J.query=L.query,ae=me;else if(me.length)ae||(ae=[]),ae.pop(),ae=ae.concat(me),J.search=L.search,J.query=L.query;else if(!a.isNullOrUndefined(L.search)){if(he){J.hostname=J.host=ae.shift();var Se=!!(J.host&&0<J.host.indexOf("@"))&&J.host.split("@");Se&&(J.auth=Se.shift(),J.host=J.hostname=Se.shift())}return J.search=L.search,J.query=L.query,a.isNull(J.pathname)&&a.isNull(J.search)||(J.path=(J.pathname?J.pathname:"")+(J.search?J.search:"")),J.href=J.format(),J}if(!ae.length)return J.pathname=null,J.path=J.search?"/"+J.search:null,J.href=J.format(),J;for(var Ae=ae.slice(-1)[0],pe=(J.host||L.host||1<ae.length)&&(Ae==="."||Ae==="..")||Ae==="",ge=0,xe=ae.length;0<=xe;xe--)Ae=ae[xe],Ae==="."?ae.splice(xe,1):Ae===".."?(ae.splice(xe,1),ge++):ge&&(ae.splice(xe,1),ge--);if(!ee&&!fe)for(;ge--;ge)ae.unshift("..");ee&&ae[0]!==""&&(!ae[0]||ae[0].charAt(0)!=="/")&&ae.unshift(""),pe&&ae.join("/").substr(-1)!=="/"&&ae.push("");var Ce=ae[0]===""||ae[0]&&ae[0].charAt(0)==="/";if(he){J.hostname=J.host=Ce?"":ae.length?ae.shift():"";var Se=!!(J.host&&0<J.host.indexOf("@"))&&J.host.split("@");Se&&(J.auth=Se.shift(),J.host=J.hostname=Se.shift())}return ee=ee||J.host&&ae.length,ee&&!Ce&&ae.unshift(""),ae.length?J.pathname=ae.join("/"):(J.pathname=null,J.path=null),a.isNull(J.pathname)&&a.isNull(J.search)||(J.path=(J.pathname?J.pathname:"")+(J.search?J.search:"")),J.auth=L.auth||J.auth,J.slashes=J.slashes||L.slashes,J.href=J.format(),J},g.prototype.parseHost=function(){var L=this.host,G=h.exec(L);G&&(G=G[0],G!==":"&&(this.port=G.substr(1)),L=L.substr(0,L.length-G.length)),L&&(this.hostname=L)}},{"./util":274,punycode:201,querystring:204}],274:[function(x,V,O){V.exports={isString:function(g){return typeof g=="string"},isObject:function(g){return typeof g=="object"&&g!==null},isNull:function(g){return g===null},isNullOrUndefined:function(g){return g==null}}},{}],275:[function(x,V,O){(function(g){(function(){/*! ut_metadata. MIT License. WebTorrent LLC <https://webtorrent.io/opensource> */const{EventEmitter:C}=x("events"),E=x("bencode"),y=x("bitfield").default,i=x("debug")("ut_metadata"),m=x("simple-sha1"),a=1e7,o=1e3,h=16384;V.exports=s=>{class r extends C{constructor(c){super(),this._wire=c,this._fetching=!1,this._metadataComplete=!1,this._metadataSize=null,this._remainingRejects=null,this._bitfield=new y(0,{grow:o}),g.isBuffer(s)&&this.setMetadata(s)}onHandshake(c,f,u){this._infoHash=c}onExtendedHandshake(c){return c.m&&c.m.ut_metadata?c.metadata_size?typeof c.metadata_size!="number"||a<c.metadata_size||0>=c.metadata_size?this.emit("warning",new Error("Peer gave invalid metadata size")):(this._metadataSize=c.metadata_size,this._numPieces=Ee(this._metadataSize/h),this._remainingRejects=2*this._numPieces,void this._requestPieces()):this.emit("warning",new Error("Peer does not have metadata")):this.emit("warning",new Error("Peer does not support ut_metadata"))}onMessage(c){let f,u;try{const k=c.toString(),R=k.indexOf("ee")+2;f=E.decode(k.substring(0,R)),u=c.slice(R)}catch{return}switch(f.msg_type){case 0:this._onRequest(f.piece);break;case 1:this._onData(f.piece,u,f.total_size);break;case 2:this._onReject(f.piece)}}fetch(){this._metadataComplete||(this._fetching=!0,this._metadataSize&&this._requestPieces())}cancel(){this._fetching=!1}setMetadata(c){if(this._metadataComplete)return!0;i("set metadata");try{const f=E.decode(c).info;f&&(c=E.encode(f))}catch{}return!(this._infoHash&&this._infoHash!==m.sync(c))&&(this.cancel(),this.metadata=c,this._metadataComplete=!0,this._metadataSize=this.metadata.length,this._wire.extendedHandshake.metadata_size=this._metadataSize,this.emit("metadata",E.encode({info:E.decode(this.metadata)})),!0)}_send(c,f){let u=E.encode(c);g.isBuffer(f)&&(u=g.concat([u,f])),this._wire.extended("ut_metadata",u)}_request(c){this._send({msg_type:0,piece:c})}_data(c,f,u){const k={msg_type:1,piece:c};typeof u=="number"&&(k.total_size=u),this._send(k,f)}_reject(c){this._send({msg_type:2,piece:c})}_onRequest(c){if(!this._metadataComplete)return void this._reject(c);const f=c*h;let u=f+h;u>this._metadataSize&&(u=this._metadataSize);const k=this.metadata.slice(f,u);this._data(c,k,this._metadataSize)}_onData(c,f,u){f.length>h||!this._fetching||(f.copy(this.metadata,c*h),this._bitfield.set(c),this._checkDone())}_onReject(c){0<this._remainingRejects&&this._fetching?(this._request(c),this._remainingRejects-=1):this.emit("warning",new Error('Peer sent "reject" too much'))}_requestPieces(){if(this._fetching){this.metadata=g.alloc(this._metadataSize);for(let c=0;c<this._numPieces;c++)this._request(c)}}_checkDone(){let c=!0;for(let f=0;f<this._numPieces;f++)if(!this._bitfield.get(f)){c=!1;break}c&&(this.setMetadata(this.metadata)||this._failedMetadata())}_failedMetadata(){this._bitfield=new y(0,{grow:o}),this._remainingRejects-=this._numPieces,0<this._remainingRejects?this._requestPieces():this.emit("warning",new Error("Peer sent invalid metadata"))}}return r.prototype.name="ut_metadata",r}}).call(this)}).call(this,x("buffer").Buffer)},{bencode:27,bitfield:31,buffer:75,debug:90,events:122,"simple-sha1":247}],276:[function(x,V,O){(function(g){(function(){function C(y,i){function m(){if(!a){if(E("throwDeprecation"))throw new Error(i);E("traceDeprecation")?console.trace(i):console.warn(i),a=!0}return y.apply(this,arguments)}if(E("noDeprecation"))return y;var a=!1;return m}function E(y){try{if(!g.localStorage)return!1}catch{return!1}var i=g.localStorage[y];return i!=null&&(i+"").toLowerCase()==="true"}V.exports=C}).call(this)}).call(this,typeof ut>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:ut)},{}],277:[function(x,V,O){(function(g){(function(){function C(){return{version:0,flags:0,entries:[]}}const E=x("binary-search"),y=x("events"),i=x("mp4-stream"),m=x("mp4-box-encoding"),a=x("range-slice-stream"),o=4096;class h extends y{constructor(c){super(),this._tracks=[],this._file=c,this._decoder=null,this._findMoov(0)}_findMoov(c){this._decoder&&this._decoder.destroy();let f=0;this._decoder=i.decode();const u=this._file.createReadStream({start:c});u.pipe(this._decoder);const k=R=>{R.type==="moov"?(this._decoder.removeListener("box",k),this._decoder.decode(A=>{u.destroy();try{this._processMoov(A)}catch(w){w.message=`Cannot parse mp4 file: ${w.message}`,this.emit("error",w)}})):R.length<o?(f+=R.length,this._decoder.ignore()):(this._decoder.removeListener("box",k),f+=R.length,u.destroy(),this._decoder.destroy(),this._findMoov(c+f))};this._decoder.on("box",k)}_processMoov(c){const f=c.traks;this._tracks=[],this._hasVideo=!1,this._hasAudio=!1;for(let A=0;A<f.length;A++){const w=f[A],I=w.mdia.minf.stbl,N=I.stsd.entries[0],L=w.mdia.hdlr.handlerType;let G,J;if(L==="vide"&&N.type==="avc1"){if(this._hasVideo)continue;this._hasVideo=!0,G="avc1",N.avcC&&(G+=`.${N.avcC.mimeCodec}`),J=`video/mp4; codecs="${G}"`}else if(L==="soun"&&N.type==="mp4a"){if(this._hasAudio)continue;this._hasAudio=!0,G="mp4a",N.esds&&N.esds.mimeCodec&&(G+=`.${N.esds.mimeCodec}`),J=`audio/mp4; codecs="${G}"`}else continue;const se=[];let ce=0,Y=0,B=0,_=0,p=0,T=0;const M=new s(I.stts.entries);let F=null;I.ctts&&(F=new s(I.ctts.entries));for(let K=0;;){var u=I.stsc.entries[p];const Q=I.stsz.entries[ce],ee=M.value.duration,fe=F?F.value.compositionOffset:0;let ae=!0;I.stss&&(ae=I.stss.entries[K]===ce+1);const me=I.stco||I.co64;if(se.push({size:Q,duration:ee,dts:T,presentationOffset:fe,sync:ae,offset:_+me.entries[B]}),ce++,ce>=I.stsz.entries.length)break;if(Y++,_+=Q,Y>=u.samplesPerChunk){Y=0,_=0,B++;const he=I.stsc.entries[p+1];he&&B+1>=he.firstChunk&&p++}T+=ee,M.inc(),F&&F.inc(),ae&&K++}w.mdia.mdhd.duration=0,w.tkhd.duration=0;const j=u.sampleDescriptionId,U={type:"moov",mvhd:c.mvhd,traks:[{tkhd:w.tkhd,mdia:{mdhd:w.mdia.mdhd,hdlr:w.mdia.hdlr,elng:w.mdia.elng,minf:{vmhd:w.mdia.minf.vmhd,smhd:w.mdia.minf.smhd,dinf:w.mdia.minf.dinf,stbl:{stsd:I.stsd,stts:C(),ctts:C(),stsc:C(),stsz:C(),stco:C(),stss:C()}}}}],mvex:{mehd:{fragmentDuration:c.mvhd.duration},trexs:[{trackId:w.tkhd.trackId,defaultSampleDescriptionIndex:j,defaultSampleDuration:0,defaultSampleSize:0,defaultSampleFlags:0}]}};this._tracks.push({fragmentSequence:1,trackId:w.tkhd.trackId,timeScale:w.mdia.mdhd.timeScale,samples:se,currSample:null,currTime:null,moov:U,mime:J})}if(this._tracks.length===0)return void this.emit("error",new Error("no playable tracks"));c.mvhd.duration=0,this._ftyp={type:"ftyp",brand:"iso5",brandVersion:0,compatibleBrands:["iso5"]};const k=m.encode(this._ftyp),R=this._tracks.map(A=>{const w=m.encode(A.moov);return{mime:A.mime,init:g.concat([k,w])}});this.emit("ready",R)}seek(c){if(!this._tracks)throw new Error("Not ready yet; wait for 'ready' event");this._fileStream&&(this._fileStream.destroy(),this._fileStream=null);let f=-1;if(this._tracks.map((u,k)=>{u.outStream&&u.outStream.destroy(),u.inStream&&(u.inStream.destroy(),u.inStream=null);const R=u.outStream=i.encode(),A=this._generateFragment(k,c);if(!A)return R.finalize();(f===-1||A.ranges[0].start<f)&&(f=A.ranges[0].start);const w=I=>{R.destroyed||R.box(I.moof,N=>{if(N)return this.emit("error",N);R.destroyed||u.inStream.slice(I.ranges).pipe(R.mediaData(I.length,G=>{if(G)return this.emit("error",G);if(!R.destroyed){const J=this._generateFragment(k);return J?void w(J):R.finalize()}}))})};w(A)}),0<=f){const u=this._fileStream=this._file.createReadStream({start:f});this._tracks.forEach(k=>{k.inStream=new a(f,{highWaterMark:1e7}),u.pipe(k.inStream)})}return this._tracks.map(u=>u.outStream)}_findSampleBefore(c,f){const u=this._tracks[c],k=D(u.timeScale*f);let R=E(u.samples,k,(A,w)=>A.dts+A.presentationOffset-w);for(R===-1?R=0:0>R&&(R=-R-2);!u.samples[R].sync;)R--;return R}_generateFragment(c,f){const u=this._tracks[c];let k;if(k=f===void 0?u.currSample:this._findSampleBefore(c,f),k>=u.samples.length)return null;const R=u.samples[k].dts;let A=0;const w=[];for(var I=k;I<u.samples.length;I++){const N=u.samples[I];if(N.sync&&N.dts-R>=u.timeScale*r)break;A+=N.size;const L=w.length-1;0>L||w[L].end!==N.offset?w.push({start:N.offset,end:N.offset+N.size}):w[L].end+=N.size}return u.currSample=I,{moof:this._generateMoof(c,k,I),ranges:w,length:A}}_generateMoof(c,f,u){const k=this._tracks[c],R=[];let A=0;for(let I=f;I<u;I++){const N=k.samples[I];0>N.presentationOffset&&(A=1),R.push({sampleDuration:N.duration,sampleSize:N.size,sampleFlags:N.sync?33554432:16842752,sampleCompositionTimeOffset:N.presentationOffset})}const w={type:"moof",mfhd:{sequenceNumber:k.fragmentSequence++},trafs:[{tfhd:{flags:131072,trackId:k.trackId},tfdt:{baseMediaDecodeTime:k.samples[f].dts},trun:{flags:3841,dataOffset:8,entries:R,version:A}}]};return w.trafs[0].trun.dataOffset+=m.encodingLength(w),w}}class s{constructor(c,f){this._entries=c,this._countName=f||"count",this._index=0,this._offset=0,this.value=this._entries[0]}inc(){this._offset++,this._offset>=this._entries[this._index][this._countName]&&(this._index++,this._offset=0),this.value=this._entries[this._index]}}const r=1;V.exports=h}).call(this)}).call(this,x("buffer").Buffer)},{"binary-search":30,buffer:75,events:122,"mp4-box-encoding":171,"mp4-stream":174,"range-slice-stream":211}],278:[function(x,V,O){function g(i,m,a={}){return this instanceof g?(this.detailedError=null,this._elem=m,this._elemWrapper=new C(m),this._waitingFired=!1,this._trackMeta=null,this._file=i,this._tracks=null,this._elem.preload!=="none"&&this._createMuxer(),this._onError=()=>{this.detailedError=this._elemWrapper.detailedError,this.destroy()},this._onWaiting=()=>{this._waitingFired=!0,this._muxer?this._tracks&&this._pump():this._createMuxer()},m.autoplay&&(m.preload="auto"),m.addEventListener("waiting",this._onWaiting),void m.addEventListener("error",this._onError)):(console.warn("Don't invoke VideoStream without the 'new' keyword."),new g(i,m,a))}const C=x("mediasource"),E=x("pump"),y=x("./mp4-remuxer");g.prototype={_createMuxer(){this._muxer=new y(this._file),this._muxer.on("ready",i=>{this._tracks=i.map(m=>{const a=this._elemWrapper.createWriteStream(m.mime);a.on("error",h=>{this._elemWrapper.error(h)});const o={muxed:null,mediaSource:a,initFlushed:!1,onInitFlushed:null};return a.write(m.init,h=>{o.initFlushed=!0,o.onInitFlushed&&o.onInitFlushed(h)}),o}),(this._waitingFired||this._elem.preload==="auto")&&this._pump()}),this._muxer.on("error",i=>{this._elemWrapper.error(i)})},_pump(){const i=this._muxer.seek(this._elem.currentTime,!this._tracks);this._tracks.forEach((m,a)=>{const o=()=>{m.muxed&&(m.muxed.destroy(),m.mediaSource=this._elemWrapper.createWriteStream(m.mediaSource),m.mediaSource.on("error",h=>{this._elemWrapper.error(h)})),m.muxed=i[a],E(m.muxed,m.mediaSource)};m.initFlushed?o():m.onInitFlushed=h=>h?void this._elemWrapper.error(h):void o()})},destroy(){this.destroyed||(this.destroyed=!0,this._elem.removeEventListener("waiting",this._onWaiting),this._elem.removeEventListener("error",this._onError),this._tracks&&this._tracks.forEach(i=>{i.muxed&&i.muxed.destroy()}),this._elem.src="")}},V.exports=g},{"./mp4-remuxer":277,mediasource:159,pump:200}],279:[function(x,V,O){function g(C,E){function y(){for(var i=Array(arguments.length),m=0;m<i.length;m++)i[m]=arguments[m];var a=C.apply(this,i),o=i[i.length-1];return typeof a=="function"&&a!==o&&Object.keys(o).forEach(function(h){a[h]=o[h]}),a}if(C&&E)return g(C)(E);if(typeof C!="function")throw new TypeError("need wrapper function");return Object.keys(C).forEach(function(i){y[i]=C[i]}),y}V.exports=g},{}],280:[function(x,V,O){function g(){for(var E={},y=0,i;y<arguments.length;y++)for(var m in i=arguments[y],i)C.call(i,m)&&(E[m]=i[m]);return E}V.exports=g;var C=Object.prototype.hasOwnProperty},{}],281:[function(x,V,O){V.exports={version:"1.8.30"}},{}],282:[function(x,V,O){(function(g){(function(){function C(ce){return typeof ce=="object"&&ce!=null&&typeof ce.pipe=="function"}function E(ce){return typeof FileList<"u"&&ce instanceof FileList}/*! webtorrent. MIT License. WebTorrent LLC <https://webtorrent.io/opensource> */const y=x("events"),i=x("path"),m=x("simple-concat"),a=x("create-torrent"),o=x("debug"),h=x("bittorrent-dht/client"),s=x("load-ip-set"),r=x("run-parallel"),d=x("parse-torrent"),c=x("simple-peer"),f=x("queue-microtask"),u=x("randombytes"),k=x("simple-sha1"),R=x("throughput"),{ThrottleGroup:A}=x("speed-limiter"),w=x("./lib/conn-pool.js"),I=x("./lib/torrent.js"),{version:N}=x("./package.json"),L=o("webtorrent"),G=N.replace(/\d*./g,ce=>`0${ce%100}`.slice(-2)).slice(0,4),J=`-WW${G}-`;class se extends y{constructor(Y={}){super(),this.peerId=typeof Y.peerId=="string"?Y.peerId:g.isBuffer(Y.peerId)?Y.peerId.toString("hex"):g.from(J+u(9).toString("base64")).toString("hex"),this.peerIdBuffer=g.from(this.peerId,"hex"),this.nodeId=typeof Y.nodeId=="string"?Y.nodeId:g.isBuffer(Y.nodeId)?Y.nodeId.toString("hex"):u(20).toString("hex"),this.nodeIdBuffer=g.from(this.nodeId,"hex"),this._debugId=this.peerId.toString("hex").substring(0,7),this.destroyed=!1,this.listening=!1,this.torrentPort=Y.torrentPort||0,this.dhtPort=Y.dhtPort||0,this.tracker=Y.tracker===void 0?{}:Y.tracker,this.lsd=Y.lsd!==!1,this.torrents=[],this.maxConns=+Y.maxConns||55,this.utp=se.UTP_SUPPORT&&Y.utp!==!1,this._downloadLimit=be(typeof Y.downloadLimit=="number"?Y.downloadLimit:-1,-1),this._uploadLimit=be(typeof Y.uploadLimit=="number"?Y.uploadLimit:-1,-1),this.serviceWorker=null,this.workerKeepAliveInterval=null,this.workerPortCount=0,Y.secure===!0&&x("./lib/peer").enableSecure(),this._debug("new webtorrent (peerId %s, nodeId %s, port %s)",this.peerId,this.nodeId,this.torrentPort),this.throttleGroups={down:new A({rate:be(this._downloadLimit,0),enabled:0<=this._downloadLimit}),up:new A({rate:be(this._uploadLimit,0),enabled:0<=this._uploadLimit})},this.tracker&&(typeof this.tracker!="object"&&(this.tracker={}),globalThis.WRTC&&!this.tracker.wrtc&&(this.tracker.wrtc=globalThis.WRTC)),typeof w=="function"?this._connPool=new w(this):f(()=>{this._onListening()}),this._downloadSpeed=R(),this._uploadSpeed=R(),Y.dht!==!1&&typeof h=="function"?(this.dht=new h(Object.assign({},{nodeId:this.nodeId},Y.dht)),this.dht.once("error",_=>{this._destroy(_)}),this.dht.once("listening",()=>{const _=this.dht.address();_&&(this.dhtPort=_.port)}),this.dht.setMaxListeners(0),this.dht.listen(this.dhtPort)):this.dht=!1,this.enableWebSeeds=Y.webSeeds!==!1;const B=()=>{this.destroyed||(this.ready=!0,this.emit("ready"))};typeof s=="function"&&Y.blocklist!=null?s(Y.blocklist,{headers:{"user-agent":`WebTorrent/${N} (https://webtorrent.io)`}},(_,p)=>_?console.error(`Failed to load blocklist: ${_.message}`):(this.blocked=p,void B())):f(B)}loadWorker(Y,B=()=>{}){if(!(Y instanceof ServiceWorker))throw new Error("Invalid worker registration");if(Y.state!=="activated")throw new Error("Worker isn't activated");const _=2e4;this.serviceWorker=Y,navigator.serviceWorker.addEventListener("message",p=>{const{data:T}=p;if(!T.type||!T.type==="webtorrent"||!T.url)return null;let[M,...F]=T.url.slice(T.url.indexOf(T.scope+"webtorrent/")+11+T.scope.length).split("/");if(F=decodeURI(F.join("/")),!M||!F)return null;const[j]=p.ports,U=this.get(M)&&this.get(M).files.find(me=>me.path===F);if(!U)return null;const[K,Q,ee]=U._serve(T),fe=Q&&Q[Symbol.asyncIterator](),ae=()=>{j.onmessage=null,Q&&Q.destroy(),ee&&ee.destroy(),this.workerPortCount--,this.workerPortCount||(clearInterval(this.workerKeepAliveInterval),this.workerKeepAliveInterval=null)};j.onmessage=async me=>{if(me.data){let he;try{he=(await fe.next()).value}catch{}j.postMessage(he),he||ae(),this.workerKeepAliveInterval||(this.workerKeepAliveInterval=setInterval(()=>fetch(`${this.serviceWorker.scriptURL.slice(0,this.serviceWorker.scriptURL.lastIndexOf("/")+1).slice(window.location.origin.length)}webtorrent/keepalive/`),_))}else ae()},this.workerPortCount++,j.postMessage(K)}),fetch(`${this.serviceWorker.scriptURL.slice(0,this.serviceWorker.scriptURL.lastIndexOf("/")+1).slice(window.location.origin.length)}webtorrent/cancel/`).then(p=>{p.body.cancel()}),B(null,this.serviceWorker)}get downloadSpeed(){return this._downloadSpeed()}get uploadSpeed(){return this._uploadSpeed()}get progress(){const Y=this.torrents.filter(p=>p.progress!==1),B=Y.reduce((p,T)=>p+T.downloaded,0),_=Y.reduce((p,T)=>p+(T.length||0),0)||1;return B/_}get ratio(){const Y=this.torrents.reduce((_,p)=>_+p.uploaded,0),B=this.torrents.reduce((_,p)=>_+p.received,0)||1;return Y/B}get(Y){if(Y instanceof I){if(this.torrents.includes(Y))return Y}else{let B;try{B=d(Y)}catch{}if(!B)return null;if(!B.infoHash)throw new Error("Invalid torrent identifier");for(const _ of this.torrents)if(_.infoHash===B.infoHash)return _}return null}add(Y,B={},_=()=>{}){function p(){F.removeListener("_infoHash",T),F.removeListener("ready",M),F.removeListener("close",p)}if(this.destroyed)throw new Error("client is destroyed");typeof B=="function"&&([B,_]=[{},B]);const T=()=>{if(!this.destroyed){for(const j of this.torrents)if(j.infoHash===F.infoHash&&j!==F)return F._destroy(new Error(`Cannot add duplicate torrent ${F.infoHash}`)),void _(j)}},M=()=>{this.destroyed||(_(F),this.emit("torrent",F))};this._debug("add"),B=B?Object.assign({},B):{};const F=new I(Y,this,B);return this.torrents.push(F),F.once("_infoHash",T),F.once("ready",M),F.once("close",p),F}seed(Y,B,_){if(this.destroyed)throw new Error("client is destroyed");typeof B=="function"&&([B,_]=[{},B]),this._debug("seed"),B=B?Object.assign({},B):{},B.skipVerify=!0;const p=typeof Y=="string";p&&(B.path=i.dirname(Y)),B.createdBy||(B.createdBy=`WebTorrent/${G}`);const T=U=>{const K=[Q=>p||B.preloadedStore?Q():void U.load(j,Q)];this.dht&&K.push(Q=>{U.once("dhtAnnounce",Q)}),r(K,Q=>this.destroyed?void 0:Q?U._destroy(Q):void M(U))},M=U=>{this._debug("on seed"),typeof _=="function"&&_(U),U.emit("seed"),this.emit("seed",U)},F=this.add(null,B,T);let j;return E(Y)?Y=Array.from(Y):!Array.isArray(Y)&&(Y=[Y]),r(Y.map(U=>K=>{!B.preloadedStore&&C(U)?m(U,(Q,ee)=>Q?K(Q):(ee.name=U.name,void K(null,ee))):K(null,U)}),(U,K)=>this.destroyed?void 0:U?F._destroy(U):void a.parseInput(K,B,(Q,ee)=>this.destroyed?void 0:Q?F._destroy(Q):(j=ee.map(fe=>fe.getStream),void a(K,B,(fe,ae)=>{if(!this.destroyed){if(fe)return F._destroy(fe);const me=this.get(ae);me?(console.warn("A torrent with the same id is already being seeded"),F._destroy(),typeof _=="function"&&_(me)):F._onTorrentId(ae)}})))),F}remove(Y,B,_){if(typeof B=="function")return this.remove(Y,null,B);if(this._debug("remove"),!this.get(Y))throw new Error(`No torrent with id ${Y}`);this._remove(Y,B,_)}_remove(Y,B,_){if(typeof B=="function")return this._remove(Y,null,B);const p=this.get(Y);p&&(this.torrents.splice(this.torrents.indexOf(p),1),p.destroy(B,_),this.dht&&this.dht._tables.remove(p.infoHash))}address(){return this.listening?this._connPool?this._connPool.tcpServer.address():{address:"0.0.0.0",family:"IPv4",port:0}:null}throttleDownload(Y){return Y=+Y,!(isNaN(Y)||!isFinite(Y)||-1>Y)&&(this._downloadLimit=Y,0>this._downloadLimit?this.throttleGroups.down.setEnabled(!1):(this.throttleGroups.down.setEnabled(!0),void this.throttleGroups.down.setRate(this._downloadLimit)))}throttleUpload(Y){return Y=+Y,!(isNaN(Y)||!isFinite(Y)||-1>Y)&&(this._uploadLimit=Y,0>this._uploadLimit?this.throttleGroups.up.setEnabled(!1):(this.throttleGroups.up.setEnabled(!0),void this.throttleGroups.up.setRate(this._uploadLimit)))}destroy(Y){if(this.destroyed)throw new Error("client already destroyed");this._destroy(null,Y)}_destroy(Y,B){this._debug("client destroy"),this.destroyed=!0;const _=this.torrents.map(p=>T=>{p.destroy(T)});this._connPool&&_.push(p=>{this._connPool.destroy(p)}),this.dht&&_.push(p=>{this.dht.destroy(p)}),r(_,B),Y&&this.emit("error",Y),this.torrents=[],this._connPool=null,this.dht=null,this.throttleGroups.down.destroy(),this.throttleGroups.up.destroy()}_onListening(){if(this._debug("listening"),this.listening=!0,this._connPool){const Y=this._connPool.tcpServer.address();Y&&(this.torrentPort=Y.port)}this.emit("listening")}_debug(){const Y=[].slice.call(arguments);Y[0]=`[${this._debugId}] ${Y[0]}`,L(...Y)}_getByHash(Y){for(const B of this.torrents)if(B.infoHashHash||(B.infoHashHash=k.sync(g.from("72657132"+B.infoHash,"hex"))),Y===B.infoHashHash)return B;return null}}se.WEBRTC_SUPPORT=c.WEBRTC_SUPPORT,se.UTP_SUPPORT=w.UTP_SUPPORT,se.VERSION=N,V.exports=se}).call(this)}).call(this,x("buffer").Buffer)},{"./lib/conn-pool.js":41,"./lib/peer":3,"./lib/torrent.js":5,"./package.json":281,"bittorrent-dht/client":41,buffer:75,"create-torrent":88,debug:90,events:122,"load-ip-set":41,"parse-torrent":183,path:184,"queue-microtask":205,randombytes:208,"run-parallel":232,"simple-concat":244,"simple-peer":246,"simple-sha1":247,"speed-limiter":250,throughput:267}]},{},[282])(282)})})(Kf);const Tc=Md(Kf.exports);const am={data(){return{boxStyle:{}}},components:{},mounted(){let e=this;this.lastPeerId=null,this.peer=null,this.conn=null,this.localId=document.getElementById("local-id"),this.recvIdInput=document.getElementById("receiver-id"),this.status=document.getElementById("status"),this.message=document.getElementById("message"),this.sendMessageBox=document.getElementById("sendMessageBox"),this.cueString='<span class="cueMsg">Cue: </span>';let t=window.location.href.split("?id=")[1];t&&(this.recvIdInput.value=t),this.sendMessageBox.addEventListener("keypress",function(n){var l=n||window.event,v=l.which||l.keyCode;v=="13"&&e.send()}),this.initialize(),this.initAll()},created(){this.lastPeerId=null,this.peer=null,this.peerId=null,this.conn=null,this.currentCall=null,this.currentConnection=null},methods:{initAll(){const e=new Tc;Ho.exports("#dropTarget",function(t){e.seed(t,function(n){console.log("Client is seeding "+n.magnetURI)})})},initialize(){let e=this;e.peer=new Zi(null,{debug:2}),e.peer.on("open",function(t){e.peer.id===null?(console.log("Received null id from peer open"),e.peer.id=e.lastPeerId):e.lastPeerId=e.peer.id,console.log("ID: "+e.peer.id),e.localId.innerHTML="ID: "+e.peer.id,e.status.innerHTML="Awaiting connection..."}),e.peer.on("connection",function(t){if(e.conn&&e.conn.open){t.on("open",function(){t.send("Already connected to another client"),setTimeout(function(){t.close()},500)});return}e.conn=t,console.log("Connected to: "+e.conn.peer),e.status.innerHTML="Connected",e.ready()}),e.peer.on("disconnected",function(){e.status.innerHTML="Connection lost. Please reconnect",console.log("Connection lost. Please reconnect"),e.peer.id=e.lastPeerId,e.peer._lastServerId=e.lastPeerId,e.peer.reconnect()}),e.peer.on("close",function(){e.conn=null,e.status.innerHTML="Connection destroyed. Please refresh",console.log("Connection destroyed")}),e.peer.on("error",function(t){console.log(t),alert(""+t)})},join(){let e=this;e.conn&&e.conn.close(),e.conn=e.peer.connect(e.recvIdInput.value,{reliable:!0}),e.conn.on("open",function(){e.status.innerHTML="Connected to: "+e.conn.peer,console.log("Connected to: "+e.conn.peer);var t=e.getUrlParam("command");t&&e.conn.send(t)}),e.conn.on("data",function(t){e.dataProcess(t)}),e.conn.on("close",function(){e.status.innerHTML="Connection closed"})},ready(){let e=this;e.conn.on("data",function(t){console.log("Data recieved"),e.dataProcess(t)}),e.conn.on("close",function(){e.status.innerHTML="Connection reset<br>Awaiting connection...",e.conn=null})},dataProcess(e){let t=this,n=JSON.parse(e.toString());typeof n.type<"u"&&n.type=="msg"?t.addMessage('<span class="peerMsg">Peer: </span>'+n.msg):downloadInProgress==!1?t.startDownload(n):downloadInProgress&&t.progressDownload(Hf(n.fileContent))},copyId(){let e=this;navigator.clipboard.writeText(""+e.peer.id).then(()=>{console.log("\u590D\u5236\u6210\u529F")})},copyShareUrl(){let e=this,n=window.location.href.split("?")[0]+"?id="+e.peer.id;navigator.clipboard.writeText(""+n).then(()=>{console.log("\u590D\u5236\u6210\u529F")})},send(){let e=this;if(e.conn&&e.conn.open){var t=e.sendMessageBox.value;e.sendMessageBox.value="",e.conn.send(JSON.stringify({type:"msg",msg:t})),console.log("Sent: "+t),e.addMessage('<span class="selfMsg">Self: </span> '+t)}else console.log("Connection is closed")},inputFunc(){},sendFileBtn(){this.downloadFile()},downloadFile(){let e=this;const t=new Tc,n=e.sendMessageBox.value;t.add(n,function(l){console.log("Client is downloading:",l.infoHash),l.files.forEach(function(v){v.appendTo("body")})})},getUrlParam(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t),l=n.exec(window.location.href);return l==null?null:l[1]},signal(e){let t=this;t.conn&&t.conn.open?(t.conn.send(e),console.log(e+" signal sent"),t.addMessage(cueString+e)):console.log("Connection is closed")},addMessage(e){var t=new Date,n=t.getHours(),l=S(t.getMinutes()),v=S(t.getSeconds());n>12?n-=12:n===0&&(n=12);function S(D){return D<10&&(D="0"+D),D}this.message.innerHTML='<br><span class="msg-time">'+n+":"+l+":"+v+"</span>  -  "+e+message.innerHTML},clearMessages(){this.message.innerHTML="",this.addMessage("Msgs cleared")}}},cr=e=>(Gi("data-v-3e9355af"),e=e(),Vi(),e),cm={class:"control"},dm={class:"title"},fm=Nn("Status: "),lm=cr(()=>Oe("br",null,null,-1)),hm=cr(()=>Oe("td",{class:"title"},"Messages:",-1)),um=cr(()=>Oe("span",{style:{"font-weight":"bold"}},"ID: ",-1)),pm=cr(()=>Oe("input",{type:"text",id:"receiver-id",title:"Input the ID from receive.html"},null,-1)),mm=cr(()=>Oe("input",{type:"text",id:"sendMessageBox",placeholder:"Enter a message...",autofocus:"true"},null,-1)),gm=cr(()=>Oe("tr",null,[Oe("td",null,[Oe("div",{id:"status",class:"status"})]),Oe("td",null,[Oe("div",{class:"message",id:"message"})])],-1)),vm=cr(()=>Oe("div",{id:"dropTarget"},null,-1)),bm={id:"demoImage",ref:"img",style:{width:"50%",border:"1px solid #efefef"}};function ym(e,t,n,l,v,S){return En(),On("table",cm,[Oe("tr",null,[Oe("td",dm,[fm,Oe("button",{id:"connect-button",onClick:t[0]||(t[0]=(...D)=>S.copyShareUrl&&S.copyShareUrl(...D))},"\u590D\u5236\u5206\u4EABURL"),lm,Oe("div",{id:"local-id",onClick:t[1]||(t[1]=(...D)=>S.copyId&&S.copyId(...D)),style:{"font-weight":"bold"},title:"\u70B9\u51FB\u590D\u5236ID"},"ID: ")]),hm]),Oe("tr",null,[Oe("td",null,[um,pm,Oe("button",{id:"connect-button",onClick:t[2]||(t[2]=(...D)=>S.join&&S.join(...D))},"Connect")]),Oe("td",null,[mm,Oe("button",{type:"button",id:"sendButton",onClick:t[3]||(t[3]=(...D)=>S.send&&S.send(...D))},"Send"),Oe("button",{type:"button",id:"clearMsgsButton",onClick:t[4]||(t[4]=(...D)=>S.clearMessages&&S.clearMessages(...D))},"Clear Msgs (Local)")])]),gm,Oe("tr",null,[Oe("td",null,[Oe("input",{type:"file",accept:"*",id:"inputFile",ref:"file",onInput:t[5]||(t[5]=(...D)=>S.inputFunc&&S.inputFunc(...D))},null,544),vm,Oe("button",{type:"button",id:"sendFile",onClick:t[6]||(t[6]=(...D)=>S.sendFileBtn&&S.sendFileBtn(...D))},"\u53D1\u9001\u6587\u4EF6")]),Oe("td",null,[Oe("img",bm,null,512),Oe("button",{type:"button",onClick:t[7]||(t[7]=(...D)=>S.downloadFile&&S.downloadFile(...D))},"\u4E0B\u8F7D\u6587\u4EF6")])])])}const _m=or(am,[["render",ym],["__scopeId","data-v-3e9355af"]]),wm=[{path:"/receiver",component:l0},{path:"/sender",component:t0},{path:"/exchangeroom",component:em},{path:"/bigfiledrop",component:_m}];function Em(){let e=null;return e=bp({history:Du(),routes:wm}),e.beforeEach((t,n,l)=>{l()}),e}const Sm=e=>(Gi("data-v-ea6dc4f1"),e=e(),Vi(),e),xm=Sm(()=>Oe("h1",null,"\u98CE\u6708\u5B9D\u9274",-1)),km=Nn("\u53D1\u9001\u7AEF"),Cm=Nn("\u63A5\u6536\u7AEF"),Tm=Nn("\u4E8C\u5408\u4E00\u7AEF"),Rm=Nn("\u5927\u6587\u4EF6\u4F20\u8F93"),Am={__name:"App",setup(e){return(t,n)=>{const l=Ms("router-link"),v=Ms("router-view");return En(),On(nn,null,[xm,Ot(l,{to:"/sender",class:"function_router"},{default:jr(()=>[km]),_:1}),Ot(l,{to:"/receiver",class:"function_router"},{default:jr(()=>[Cm]),_:1}),Ot(l,{to:"/exchangeroom",class:"function_router"},{default:jr(()=>[Tm]),_:1}),Ot(l,{to:"/bigfiledrop",class:"function_router"},{default:jr(()=>[Rm]),_:1}),Ot(v)],64)}}},Im=or(Am,[["__scopeId","data-v-ea6dc4f1"]]),zo=xd(Im);zo.config.errorHandler=(e,t,n)=>{console.log("mainjs:error: "+n),console.log(e)};zo.config.warnHandler=function(e,t,n){console.log("mainjs:warn: "+e)};zo.use(Em()).mount("#app");
